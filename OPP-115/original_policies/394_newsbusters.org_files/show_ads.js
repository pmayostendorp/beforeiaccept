var epom_key,epom_channel,epom_code_format,epom_ads_host,epom_click,epom_custom_params,epom_width,epom_height,epom_target_id,epom_passback_tag,CustomWLAdServer=CustomWLAdServer||{};CustomWLAdServer.addCampaignId=function(e){if("undefined"==typeof this.campaignIds)this.campaignIds=e;else try{null==new RegExp("(^|,)"+e+"($|,)").exec(this.campaignIds)&&(this.campaignIds+=","+e)}catch(t){this.campaignIds+=","+e}},CustomWLAdServer.getCampaignIds=function(){return this.campaignIds||""},CustomWLAdServer.isFF=function(){return-1!=navigator.userAgent.toLowerCase().indexOf("firefox")},CustomWLAdServer.canWrite=function(){var e="r"+Math.random().toString(36).substr(2);document.write('<p id="'+e+'"></p>');var t=document.getElementById(e);return t?(t.parentNode.removeChild(t),!0):!1},CustomWLAdServer.getEpomCookiesFromLocalStorage=function(){try{if("localStorage"in window&&null!==window.localStorage&&null!==localStorage&&null!==typeof localStorage&&"undefined"!=typeof localStorage&&"undefined"!=typeof localStorage.epomCookies){var e=[],t=JSON.parse(localStorage.epomCookies);for(var o in t)e.push(o+"="+t[o]);return 0==e.length?"":"&"+e.join("&")}}catch(i){}return""},CustomWLAdServer.testElms=function(e){if(void 0!==e){var t,o=document.getElementById(e),i=o.childNodes;o.style.cssText+="height:0;margin:0;padding:0;border:0;background:transparent;font-size:0;";for(var n=i.length-1;n>=0;n--){var r=i[n];if(void 0===r.tagName){"#text"==r.nodeName&&r.nodeValue.replace(/^\s+|\s+$/g,"").length>0&&(t=!0);break}if("style"!=r.tagName.toLowerCase()&&"script"!=r.tagName.toLowerCase()){var s=window.getComputedStyle?getComputedStyle(r,""):r.currentStyle,a=s.position;("static"==a||"relative"==a)&&(t=!0);break}t=!1}t&&(o.style.height="auto",o.style.fontSize="")}},CustomWLAdServer.execBodyScripts=function(e){function t(e,t){return e.nodeName&&e.nodeName.toUpperCase()===t.toUpperCase()}function o(e,t){if(e){var i,n;if(e.src){i=document.getElementsByTagName("head")[0],n=document.createElement("script"),n.src=e.src;var r=!!window.ActiveXObject;if(r){var s=!1;n.onreadystatechange=function(){s||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(s=!0,o(t.shift(),t),n.onreadystatechange=null)}}else n.onload=function(){o(t.shift(),t)};i.insertBefore(n,i.firstChild)}else{var a=e.text||e.textContent||e.innerHTML||"";i=document.getElementsByTagName("head")[0]||document.documentElement,n=document.createElement("script"),n.type="text/javascript";try{n.appendChild(document.createTextNode(a))}catch(d){n.text=a}i.insertBefore(n,i.firstChild),o(t.shift(),t)}}}var i,n,r=[],s=e.getElementsByTagName("*");for(n=0;s[n];n++)i=s[n],!t(i,"script")||i.type&&"text/javascript"!==i.type.toLowerCase()||r.push(i);o(r.shift(),r)};var EpomInvokeServer=function(e){this.type=e.epom_code_format,this.key=e.epom_key,this.channel="undefined"==typeof e.epom_channel?"":e.epom_channel,this.click="undefined"==typeof e.epom_click?"":e.epom_click,this.params="undefined"==typeof e.epom_custom_params?{}:e.epom_custom_params,this.target_id="undefined"==typeof e.epom_target_id?null:e.epom_target_id,this.ads_host="undefined"==typeof e.epom_ads_host?null:e.epom_ads_host,this.width="undefined"==typeof e.epom_width?"":e.epom_width,this.height="undefined"==typeof e.epom_height?"":e.epom_height,void 0!==typeof e.epom_passback_tag&&(this.passbackTag=e.epom_passback_tag),this.referer=e.epom_referer};EpomInvokeServer.prototype={getScreenResolution:function(){try{return"&scrWidth="+window.screen.width+"&scrHeight="+window.screen.height}catch(e){return""}},toQueryString:function(e){var t=[];for(var o in e)t.push("cp."+o+"="+e[o]);return 0==t.length?"":"&"+t.join("&")},getHost:function(){if(this.ads_host)return("https:"==location.protocol?"https:":"http:")+this.ads_host;for(var e,t=document.getElementsByTagName("script"),o=t.length-1;o>=0;o--){var i=t[o];if(-1!=i.src.indexOf("/js/show_ads.js")){e=i.src;break}}return e.substr(0,e.indexOf("/js/show_ads.js"))},getReqUrl:function(){return"string"==typeof this.referer?"&requestUrl="+encodeURIComponent(this.referer):"string"==typeof document.URL?"&requestUrl="+encodeURIComponent(document.URL):""},getReqRef:function(){return"string"==typeof document.referrer?"&requestRef="+encodeURIComponent(document.referrer):""},getFlashVer:function(){var e,t,o,i;if(navigator.plugins&&navigator.plugins.length>0){t=navigator.plugins;for(var n=0;n<t.length&&!i;n++)o=t[n],o.name.indexOf("Shockwave Flash")>-1&&(i=o.description.split("Shockwave Flash ")[1])}else{o="ShockwaveFlash.ShockwaveFlash";try{e=new ActiveXObject(o+".7"),i=e.GetVariable("$version")}catch(r){}if(!i)try{e=new ActiveXObject(o+".6"),i="WIN 6,0,21,0",e.AllowScriptAccess="always",i=e.GetVariable("$version")}catch(r){}if(!i)try{e=new ActiveXObject(o),i=e.GetVariable("$version")}catch(r){}i&&(i=i.split(" ")[1].split(","),i=i[0]+"."+i[1]+" r"+i[2])}return i?i:"-"},getUrl:function(){return this.getHost()+"/"+this.type+"?v=1&key="+this.key+"&ch="+this.channel+"&click="+this.click+"&tz="+(new Date).getTimezoneOffset()/-60+"&t="+(new Date).getTime()+(this.passbackTag?"&pb="+this.passbackTag:"")+this.getReqUrl()+this.getReqRef()+"&flashVer="+this.getFlashVer()+(this.width?"&epom_width="+this.width:"")+(this.height?"&epom_height="+this.height:"")+this.toQueryString(this.params)+CustomWLAdServer.getEpomCookiesFromLocalStorage()+this.getScreenResolution()},invokeIframeSync:function(){this.write("<iframe src='"+this.getUrl()+'\' framespacing="0" frameborder="no" scrolling="no" width="'+this.width+'" height="'+this.height+'"></iframe>')},invokeIframeAsync:function(){var e=document.createElement("iframe");e.src=this.getUrl(),e.width=this.width,e.height=this.height,e.frameBorder="0",e.scrolling="no",this.append(this.target_id,e)},append:function(e,t){var o=document.getElementById(e);o?o.appendChild(t):this.onReady(function(){document.getElementById(e).appendChild(t)})},onReady:function(e){window.addEventListener?window.addEventListener("DOMContentLoaded",e,!1):window.attachEvent("onload",e)},invokeJsSyncCode:function(){this.write("<script type='text/javascript' src='"+this.getUrl()+"&cIds="+CustomWLAdServer.getCampaignIds()+"'></script>")},invokeJsAsyncCode:function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src=this.getUrl()+"&tarId="+this.target_id+"&cIds="+CustomWLAdServer.getCampaignIds(),this.append(this.target_id,e)},write:function(e){document.write(e)},invoke:function(){"ads"==this.type&&this.target_id?this.invokeIframeAsync():"ads"==this.type?this.invokeIframeSync():this.target_id?this.invokeJsAsyncCode():this.invokeJsSyncCode()}};var EpomConfig,epomAdsConfig=EpomConfig;if("undefined"!=typeof epom_key&&epom_key&&"undefined"!=typeof epom_code_format&&epom_code_format&&("undefined"==typeof epomAdsConfig||!CustomWLAdServer.isFF()||CustomWLAdServer.canWrite()))new EpomInvokeServer({epom_code_format:epom_code_format,epom_key:epom_key,epom_channel:epom_channel,epom_click:epom_click,epom_custom_params:epom_custom_params,epom_width:epom_width,epom_height:epom_height,epom_ads_host:epom_ads_host,epom_passback_tag:epom_passback_tag,epom_referer:"string"==typeof epom_referer?epom_referer:null}).invoke(),epom_key=void 0,epom_channel=void 0,epom_code_format=void 0,epom_ads_host=void 0,epom_click=void 0,epom_custom_params=void 0,epom_width=void 0,epom_height=void 0,epom_target_id=void 0,epom_passback_tag=void 0;else if("undefined"!=typeof epomAdsConfig&&"undefined"!=typeof epomAdsConfig.ads&&epomAdsConfig.ads.length>0){for(var i=0;i<epomAdsConfig.ads.length;i++)new EpomInvokeServer(epomAdsConfig.ads[i]).invoke();epomAdsConfig.ads=[]}