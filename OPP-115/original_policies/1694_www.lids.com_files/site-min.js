function launchModal(title,text,w,h,dclass){w=(w)?w:400;h=(h)?h:'auto';dclass=(dclass)?dclass:'modal';$('#modalWin').dialog({position:['top',50],dialogClass:dclass,closeText:'x Close',autoOpen:false,modal:true,draggable:false,resizable:false,close:function(ev,ui){$(this).dialog('destroy')}});$('#modalWin').dialog('option',{'title':title,width:w,height:h});$('#modalWin').html(text).dialog('open')}function closeModal(){$('#modalWin').dialog('close')}function modalError(text){$('#modalWin').dialog({position:['top',100],dialogClass:'modal_error',closeText:'x Close',autoOpen:false,modal:false,draggable:false,resizable:false,close:function(ev,ui){$(this).dialog('destroy')}});$('#modalWin').dialog('option',{'title':'Error',width:300,height:134});$('#modalWin').html('<div>'+text+'</div><input type="submit" value="CLOSE" onclick="closeModal(); return false;" />').dialog('open')}function processCart(data,modalanim){if($(data).find('errormsg').is('*')||$(data).find('error').is('*')){$('#errormsg').html($(data).find('errormsg').text()).slideDown('fast');$(':input','#purchase').removeClass('errormsg');$('span.ERRORMSG','#purchase').remove();if($(data).find('error').is('*')){$(data).find('error').each(function(){$(':input[name='+$(this).attr('target')+']','#purchase').addClass('errormsg').after($(this).text())})}}else{if($('#errormsg').is(":visible")==true){$('#errormsg').slideUp('fast');$(':input','#purchase').removeClass('errormsg');$('span.ERRORMSG','#purchase').remove()}if($(data).find('analytics').is('*')&&typeof s=="object"){s.events="";s.products="";$(data).find('analytics').each(function(){var param=$(this).attr('param');if(param=='s.events'){s.events=$(this).text()}else if(param=='s.products'){s.products=$(this).text()}});s.t()}if(modalanim){window.parent.$('#header_units').text($(data).find('cart[target=header_units]').text());window.parent.$('#header_total').text($(data).find('cart[target=header_total]').text());window.parent.$('#headercart').show();var value=unescape($(data).find('cart[target=quick_cart]').text())+"<script>function closeModal() { $('*').dialog('close'); }</script>";var mleft=((($(window.parent).width()-402)/2)-window.parent.$('.modalWindow').offset().left);window.parent.$('#ui-dialog-title-modalWindow').text('Shopping Cart');window.parent.$('.modalWindow').html(value).animate({height:'440px'}).parent().animate({width:'400px',left:'+='+mleft+'px'})}else{$('#header_units').text($(data).find('cart[target=header_units]').text());$('#header_total').text($(data).find('cart[target=header_total]').text());$('#headercart').show();launchModal('Shopping Cart',unescape($(data).find('cart[target=quick_cart]').text()),400)}}}function modal(title,id,url,w,h,dclass){if(id.substring(0,1)=='.'){id=id}else{id='#'+id}$(id).click(function(){launchModalFrame(title,url,w,h,dclass);return false}).addClass('pointer')}function launchModalFrame(title,url,w,h,dclass){w=(w)?w:400;h=(h)?h:'auto';dclass=(dclass)?dclass:'modal';var ts=new Date().getTime();if($('div#modal_content').is('*')){window.parent.$('#webpage').after('<div id="modalWindow_'+ts+'" class="modalWindow"></div>');window.parent.$('#modalWindow_'+ts).dialog({position:['top',40],dialogClass:dclass,closeText:'x Close',stack:true,autoOpen:false,modal:true,draggable:false,resizable:false,close:function(){$(this).parent().remove();$(this).remove()}});window.parent.$('#modalWindow_'+ts).dialog('option',{'title':title,width:w,height:h});window.parent.$('#modalWindow_'+ts).html('<iframe id="modalWindow_'+ts+'_if" class="modalWindow_if" width="100%" height="100%" frameborder=0 scrolling="auto"></iframe>').dialog("open");window.parent.$('#modalWindow_'+ts+'_if').attr('src',url)}else{$('#webpage').after('<div id="modalWindow_'+ts+'" class="modalWindow"></div>');$('#modalWindow_'+ts).dialog({position:['top',40],dialogClass:dclass,closeText:'x Close',stack:true,autoOpen:false,modal:true,draggable:false,resizable:false,close:function(){$(this).parent().remove();$(this).remove()}});$('#modalWindow_'+ts).dialog('option',{'title':title,width:w,height:h});$('#modalWindow_'+ts).html('<iframe id="modalWindow_'+ts+'_if" class="modalWindow_if" width="100%" height="100%" frameborder=0 scrolling="auto"></iframe>').dialog("open");$('#modalWindow_'+ts+'_if').attr('src',url)}}function modal_close(){window.parent.$('*').dialog('close')}function modalAutoSize(){var www=$(window.parent).width()-100;var mdw=window.parent.$('.ui-dialog:last').outerWidth();var mcw=$('#modal_content div:eq(0)').outerWidth();var wwh=$(window.parent).height()-80;var mwh=window.parent.$('.modalWindow:last').height();var mch=$('#modal_content').height();if(mcw){if(mcw>www){var nw=www}else{var nw=mcw}}if(mch>wwh){var nh=wwh;var scroll=1;if(nw){nw=nw+20}}else{var nh=mch;var scroll=0}if(scroll){window.parent.$('.modalWindow_if:last').attr('scrolling','yes').css('overflow-y','scroll').data('scroll',1);$('html, body').css('overflow','visible')}else{window.parent.$('.modalWindow_if:last').attr('scrolling','no').css('overflow-x','hidden').css('overflow-y','hidden').data('scroll',0);$('html, body').css('overflow','hidden')}if(nw){if(nw>mdw){window.parent.$('.modalWindow:last').parent().animate({'width':'+='+(nw-mdw),'left':'-='+((nw-mdw)/2)},'fast')}else{window.parent.$('.modalWindow:last').parent().animate({'width':'-='+(mdw-nw),'left':'+='+((mdw-nw)/2)},'fast')}}if(nh>mwh){window.parent.$('.modalWindow:last').animate({'height':'+='+(nh-mwh)},'fast')}else{window.parent.$('.modalWindow:last').animate({'height':'-='+(mwh-nh)},'fast')}}$(document).ready(function(){$('#messagebox').delay(10000).slideUp('slow');$('#jsnotice').hide();var pageWidth=$('#webpage').width();var nav=$('#navigation');$('div.dd',nav).removeClass('ddcss').parent().hoverIntent(function(){var dd=$('div.dd',this);var ddWidth=0;if(!dd.hasClass('league')){$('> ul',dd).each(function(){ddWidth+=$(this).outerWidth()});dd.width(ddWidth);ddWidth+=(dd.outerWidth()-dd.width())}else{ddWidth=$(dd).outerWidth()}var pos=$(this).position();if((pos.left+ddWidth)>pageWidth){dd.css('left',(pageWidth-ddWidth)+'px')}else{dd.css('left',pos.left+'px')}dd.stop(true,true).slideDown()},function(){$('div.dd',this).slideUp()});if($('#q').is('*')){var ac_cache={};$('#q').autocomplete({source:function(request,response){var ac_term=request.term.toLowerCase().replace(/[^0-9a-z]+/g,'');if(ac_cache[ac_term]){response(ac_cache[ac_term]);return}$.getJSON('/js/ajax/ac.html',{term:encodeURI(request.term)},function(data){if(data&&data.length>0){ac_cache[ac_term]=data;response(data)}})},delay:300,minLength:3,open:function(event,ui){$('.ui-autocomplete').css('z-index',9999)},focus:function(){return false},select:function(event,ui){window.location=ui.item.value;return false}});$('#qform').submit(function(){window.location='/search?q='+encodeURI($('#q').val());return false})}$('ul:eq(0) > li','#sidebar').each(function(){if($('div.submenuwrap',this).is('*')){$('div.submenuwrap',this).css('display','none');$(this).hoverIntent(function(){var x=$(this).offset();var a=$('div.submenuwrap',this).outerHeight();var b=x.top;var c=$(window).height();var v=$(window).scrollTop();if(v>0){if(((b-v)+a)>c){var t=-(((b-v)+a)-c)-20}else{var t=0}}else if((a+b)>(c-20)){var t=(c-(a+(b+v)+20))}else{var t=0}$('div.submenuwrap',this).stop(true,true).css('top',t+'px').show('slide',{direction:'left'},300)},function(){$('div.submenuwrap',this).hide('slide',{direction:'left'},250)})}});var iscookieenabled=navigator.cookieEnabled||("cookie"in document&&(document.cookie.length>0||(document.cookie="test").indexOf.call(document.cookie,"test")>-1));if(!iscookieenabled){$('#webpage').prepend('<div id="cookiedisabled"><div><h3>Your Web browser is not accepting &quot;cookies&quot;.</h3><p>Please enable cookies in your browser to experience all the custom features of our site, including the ability to make a purchase.</p></div></div>')}if(typeof Invodo=="object"){$('a.invodo_club_handle').click(function(e){e.preventDefault();$(this).hide();$('~ .invodo',this).show();document.getElementById('clubFrame').contentWindow.Invodo.playViewer("K4UOQ3LL")});$('a.invodo_size_handle').click(function(e){e.preventDefault();$(this).hide();$('#invodo_size_div').css('padding','10px');$('~ .invodo',this).show();document.getElementById('sizeFrame').contentWindow.Invodo.playViewer("NSI3YA22")});$('a.invodo_storage_handle').click(function(e){e.preventDefault();$('a.invodo_storage_handle').hide();$('#pimage').height(660);$('.invodo_storage').show();document.getElementById('storageFrame').contentWindow.Invodo.playViewer("6OVZGHZY")});$('a.invodo_clean_handle').click(function(e){e.preventDefault();$('a.invodo_clean_handle').hide();$('#pimage').height(660);$('.invodo_clean').show();document.getElementById('cleanFrame').contentWindow.Invodo.playViewer("6ZIQXS9F")});Invodo.conversion("pageView",{p:"multiple-ovp"});Invodo.init({viewers:[{podId:"NSI3YA22",type:"e",selector:"#videoHatSizeId"},{podId:"6OVZGHZY",type:"e",selector:"#videoStorageId"},{podId:"QW13J17B",type:"e",selector:"#videoWhoIsLidsId"},{podId:"N85QF6K0",type:"e",selector:"#videoSocialId"},{podId:"K4UOQ3LL",type:"e",selector:"#videoClubId"},{podId:"S93VIM3S",type:"e",selector:"#videoFashionFiftyId"},{podId:"TSR0MOLG",type:"e",selector:"#videoLtdId"},{podId:"6ZIQXS9F",type:"e",selector:"#videoProtectCareCleanId"},{podId:"FVP3MEKZ",type:"e",selector:"#videoEmbroideryId"},{podId:"JMMMVL0Q",type:"e",selector:"#videoClubhouseId"},{podId:"M7T7LC88",type:"e",selector:"#videoFoundationId"},{podId:"GOXFXXN3",type:"e",selector:"#videoTeamId"},{podId:"3RU25NQP",type:"e",selector:"#videoLockerRoomId"}],callsToAction:[{podId:"NSI3YA22",selector:"#videoHatSizeId",foundContent:sendCtaConversion},{podId:"6OVZGHZY",selector:"#videoStorageId",foundContent:sendCtaConversion},{podId:"QW13J17B",selector:"#videoWhoIsLidsId",foundContent:sendCtaConversion},{podId:"N85QF6K0",selector:"#videoSocialId",foundContent:sendCtaConversion},{podId:"K4UOQ3LL",selector:"#videoClubId",foundContent:sendCtaConversion},{podId:"S93VIM3S",selector:"#videoFashionFiftyId",foundContent:sendCtaConversion},{podId:"TSR0MOLG",selector:"#videoLtdId",foundContent:sendCtaConversion},{podId:"6ZIQXS9F",selector:"#videoProtectCareCleanId",foundContent:sendCtaConversion},{podId:"FVP3MEKZ",selector:"#videoEmbroideryId",foundContent:sendCtaConversion},{podId:"JMMMVL0Q",selector:"#videoClubhouseId",foundContent:sendCtaConversion},{podId:"M7T7LC88",selector:"#videoFoundationId",foundContent:sendCtaConversion},{podId:"GOXFXXN3",selector:"#videoTeamId",foundContent:sendCtaConversion},{podId:"3RU25NQP",selector:"#videoLockerRoomId",foundContent:sendCtaConversion}]});Invodo.registerEventListener([Invodo.EVENT.POD_START,Invodo.EVENT.POD_COMPLETE,Invodo.EVENT.VIDEO_START,Invodo.EVENT.VIDEO_COMPLETE],function(data){})}if($('div#homepage').is('*')){$('a, map area','#hp_banner').live('click',function(e){var href=$(this).attr('href');if($('> map',this).is('*')){return}if(this.tagName=='AREA'){var mapname=$(this).parent().attr('name');var img=$('img[usemap=#'+mapname+']');var banner_position=img.parent().index()+1;var banner_name=img.attr('src').toString().replace(/.+\/([^\/\.]+)\..*/,'$1');var banner_width=img.width();var banner_height=img.height()}else{var banner_position=$(this).index()+1;var banner_name=$('img',this).attr('src').toString().replace(/.+\/([^\/\.]+)\..*/,'$1');var banner_width=$('img',this).width();var banner_height=$('img',this).height()}if(typeof _gaq=='object'){_gaq.push(['_trackEvent','hp_banner','Click',banner_name+'_'+banner_position])}});$('a, map area','#hp_secondary').click(function(e){var href=$(this).attr('href');var banner_position=$(this).parents('div:first').index()+1;if(this.tagName=='AREA'){var mapname=$(this).parent().attr('name');var img=$('img[usemap=#'+mapname+']');var banner_name=img.attr('src').toString().replace(/.+\/([^\/\.]+)\..*/,'$1');var banner_width=img.width();var banner_height=img.height()}else{var banner_name=$('img',this).attr('src').toString().replace(/.+\/([^\/\.]+)\..*/,'$1');var banner_width=$('img',this).width();var banner_height=$('img',this).height()}if(typeof _gaq=='object'){_gaq.push(['_trackEvent','hp_secondary','Click',banner_name+'_'+banner_position])}});$('li a','#brandscroller').click(function(e){var href=$(this).attr('href');var banner_name=$(this).attr('href').replace(/\//,'');var banner_width=$('img',this).width();var banner_height=$('img',this).height();if(typeof _gaq=='object'){_gaq.push(['_trackEvent','brandscroller','Click',banner_name])}});$('li a','#findteam').click(function(e){var href=$(this).attr('href');var banner_name=$(this).attr('href').replace(/\//,'');if(typeof _gaq=='object'){_gaq.push(['_trackEvent','findteam','Click',banner_name])}});$('select','#findteam').live('change',function(e){var banner_name=$(this).val();if(typeof _gaq=='object'){_gaq.push(['_trackEvent','findteam','Click',banner_name])}})}$('#sidebar .promo').click(function(e){var href=$(this).attr('href');var banner_name=$('img',this).attr('src').toString().replace(/.+\/([^\/\.]+)\..*/,'$1');var banner_width=$('img',this).width();var banner_height=$('img',this).height();if(typeof _gaq=='object'){_gaq.push(['_trackEvent','sidebar','Click',banner_name])}});$('a, map area','#mktgbanners').click(function(e){var href=$(this).attr('href');if(this.tagName=='AREA'){var mapname=$(this).parent().attr('name');var img=$('img[usemap=#'+mapname+']');var banner_name=img.attr('src').toString().replace(/.+\/([^\/\.]+)\..*/,'$1');var banner_width=img.width();var banner_height=img.height()}else{var banner_name=$('img',this).attr('src').toString().replace(/.+\/([^\/\.]+)\..*/,'$1');var banner_width=$('img',this).width();var banner_height=$('img',this).height()}if(typeof _gaq=='object'){_gaq.push(['_trackEvent','mktgbanners','Click',banner_name])}});$('a, map area','#lg_banner').click(function(e){var href=$(this).attr('href');if(this.tagName=='AREA'){var mapname=$(this).parent().attr('name');var img=$('img[usemap=#'+mapname+']');var banner_name=img.attr('src').toString().replace(/.+\/([^\/\.]+)\..*/,'$1');var banner_width=img.width();var banner_height=img.height()}else{var banner_name=$('img',this).attr('src').toString().replace(/.+\/([^\/\.]+)\..*/,'$1');var banner_width=$('img',this).width();var banner_height=$('img',this).height()}if(typeof _gaq=='object'){_gaq.push(['_trackEvent','lg_banner','Click',banner_name])}});$('.filterby a','#sidebar').click(function(e){var href=$(this).attr('href');var banner_name=$(this).attr('href').replace(/\//,'');if(typeof _gaq=='object'){_gaq.push(['_trackEvent','filterby','Click',banner_name])}});$('a','#footer').click(function(e){var href=$(this).attr('href');var banner_name=$(this).attr('href').replace(/\//,'');if(typeof _gaq=='object'){_gaq.push(['_trackEvent','footer','Click',banner_name])}});$('#tabs > ul > li > a','#productpage').click(function(e){var href=$(this).attr('href');var banner_name=$(this).attr('href').replace(/\//,'');if(typeof _gaq=='object'){_gaq.push(['_trackEvent','product_reviews-w','Click',banner_name])}});$('ul a','#sidebar').click(function(e){var href=$(this).attr('href');var banner_name=$(this).attr('href').replace(/\//,'');if(typeof _gaq=='object'){_gaq.push(['_trackEvent','sidemenu','Click',banner_name])}});if($('div#checkout').is('*')){$('input.radio[name=shipto]','#shipping').live('click',function(e){var banner_name=$(this).attr('id');if(typeof _gaq=='object'){_gaq.push(['_trackEvent','shipping_info','Click',banner_name])}})}});function sendCtaConversion(elem){if(typeof Invodo=="object"){Invodo.conversion("ctaView",{selector:elem.id,p:"multiple-ovp"});elem.style.display="block"}}function characterLimit(id,limit,infodiv){limitChars(id,limit,infodiv);$('#'+id).keyup(function(){limitChars(id,limit,infodiv)})}function limitChars(id,limit,infodiv){var text=$('#'+id).val();var textlength=text.length;if(textlength>limit){$('#'+id).val(text.substr(0,limit));return false}else{$('#'+infodiv).html(limit+' character limit'+(((limit-textlength)!=limit)?', '+(limit-textlength)+' left':''));return true}}