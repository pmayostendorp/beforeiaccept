/*!
 * jQuery JavaScript Library v1.9.1
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2012 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2013-2-4
 */
function carouselify(e){var t=e.children()[0];if(null!=t)for(increment=$(t).children().outerWidth(!0),elmnts=$(t).children(),numElmts=elmnts.length,sizeFirstElmnt=increment,shownInViewport=Math.round(e.width()/sizeFirstElmnt),firstElementOnViewPort=1,isAnimating=!1,i=0;shownInViewport>i;i++)$(t).css("width",(numElmts+shownInViewport)*increment+increment+"px"),$(t).append(jQuery(elmnts[i]).clone())}function moveCarousel(e,t){if(!isAnimating){var i=e.children()[0];increment=$(i).children().outerWidth(!0),"back"==t?(1==firstElementOnViewPort?($(i).css("left","-"+numElmts*sizeFirstElmnt+"px"),firstElementOnViewPort=numElmts):firstElementOnViewPort--,$(i).animate({left:"+="+increment,y:0,queue:!0},"swing",function(){isAnimating=!1}),isAnimating=!0):(firstElementOnViewPort>numElmts?(firstElementOnViewPort=2,$(i).css("left","0px")):firstElementOnViewPort++,$(i).animate({left:"-="+increment,y:0,queue:!0},"swing",function(){isAnimating=!1}),isAnimating=!0)}}function ControlVersion(){var e,t;try{t=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7"),e=t.GetVariable("$version")}catch(i){}if(!e)try{t=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6"),e="WIN 6,0,21,0",t.AllowScriptAccess="always",e=t.GetVariable("$version")}catch(i){}if(!e)try{t=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.3"),e=t.GetVariable("$version")}catch(i){}if(!e)try{t=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.3"),e="WIN 3,0,18,0"}catch(i){}if(!e)try{t=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),e="WIN 2,0,0,11"}catch(i){e=-1}return e}function GetSwfVer(){var e=-1;if(null!=navigator.plugins&&navigator.plugins.length>0){if(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]){var t=navigator.plugins["Shockwave Flash 2.0"]?" 2.0":"",i=navigator.plugins["Shockwave Flash"+t].description,n=i.split(" "),s=n[2].split("."),o=s[0],r=s[1],a=n[3];""==a&&(a=n[4]),"d"==a[0]?a=a.substring(1):"r"==a[0]&&(a=a.substring(1),a.indexOf("d")>0&&(a=a.substring(0,a.indexOf("d"))));var e=o+"."+r+"."+a}}else-1!=navigator.userAgent.toLowerCase().indexOf("webtv/2.6")?e=4:-1!=navigator.userAgent.toLowerCase().indexOf("webtv/2.5")?e=3:-1!=navigator.userAgent.toLowerCase().indexOf("webtv")?e=2:isIE&&isWin&&!isOpera&&(e=ControlVersion());return e}function DetectFlashVer(e,t,i){if(versionStr=GetSwfVer(),-1==versionStr)return!1;if(0!=versionStr){isIE&&isWin&&!isOpera?(tempArray=versionStr.split(" "),tempString=tempArray[1],versionArray=tempString.split(",")):versionArray=versionStr.split(".");var n=versionArray[0],s=versionArray[1],o=versionArray[2];if(n>parseFloat(e))return!0;if(n==parseFloat(e)){if(s>parseFloat(t))return!0;if(s==parseFloat(t)&&o>=parseFloat(i))return!0}return!1}}function AC_AddExtension(e,t){return-1!=e.indexOf("?")?e.replace(/\?/,t+"?"):e+t}function AC_Generateobj(e,t,i){var n="";if(isIE&&isWin&&!isOpera){n+="<object ";for(var s in e)n+=s+'="'+e[s]+'" ';n+=">";for(var s in t)n+='<param name="'+s+'" value="'+t[s]+'" /> ';n+="</object>"}else{n+="<embed ";for(var s in i)n+=s+'="'+i[s]+'" ';n+="> </embed>"}document.write(n)}function AC_FL_RunContent(){var e=AC_GetArgs(arguments,".swf","movie","clsid:d27cdb6e-ae6d-11cf-96b8-444553540000","application/x-shockwave-flash");AC_Generateobj(e.objAttrs,e.params,e.embedAttrs)}function AC_GetArgs(e,t,i,n,s){var o=new Object;o.embedAttrs=new Object,o.params=new Object,o.objAttrs=new Object;for(var r=0;e.length>r;r+=2){var a=e[r].toLowerCase();switch(a){case"classid":break;case"pluginspage":o.embedAttrs[e[r]]=e[r+1];break;case"src":case"movie":e[r+1]=AC_AddExtension(e[r+1],t),o.embedAttrs.src=e[r+1],o.params[i]=e[r+1];break;case"onafterupdate":case"onbeforeupdate":case"onblur":case"oncellchange":case"onclick":case"ondblClick":case"ondrag":case"ondragend":case"ondragenter":case"ondragleave":case"ondragover":case"ondrop":case"onfinish":case"onfocus":case"onhelp":case"onmousedown":case"onmouseup":case"onmouseover":case"onmousemove":case"onmouseout":case"onkeypress":case"onkeydown":case"onkeyup":case"onload":case"onlosecapture":case"onpropertychange":case"onreadystatechange":case"onrowsdelete":case"onrowenter":case"onrowexit":case"onrowsinserted":case"onstart":case"onscroll":case"onbeforeeditfocus":case"onactivate":case"onbeforedeactivate":case"ondeactivate":case"type":case"codebase":o.objAttrs[e[r]]=e[r+1];break;case"id":case"width":case"height":case"align":case"vspace":case"hspace":case"class":case"title":case"accesskey":case"name":case"tabindex":o.embedAttrs[e[r]]=o.objAttrs[e[r]]=e[r+1];break;default:o.embedAttrs[e[r]]=o.params[e[r]]=e[r+1]}}return o.objAttrs.classid=n,s&&(o.embedAttrs.type=s),o}function jjGoBack(){goBackFromCastingUrl?window.location=goBackFromCastingUrl:history.back(-1)}function SelectAll(e){document.getElementById(e).focus(),document.getElementById(e).select()}function addLoadEvent(e){var t=window.onload;window.onload="function"!=typeof window.onload?e:function(){t(),e()}}function loadAds(){var e=$(".ad_content");null==e&&(e=new Array);for(var t=0;e.length>t;t++)e[t].style.display="block"}function getUrlParameters(){var e={};return window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(t,i,n){e[i]=n}),e}function formatNumberWithCommas(e){e+="";for(var t=e.split("."),i=t[0],n=t.length>1?"."+t[1]:"",s=/(\d+)(\d{3})/;s.test(i);)i=i.replace(s,"$1,$2");return i+n}function confirmHeaderFooterLinks(){$("#header a, #footer a").each(function(){null==this.onclick&&(this.onclick=function(){return confirm("Leaving this page will automatically empty your shopping cart. Are you sure you want to leave this page?")?!0:!1})})}function getUrlParameters(){var e={};return window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(t,i,n){e[i]=n}),e}function SelectAll(e){document.getElementById(e).focus(),document.getElementById(e).select()}function ControlVersion(){var e,t;try{t=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7"),e=t.GetVariable("$version")}catch(i){}if(!e)try{t=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6"),e="WIN 6,0,21,0",t.AllowScriptAccess="always",e=t.GetVariable("$version")}catch(i){}if(!e)try{t=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.3"),e=t.GetVariable("$version")}catch(i){}if(!e)try{t=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.3"),e="WIN 3,0,18,0"}catch(i){}if(!e)try{t=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),e="WIN 2,0,0,11"}catch(i){e=-1}return e}function GetSwfVer(){var e=-1;if(null!=navigator.plugins&&navigator.plugins.length>0){if(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]){var t=navigator.plugins["Shockwave Flash 2.0"]?" 2.0":"",i=navigator.plugins["Shockwave Flash"+t].description,n=i.split(" "),s=n[2].split("."),o=s[0],r=s[1],a=n[3];""==a&&(a=n[4]),"d"==a[0]?a=a.substring(1):"r"==a[0]&&(a=a.substring(1),a.indexOf("d")>0&&(a=a.substring(0,a.indexOf("d"))));var e=o+"."+r+"."+a}}else-1!=navigator.userAgent.toLowerCase().indexOf("webtv/2.6")?e=4:-1!=navigator.userAgent.toLowerCase().indexOf("webtv/2.5")?e=3:-1!=navigator.userAgent.toLowerCase().indexOf("webtv")?e=2:isIE&&isWin&&!isOpera&&(e=ControlVersion());return e}function DetectFlashVer(e,t,i){if(versionStr=GetSwfVer(),-1==versionStr)return!1;if(0!=versionStr){isIE&&isWin&&!isOpera?(tempArray=versionStr.split(" "),tempString=tempArray[1],versionArray=tempString.split(",")):versionArray=versionStr.split(".");var n=versionArray[0],s=versionArray[1],o=versionArray[2];if(n>parseFloat(e))return!0;if(n==parseFloat(e)){if(s>parseFloat(t))return!0;if(s==parseFloat(t)&&o>=parseFloat(i))return!0}return!1}}function AC_AddExtension(e,t){return-1!=e.indexOf("?")?e.replace(/\?/,t+"?"):e+t}function AC_Generateobj(e,t,i){var n="";if(isIE&&isWin&&!isOpera){n+="<object ";for(var s in e)n+=s+'="'+e[s]+'" ';n+=">";for(var s in t)n+='<param name="'+s+'" value="'+t[s]+'" /> ';n+="</object>"}else{n+="<embed ";for(var s in i)n+=s+'="'+i[s]+'" ';n+="> </embed>"}document.write(n)}function AC_FL_RunContent(){var e=AC_GetArgs(arguments,".swf","movie","clsid:d27cdb6e-ae6d-11cf-96b8-444553540000","application/x-shockwave-flash");AC_Generateobj(e.objAttrs,e.params,e.embedAttrs)}function AC_GetArgs(e,t,i,n,s){var o=new Object;o.embedAttrs=new Object,o.params=new Object,o.objAttrs=new Object;for(var r=0;e.length>r;r+=2){var a=e[r].toLowerCase();switch(a){case"classid":break;case"pluginspage":o.embedAttrs[e[r]]=e[r+1];break;case"src":case"movie":e[r+1]=AC_AddExtension(e[r+1],t),o.embedAttrs.src=e[r+1],o.params[i]=e[r+1];break;case"onafterupdate":case"onbeforeupdate":case"onblur":case"oncellchange":case"onclick":case"ondblClick":case"ondrag":case"ondragend":case"ondragenter":case"ondragleave":case"ondragover":case"ondrop":case"onfinish":case"onfocus":case"onhelp":case"onmousedown":case"onmouseup":case"onmouseover":case"onmousemove":case"onmouseout":case"onkeypress":case"onkeydown":case"onkeyup":case"onload":case"onlosecapture":case"onpropertychange":case"onreadystatechange":case"onrowsdelete":case"onrowenter":case"onrowexit":case"onrowsinserted":case"onstart":case"onscroll":case"onbeforeeditfocus":case"onactivate":case"onbeforedeactivate":case"ondeactivate":case"type":case"codebase":o.objAttrs[e[r]]=e[r+1];break;case"id":case"width":case"height":case"align":case"vspace":case"hspace":case"class":case"title":case"accesskey":case"name":case"tabindex":o.embedAttrs[e[r]]=o.objAttrs[e[r]]=e[r+1];break;default:o.embedAttrs[e[r]]=o.params[e[r]]=e[r+1]}}return o.objAttrs.classid=n,s&&(o.embedAttrs.type=s),o}function addLoadEvent(e){var t=window.onload;window.onload="function"!=typeof window.onload?e:function(){t(),e()}}function loadAds(){var e=$(".ad_content");null==e&&(e=new Array);for(var t=0;e.length>t;t++)e[t].style.display="block"}function formatNumberWithCommas(e){e+="";for(var t=e.split("."),i=t[0],n=t.length>1?"."+t[1]:"",s=/(\d+)(\d{3})/;s.test(i);)i=i.replace(s,"$1,$2");return i+n}function confirmHeaderFooterLinks(){$("#header a, #footer a").each(function(){null==this.onclick&&(this.onclick=function(){return confirm("Leaving this page will automatically empty your shopping cart. Are you sure you want to leave this page?")?!0:!1})})}function jjGoBack(){goBackFromCastingUrl?window.location=goBackFromCastingUrl:history.back(-1)}function unload_current_swf(){var e=ModalHelper.modal_lookup;if(current_preview_idx>-1){var t=e[current_preview_idx];log("unloading old swf"),swfobject.removeSWF("A128199_"+t);var n=document.getElementById("template_"+t+"_preview_container");if(n)for(children=n.childNodes,i=0;children.length>i;i++)n.removeChild(children[i])}}function show_preview_modal(e){var t=ModalHelper.preview_modals,i=ModalHelper.modal_lookup,n=parseInt(e,10);if(ModalHelper.teaserTemplate=n,void 0==t[e])return log("template "+e+" not found."),void 0;var s=t[e];current_preview_idx=$.inArray(""+e,i),update_nav_buttons(),current_preview_idx+1>=i.length&&(current_preview_idx+1>=SiteConfig.paginator_total_results?(log("all templates loaded."),$("#preview_modal_next_link").addClass("invisible")):(log("loading next set."),$(".show_more_link").click()));var o="still"==s.tpl_type?"still_view":"none",r="true"==s.premium?!0:!1;if(CategoryPageSupport.log_teaser_view(e,SiteConfig.category_id,o,r),$("#preview_modal_template_title").html("<em>"+s.name+"</em>"+' <span class="desc">'+s.tpl_type_str+"</span>"),parseInt(s.views)>0?$("#preview_modal_template_views").html(s.views+" Views"):$("#preview_modal_template_views").html(""),$("#teaser-video").length)try{_V_("teaser-video").destroy(),$("#teaser-video").remove()}catch(a){log(a)}if("video"==s.tpl_type){var l="template_"+e+"_swf_placeholder";if($("#preview_modal_preview").html("<div class='preview_modal_video_div'><div id='"+l+"'></div></div>"),ModalHelper.cachedTeasers[n]){var c=ModalHelper.cachedTeasers[n];c.asset?embedTeaserAsset(c):CategoryPageSupport.embed_template_swf(""+e,SiteConfig.channel_short_name,SiteConfig.http_base.replace("http://",""),SiteConfig.asset_base,SiteConfig.category_id,!0,"transparent")}else $.ajax({dataType:"json",type:"GET",context:this,url:"/teasers/asset/"+n,complete:function(t,i){if("error"!==i&&$.parseJSON(t.responseText).asset){var n=$.parseJSON(t.responseText);ModalHelper.cachedTeasers[n.id]=n,n.id==ModalHelper.teaserTemplate&&(ModalHelper.teaserTemplate=null,embedTeaserAsset(n))}else if(CategoryPageSupport.embed_template_swf(""+e,SiteConfig.channel_short_name,SiteConfig.http_base.replace("http://",""),SiteConfig.asset_base,SiteConfig.category_id,!0,"transparent"),"error"!==i){var n=$.parseJSON(t.responseText);ModalHelper.cachedTeasers[n.id]=n}}})}else $("#preview_modal_preview").html('<img src="'+s.tpl_preview_asset_url+'" />');return 1==r?$("#preview_modal_preview").addClass("prem"):$("#preview_modal_preview").removeClass("prem"),$("#preview_modal_send_link a").attr("href",s.make_url),JJ.openDialog({selector:"#preview_modal",ga:"/modals/preview"}),!1}function show_next_template_preview(){var e=ModalHelper.modal_lookup;1!=templates_loading&&(current_preview_idx+=1,show_preview_modal(e[current_preview_idx]))}function show_prev_template_preview(){var e=ModalHelper.modal_lookup;$("#preview_modal_next_link").show(),current_preview_idx-=1,show_preview_modal(e[current_preview_idx])}function update_nav_buttons(){0==current_preview_idx?$("#preview_modal_prev_link").addClass("invisible"):$("#preview_modal_prev_link").removeClass("invisible"),current_preview_idx+1>=SiteConfig.paginator_total_results?$("#preview_modal_next_link").addClass("invisible"):$("#preview_modal_next_link").removeClass("invisible")}function login_facebook_sc(){var e=$("#modal-login");if(e&&e.length>0){var t=e.find('a[data-component="facebook-login"]');t.click()}return!1}function http_request(){if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function url_exists(e){var t=http_request();try{return t.open("HEAD",e,!1),t.send(null),200==t.status?!0:!1}catch(i){return!1}}function display_marketing_image(e,t){mkt_tag=document.getElementById(t),mkt_tag&&(mkt_tag.innerHTML="<img src='"+e+"' alt='' />")}function find_url_with_file_type(e){var t=[".png",".jpg",".gif"];for(var i in t){var n=e+t[i];if(url_exists(n))return n}return!1}function make_partial_path(e,t){return"dev"==e&&(e="development"),path="/"+[images_dir,e,t].join("/")}function banner_display(e,t,i){var n=new Date,s=n.getFullYear(),o=n.getUTCMonth()+1,r=n.getUTCDate();10>o&&(o="0"+o),10>r&&(r="0"+r);var a=i+"_940x90_"+s+"-"+o+"-"+r,l=make_partial_path(e,a),c=make_partial_path(e,i+"_940x90_default"),u=find_url_with_file_type(c)||find_url_with_file_type(l);u&&display_marketing_image(u,t)}function store_display(e){banner_display(e,"marketing",store_prefix)}function download_display(e){var t=make_partial_path(e,download_prefix+"_940x90"),i=t+".png";url_exists(i)&&display_marketing_image(i,"marketing")}function subscription_ad_or_default(e,t,i){var n=make_partial_path(i,sub_prefix+"_300x500");(url=find_url_with_file_type(n))?(display_marketing_image(url,"subscription_ad"),obj=document.getElementById("subscription_ad")):obj=document.getElementById("default_ad"),obj.style.visibility="visible",obj.style.display="inline"}function buildNarrowSelect(e){if(ecardFinderMap[e]){var t=$("#narrow");t.attr("disabled",!1),t.empty(),t.append($('<option value="0" disabled="true" selected="true">Select...</option>'));for(var i in ecardFinderMap[e].cats){var n=ecardFinderMap[e].cats[i];t.append($('<option value="'+i+'">'+n.name+"</option>"))}}}(function(e,t){function i(e){var t=e.length,i=lt.type(e);return lt.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===i||"function"!==i&&(0===t||"number"==typeof t&&t>0&&t-1 in e)}function n(e){var t=kt[e]={};return lt.each(e.match(ut)||[],function(e,i){t[i]=!0}),t}function s(e,i,n,s){if(lt.acceptData(e)){var o,r,a=lt.expando,l="string"==typeof i,c=e.nodeType,u=c?lt.cache:e,d=c?e[a]:e[a]&&a;if(d&&u[d]&&(s||u[d].data)||!l||n!==t)return d||(c?e[a]=d=Z.pop()||lt.guid++:d=a),u[d]||(u[d]={},c||(u[d].toJSON=lt.noop)),("object"==typeof i||"function"==typeof i)&&(s?u[d]=lt.extend(u[d],i):u[d].data=lt.extend(u[d].data,i)),o=u[d],s||(o.data||(o.data={}),o=o.data),n!==t&&(o[lt.camelCase(i)]=n),l?(r=o[i],null==r&&(r=o[lt.camelCase(i)])):r=o,r}}function o(e,t,i){if(lt.acceptData(e)){var n,s,o,r=e.nodeType,l=r?lt.cache:e,c=r?e[lt.expando]:lt.expando;if(l[c]){if(t&&(o=i?l[c]:l[c].data)){lt.isArray(t)?t=t.concat(lt.map(t,lt.camelCase)):t in o?t=[t]:(t=lt.camelCase(t),t=t in o?[t]:t.split(" "));for(n=0,s=t.length;s>n;n++)delete o[t[n]];if(!(i?a:lt.isEmptyObject)(o))return}(i||(delete l[c].data,a(l[c])))&&(r?lt.cleanData([e],!0):lt.support.deleteExpando||l!=l.window?delete l[c]:l[c]=null)}}}function r(e,i,n){if(n===t&&1===e.nodeType){var s="data-"+i.replace(St,"-$1").toLowerCase();if(n=e.getAttribute(s),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:Ct.test(n)?lt.parseJSON(n):n}catch(o){}lt.data(e,i,n)}else n=t}return n}function a(e){var t;for(t in e)if(("data"!==t||!lt.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function l(){return!0}function c(){return!1}function u(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function d(e,t,i){if(t=t||0,lt.isFunction(t))return lt.grep(e,function(e,n){var s=!!t.call(e,n,e);return s===i});if(t.nodeType)return lt.grep(e,function(e){return e===t===i});if("string"==typeof t){var n=lt.grep(e,function(e){return 1===e.nodeType});if(Jt.test(t))return lt.filter(t,n,!i);t=lt.filter(t,n)}return lt.grep(e,function(e){return lt.inArray(e,t)>=0===i})}function h(e){var t=Ut.split("|"),i=e.createDocumentFragment();if(i.createElement)for(;t.length;)i.createElement(t.pop());return i}function p(e,t){return e.getElementsByTagName(t)[0]||e.appendChild(e.ownerDocument.createElement(t))}function f(e){var t=e.getAttributeNode("type");return e.type=(t&&t.specified)+"/"+e.type,e}function m(e){var t=si.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function g(e,t){for(var i,n=0;null!=(i=e[n]);n++)lt._data(i,"globalEval",!t||lt._data(t[n],"globalEval"))}function v(e,t){if(1===t.nodeType&&lt.hasData(e)){var i,n,s,o=lt._data(e),r=lt._data(t,o),a=o.events;if(a){delete r.handle,r.events={};for(i in a)for(n=0,s=a[i].length;s>n;n++)lt.event.add(t,i,a[i][n])}r.data&&(r.data=lt.extend({},r.data))}}function _(e,t){var i,n,s;if(1===t.nodeType){if(i=t.nodeName.toLowerCase(),!lt.support.noCloneEvent&&t[lt.expando]){s=lt._data(t);for(n in s.events)lt.removeEvent(t,n,s.handle);t.removeAttribute(lt.expando)}"script"===i&&t.text!==e.text?(f(t).text=e.text,m(t)):"object"===i?(t.parentNode&&(t.outerHTML=e.outerHTML),lt.support.html5Clone&&e.innerHTML&&!lt.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===i&&ti.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===i?t.defaultSelected=t.selected=e.defaultSelected:("input"===i||"textarea"===i)&&(t.defaultValue=e.defaultValue)}}function y(e,i){var n,s,o=0,r=typeof e.getElementsByTagName!==q?e.getElementsByTagName(i||"*"):typeof e.querySelectorAll!==q?e.querySelectorAll(i||"*"):t;if(!r)for(r=[],n=e.childNodes||e;null!=(s=n[o]);o++)!i||lt.nodeName(s,i)?r.push(s):lt.merge(r,y(s,i));return i===t||i&&lt.nodeName(e,i)?lt.merge([e],r):r}function b(e){ti.test(e.type)&&(e.defaultChecked=e.checked)}function w(e,t){if(t in e)return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),n=t,s=Ci.length;s--;)if(t=Ci[s]+i,t in e)return t;return n}function x(e,t){return e=t||e,"none"===lt.css(e,"display")||!lt.contains(e.ownerDocument,e)}function k(e,t){for(var i,n,s,o=[],r=0,a=e.length;a>r;r++)n=e[r],n.style&&(o[r]=lt._data(n,"olddisplay"),i=n.style.display,t?(o[r]||"none"!==i||(n.style.display=""),""===n.style.display&&x(n)&&(o[r]=lt._data(n,"olddisplay",E(n.nodeName)))):o[r]||(s=x(n),(i&&"none"!==i||!s)&&lt._data(n,"olddisplay",s?i:lt.css(n,"display"))));for(r=0;a>r;r++)n=e[r],n.style&&(t&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=t?o[r]||"":"none"));return e}function C(e,t,i){var n=vi.exec(t);return n?Math.max(0,n[1]-(i||0))+(n[2]||"px"):t}function S(e,t,i,n,s){for(var o=i===(n?"border":"content")?4:"width"===t?1:0,r=0;4>o;o+=2)"margin"===i&&(r+=lt.css(e,i+ki[o],!0,s)),n?("content"===i&&(r-=lt.css(e,"padding"+ki[o],!0,s)),"margin"!==i&&(r-=lt.css(e,"border"+ki[o]+"Width",!0,s))):(r+=lt.css(e,"padding"+ki[o],!0,s),"padding"!==i&&(r+=lt.css(e,"border"+ki[o]+"Width",!0,s)));return r}function T(e,t,i){var n=!0,s="width"===t?e.offsetWidth:e.offsetHeight,o=ui(e),r=lt.support.boxSizing&&"border-box"===lt.css(e,"boxSizing",!1,o);if(0>=s||null==s){if(s=di(e,t,o),(0>s||null==s)&&(s=e.style[t]),_i.test(s))return s;n=r&&(lt.support.boxSizingReliable||s===e.style[t]),s=parseFloat(s)||0}return s+S(e,t,i||(r?"border":"content"),n,o)+"px"}function E(e){var t=Y,i=bi[e];return i||(i=A(e,t),"none"!==i&&i||(ci=(ci||lt("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement),t=(ci[0].contentWindow||ci[0].contentDocument).document,t.write("<!doctype html><html><body>"),t.close(),i=A(e,t),ci.detach()),bi[e]=i),i}function A(e,t){var i=lt(t.createElement(e)).appendTo(t.body),n=lt.css(i[0],"display");return i.remove(),n}function M(e,t,i,n){var s;if(lt.isArray(t))lt.each(t,function(t,s){i||Ti.test(e)?n(e,s):M(e+"["+("object"==typeof s?t:"")+"]",s,i,n)});else if(i||"object"!==lt.type(t))n(e,t);else for(s in t)M(e+"["+s+"]",t[s],i,n)}function I(e){return function(t,i){"string"!=typeof t&&(i=t,t="*");var n,s=0,o=t.toLowerCase().match(ut)||[];if(lt.isFunction(i))for(;n=o[s++];)"+"===n[0]?(n=n.slice(1)||"*",(e[n]=e[n]||[]).unshift(i)):(e[n]=e[n]||[]).push(i)}}function D(e,t,i,n){function s(a){var l;return o[a]=!0,lt.each(e[a]||[],function(e,a){var c=a(t,i,n);return"string"!=typeof c||r||o[c]?r?!(l=c):void 0:(t.dataTypes.unshift(c),s(c),!1)}),l}var o={},r=e===Ji;return s(t.dataTypes[0])||!o["*"]&&s("*")}function j(e,i){var n,s,o=lt.ajaxSettings.flatOptions||{};for(s in i)i[s]!==t&&((o[s]?e:n||(n={}))[s]=i[s]);return n&&lt.extend(!0,e,n),e}function F(e,i,n){var s,o,r,a,l=e.contents,c=e.dataTypes,u=e.responseFields;for(a in u)a in n&&(i[u[a]]=n[a]);for(;"*"===c[0];)c.shift(),o===t&&(o=e.mimeType||i.getResponseHeader("Content-Type"));if(o)for(a in l)if(l[a]&&l[a].test(o)){c.unshift(a);break}if(c[0]in n)r=c[0];else{for(a in n){if(!c[0]||e.converters[a+" "+c[0]]){r=a;break}s||(s=a)}r=r||s}return r?(r!==c[0]&&c.unshift(r),n[r]):void 0}function N(e,t){var i,n,s,o,r={},a=0,l=e.dataTypes.slice(),c=l[0];if(e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l[1])for(s in e.converters)r[s.toLowerCase()]=e.converters[s];for(;n=l[++a];)if("*"!==n){if("*"!==c&&c!==n){if(s=r[c+" "+n]||r["* "+n],!s)for(i in r)if(o=i.split(" "),o[1]===n&&(s=r[c+" "+o[0]]||r["* "+o[0]])){s===!0?s=r[i]:r[i]!==!0&&(n=o[0],l.splice(a--,0,n));break}if(s!==!0)if(s&&e["throws"])t=s(t);else try{t=s(t)}catch(u){return{state:"parsererror",error:s?u:"No conversion from "+c+" to "+n}}}c=n}return{state:"success",data:t}}function $(){try{return new e.XMLHttpRequest}catch(t){}}function P(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function O(){return setTimeout(function(){Qi=t}),Qi=lt.now()}function L(e,t){lt.each(t,function(t,i){for(var n=(on[t]||[]).concat(on["*"]),s=0,o=n.length;o>s;s++)if(n[s].call(e,t,i))return})}function B(e,t,i){var n,s,o=0,r=sn.length,a=lt.Deferred().always(function(){delete l.elem}),l=function(){if(s)return!1;for(var t=Qi||O(),i=Math.max(0,c.startTime+c.duration-t),n=i/c.duration||0,o=1-n,r=0,l=c.tweens.length;l>r;r++)c.tweens[r].run(o);return a.notifyWith(e,[c,o,i]),1>o&&l?i:(a.resolveWith(e,[c]),!1)},c=a.promise({elem:e,props:lt.extend({},t),opts:lt.extend(!0,{specialEasing:{}},i),originalProperties:t,originalOptions:i,startTime:Qi||O(),duration:i.duration,tweens:[],createTween:function(t,i){var n=lt.Tween(e,c.opts,t,i,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(n),n},stop:function(t){var i=0,n=t?c.tweens.length:0;if(s)return this;for(s=!0;n>i;i++)c.tweens[i].run(1);return t?a.resolveWith(e,[c,t]):a.rejectWith(e,[c,t]),this}}),u=c.props;for(H(u,c.opts.specialEasing);r>o;o++)if(n=sn[o].call(c,e,u,c.opts))return n;return L(c,u),lt.isFunction(c.opts.start)&&c.opts.start.call(e,c),lt.fx.timer(lt.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function H(e,t){var i,n,s,o,r;for(s in e)if(n=lt.camelCase(s),o=t[n],i=e[s],lt.isArray(i)&&(o=i[1],i=e[s]=i[0]),s!==n&&(e[n]=i,delete e[s]),r=lt.cssHooks[n],r&&"expand"in r){i=r.expand(i),delete e[n];for(s in i)s in e||(e[s]=i[s],t[s]=o)}else t[n]=o}function R(e,t,i){var n,s,o,r,a,l,c,u,d,h=this,p=e.style,f={},m=[],g=e.nodeType&&x(e);i.queue||(u=lt._queueHooks(e,"fx"),null==u.unqueued&&(u.unqueued=0,d=u.empty.fire,u.empty.fire=function(){u.unqueued||d()}),u.unqueued++,h.always(function(){h.always(function(){u.unqueued--,lt.queue(e,"fx").length||u.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(i.overflow=[p.overflow,p.overflowX,p.overflowY],"inline"===lt.css(e,"display")&&"none"===lt.css(e,"float")&&(lt.support.inlineBlockNeedsLayout&&"inline"!==E(e.nodeName)?p.zoom=1:p.display="inline-block")),i.overflow&&(p.overflow="hidden",lt.support.shrinkWrapBlocks||h.always(function(){p.overflow=i.overflow[0],p.overflowX=i.overflow[1],p.overflowY=i.overflow[2]}));for(s in t)if(r=t[s],en.exec(r)){if(delete t[s],l=l||"toggle"===r,r===(g?"hide":"show"))continue;m.push(s)}if(o=m.length){a=lt._data(e,"fxshow")||lt._data(e,"fxshow",{}),"hidden"in a&&(g=a.hidden),l&&(a.hidden=!g),g?lt(e).show():h.done(function(){lt(e).hide()}),h.done(function(){var t;lt._removeData(e,"fxshow");for(t in f)lt.style(e,t,f[t])});for(s=0;o>s;s++)n=m[s],c=h.createTween(n,g?a[n]:0),f[n]=a[n]||lt.style(e,n),n in a||(a[n]=c.start,g&&(c.end=c.start,c.start="width"===n||"height"===n?1:0))}}function V(e,t,i,n,s){return new V.prototype.init(e,t,i,n,s)}function J(e,t){var i,n={height:e},s=0;for(t=t?1:0;4>s;s+=2-t)i=ki[s],n["margin"+i]=n["padding"+i]=e;return t&&(n.opacity=n.width=e),n}function z(e){return lt.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var W,U,q=typeof t,Y=e.document,G=e.location,X=e.jQuery,K=e.$,Q={},Z=[],et="1.9.1",tt=Z.concat,it=Z.push,nt=Z.slice,st=Z.indexOf,ot=Q.toString,rt=Q.hasOwnProperty,at=et.trim,lt=function(e,t){return new lt.fn.init(e,t,U)},ct=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ut=/\S+/g,dt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ht=/^(?:(<[\w\W]+>)[^>]*|#([\w-]*))$/,pt=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ft=/^[\],:{}\s]*$/,mt=/(?:^|:|,)(?:\s*\[)+/g,gt=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,vt=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,_t=/^-ms-/,yt=/-([\da-z])/gi,bt=function(e,t){return t.toUpperCase()},wt=function(e){(Y.addEventListener||"load"===e.type||"complete"===Y.readyState)&&(xt(),lt.ready())},xt=function(){Y.addEventListener?(Y.removeEventListener("DOMContentLoaded",wt,!1),e.removeEventListener("load",wt,!1)):(Y.detachEvent("onreadystatechange",wt),e.detachEvent("onload",wt))};lt.fn=lt.prototype={jquery:et,constructor:lt,init:function(e,i,n){var s,o;if(!e)return this;if("string"==typeof e){if(s="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:ht.exec(e),!s||!s[1]&&i)return!i||i.jquery?(i||n).find(e):this.constructor(i).find(e);if(s[1]){if(i=i instanceof lt?i[0]:i,lt.merge(this,lt.parseHTML(s[1],i&&i.nodeType?i.ownerDocument||i:Y,!0)),pt.test(s[1])&&lt.isPlainObject(i))for(s in i)lt.isFunction(this[s])?this[s](i[s]):this.attr(s,i[s]);return this}if(o=Y.getElementById(s[2]),o&&o.parentNode){if(o.id!==s[2])return n.find(e);this.length=1,this[0]=o}return this.context=Y,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):lt.isFunction(e)?n.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),lt.makeArray(e,this))},selector:"",length:0,size:function(){return this.length},toArray:function(){return nt.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e){var t=lt.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return lt.each(this,e,t)},ready:function(e){return lt.ready.promise().done(e),this},slice:function(){return this.pushStack(nt.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,i=+e+(0>e?t:0);return this.pushStack(i>=0&&t>i?[this[i]]:[])},map:function(e){return this.pushStack(lt.map(this,function(t,i){return e.call(t,i,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:it,sort:[].sort,splice:[].splice},lt.fn.init.prototype=lt.fn,lt.extend=lt.fn.extend=function(){var e,i,n,s,o,r,a=arguments[0]||{},l=1,c=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[1]||{},l=2),"object"==typeof a||lt.isFunction(a)||(a={}),c===l&&(a=this,--l);c>l;l++)if(null!=(o=arguments[l]))for(s in o)e=a[s],n=o[s],a!==n&&(u&&n&&(lt.isPlainObject(n)||(i=lt.isArray(n)))?(i?(i=!1,r=e&&lt.isArray(e)?e:[]):r=e&&lt.isPlainObject(e)?e:{},a[s]=lt.extend(u,r,n)):n!==t&&(a[s]=n));return a},lt.extend({noConflict:function(t){return e.$===lt&&(e.$=K),t&&e.jQuery===lt&&(e.jQuery=X),lt},isReady:!1,readyWait:1,holdReady:function(e){e?lt.readyWait++:lt.ready(!0)},ready:function(e){if(e===!0?!--lt.readyWait:!lt.isReady){if(!Y.body)return setTimeout(lt.ready);lt.isReady=!0,e!==!0&&--lt.readyWait>0||(W.resolveWith(Y,[lt]),lt.fn.trigger&&lt(Y).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===lt.type(e)},isArray:Array.isArray||function(e){return"array"===lt.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?String(e):"object"==typeof e||"function"==typeof e?Q[ot.call(e)]||"object":typeof e},isPlainObject:function(e){if(!e||"object"!==lt.type(e)||e.nodeType||lt.isWindow(e))return!1;try{if(e.constructor&&!rt.call(e,"constructor")&&!rt.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(i){return!1}var n;for(n in e);return n===t||rt.call(e,n)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,i){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(i=t,t=!1),t=t||Y;var n=pt.exec(e),s=!i&&[];return n?[t.createElement(n[1])]:(n=lt.buildFragment([e],t,s),s&&lt(s).remove(),lt.merge([],n.childNodes))},parseJSON:function(t){return e.JSON&&e.JSON.parse?e.JSON.parse(t):null===t?t:"string"==typeof t&&(t=lt.trim(t),t&&ft.test(t.replace(gt,"@").replace(vt,"]").replace(mt,"")))?new Function("return "+t)():(lt.error("Invalid JSON: "+t),void 0)},parseXML:function(i){var n,s;if(!i||"string"!=typeof i)return null;try{e.DOMParser?(s=new DOMParser,n=s.parseFromString(i,"text/xml")):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(i))}catch(o){n=t}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||lt.error("Invalid XML: "+i),n},noop:function(){},globalEval:function(t){t&&lt.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(_t,"ms-").replace(yt,bt)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var s,o=0,r=e.length,a=i(e);if(n){if(a)for(;r>o&&(s=t.apply(e[o],n),s!==!1);o++);else for(o in e)if(s=t.apply(e[o],n),s===!1)break}else if(a)for(;r>o&&(s=t.call(e[o],o,e[o]),s!==!1);o++);else for(o in e)if(s=t.call(e[o],o,e[o]),s===!1)break;return e},trim:at&&!at.call("﻿ ")?function(e){return null==e?"":at.call(e)}:function(e){return null==e?"":(e+"").replace(dt,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(i(Object(e))?lt.merge(n,"string"==typeof e?[e]:e):it.call(n,e)),n},inArray:function(e,t,i){var n;if(t){if(st)return st.call(t,e,i);for(n=t.length,i=i?0>i?Math.max(0,n+i):i:0;n>i;i++)if(i in t&&t[i]===e)return i}return-1},merge:function(e,i){var n=i.length,s=e.length,o=0;if("number"==typeof n)for(;n>o;o++)e[s++]=i[o];else for(;i[o]!==t;)e[s++]=i[o++];return e.length=s,e},grep:function(e,t,i){var n,s=[],o=0,r=e.length;for(i=!!i;r>o;o++)n=!!t(e[o],o),i!==n&&s.push(e[o]);return s},map:function(e,t,n){var s,o=0,r=e.length,a=i(e),l=[];if(a)for(;r>o;o++)s=t(e[o],o,n),null!=s&&(l[l.length]=s);else for(o in e)s=t(e[o],o,n),null!=s&&(l[l.length]=s);return tt.apply([],l)},guid:1,proxy:function(e,i){var n,s,o;return"string"==typeof i&&(o=e[i],i=e,e=o),lt.isFunction(e)?(n=nt.call(arguments,2),s=function(){return e.apply(i||this,n.concat(nt.call(arguments)))},s.guid=e.guid=e.guid||lt.guid++,s):t},access:function(e,i,n,s,o,r,a){var l=0,c=e.length,u=null==n;
if("object"===lt.type(n)){o=!0;for(l in n)lt.access(e,i,l,n[l],!0,r,a)}else if(s!==t&&(o=!0,lt.isFunction(s)||(a=!0),u&&(a?(i.call(e,s),i=null):(u=i,i=function(e,t,i){return u.call(lt(e),i)})),i))for(;c>l;l++)i(e[l],n,a?s:s.call(e[l],l,i(e[l],n)));return o?e:u?i.call(e):c?i(e[0],n):r},now:function(){return(new Date).getTime()}}),lt.ready.promise=function(t){if(!W)if(W=lt.Deferred(),"complete"===Y.readyState)setTimeout(lt.ready);else if(Y.addEventListener)Y.addEventListener("DOMContentLoaded",wt,!1),e.addEventListener("load",wt,!1);else{Y.attachEvent("onreadystatechange",wt),e.attachEvent("onload",wt);var i=!1;try{i=null==e.frameElement&&Y.documentElement}catch(n){}i&&i.doScroll&&function s(){if(!lt.isReady){try{i.doScroll("left")}catch(e){return setTimeout(s,50)}xt(),lt.ready()}}()}return W.promise(t)},lt.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){Q["[object "+t+"]"]=t.toLowerCase()}),U=lt(Y);var kt={};lt.Callbacks=function(e){e="string"==typeof e?kt[e]||n(e):lt.extend({},e);var i,s,o,r,a,l,c=[],u=!e.once&&[],d=function(t){for(s=e.memory&&t,o=!0,a=l||0,l=0,r=c.length,i=!0;c&&r>a;a++)if(c[a].apply(t[0],t[1])===!1&&e.stopOnFalse){s=!1;break}i=!1,c&&(u?u.length&&d(u.shift()):s?c=[]:h.disable())},h={add:function(){if(c){var t=c.length;(function n(t){lt.each(t,function(t,i){var s=lt.type(i);"function"===s?e.unique&&h.has(i)||c.push(i):i&&i.length&&"string"!==s&&n(i)})})(arguments),i?r=c.length:s&&(l=t,d(s))}return this},remove:function(){return c&&lt.each(arguments,function(e,t){for(var n;(n=lt.inArray(t,c,n))>-1;)c.splice(n,1),i&&(r>=n&&r--,a>=n&&a--)}),this},has:function(e){return e?lt.inArray(e,c)>-1:!(!c||!c.length)},empty:function(){return c=[],this},disable:function(){return c=u=s=t,this},disabled:function(){return!c},lock:function(){return u=t,s||h.disable(),this},locked:function(){return!u},fireWith:function(e,t){return t=t||[],t=[e,t.slice?t.slice():t],!c||o&&!u||(i?u.push(t):d(t)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!o}};return h},lt.extend({Deferred:function(e){var t=[["resolve","done",lt.Callbacks("once memory"),"resolved"],["reject","fail",lt.Callbacks("once memory"),"rejected"],["notify","progress",lt.Callbacks("memory")]],i="pending",n={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},then:function(){var e=arguments;return lt.Deferred(function(i){lt.each(t,function(t,o){var r=o[0],a=lt.isFunction(e[t])&&e[t];s[o[1]](function(){var e=a&&a.apply(this,arguments);e&&lt.isFunction(e.promise)?e.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[r+"With"](this===n?i.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?lt.extend(e,n):n}},s={};return n.pipe=n.then,lt.each(t,function(e,o){var r=o[2],a=o[3];n[o[1]]=r.add,a&&r.add(function(){i=a},t[1^e][2].disable,t[2][2].lock),s[o[0]]=function(){return s[o[0]+"With"](this===s?n:this,arguments),this},s[o[0]+"With"]=r.fireWith}),n.promise(s),e&&e.call(s,s),s},when:function(e){var t,i,n,s=0,o=nt.call(arguments),r=o.length,a=1!==r||e&&lt.isFunction(e.promise)?r:0,l=1===a?e:lt.Deferred(),c=function(e,i,n){return function(s){i[e]=this,n[e]=arguments.length>1?nt.call(arguments):s,n===t?l.notifyWith(i,n):--a||l.resolveWith(i,n)}};if(r>1)for(t=new Array(r),i=new Array(r),n=new Array(r);r>s;s++)o[s]&&lt.isFunction(o[s].promise)?o[s].promise().done(c(s,n,o)).fail(l.reject).progress(c(s,i,t)):--a;return a||l.resolveWith(n,o),l.promise()}}),lt.support=function(){var t,i,n,s,o,r,a,l,c,u,d=Y.createElement("div");if(d.setAttribute("className","t"),d.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",i=d.getElementsByTagName("*"),n=d.getElementsByTagName("a")[0],!i||!n||!i.length)return{};o=Y.createElement("select"),a=o.appendChild(Y.createElement("option")),s=d.getElementsByTagName("input")[0],n.style.cssText="top:1px;float:left;opacity:.5",t={getSetAttribute:"t"!==d.className,leadingWhitespace:3===d.firstChild.nodeType,tbody:!d.getElementsByTagName("tbody").length,htmlSerialize:!!d.getElementsByTagName("link").length,style:/top/.test(n.getAttribute("style")),hrefNormalized:"/a"===n.getAttribute("href"),opacity:/^0.5/.test(n.style.opacity),cssFloat:!!n.style.cssFloat,checkOn:!!s.value,optSelected:a.selected,enctype:!!Y.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==Y.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===Y.compatMode,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},s.checked=!0,t.noCloneChecked=s.cloneNode(!0).checked,o.disabled=!0,t.optDisabled=!a.disabled;try{delete d.test}catch(h){t.deleteExpando=!1}s=Y.createElement("input"),s.setAttribute("value",""),t.input=""===s.getAttribute("value"),s.value="t",s.setAttribute("type","radio"),t.radioValue="t"===s.value,s.setAttribute("checked","t"),s.setAttribute("name","t"),r=Y.createDocumentFragment(),r.appendChild(s),t.appendChecked=s.checked,t.checkClone=r.cloneNode(!0).cloneNode(!0).lastChild.checked,d.attachEvent&&(d.attachEvent("onclick",function(){t.noCloneEvent=!1}),d.cloneNode(!0).click());for(u in{submit:!0,change:!0,focusin:!0})d.setAttribute(l="on"+u,"t"),t[u+"Bubbles"]=l in e||d.attributes[l].expando===!1;return d.style.backgroundClip="content-box",d.cloneNode(!0).style.backgroundClip="",t.clearCloneStyle="content-box"===d.style.backgroundClip,lt(function(){var i,n,s,o="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",r=Y.getElementsByTagName("body")[0];r&&(i=Y.createElement("div"),i.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",r.appendChild(i).appendChild(d),d.innerHTML="<table><tr><td></td><td>t</td></tr></table>",s=d.getElementsByTagName("td"),s[0].style.cssText="padding:0;margin:0;border:0;display:none",c=0===s[0].offsetHeight,s[0].style.display="",s[1].style.display="none",t.reliableHiddenOffsets=c&&0===s[0].offsetHeight,d.innerHTML="",d.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",t.boxSizing=4===d.offsetWidth,t.doesNotIncludeMarginInBodyOffset=1!==r.offsetTop,e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(d,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(d,null)||{width:"4px"}).width,n=d.appendChild(Y.createElement("div")),n.style.cssText=d.style.cssText=o,n.style.marginRight=n.style.width="0",d.style.width="1px",t.reliableMarginRight=!parseFloat((e.getComputedStyle(n,null)||{}).marginRight)),typeof d.style.zoom!==q&&(d.innerHTML="",d.style.cssText=o+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=3===d.offsetWidth,d.style.display="block",d.innerHTML="<div></div>",d.firstChild.style.width="5px",t.shrinkWrapBlocks=3!==d.offsetWidth,t.inlineBlockNeedsLayout&&(r.style.zoom=1)),r.removeChild(i),i=d=s=n=null)}),i=o=r=a=n=s=null,t}();var Ct=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,St=/([A-Z])/g;lt.extend({cache:{},expando:"jQuery"+(et+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return e=e.nodeType?lt.cache[e[lt.expando]]:e[lt.expando],!!e&&!a(e)},data:function(e,t,i){return s(e,t,i)},removeData:function(e,t){return o(e,t)},_data:function(e,t,i){return s(e,t,i,!0)},_removeData:function(e,t){return o(e,t,!0)},acceptData:function(e){if(e.nodeType&&1!==e.nodeType&&9!==e.nodeType)return!1;var t=e.nodeName&&lt.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),lt.fn.extend({data:function(e,i){var n,s,o=this[0],a=0,l=null;if(e===t){if(this.length&&(l=lt.data(o),1===o.nodeType&&!lt._data(o,"parsedAttrs"))){for(n=o.attributes;n.length>a;a++)s=n[a].name,s.indexOf("data-")||(s=lt.camelCase(s.slice(5)),r(o,s,l[s]));lt._data(o,"parsedAttrs",!0)}return l}return"object"==typeof e?this.each(function(){lt.data(this,e)}):lt.access(this,function(i){return i===t?o?r(o,e,lt.data(o,e)):null:(this.each(function(){lt.data(this,e,i)}),void 0)},null,i,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){lt.removeData(this,e)})}}),lt.extend({queue:function(e,t,i){var n;return e?(t=(t||"fx")+"queue",n=lt._data(e,t),i&&(!n||lt.isArray(i)?n=lt._data(e,t,lt.makeArray(i)):n.push(i)),n||[]):void 0},dequeue:function(e,t){t=t||"fx";var i=lt.queue(e,t),n=i.length,s=i.shift(),o=lt._queueHooks(e,t),r=function(){lt.dequeue(e,t)};"inprogress"===s&&(s=i.shift(),n--),o.cur=s,s&&("fx"===t&&i.unshift("inprogress"),delete o.stop,s.call(e,r,o)),!n&&o&&o.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return lt._data(e,i)||lt._data(e,i,{empty:lt.Callbacks("once memory").add(function(){lt._removeData(e,t+"queue"),lt._removeData(e,i)})})}}),lt.fn.extend({queue:function(e,i){var n=2;return"string"!=typeof e&&(i=e,e="fx",n--),n>arguments.length?lt.queue(this[0],e):i===t?this:this.each(function(){var t=lt.queue(this,e,i);lt._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&lt.dequeue(this,e)})},dequeue:function(e){return this.each(function(){lt.dequeue(this,e)})},delay:function(e,t){return e=lt.fx?lt.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,i){var n=setTimeout(t,e);i.stop=function(){clearTimeout(n)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,i){var n,s=1,o=lt.Deferred(),r=this,a=this.length,l=function(){--s||o.resolveWith(r,[r])};for("string"!=typeof e&&(i=e,e=t),e=e||"fx";a--;)n=lt._data(r[a],e+"queueHooks"),n&&n.empty&&(s++,n.empty.add(l));return l(),o.promise(i)}});var Tt,Et,At=/[\t\r\n]/g,Mt=/\r/g,It=/^(?:input|select|textarea|button|object)$/i,Dt=/^(?:a|area)$/i,jt=/^(?:checked|selected|autofocus|autoplay|async|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped)$/i,Ft=/^(?:checked|selected)$/i,Nt=lt.support.getSetAttribute,$t=lt.support.input;lt.fn.extend({attr:function(e,t){return lt.access(this,lt.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){lt.removeAttr(this,e)})},prop:function(e,t){return lt.access(this,lt.prop,e,t,arguments.length>1)},removeProp:function(e){return e=lt.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(i){}})},addClass:function(e){var t,i,n,s,o,r=0,a=this.length,l="string"==typeof e&&e;if(lt.isFunction(e))return this.each(function(t){lt(this).addClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(ut)||[];a>r;r++)if(i=this[r],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(At," "):" ")){for(o=0;s=t[o++];)0>n.indexOf(" "+s+" ")&&(n+=s+" ");i.className=lt.trim(n)}return this},removeClass:function(e){var t,i,n,s,o,r=0,a=this.length,l=0===arguments.length||"string"==typeof e&&e;if(lt.isFunction(e))return this.each(function(t){lt(this).removeClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(ut)||[];a>r;r++)if(i=this[r],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(At," "):"")){for(o=0;s=t[o++];)for(;n.indexOf(" "+s+" ")>=0;)n=n.replace(" "+s+" "," ");i.className=e?lt.trim(n):""}return this},toggleClass:function(e,t){var i=typeof e,n="boolean"==typeof t;return lt.isFunction(e)?this.each(function(i){lt(this).toggleClass(e.call(this,i,this.className,t),t)}):this.each(function(){if("string"===i)for(var s,o=0,r=lt(this),a=t,l=e.match(ut)||[];s=l[o++];)a=n?a:!r.hasClass(s),r[a?"addClass":"removeClass"](s);else(i===q||"boolean"===i)&&(this.className&&lt._data(this,"__className__",this.className),this.className=this.className||e===!1?"":lt._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",i=0,n=this.length;n>i;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(At," ").indexOf(t)>=0)return!0;return!1},val:function(e){var i,n,s,o=this[0];{if(arguments.length)return s=lt.isFunction(e),this.each(function(i){var o,r=lt(this);1===this.nodeType&&(o=s?e.call(this,i,r.val()):e,null==o?o="":"number"==typeof o?o+="":lt.isArray(o)&&(o=lt.map(o,function(e){return null==e?"":e+""})),n=lt.valHooks[this.type]||lt.valHooks[this.nodeName.toLowerCase()],n&&"set"in n&&n.set(this,o,"value")!==t||(this.value=o))});if(o)return n=lt.valHooks[o.type]||lt.valHooks[o.nodeName.toLowerCase()],n&&"get"in n&&(i=n.get(o,"value"))!==t?i:(i=o.value,"string"==typeof i?i.replace(Mt,""):null==i?"":i)}}}),lt.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){for(var t,i,n=e.options,s=e.selectedIndex,o="select-one"===e.type||0>s,r=o?null:[],a=o?s+1:n.length,l=0>s?a:o?s:0;a>l;l++)if(i=n[l],!(!i.selected&&l!==s||(lt.support.optDisabled?i.disabled:null!==i.getAttribute("disabled"))||i.parentNode.disabled&&lt.nodeName(i.parentNode,"optgroup"))){if(t=lt(i).val(),o)return t;r.push(t)}return r},set:function(e,t){var i=lt.makeArray(t);return lt(e).find("option").each(function(){this.selected=lt.inArray(lt(this).val(),i)>=0}),i.length||(e.selectedIndex=-1),i}}},attr:function(e,i,n){var s,o,r,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return typeof e.getAttribute===q?lt.prop(e,i,n):(o=1!==a||!lt.isXMLDoc(e),o&&(i=i.toLowerCase(),s=lt.attrHooks[i]||(jt.test(i)?Et:Tt)),n===t?s&&o&&"get"in s&&null!==(r=s.get(e,i))?r:(typeof e.getAttribute!==q&&(r=e.getAttribute(i)),null==r?t:r):null!==n?s&&o&&"set"in s&&(r=s.set(e,n,i))!==t?r:(e.setAttribute(i,n+""),n):(lt.removeAttr(e,i),void 0))},removeAttr:function(e,t){var i,n,s=0,o=t&&t.match(ut);if(o&&1===e.nodeType)for(;i=o[s++];)n=lt.propFix[i]||i,jt.test(i)?!Nt&&Ft.test(i)?e[lt.camelCase("default-"+i)]=e[n]=!1:e[n]=!1:lt.attr(e,i,""),e.removeAttribute(Nt?i:n)},attrHooks:{type:{set:function(e,t){if(!lt.support.radioValue&&"radio"===t&&lt.nodeName(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,i,n){var s,o,r,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return r=1!==a||!lt.isXMLDoc(e),r&&(i=lt.propFix[i]||i,o=lt.propHooks[i]),n!==t?o&&"set"in o&&(s=o.set(e,n,i))!==t?s:e[i]=n:o&&"get"in o&&null!==(s=o.get(e,i))?s:e[i]},propHooks:{tabIndex:{get:function(e){var i=e.getAttributeNode("tabindex");return i&&i.specified?parseInt(i.value,10):It.test(e.nodeName)||Dt.test(e.nodeName)&&e.href?0:t}}}}),Et={get:function(e,i){var n=lt.prop(e,i),s="boolean"==typeof n&&e.getAttribute(i),o="boolean"==typeof n?$t&&Nt?null!=s:Ft.test(i)?e[lt.camelCase("default-"+i)]:!!s:e.getAttributeNode(i);return o&&o.value!==!1?i.toLowerCase():t},set:function(e,t,i){return t===!1?lt.removeAttr(e,i):$t&&Nt||!Ft.test(i)?e.setAttribute(!Nt&&lt.propFix[i]||i,i):e[lt.camelCase("default-"+i)]=e[i]=!0,i}},$t&&Nt||(lt.attrHooks.value={get:function(e,i){var n=e.getAttributeNode(i);return lt.nodeName(e,"input")?e.defaultValue:n&&n.specified?n.value:t},set:function(e,t,i){return lt.nodeName(e,"input")?(e.defaultValue=t,void 0):Tt&&Tt.set(e,t,i)}}),Nt||(Tt=lt.valHooks.button={get:function(e,i){var n=e.getAttributeNode(i);return n&&("id"===i||"name"===i||"coords"===i?""!==n.value:n.specified)?n.value:t},set:function(e,i,n){var s=e.getAttributeNode(n);return s||e.setAttributeNode(s=e.ownerDocument.createAttribute(n)),s.value=i+="","value"===n||i===e.getAttribute(n)?i:t}},lt.attrHooks.contenteditable={get:Tt.get,set:function(e,t,i){Tt.set(e,""===t?!1:t,i)}},lt.each(["width","height"],function(e,t){lt.attrHooks[t]=lt.extend(lt.attrHooks[t],{set:function(e,i){return""===i?(e.setAttribute(t,"auto"),i):void 0}})})),lt.support.hrefNormalized||(lt.each(["href","src","width","height"],function(e,i){lt.attrHooks[i]=lt.extend(lt.attrHooks[i],{get:function(e){var n=e.getAttribute(i,2);return null==n?t:n}})}),lt.each(["href","src"],function(e,t){lt.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}})),lt.support.style||(lt.attrHooks.style={get:function(e){return e.style.cssText||t},set:function(e,t){return e.style.cssText=t+""}}),lt.support.optSelected||(lt.propHooks.selected=lt.extend(lt.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),lt.support.enctype||(lt.propFix.enctype="encoding"),lt.support.checkOn||lt.each(["radio","checkbox"],function(){lt.valHooks[this]={get:function(e){return null===e.getAttribute("value")?"on":e.value}}}),lt.each(["radio","checkbox"],function(){lt.valHooks[this]=lt.extend(lt.valHooks[this],{set:function(e,t){return lt.isArray(t)?e.checked=lt.inArray(lt(e).val(),t)>=0:void 0}})});var Pt=/^(?:input|select|textarea)$/i,Ot=/^key/,Lt=/^(?:mouse|contextmenu)|click/,Bt=/^(?:focusinfocus|focusoutblur)$/,Ht=/^([^.]*)(?:\.(.+)|)$/;lt.event={global:{},add:function(e,i,n,s,o){var r,a,l,c,u,d,h,p,f,m,g,v=lt._data(e);if(v){for(n.handler&&(c=n,n=c.handler,o=c.selector),n.guid||(n.guid=lt.guid++),(a=v.events)||(a=v.events={}),(d=v.handle)||(d=v.handle=function(e){return typeof lt===q||e&&lt.event.triggered===e.type?t:lt.event.dispatch.apply(d.elem,arguments)},d.elem=e),i=(i||"").match(ut)||[""],l=i.length;l--;)r=Ht.exec(i[l])||[],f=g=r[1],m=(r[2]||"").split(".").sort(),u=lt.event.special[f]||{},f=(o?u.delegateType:u.bindType)||f,u=lt.event.special[f]||{},h=lt.extend({type:f,origType:g,data:s,handler:n,guid:n.guid,selector:o,needsContext:o&&lt.expr.match.needsContext.test(o),namespace:m.join(".")},c),(p=a[f])||(p=a[f]=[],p.delegateCount=0,u.setup&&u.setup.call(e,s,m,d)!==!1||(e.addEventListener?e.addEventListener(f,d,!1):e.attachEvent&&e.attachEvent("on"+f,d))),u.add&&(u.add.call(e,h),h.handler.guid||(h.handler.guid=n.guid)),o?p.splice(p.delegateCount++,0,h):p.push(h),lt.event.global[f]=!0;e=null}},remove:function(e,t,i,n,s){var o,r,a,l,c,u,d,h,p,f,m,g=lt.hasData(e)&&lt._data(e);if(g&&(u=g.events)){for(t=(t||"").match(ut)||[""],c=t.length;c--;)if(a=Ht.exec(t[c])||[],p=m=a[1],f=(a[2]||"").split(".").sort(),p){for(d=lt.event.special[p]||{},p=(n?d.delegateType:d.bindType)||p,h=u[p]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=o=h.length;o--;)r=h[o],!s&&m!==r.origType||i&&i.guid!==r.guid||a&&!a.test(r.namespace)||n&&n!==r.selector&&("**"!==n||!r.selector)||(h.splice(o,1),r.selector&&h.delegateCount--,d.remove&&d.remove.call(e,r));l&&!h.length&&(d.teardown&&d.teardown.call(e,f,g.handle)!==!1||lt.removeEvent(e,p,g.handle),delete u[p])}else for(p in u)lt.event.remove(e,p+t[c],i,n,!0);lt.isEmptyObject(u)&&(delete g.handle,lt._removeData(e,"events"))}},trigger:function(i,n,s,o){var r,a,l,c,u,d,h,p=[s||Y],f=rt.call(i,"type")?i.type:i,m=rt.call(i,"namespace")?i.namespace.split("."):[];if(l=d=s=s||Y,3!==s.nodeType&&8!==s.nodeType&&!Bt.test(f+lt.event.triggered)&&(f.indexOf(".")>=0&&(m=f.split("."),f=m.shift(),m.sort()),a=0>f.indexOf(":")&&"on"+f,i=i[lt.expando]?i:new lt.Event(f,"object"==typeof i&&i),i.isTrigger=!0,i.namespace=m.join("."),i.namespace_re=i.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,i.result=t,i.target||(i.target=s),n=null==n?[i]:lt.makeArray(n,[i]),u=lt.event.special[f]||{},o||!u.trigger||u.trigger.apply(s,n)!==!1)){if(!o&&!u.noBubble&&!lt.isWindow(s)){for(c=u.delegateType||f,Bt.test(c+f)||(l=l.parentNode);l;l=l.parentNode)p.push(l),d=l;d===(s.ownerDocument||Y)&&p.push(d.defaultView||d.parentWindow||e)}for(h=0;(l=p[h++])&&!i.isPropagationStopped();)i.type=h>1?c:u.bindType||f,r=(lt._data(l,"events")||{})[i.type]&&lt._data(l,"handle"),r&&r.apply(l,n),r=a&&l[a],r&&lt.acceptData(l)&&r.apply&&r.apply(l,n)===!1&&i.preventDefault();if(i.type=f,!(o||i.isDefaultPrevented()||u._default&&u._default.apply(s.ownerDocument,n)!==!1||"click"===f&&lt.nodeName(s,"a")||!lt.acceptData(s)||!a||!s[f]||lt.isWindow(s))){d=s[a],d&&(s[a]=null),lt.event.triggered=f;try{s[f]()}catch(g){}lt.event.triggered=t,d&&(s[a]=d)}return i.result}},dispatch:function(e){e=lt.event.fix(e);var i,n,s,o,r,a=[],l=nt.call(arguments),c=(lt._data(this,"events")||{})[e.type]||[],u=lt.event.special[e.type]||{};if(l[0]=e,e.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,e)!==!1){for(a=lt.event.handlers.call(this,e,c),i=0;(o=a[i++])&&!e.isPropagationStopped();)for(e.currentTarget=o.elem,r=0;(s=o.handlers[r++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(s.namespace))&&(e.handleObj=s,e.data=s.data,n=((lt.event.special[s.origType]||{}).handle||s.handler).apply(o.elem,l),n!==t&&(e.result=n)===!1&&(e.preventDefault(),e.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,e),e.result}},handlers:function(e,i){var n,s,o,r,a=[],l=i.delegateCount,c=e.target;if(l&&c.nodeType&&(!e.button||"click"!==e.type))for(;c!=this;c=c.parentNode||this)if(1===c.nodeType&&(c.disabled!==!0||"click"!==e.type)){for(o=[],r=0;l>r;r++)s=i[r],n=s.selector+" ",o[n]===t&&(o[n]=s.needsContext?lt(n,this).index(c)>=0:lt.find(n,this,null,[c]).length),o[n]&&o.push(s);o.length&&a.push({elem:c,handlers:o})}return i.length>l&&a.push({elem:this,handlers:i.slice(l)}),a},fix:function(e){if(e[lt.expando])return e;var t,i,n,s=e.type,o=e,r=this.fixHooks[s];for(r||(this.fixHooks[s]=r=Lt.test(s)?this.mouseHooks:Ot.test(s)?this.keyHooks:{}),n=r.props?this.props.concat(r.props):this.props,e=new lt.Event(o),t=n.length;t--;)i=n[t],e[i]=o[i];return e.target||(e.target=o.srcElement||Y),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,r.filter?r.filter(e,o):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,i){var n,s,o,r=i.button,a=i.fromElement;return null==e.pageX&&null!=i.clientX&&(s=e.target.ownerDocument||Y,o=s.documentElement,n=s.body,e.pageX=i.clientX+(o&&o.scrollLeft||n&&n.scrollLeft||0)-(o&&o.clientLeft||n&&n.clientLeft||0),e.pageY=i.clientY+(o&&o.scrollTop||n&&n.scrollTop||0)-(o&&o.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?i.toElement:a),e.which||r===t||(e.which=1&r?1:2&r?3:4&r?2:0),e}},special:{load:{noBubble:!0},click:{trigger:function(){return lt.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0}},focus:{trigger:function(){if(this!==Y.activeElement&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===Y.activeElement&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},beforeunload:{postDispatch:function(e){e.result!==t&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,i,n){var s=lt.extend(new lt.Event,i,{type:e,isSimulated:!0,originalEvent:{}});n?lt.event.trigger(s,null,t):lt.event.dispatch.call(t,s),s.isDefaultPrevented()&&i.preventDefault()}},lt.removeEvent=Y.removeEventListener?function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i,!1)}:function(e,t,i){var n="on"+t;e.detachEvent&&(typeof e[n]===q&&(e[n]=null),e.detachEvent(n,i))},lt.Event=function(e,t){return this instanceof lt.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?l:c):this.type=e,t&&lt.extend(this,t),this.timeStamp=e&&e.timeStamp||lt.now(),this[lt.expando]=!0,void 0):new lt.Event(e,t)},lt.Event.prototype={isDefaultPrevented:c,isPropagationStopped:c,isImmediatePropagationStopped:c,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=l,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=l,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=l,this.stopPropagation()}},lt.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){lt.event.special[e]={delegateType:t,bindType:t,handle:function(e){var i,n=this,s=e.relatedTarget,o=e.handleObj;return(!s||s!==n&&!lt.contains(n,s))&&(e.type=o.origType,i=o.handler.apply(this,arguments),e.type=t),i}}}),lt.support.submitBubbles||(lt.event.special.submit={setup:function(){return lt.nodeName(this,"form")?!1:(lt.event.add(this,"click._submit keypress._submit",function(e){var i=e.target,n=lt.nodeName(i,"input")||lt.nodeName(i,"button")?i.form:t;n&&!lt._data(n,"submitBubbles")&&(lt.event.add(n,"submit._submit",function(e){e._submit_bubble=!0}),lt._data(n,"submitBubbles",!0))}),void 0)},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&lt.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return lt.nodeName(this,"form")?!1:(lt.event.remove(this,"._submit"),void 0)}}),lt.support.changeBubbles||(lt.event.special.change={setup:function(){return Pt.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(lt.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),lt.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),lt.event.simulate("change",this,e,!0)})),!1):(lt.event.add(this,"beforeactivate._change",function(e){var t=e.target;Pt.test(t.nodeName)&&!lt._data(t,"changeBubbles")&&(lt.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||lt.event.simulate("change",this.parentNode,e,!0)}),lt._data(t,"changeBubbles",!0))}),void 0)},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return lt.event.remove(this,"._change"),!Pt.test(this.nodeName)}}),lt.support.focusinBubbles||lt.each({focus:"focusin",blur:"focusout"},function(e,t){var i=0,n=function(e){lt.event.simulate(t,e.target,lt.event.fix(e),!0)};lt.event.special[t]={setup:function(){0===i++&&Y.addEventListener(e,n,!0)},teardown:function(){0===--i&&Y.removeEventListener(e,n,!0)}}}),lt.fn.extend({on:function(e,i,n,s,o){var r,a;if("object"==typeof e){"string"!=typeof i&&(n=n||i,i=t);for(r in e)this.on(r,i,n,e[r],o);return this}if(null==n&&null==s?(s=i,n=i=t):null==s&&("string"==typeof i?(s=n,n=t):(s=n,n=i,i=t)),s===!1)s=c;else if(!s)return this;return 1===o&&(a=s,s=function(e){return lt().off(e),a.apply(this,arguments)},s.guid=a.guid||(a.guid=lt.guid++)),this.each(function(){lt.event.add(this,e,s,n,i)})},one:function(e,t,i,n){return this.on(e,t,i,n,1)},off:function(e,i,n){var s,o;if(e&&e.preventDefault&&e.handleObj)return s=e.handleObj,lt(e.delegateTarget).off(s.namespace?s.origType+"."+s.namespace:s.origType,s.selector,s.handler),this;if("object"==typeof e){for(o in e)this.off(o,i,e[o]);return this}return(i===!1||"function"==typeof i)&&(n=i,i=t),n===!1&&(n=c),this.each(function(){lt.event.remove(this,e,n,i)})},bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,i,n){return this.on(t,e,i,n)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)},trigger:function(e,t){return this.each(function(){lt.event.trigger(e,t,this)})},triggerHandler:function(e,t){var i=this[0];return i?lt.event.trigger(e,t,i,!0):void 0}}),/*!
 * Sizzle CSS Selector Engine
 * Copyright 2012 jQuery Foundation and other contributors
 * Released under the MIT license
 * http://sizzlejs.com/
 */
function(e,t){function i(e){return ft.test(e+"")}function n(){var e,t=[];return e=function(i,n){return t.push(i+=" ")>C.cacheLength&&delete e[t.shift()],e[i]=n}}function s(e){return e[B]=!0,e}function o(e){var t=D.createElement("div");try{return e(t)}catch(i){return!1}finally{t=null}}function r(e,t,i,n){var s,o,r,a,l,c,u,p,f,m;if((t?t.ownerDocument||t:H)!==D&&I(t),t=t||D,i=i||[],!e||"string"!=typeof e)return i;if(1!==(a=t.nodeType)&&9!==a)return[];if(!F&&!n){if(s=mt.exec(e))if(r=s[1]){if(9===a){if(o=t.getElementById(r),!o||!o.parentNode)return i;if(o.id===r)return i.push(o),i}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(r))&&O(t,o)&&o.id===r)return i.push(o),i}else{if(s[2])return K.apply(i,Q.call(t.getElementsByTagName(e),0)),i;if((r=s[3])&&R.getByClassName&&t.getElementsByClassName)return K.apply(i,Q.call(t.getElementsByClassName(r),0)),i}if(R.qsa&&!N.test(e)){if(u=!0,p=B,f=t,m=9===a&&e,1===a&&"object"!==t.nodeName.toLowerCase()){for(c=d(e),(u=t.getAttribute("id"))?p=u.replace(_t,"\\$&"):t.setAttribute("id",p),p="[id='"+p+"'] ",l=c.length;l--;)c[l]=p+h(c[l]);f=pt.test(e)&&t.parentNode||t,m=c.join(",")}if(m)try{return K.apply(i,Q.call(f.querySelectorAll(m),0)),i}catch(g){}finally{u||t.removeAttribute("id")}}}return b(e.replace(rt,"$1"),t,i,n)}function a(e,t){var i=t&&e,n=i&&(~t.sourceIndex||Y)-(~e.sourceIndex||Y);if(n)return n;if(i)for(;i=i.nextSibling;)if(i===t)return-1;return e?1:-1}function l(e){return function(t){var i=t.nodeName.toLowerCase();return"input"===i&&t.type===e}}function c(e){return function(t){var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===e}}function u(e){return s(function(t){return t=+t,s(function(i,n){for(var s,o=e([],i.length,t),r=o.length;r--;)i[s=o[r]]&&(i[s]=!(n[s]=i[s]))})})}function d(e,t){var i,n,s,o,a,l,c,u=W[e+" "];if(u)return t?0:u.slice(0);for(a=e,l=[],c=C.preFilter;a;){(!i||(n=at.exec(a)))&&(n&&(a=a.slice(n[0].length)||a),l.push(s=[])),i=!1,(n=ct.exec(a))&&(i=n.shift(),s.push({value:i,type:n[0].replace(rt," ")}),a=a.slice(i.length));for(o in C.filter)!(n=ht[o].exec(a))||c[o]&&!(n=c[o](n))||(i=n.shift(),s.push({value:i,type:o,matches:n}),a=a.slice(i.length));if(!i)break}return t?a.length:a?r.error(e):W(e,l).slice(0)}function h(e){for(var t=0,i=e.length,n="";i>t;t++)n+=e[t].value;return n}function p(e,t,i){var n=t.dir,s=i&&"parentNode"===n,o=J++;return t.first?function(t,i,o){for(;t=t[n];)if(1===t.nodeType||s)return e(t,i,o)}:function(t,i,r){var a,l,c,u=V+" "+o;if(r){for(;t=t[n];)if((1===t.nodeType||s)&&e(t,i,r))return!0}else for(;t=t[n];)if(1===t.nodeType||s)if(c=t[B]||(t[B]={}),(l=c[n])&&l[0]===u){if((a=l[1])===!0||a===k)return a===!0}else if(l=c[n]=[u],l[1]=e(t,i,r)||k,l[1]===!0)return!0}}function f(e){return e.length>1?function(t,i,n){for(var s=e.length;s--;)if(!e[s](t,i,n))return!1;return!0}:e[0]}function m(e,t,i,n,s){for(var o,r=[],a=0,l=e.length,c=null!=t;l>a;a++)(o=e[a])&&(!i||i(o,n,s))&&(r.push(o),c&&t.push(a));return r}function g(e,t,i,n,o,r){return n&&!n[B]&&(n=g(n)),o&&!o[B]&&(o=g(o,r)),s(function(s,r,a,l){var c,u,d,h=[],p=[],f=r.length,g=s||y(t||"*",a.nodeType?[a]:a,[]),v=!e||!s&&t?g:m(g,h,e,a,l),_=i?o||(s?e:f||n)?[]:r:v;if(i&&i(v,_,a,l),n)for(c=m(_,p),n(c,[],a,l),u=c.length;u--;)(d=c[u])&&(_[p[u]]=!(v[p[u]]=d));if(s){if(o||e){if(o){for(c=[],u=_.length;u--;)(d=_[u])&&c.push(v[u]=d);o(null,_=[],c,l)}for(u=_.length;u--;)(d=_[u])&&(c=o?Z.call(s,d):h[u])>-1&&(s[c]=!(r[c]=d))}}else _=m(_===r?_.splice(f,_.length):_),o?o(null,r,_,l):K.apply(r,_)})}function v(e){for(var t,i,n,s=e.length,o=C.relative[e[0].type],r=o||C.relative[" "],a=o?1:0,l=p(function(e){return e===t},r,!0),c=p(function(e){return Z.call(t,e)>-1},r,!0),u=[function(e,i,n){return!o&&(n||i!==M)||((t=i).nodeType?l(e,i,n):c(e,i,n))}];s>a;a++)if(i=C.relative[e[a].type])u=[p(f(u),i)];else{if(i=C.filter[e[a].type].apply(null,e[a].matches),i[B]){for(n=++a;s>n&&!C.relative[e[n].type];n++);return g(a>1&&f(u),a>1&&h(e.slice(0,a-1)).replace(rt,"$1"),i,n>a&&v(e.slice(a,n)),s>n&&v(e=e.slice(n)),s>n&&h(e))}u.push(i)}return f(u)}function _(e,t){var i=0,n=t.length>0,o=e.length>0,a=function(s,a,l,c,u){var d,h,p,f=[],g=0,v="0",_=s&&[],y=null!=u,b=M,w=s||o&&C.find.TAG("*",u&&a.parentNode||a),x=V+=null==b?1:Math.random()||.1;for(y&&(M=a!==D&&a,k=i);null!=(d=w[v]);v++){if(o&&d){for(h=0;p=e[h++];)if(p(d,a,l)){c.push(d);break}y&&(V=x,k=++i)}n&&((d=!p&&d)&&g--,s&&_.push(d))}if(g+=v,n&&v!==g){for(h=0;p=t[h++];)p(_,f,a,l);if(s){if(g>0)for(;v--;)_[v]||f[v]||(f[v]=X.call(c));f=m(f)}K.apply(c,f),y&&!s&&f.length>0&&g+t.length>1&&r.uniqueSort(c)}return y&&(V=x,M=b),_};return n?s(a):a}function y(e,t,i){for(var n=0,s=t.length;s>n;n++)r(e,t[n],i);return i}function b(e,t,i,n){var s,o,r,a,l,c=d(e);if(!n&&1===c.length){if(o=c[0]=c[0].slice(0),o.length>2&&"ID"===(r=o[0]).type&&9===t.nodeType&&!F&&C.relative[o[1].type]){if(t=C.find.ID(r.matches[0].replace(bt,wt),t)[0],!t)return i;e=e.slice(o.shift().value.length)}for(s=ht.needsContext.test(e)?0:o.length;s--&&(r=o[s],!C.relative[a=r.type]);)if((l=C.find[a])&&(n=l(r.matches[0].replace(bt,wt),pt.test(o[0].type)&&t.parentNode||t))){if(o.splice(s,1),e=n.length&&h(o),!e)return K.apply(i,Q.call(n,0)),i;break}}return E(e,c)(n,t,F,i,pt.test(e)),i}function w(){}var x,k,C,S,T,E,A,M,I,D,j,F,N,$,P,O,L,B="sizzle"+-new Date,H=e.document,R={},V=0,J=0,z=n(),W=n(),U=n(),q=typeof t,Y=1<<31,G=[],X=G.pop,K=G.push,Q=G.slice,Z=G.indexOf||function(e){for(var t=0,i=this.length;i>t;t++)if(this[t]===e)return t;return-1},et="[\\x20\\t\\r\\n\\f]",tt="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",it=tt.replace("w","w#"),nt="([*^$|!~]?=)",st="\\["+et+"*("+tt+")"+et+"*(?:"+nt+et+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+it+")|)|)"+et+"*\\]",ot=":("+tt+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+st.replace(3,8)+")*)|.*)\\)|)",rt=new RegExp("^"+et+"+|((?:^|[^\\\\])(?:\\\\.)*)"+et+"+$","g"),at=new RegExp("^"+et+"*,"+et+"*"),ct=new RegExp("^"+et+"*([\\x20\\t\\r\\n\\f>+~])"+et+"*"),ut=new RegExp(ot),dt=new RegExp("^"+it+"$"),ht={ID:new RegExp("^#("+tt+")"),CLASS:new RegExp("^\\.("+tt+")"),NAME:new RegExp("^\\[name=['\"]?("+tt+")['\"]?\\]"),TAG:new RegExp("^("+tt.replace("w","w*")+")"),ATTR:new RegExp("^"+st),PSEUDO:new RegExp("^"+ot),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+et+"*(even|odd|(([+-]|)(\\d*)n|)"+et+"*(?:([+-]|)"+et+"*(\\d+)|))"+et+"*\\)|)","i"),needsContext:new RegExp("^"+et+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+et+"*((?:-\\d)?\\d*)"+et+"*\\)|)(?=[^-]|$)","i")},pt=/[\x20\t\r\n\f]*[+~]/,ft=/^[^{]+\{\s*\[native code/,mt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,gt=/^(?:input|select|textarea|button)$/i,vt=/^h\d$/i,_t=/'|\\/g,yt=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,bt=/\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,wt=function(e,t){var i="0x"+t-65536;return i!==i?t:0>i?String.fromCharCode(i+65536):String.fromCharCode(55296|i>>10,56320|1023&i)};try{Q.call(H.documentElement.childNodes,0)[0].nodeType}catch(xt){Q=function(e){for(var t,i=[];t=this[e++];)i.push(t);return i}}T=r.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},I=r.setDocument=function(e){var n=e?e.ownerDocument||e:H;return n!==D&&9===n.nodeType&&n.documentElement?(D=n,j=n.documentElement,F=T(n),R.tagNameNoComments=o(function(e){return e.appendChild(n.createComment("")),!e.getElementsByTagName("*").length}),R.attributes=o(function(e){e.innerHTML="<select></select>";var t=typeof e.lastChild.getAttribute("multiple");return"boolean"!==t&&"string"!==t}),R.getByClassName=o(function(e){return e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",e.getElementsByClassName&&e.getElementsByClassName("e").length?(e.lastChild.className="e",2===e.getElementsByClassName("e").length):!1}),R.getByName=o(function(e){e.id=B+0,e.innerHTML="<a name='"+B+"'></a><div name='"+B+"'></div>",j.insertBefore(e,j.firstChild);var t=n.getElementsByName&&n.getElementsByName(B).length===2+n.getElementsByName(B+0).length;return R.getIdNotName=!n.getElementById(B),j.removeChild(e),t}),C.attrHandle=o(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild&&typeof e.firstChild.getAttribute!==q&&"#"===e.firstChild.getAttribute("href")})?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},R.getIdNotName?(C.find.ID=function(e,t){if(typeof t.getElementById!==q&&!F){var i=t.getElementById(e);return i&&i.parentNode?[i]:[]}},C.filter.ID=function(e){var t=e.replace(bt,wt);return function(e){return e.getAttribute("id")===t}}):(C.find.ID=function(e,i){if(typeof i.getElementById!==q&&!F){var n=i.getElementById(e);return n?n.id===e||typeof n.getAttributeNode!==q&&n.getAttributeNode("id").value===e?[n]:t:[]}},C.filter.ID=function(e){var t=e.replace(bt,wt);return function(e){var i=typeof e.getAttributeNode!==q&&e.getAttributeNode("id");return i&&i.value===t}}),C.find.TAG=R.tagNameNoComments?function(e,t){return typeof t.getElementsByTagName!==q?t.getElementsByTagName(e):void 0}:function(e,t){var i,n=[],s=0,o=t.getElementsByTagName(e);if("*"===e){for(;i=o[s++];)1===i.nodeType&&n.push(i);return n}return o},C.find.NAME=R.getByName&&function(e,t){return typeof t.getElementsByName!==q?t.getElementsByName(name):void 0},C.find.CLASS=R.getByClassName&&function(e,t){return typeof t.getElementsByClassName===q||F?void 0:t.getElementsByClassName(e)},$=[],N=[":focus"],(R.qsa=i(n.querySelectorAll))&&(o(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||N.push("\\["+et+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),e.querySelectorAll(":checked").length||N.push(":checked")}),o(function(e){e.innerHTML="<input type='hidden' i=''/>",e.querySelectorAll("[i^='']").length&&N.push("[*^$]="+et+"*(?:\"\"|'')"),e.querySelectorAll(":enabled").length||N.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),N.push(",.*:")})),(R.matchesSelector=i(P=j.matchesSelector||j.mozMatchesSelector||j.webkitMatchesSelector||j.oMatchesSelector||j.msMatchesSelector))&&o(function(e){R.disconnectedMatch=P.call(e,"div"),P.call(e,"[s!='']:x"),$.push("!=",ot)}),N=new RegExp(N.join("|")),$=new RegExp($.join("|")),O=i(j.contains)||j.compareDocumentPosition?function(e,t){var i=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},L=j.compareDocumentPosition?function(e,t){var i;return e===t?(A=!0,0):(i=t.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(t))?1&i||e.parentNode&&11===e.parentNode.nodeType?e===n||O(H,e)?-1:t===n||O(H,t)?1:0:4&i?-1:1:e.compareDocumentPosition?-1:1}:function(e,t){var i,s=0,o=e.parentNode,r=t.parentNode,l=[e],c=[t];if(e===t)return A=!0,0;if(!o||!r)return e===n?-1:t===n?1:o?-1:r?1:0;if(o===r)return a(e,t);for(i=e;i=i.parentNode;)l.unshift(i);for(i=t;i=i.parentNode;)c.unshift(i);for(;l[s]===c[s];)s++;return s?a(l[s],c[s]):l[s]===H?-1:c[s]===H?1:0},A=!1,[0,0].sort(L),R.detectDuplicates=A,D):D},r.matches=function(e,t){return r(e,null,null,t)},r.matchesSelector=function(e,t){if((e.ownerDocument||e)!==D&&I(e),t=t.replace(yt,"='$1']"),!(!R.matchesSelector||F||$&&$.test(t)||N.test(t)))try{var i=P.call(e,t);if(i||R.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(n){}return r(t,D,null,[e]).length>0},r.contains=function(e,t){return(e.ownerDocument||e)!==D&&I(e),O(e,t)},r.attr=function(e,t){var i;return(e.ownerDocument||e)!==D&&I(e),F||(t=t.toLowerCase()),(i=C.attrHandle[t])?i(e):F||R.attributes?e.getAttribute(t):((i=e.getAttributeNode(t))||e.getAttribute(t))&&e[t]===!0?t:i&&i.specified?i.value:null},r.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},r.uniqueSort=function(e){var t,i=[],n=1,s=0;if(A=!R.detectDuplicates,e.sort(L),A){for(;t=e[n];n++)t===e[n-1]&&(s=i.push(n));for(;s--;)e.splice(i[s],1)}return e},S=r.getText=function(e){var t,i="",n=0,s=e.nodeType;if(s){if(1===s||9===s||11===s){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=S(e)}else if(3===s||4===s)return e.nodeValue}else for(;t=e[n];n++)i+=S(t);return i},C=r.selectors={cacheLength:50,createPseudo:s,match:ht,find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(bt,wt),e[3]=(e[4]||e[5]||"").replace(bt,wt),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||r.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&r.error(e[0]),e},PSEUDO:function(e){var t,i=!e[5]&&e[2];return ht.CHILD.test(e[0])?null:(e[4]?e[2]=e[4]:i&&ut.test(i)&&(t=d(i,!0))&&(t=i.indexOf(")",i.length-t)-i.length)&&(e[0]=e[0].slice(0,t),e[2]=i.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){return"*"===e?function(){return!0}:(e=e.replace(bt,wt).toLowerCase(),function(t){return t.nodeName&&t.nodeName.toLowerCase()===e})},CLASS:function(e){var t=z[e+" "];return t||(t=new RegExp("(^|"+et+")"+e+"("+et+"|$)"))&&z(e,function(e){return t.test(e.className||typeof e.getAttribute!==q&&e.getAttribute("class")||"")})},ATTR:function(e,t,i){return function(n){var s=r.attr(n,e);return null==s?"!="===t:t?(s+="","="===t?s===i:"!="===t?s!==i:"^="===t?i&&0===s.indexOf(i):"*="===t?i&&s.indexOf(i)>-1:"$="===t?i&&s.slice(-i.length)===i:"~="===t?(" "+s+" ").indexOf(i)>-1:"|="===t?s===i||s.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(e,t,i,n,s){var o="nth"!==e.slice(0,3),r="last"!==e.slice(-4),a="of-type"===t;return 1===n&&0===s?function(e){return!!e.parentNode}:function(t,i,l){var c,u,d,h,p,f,m=o!==r?"nextSibling":"previousSibling",g=t.parentNode,v=a&&t.nodeName.toLowerCase(),_=!l&&!a;if(g){if(o){for(;m;){for(d=t;d=d[m];)if(a?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;f=m="only"===e&&!f&&"nextSibling"}return!0}if(f=[r?g.firstChild:g.lastChild],r&&_){for(u=g[B]||(g[B]={}),c=u[e]||[],p=c[0]===V&&c[1],h=c[0]===V&&c[2],d=p&&g.childNodes[p];d=++p&&d&&d[m]||(h=p=0)||f.pop();)if(1===d.nodeType&&++h&&d===t){u[e]=[V,p,h];break}}else if(_&&(c=(t[B]||(t[B]={}))[e])&&c[0]===V)h=c[1];else for(;(d=++p&&d&&d[m]||(h=p=0)||f.pop())&&((a?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++h||(_&&((d[B]||(d[B]={}))[e]=[V,h]),d!==t)););return h-=s,h===n||0===h%n&&h/n>=0}}},PSEUDO:function(e,t){var i,n=C.pseudos[e]||C.setFilters[e.toLowerCase()]||r.error("unsupported pseudo: "+e);return n[B]?n(t):n.length>1?(i=[e,e,"",t],C.setFilters.hasOwnProperty(e.toLowerCase())?s(function(e,i){for(var s,o=n(e,t),r=o.length;r--;)s=Z.call(e,o[r]),e[s]=!(i[s]=o[r])}):function(e){return n(e,0,i)}):n}},pseudos:{not:s(function(e){var t=[],i=[],n=E(e.replace(rt,"$1"));return n[B]?s(function(e,t,i,s){for(var o,r=n(e,null,s,[]),a=e.length;a--;)(o=r[a])&&(e[a]=!(t[a]=o))}):function(e,s,o){return t[0]=e,n(t,null,o,i),!i.pop()}}),has:s(function(e){return function(t){return r(e,t).length>0}}),contains:s(function(e){return function(t){return(t.textContent||t.innerText||S(t)).indexOf(e)>-1}}),lang:s(function(e){return dt.test(e||"")||r.error("unsupported lang: "+e),e=e.replace(bt,wt).toLowerCase(),function(t){var i;do if(i=F?t.getAttribute("xml:lang")||t.getAttribute("lang"):t.lang)return i=i.toLowerCase(),i===e||0===i.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var i=e.location&&e.location.hash;return i&&i.slice(1)===t.id},root:function(e){return e===j},focus:function(e){return e===D.activeElement&&(!D.hasFocus||D.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||3===e.nodeType||4===e.nodeType)return!1;return!0},parent:function(e){return!C.pseudos.empty(e)},header:function(e){return vt.test(e.nodeName)},input:function(e){return gt.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)},first:u(function(){return[0]}),last:u(function(e,t){return[t-1]}),eq:u(function(e,t,i){return[0>i?i+t:i]}),even:u(function(e,t){for(var i=0;t>i;i+=2)e.push(i);return e}),odd:u(function(e,t){for(var i=1;t>i;i+=2)e.push(i);return e}),lt:u(function(e,t,i){for(var n=0>i?i+t:i;--n>=0;)e.push(n);return e}),gt:u(function(e,t,i){for(var n=0>i?i+t:i;t>++n;)e.push(n);return e})}};for(x in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})C.pseudos[x]=l(x);for(x in{submit:!0,reset:!0})C.pseudos[x]=c(x);E=r.compile=function(e,t){var i,n=[],s=[],o=U[e+" "];if(!o){for(t||(t=d(e)),i=t.length;i--;)o=v(t[i]),o[B]?n.push(o):s.push(o);o=U(e,_(s,n))}return o},C.pseudos.nth=C.pseudos.eq,C.filters=w.prototype=C.pseudos,C.setFilters=new w,I(),r.attr=lt.attr,lt.find=r,lt.expr=r.selectors,lt.expr[":"]=lt.expr.pseudos,lt.unique=r.uniqueSort,lt.text=r.getText,lt.isXMLDoc=r.isXML,lt.contains=r.contains}(e);var Rt=/Until$/,Vt=/^(?:parents|prev(?:Until|All))/,Jt=/^.[^:#\[\.,]*$/,zt=lt.expr.match.needsContext,Wt={children:!0,contents:!0,next:!0,prev:!0};lt.fn.extend({find:function(e){var t,i,n,s=this.length;if("string"!=typeof e)return n=this,this.pushStack(lt(e).filter(function(){for(t=0;s>t;t++)if(lt.contains(n[t],this))return!0}));for(i=[],t=0;s>t;t++)lt.find(e,this[t],i);return i=this.pushStack(s>1?lt.unique(i):i),i.selector=(this.selector?this.selector+" ":"")+e,i},has:function(e){var t,i=lt(e,this),n=i.length;return this.filter(function(){for(t=0;n>t;t++)if(lt.contains(this,i[t]))return!0})},not:function(e){return this.pushStack(d(this,e,!1))},filter:function(e){return this.pushStack(d(this,e,!0))},is:function(e){return!!e&&("string"==typeof e?zt.test(e)?lt(e,this.context).index(this[0])>=0:lt.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){for(var i,n=0,s=this.length,o=[],r=zt.test(e)||"string"!=typeof e?lt(e,t||this.context):0;s>n;n++)for(i=this[n];i&&i.ownerDocument&&i!==t&&11!==i.nodeType;){if(r?r.index(i)>-1:lt.find.matchesSelector(i,e)){o.push(i);break}i=i.parentNode}return this.pushStack(o.length>1?lt.unique(o):o)},index:function(e){return e?"string"==typeof e?lt.inArray(this[0],lt(e)):lt.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var i="string"==typeof e?lt(e,t):lt.makeArray(e&&e.nodeType?[e]:e),n=lt.merge(this.get(),i);return this.pushStack(lt.unique(n))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),lt.fn.andSelf=lt.fn.addBack,lt.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return lt.dir(e,"parentNode")},parentsUntil:function(e,t,i){return lt.dir(e,"parentNode",i)},next:function(e){return u(e,"nextSibling")},prev:function(e){return u(e,"previousSibling")},nextAll:function(e){return lt.dir(e,"nextSibling")},prevAll:function(e){return lt.dir(e,"previousSibling")},nextUntil:function(e,t,i){return lt.dir(e,"nextSibling",i)},prevUntil:function(e,t,i){return lt.dir(e,"previousSibling",i)},siblings:function(e){return lt.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return lt.sibling(e.firstChild)},contents:function(e){return lt.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:lt.merge([],e.childNodes)}},function(e,t){lt.fn[e]=function(i,n){var s=lt.map(this,t,i);return Rt.test(e)||(n=i),n&&"string"==typeof n&&(s=lt.filter(n,s)),s=this.length>1&&!Wt[e]?lt.unique(s):s,this.length>1&&Vt.test(e)&&(s=s.reverse()),this.pushStack(s)}}),lt.extend({filter:function(e,t,i){return i&&(e=":not("+e+")"),1===t.length?lt.find.matchesSelector(t[0],e)?[t[0]]:[]:lt.find.matches(e,t)},dir:function(e,i,n){for(var s=[],o=e[i];o&&9!==o.nodeType&&(n===t||1!==o.nodeType||!lt(o).is(n));)1===o.nodeType&&s.push(o),o=o[i];return s},sibling:function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i}});var Ut="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",qt=/ jQuery\d+="(?:null|\d+)"/g,Yt=new RegExp("<(?:"+Ut+")[\\s/>]","i"),Gt=/^\s+/,Xt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Kt=/<([\w:]+)/,Qt=/<tbody/i,Zt=/<|&#?\w+;/,ei=/<(?:script|style|link)/i,ti=/^(?:checkbox|radio)$/i,ii=/checked\s*(?:[^=]|=\s*.checked.)/i,ni=/^$|\/(?:java|ecma)script/i,si=/^true\/(.*)/,oi=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ri={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:lt.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},ai=h(Y),li=ai.appendChild(Y.createElement("div"));ri.optgroup=ri.option,ri.tbody=ri.tfoot=ri.colgroup=ri.caption=ri.thead,ri.th=ri.td,lt.fn.extend({text:function(e){return lt.access(this,function(e){return e===t?lt.text(this):this.empty().append((this[0]&&this[0].ownerDocument||Y).createTextNode(e))},null,e,arguments.length)},wrapAll:function(e){if(lt.isFunction(e))return this.each(function(t){lt(this).wrapAll(e.call(this,t))});if(this[0]){var t=lt(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return lt.isFunction(e)?this.each(function(t){lt(this).wrapInner(e.call(this,t))}):this.each(function(){var t=lt(this),i=t.contents();i.length?i.wrapAll(e):t.append(e)})},wrap:function(e){var t=lt.isFunction(e);return this.each(function(i){lt(this).wrapAll(t?e.call(this,i):e)})},unwrap:function(){return this.parent().each(function(){lt.nodeName(this,"body")||lt(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&this.insertBefore(e,this.firstChild)})},before:function(){return this.domManip(arguments,!1,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,!1,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var i,n=0;null!=(i=this[n]);n++)(!e||lt.filter(e,[i]).length>0)&&(t||1!==i.nodeType||lt.cleanData(y(i)),i.parentNode&&(t&&lt.contains(i.ownerDocument,i)&&g(y(i,"script")),i.parentNode.removeChild(i)));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&lt.cleanData(y(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&lt.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return lt.clone(this,e,t)})},html:function(e){return lt.access(this,function(e){var i=this[0]||{},n=0,s=this.length;if(e===t)return 1===i.nodeType?i.innerHTML.replace(qt,""):t;if(!("string"!=typeof e||ei.test(e)||!lt.support.htmlSerialize&&Yt.test(e)||!lt.support.leadingWhitespace&&Gt.test(e)||ri[(Kt.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(Xt,"<$1></$2>");try{for(;s>n;n++)i=this[n]||{},1===i.nodeType&&(lt.cleanData(y(i,!1)),i.innerHTML=e);i=0}catch(o){}}i&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(e){var t=lt.isFunction(e);return t||"string"==typeof e||(e=lt(e).not(this).detach()),this.domManip([e],!0,function(e){var t=this.nextSibling,i=this.parentNode;i&&(lt(this).remove(),i.insertBefore(e,t))})},detach:function(e){return this.remove(e,!0)},domManip:function(e,i,n){e=tt.apply([],e);var s,o,r,a,l,c,u=0,d=this.length,h=this,g=d-1,v=e[0],_=lt.isFunction(v);if(_||!(1>=d||"string"!=typeof v||lt.support.checkClone)&&ii.test(v))return this.each(function(s){var o=h.eq(s);_&&(e[0]=v.call(this,s,i?o.html():t)),o.domManip(e,i,n)});if(d&&(c=lt.buildFragment(e,this[0].ownerDocument,!1,this),s=c.firstChild,1===c.childNodes.length&&(c=s),s)){for(i=i&&lt.nodeName(s,"tr"),a=lt.map(y(c,"script"),f),r=a.length;d>u;u++)o=c,u!==g&&(o=lt.clone(o,!0,!0),r&&lt.merge(a,y(o,"script"))),n.call(i&&lt.nodeName(this[u],"table")?p(this[u],"tbody"):this[u],o,u);if(r)for(l=a[a.length-1].ownerDocument,lt.map(a,m),u=0;r>u;u++)o=a[u],ni.test(o.type||"")&&!lt._data(o,"globalEval")&&lt.contains(l,o)&&(o.src?lt.ajax({url:o.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):lt.globalEval((o.text||o.textContent||o.innerHTML||"").replace(oi,"")));c=s=null}return this}}),lt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){lt.fn[e]=function(e){for(var i,n=0,s=[],o=lt(e),r=o.length-1;r>=n;n++)i=n===r?this:this.clone(!0),lt(o[n])[t](i),it.apply(s,i.get());return this.pushStack(s)}}),lt.extend({clone:function(e,t,i){var n,s,o,r,a,l=lt.contains(e.ownerDocument,e);if(lt.support.html5Clone||lt.isXMLDoc(e)||!Yt.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(li.innerHTML=e.outerHTML,li.removeChild(o=li.firstChild)),!(lt.support.noCloneEvent&&lt.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||lt.isXMLDoc(e)))for(n=y(o),a=y(e),r=0;null!=(s=a[r]);++r)n[r]&&_(s,n[r]);if(t)if(i)for(a=a||y(e),n=n||y(o),r=0;null!=(s=a[r]);r++)v(s,n[r]);else v(e,o);return n=y(o,"script"),n.length>0&&g(n,!l&&y(e,"script")),n=a=s=null,o},buildFragment:function(e,t,i,n){for(var s,o,r,a,l,c,u,d=e.length,p=h(t),f=[],m=0;d>m;m++)if(o=e[m],o||0===o)if("object"===lt.type(o))lt.merge(f,o.nodeType?[o]:o);else if(Zt.test(o)){for(a=a||p.appendChild(t.createElement("div")),l=(Kt.exec(o)||["",""])[1].toLowerCase(),u=ri[l]||ri._default,a.innerHTML=u[1]+o.replace(Xt,"<$1></$2>")+u[2],s=u[0];s--;)a=a.lastChild;if(!lt.support.leadingWhitespace&&Gt.test(o)&&f.push(t.createTextNode(Gt.exec(o)[0])),!lt.support.tbody)for(o="table"!==l||Qt.test(o)?"<table>"!==u[1]||Qt.test(o)?0:a:a.firstChild,s=o&&o.childNodes.length;s--;)lt.nodeName(c=o.childNodes[s],"tbody")&&!c.childNodes.length&&o.removeChild(c);for(lt.merge(f,a.childNodes),a.textContent="";a.firstChild;)a.removeChild(a.firstChild);a=p.lastChild}else f.push(t.createTextNode(o));for(a&&p.removeChild(a),lt.support.appendChecked||lt.grep(y(f,"input"),b),m=0;o=f[m++];)if((!n||-1===lt.inArray(o,n))&&(r=lt.contains(o.ownerDocument,o),a=y(p.appendChild(o),"script"),r&&g(a),i))for(s=0;o=a[s++];)ni.test(o.type||"")&&i.push(o);return a=null,p},cleanData:function(e,t){for(var i,n,s,o,r=0,a=lt.expando,l=lt.cache,c=lt.support.deleteExpando,u=lt.event.special;null!=(i=e[r]);r++)if((t||lt.acceptData(i))&&(s=i[a],o=s&&l[s])){if(o.events)for(n in o.events)u[n]?lt.event.remove(i,n):lt.removeEvent(i,n,o.handle);l[s]&&(delete l[s],c?delete i[a]:typeof i.removeAttribute!==q?i.removeAttribute(a):i[a]=null,Z.push(s))}}});var ci,ui,di,hi=/alpha\([^)]*\)/i,pi=/opacity\s*=\s*([^)]*)/,fi=/^(top|right|bottom|left)$/,mi=/^(none|table(?!-c[ea]).+)/,gi=/^margin/,vi=new RegExp("^("+ct+")(.*)$","i"),_i=new RegExp("^("+ct+")(?!px)[a-z%]+$","i"),yi=new RegExp("^([+-])=("+ct+")","i"),bi={BODY:"block"},wi={position:"absolute",visibility:"hidden",display:"block"},xi={letterSpacing:0,fontWeight:400},ki=["Top","Right","Bottom","Left"],Ci=["Webkit","O","Moz","ms"];lt.fn.extend({css:function(e,i){return lt.access(this,function(e,i,n){var s,o,r={},a=0;if(lt.isArray(i)){for(o=ui(e),s=i.length;s>a;a++)r[i[a]]=lt.css(e,i[a],!1,o);return r}return n!==t?lt.style(e,i,n):lt.css(e,i)},e,i,arguments.length>1)},show:function(){return k(this,!0)},hide:function(){return k(this)},toggle:function(e){var t="boolean"==typeof e;return this.each(function(){(t?e:x(this))?lt(this).show():lt(this).hide()})}}),lt.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=di(e,"opacity");return""===i?"1":i}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":lt.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,i,n,s){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,r,a,l=lt.camelCase(i),c=e.style;if(i=lt.cssProps[l]||(lt.cssProps[l]=w(c,l)),a=lt.cssHooks[i]||lt.cssHooks[l],n===t)return a&&"get"in a&&(o=a.get(e,!1,s))!==t?o:c[i];if(r=typeof n,"string"===r&&(o=yi.exec(n))&&(n=(o[1]+1)*o[2]+parseFloat(lt.css(e,i)),r="number"),!(null==n||"number"===r&&isNaN(n)||("number"!==r||lt.cssNumber[l]||(n+="px"),lt.support.clearCloneStyle||""!==n||0!==i.indexOf("background")||(c[i]="inherit"),a&&"set"in a&&(n=a.set(e,n,s))===t)))try{c[i]=n}catch(u){}}},css:function(e,i,n,s){var o,r,a,l=lt.camelCase(i);return i=lt.cssProps[l]||(lt.cssProps[l]=w(e.style,l)),a=lt.cssHooks[i]||lt.cssHooks[l],a&&"get"in a&&(r=a.get(e,!0,n)),r===t&&(r=di(e,i,s)),"normal"===r&&i in xi&&(r=xi[i]),""===n||n?(o=parseFloat(r),n===!0||lt.isNumeric(o)?o||0:r):r},swap:function(e,t,i,n){var s,o,r={};for(o in t)r[o]=e.style[o],e.style[o]=t[o];s=i.apply(e,n||[]);for(o in t)e.style[o]=r[o];return s}}),e.getComputedStyle?(ui=function(t){return e.getComputedStyle(t,null)},di=function(e,i,n){var s,o,r,a=n||ui(e),l=a?a.getPropertyValue(i)||a[i]:t,c=e.style;return a&&(""!==l||lt.contains(e.ownerDocument,e)||(l=lt.style(e,i)),_i.test(l)&&gi.test(i)&&(s=c.width,o=c.minWidth,r=c.maxWidth,c.minWidth=c.maxWidth=c.width=l,l=a.width,c.width=s,c.minWidth=o,c.maxWidth=r)),l}):Y.documentElement.currentStyle&&(ui=function(e){return e.currentStyle},di=function(e,i,n){var s,o,r,a=n||ui(e),l=a?a[i]:t,c=e.style;return null==l&&c&&c[i]&&(l=c[i]),_i.test(l)&&!fi.test(i)&&(s=c.left,o=e.runtimeStyle,r=o&&o.left,r&&(o.left=e.currentStyle.left),c.left="fontSize"===i?"1em":l,l=c.pixelLeft+"px",c.left=s,r&&(o.left=r)),""===l?"auto":l}),lt.each(["height","width"],function(e,t){lt.cssHooks[t]={get:function(e,i,n){return i?0===e.offsetWidth&&mi.test(lt.css(e,"display"))?lt.swap(e,wi,function(){return T(e,t,n)}):T(e,t,n):void 0},set:function(e,i,n){var s=n&&ui(e);return C(e,i,n?S(e,t,n,lt.support.boxSizing&&"border-box"===lt.css(e,"boxSizing",!1,s),s):0)}}}),lt.support.opacity||(lt.cssHooks.opacity={get:function(e,t){return pi.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var i=e.style,n=e.currentStyle,s=lt.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=n&&n.filter||i.filter||"";i.zoom=1,(t>=1||""===t)&&""===lt.trim(o.replace(hi,""))&&i.removeAttribute&&(i.removeAttribute("filter"),""===t||n&&!n.filter)||(i.filter=hi.test(o)?o.replace(hi,s):o+" "+s)}}),lt(function(){lt.support.reliableMarginRight||(lt.cssHooks.marginRight={get:function(e,t){return t?lt.swap(e,{display:"inline-block"},di,[e,"marginRight"]):void 0}}),!lt.support.pixelPosition&&lt.fn.position&&lt.each(["top","left"],function(e,t){lt.cssHooks[t]={get:function(e,i){return i?(i=di(e,t),_i.test(i)?lt(e).position()[t]+"px":i):void 0}}})}),lt.expr&&lt.expr.filters&&(lt.expr.filters.hidden=function(e){return 0>=e.offsetWidth&&0>=e.offsetHeight||!lt.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||lt.css(e,"display"))},lt.expr.filters.visible=function(e){return!lt.expr.filters.hidden(e)}),lt.each({margin:"",padding:"",border:"Width"},function(e,t){lt.cssHooks[e+t]={expand:function(i){for(var n=0,s={},o="string"==typeof i?i.split(" "):[i];4>n;n++)s[e+ki[n]+t]=o[n]||o[n-2]||o[0];return s}},gi.test(e)||(lt.cssHooks[e+t].set=C)});var Si=/%20/g,Ti=/\[\]$/,Ei=/\r?\n/g,Ai=/^(?:submit|button|image|reset|file)$/i,Mi=/^(?:input|select|textarea|keygen)/i;lt.fn.extend({serialize:function(){return lt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=lt.prop(this,"elements");return e?lt.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!lt(this).is(":disabled")&&Mi.test(this.nodeName)&&!Ai.test(e)&&(this.checked||!ti.test(e))}).map(function(e,t){var i=lt(this).val();return null==i?null:lt.isArray(i)?lt.map(i,function(e){return{name:t.name,value:e.replace(Ei,"\r\n")}}):{name:t.name,value:i.replace(Ei,"\r\n")}}).get()}}),lt.param=function(e,i){var n,s=[],o=function(e,t){t=lt.isFunction(t)?t():null==t?"":t,s[s.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)
};if(i===t&&(i=lt.ajaxSettings&&lt.ajaxSettings.traditional),lt.isArray(e)||e.jquery&&!lt.isPlainObject(e))lt.each(e,function(){o(this.name,this.value)});else for(n in e)M(n,e[n],i,o);return s.join("&").replace(Si,"+")},lt.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){lt.fn[t]=function(e,i){return arguments.length>0?this.on(t,null,e,i):this.trigger(t)}}),lt.fn.hover=function(e,t){return this.mouseenter(e).mouseleave(t||e)};var Ii,Di,ji=lt.now(),Fi=/\?/,Ni=/#.*$/,$i=/([?&])_=[^&]*/,Pi=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Oi=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Li=/^(?:GET|HEAD)$/,Bi=/^\/\//,Hi=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Ri=lt.fn.load,Vi={},Ji={},zi="*/".concat("*");try{Di=G.href}catch(Wi){Di=Y.createElement("a"),Di.href="",Di=Di.href}Ii=Hi.exec(Di.toLowerCase())||[],lt.fn.load=function(e,i,n){if("string"!=typeof e&&Ri)return Ri.apply(this,arguments);var s,o,r,a=this,l=e.indexOf(" ");return l>=0&&(s=e.slice(l,e.length),e=e.slice(0,l)),lt.isFunction(i)?(n=i,i=t):i&&"object"==typeof i&&(r="POST"),a.length>0&&lt.ajax({url:e,type:r,dataType:"html",data:i}).done(function(e){o=arguments,a.html(s?lt("<div>").append(lt.parseHTML(e)).find(s):e)}).complete(n&&function(e,t){a.each(n,o||[e.responseText,t,e])}),this},lt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){lt.fn[t]=function(e){return this.on(t,e)}}),lt.each(["get","post"],function(e,i){lt[i]=function(e,n,s,o){return lt.isFunction(n)&&(o=o||s,s=n,n=t),lt.ajax({url:e,type:i,dataType:o,data:n,success:s})}}),lt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Di,type:"GET",isLocal:Oi.test(Ii[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":zi,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":e.String,"text html":!0,"text json":lt.parseJSON,"text xml":lt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?j(j(e,lt.ajaxSettings),t):j(lt.ajaxSettings,e)},ajaxPrefilter:I(Vi),ajaxTransport:I(Ji),ajax:function(e,i){function n(e,i,n,s){var o,d,_,y,w,k=i;2!==b&&(b=2,l&&clearTimeout(l),u=t,a=s||"",x.readyState=e>0?4:0,n&&(y=F(h,x,n)),e>=200&&300>e||304===e?(h.ifModified&&(w=x.getResponseHeader("Last-Modified"),w&&(lt.lastModified[r]=w),w=x.getResponseHeader("etag"),w&&(lt.etag[r]=w)),204===e?(o=!0,k="nocontent"):304===e?(o=!0,k="notmodified"):(o=N(h,y),k=o.state,d=o.data,_=o.error,o=!_)):(_=k,(e||!k)&&(k="error",0>e&&(e=0))),x.status=e,x.statusText=(i||k)+"",o?m.resolveWith(p,[d,k,x]):m.rejectWith(p,[x,k,_]),x.statusCode(v),v=t,c&&f.trigger(o?"ajaxSuccess":"ajaxError",[x,h,o?d:_]),g.fireWith(p,[x,k]),c&&(f.trigger("ajaxComplete",[x,h]),--lt.active||lt.event.trigger("ajaxStop")))}"object"==typeof e&&(i=e,e=t),i=i||{};var s,o,r,a,l,c,u,d,h=lt.ajaxSetup({},i),p=h.context||h,f=h.context&&(p.nodeType||p.jquery)?lt(p):lt.event,m=lt.Deferred(),g=lt.Callbacks("once memory"),v=h.statusCode||{},_={},y={},b=0,w="canceled",x={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!d)for(d={};t=Pi.exec(a);)d[t[1].toLowerCase()]=t[2];t=d[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?a:null},setRequestHeader:function(e,t){var i=e.toLowerCase();return b||(e=y[i]=y[i]||e,_[e]=t),this},overrideMimeType:function(e){return b||(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>b)for(t in e)v[t]=[v[t],e[t]];else x.always(e[x.status]);return this},abort:function(e){var t=e||w;return u&&u.abort(t),n(0,t),this}};if(m.promise(x).complete=g.add,x.success=x.done,x.error=x.fail,h.url=((e||h.url||Di)+"").replace(Ni,"").replace(Bi,Ii[1]+"//"),h.type=i.method||i.type||h.method||h.type,h.dataTypes=lt.trim(h.dataType||"*").toLowerCase().match(ut)||[""],null==h.crossDomain&&(s=Hi.exec(h.url.toLowerCase()),h.crossDomain=!(!s||s[1]===Ii[1]&&s[2]===Ii[2]&&(s[3]||("http:"===s[1]?80:443))==(Ii[3]||("http:"===Ii[1]?80:443)))),h.data&&h.processData&&"string"!=typeof h.data&&(h.data=lt.param(h.data,h.traditional)),D(Vi,h,i,x),2===b)return x;c=h.global,c&&0===lt.active++&&lt.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!Li.test(h.type),r=h.url,h.hasContent||(h.data&&(r=h.url+=(Fi.test(r)?"&":"?")+h.data,delete h.data),h.cache===!1&&(h.url=$i.test(r)?r.replace($i,"$1_="+ji++):r+(Fi.test(r)?"&":"?")+"_="+ji++)),h.ifModified&&(lt.lastModified[r]&&x.setRequestHeader("If-Modified-Since",lt.lastModified[r]),lt.etag[r]&&x.setRequestHeader("If-None-Match",lt.etag[r])),(h.data&&h.hasContent&&h.contentType!==!1||i.contentType)&&x.setRequestHeader("Content-Type",h.contentType),x.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+zi+"; q=0.01":""):h.accepts["*"]);for(o in h.headers)x.setRequestHeader(o,h.headers[o]);if(h.beforeSend&&(h.beforeSend.call(p,x,h)===!1||2===b))return x.abort();w="abort";for(o in{success:1,error:1,complete:1})x[o](h[o]);if(u=D(Ji,h,i,x)){x.readyState=1,c&&f.trigger("ajaxSend",[x,h]),h.async&&h.timeout>0&&(l=setTimeout(function(){x.abort("timeout")},h.timeout));try{b=1,u.send(_,n)}catch(k){if(!(2>b))throw k;n(-1,k)}}else n(-1,"No Transport");return x},getScript:function(e,i){return lt.get(e,t,i,"script")},getJSON:function(e,t,i){return lt.get(e,t,i,"json")}}),lt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return lt.globalEval(e),e}}}),lt.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),lt.ajaxTransport("script",function(e){if(e.crossDomain){var i,n=Y.head||lt("head")[0]||Y.documentElement;return{send:function(t,s){i=Y.createElement("script"),i.async=!0,e.scriptCharset&&(i.charset=e.scriptCharset),i.src=e.url,i.onload=i.onreadystatechange=function(e,t){(t||!i.readyState||/loaded|complete/.test(i.readyState))&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),i=null,t||s(200,"success"))},n.insertBefore(i,n.firstChild)},abort:function(){i&&i.onload(t,!0)}}}});var Ui=[],qi=/(=)\?(?=&|$)|\?\?/;lt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Ui.pop()||lt.expando+"_"+ji++;return this[e]=!0,e}}),lt.ajaxPrefilter("json jsonp",function(i,n,s){var o,r,a,l=i.jsonp!==!1&&(qi.test(i.url)?"url":"string"==typeof i.data&&!(i.contentType||"").indexOf("application/x-www-form-urlencoded")&&qi.test(i.data)&&"data");return l||"jsonp"===i.dataTypes[0]?(o=i.jsonpCallback=lt.isFunction(i.jsonpCallback)?i.jsonpCallback():i.jsonpCallback,l?i[l]=i[l].replace(qi,"$1"+o):i.jsonp!==!1&&(i.url+=(Fi.test(i.url)?"&":"?")+i.jsonp+"="+o),i.converters["script json"]=function(){return a||lt.error(o+" was not called"),a[0]},i.dataTypes[0]="json",r=e[o],e[o]=function(){a=arguments},s.always(function(){e[o]=r,i[o]&&(i.jsonpCallback=n.jsonpCallback,Ui.push(o)),a&&lt.isFunction(r)&&r(a[0]),a=r=t}),"script"):void 0});var Yi,Gi,Xi=0,Ki=e.ActiveXObject&&function(){var e;for(e in Yi)Yi[e](t,!0)};lt.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&$()||P()}:$,Gi=lt.ajaxSettings.xhr(),lt.support.cors=!!Gi&&"withCredentials"in Gi,Gi=lt.support.ajax=!!Gi,Gi&&lt.ajaxTransport(function(i){if(!i.crossDomain||lt.support.cors){var n;return{send:function(s,o){var r,a,l=i.xhr();if(i.username?l.open(i.type,i.url,i.async,i.username,i.password):l.open(i.type,i.url,i.async),i.xhrFields)for(a in i.xhrFields)l[a]=i.xhrFields[a];i.mimeType&&l.overrideMimeType&&l.overrideMimeType(i.mimeType),i.crossDomain||s["X-Requested-With"]||(s["X-Requested-With"]="XMLHttpRequest");try{for(a in s)l.setRequestHeader(a,s[a])}catch(c){}l.send(i.hasContent&&i.data||null),n=function(e,s){var a,c,u,d;try{if(n&&(s||4===l.readyState))if(n=t,r&&(l.onreadystatechange=lt.noop,Ki&&delete Yi[r]),s)4!==l.readyState&&l.abort();else{d={},a=l.status,c=l.getAllResponseHeaders(),"string"==typeof l.responseText&&(d.text=l.responseText);try{u=l.statusText}catch(h){u=""}a||!i.isLocal||i.crossDomain?1223===a&&(a=204):a=d.text?200:404}}catch(p){s||o(-1,p)}d&&o(a,u,d,c)},i.async?4===l.readyState?setTimeout(n):(r=++Xi,Ki&&(Yi||(Yi={},lt(e).unload(Ki)),Yi[r]=n),l.onreadystatechange=n):n()},abort:function(){n&&n(t,!0)}}}});var Qi,Zi,en=/^(?:toggle|show|hide)$/,tn=new RegExp("^(?:([+-])=|)("+ct+")([a-z%]*)$","i"),nn=/queueHooks$/,sn=[R],on={"*":[function(e,t){var i,n,s=this.createTween(e,t),o=tn.exec(t),r=s.cur(),a=+r||0,l=1,c=20;if(o){if(i=+o[2],n=o[3]||(lt.cssNumber[e]?"":"px"),"px"!==n&&a){a=lt.css(s.elem,e,!0)||i||1;do l=l||".5",a/=l,lt.style(s.elem,e,a+n);while(l!==(l=s.cur()/r)&&1!==l&&--c)}s.unit=n,s.start=a,s.end=o[1]?a+(o[1]+1)*i:i}return s}]};lt.Animation=lt.extend(B,{tweener:function(e,t){lt.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var i,n=0,s=e.length;s>n;n++)i=e[n],on[i]=on[i]||[],on[i].unshift(t)},prefilter:function(e,t){t?sn.unshift(e):sn.push(e)}}),lt.Tween=V,V.prototype={constructor:V,init:function(e,t,i,n,s,o){this.elem=e,this.prop=i,this.easing=s||"swing",this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=o||(lt.cssNumber[i]?"":"px")},cur:function(){var e=V.propHooks[this.prop];return e&&e.get?e.get(this):V.propHooks._default.get(this)},run:function(e){var t,i=V.propHooks[this.prop];return this.pos=t=this.options.duration?lt.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):V.propHooks._default.set(this),this}},V.prototype.init.prototype=V.prototype,V.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=lt.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){lt.fx.step[e.prop]?lt.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[lt.cssProps[e.prop]]||lt.cssHooks[e.prop])?lt.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},V.propHooks.scrollTop=V.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},lt.each(["toggle","show","hide"],function(e,t){var i=lt.fn[t];lt.fn[t]=function(e,n,s){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(J(t,!0),e,n,s)}}),lt.fn.extend({fadeTo:function(e,t,i,n){return this.filter(x).css("opacity",0).show().end().animate({opacity:t},e,i,n)},animate:function(e,t,i,n){var s=lt.isEmptyObject(e),o=lt.speed(t,i,n),r=function(){var t=B(this,lt.extend({},e),o);r.finish=function(){t.stop(!0)},(s||lt._data(this,"finish"))&&t.stop(!0)};return r.finish=r,s||o.queue===!1?this.each(r):this.queue(o.queue,r)},stop:function(e,i,n){var s=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=i,i=e,e=t),i&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=lt.timers,r=lt._data(this);if(i)r[i]&&r[i].stop&&s(r[i]);else for(i in r)r[i]&&r[i].stop&&nn.test(i)&&s(r[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));(t||!n)&&lt.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,i=lt._data(this),n=i[e+"queue"],s=i[e+"queueHooks"],o=lt.timers,r=n?n.length:0;for(i.finish=!0,lt.queue(this,e,[]),s&&s.cur&&s.cur.finish&&s.cur.finish.call(this),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;r>t;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete i.finish})}}),lt.each({slideDown:J("show"),slideUp:J("hide"),slideToggle:J("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){lt.fn[e]=function(e,i,n){return this.animate(t,e,i,n)}}),lt.speed=function(e,t,i){var n=e&&"object"==typeof e?lt.extend({},e):{complete:i||!i&&t||lt.isFunction(e)&&e,duration:e,easing:i&&t||t&&!lt.isFunction(t)&&t};return n.duration=lt.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in lt.fx.speeds?lt.fx.speeds[n.duration]:lt.fx.speeds._default,(null==n.queue||n.queue===!0)&&(n.queue="fx"),n.old=n.complete,n.complete=function(){lt.isFunction(n.old)&&n.old.call(this),n.queue&&lt.dequeue(this,n.queue)},n},lt.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},lt.timers=[],lt.fx=V.prototype.init,lt.fx.tick=function(){var e,i=lt.timers,n=0;for(Qi=lt.now();i.length>n;n++)e=i[n],e()||i[n]!==e||i.splice(n--,1);i.length||lt.fx.stop(),Qi=t},lt.fx.timer=function(e){e()&&lt.timers.push(e)&&lt.fx.start()},lt.fx.interval=13,lt.fx.start=function(){Zi||(Zi=setInterval(lt.fx.tick,lt.fx.interval))},lt.fx.stop=function(){clearInterval(Zi),Zi=null},lt.fx.speeds={slow:600,fast:200,_default:400},lt.fx.step={},lt.expr&&lt.expr.filters&&(lt.expr.filters.animated=function(e){return lt.grep(lt.timers,function(t){return e===t.elem}).length}),lt.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){lt.offset.setOffset(this,e,t)});var i,n,s={top:0,left:0},o=this[0],r=o&&o.ownerDocument;if(r)return i=r.documentElement,lt.contains(i,o)?(typeof o.getBoundingClientRect!==q&&(s=o.getBoundingClientRect()),n=z(r),{top:s.top+(n.pageYOffset||i.scrollTop)-(i.clientTop||0),left:s.left+(n.pageXOffset||i.scrollLeft)-(i.clientLeft||0)}):s},lt.offset={setOffset:function(e,t,i){var n=lt.css(e,"position");"static"===n&&(e.style.position="relative");var s,o,r=lt(e),a=r.offset(),l=lt.css(e,"top"),c=lt.css(e,"left"),u=("absolute"===n||"fixed"===n)&&lt.inArray("auto",[l,c])>-1,d={},h={};u?(h=r.position(),s=h.top,o=h.left):(s=parseFloat(l)||0,o=parseFloat(c)||0),lt.isFunction(t)&&(t=t.call(e,i,a)),null!=t.top&&(d.top=t.top-a.top+s),null!=t.left&&(d.left=t.left-a.left+o),"using"in t?t.using.call(e,d):r.css(d)}},lt.fn.extend({position:function(){if(this[0]){var e,t,i={top:0,left:0},n=this[0];return"fixed"===lt.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),lt.nodeName(e[0],"html")||(i=e.offset()),i.top+=lt.css(e[0],"borderTopWidth",!0),i.left+=lt.css(e[0],"borderLeftWidth",!0)),{top:t.top-i.top-lt.css(n,"marginTop",!0),left:t.left-i.left-lt.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||Y.documentElement;e&&!lt.nodeName(e,"html")&&"static"===lt.css(e,"position");)e=e.offsetParent;return e||Y.documentElement})}}),lt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,i){var n=/Y/.test(i);lt.fn[e]=function(s){return lt.access(this,function(e,s,o){var r=z(e);return o===t?r?i in r?r[i]:r.document.documentElement[s]:e[s]:(r?r.scrollTo(n?lt(r).scrollLeft():o,n?o:lt(r).scrollTop()):e[s]=o,void 0)},e,s,arguments.length,null)}}),lt.each({Height:"height",Width:"width"},function(e,i){lt.each({padding:"inner"+e,content:i,"":"outer"+e},function(n,s){lt.fn[s]=function(s,o){var r=arguments.length&&(n||"boolean"!=typeof s),a=n||(s===!0||o===!0?"margin":"border");return lt.access(this,function(i,n,s){var o;return lt.isWindow(i)?i.document.documentElement["client"+e]:9===i.nodeType?(o=i.documentElement,Math.max(i.body["scroll"+e],o["scroll"+e],i.body["offset"+e],o["offset"+e],o["client"+e])):s===t?lt.css(i,n,a):lt.style(i,n,s,a)},i,r?s:t,r,null)}})}),e.jQuery=e.$=lt,"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return lt})})(window),/*! jQuery UI - v1.10.2 - 2013-03-14
* http://jqueryui.com
* Includes: jquery.ui.core.js, jquery.ui.widget.js, jquery.ui.mouse.js, jquery.ui.draggable.js, jquery.ui.droppable.js, jquery.ui.resizable.js, jquery.ui.selectable.js, jquery.ui.sortable.js, jquery.ui.effect.js, jquery.ui.accordion.js, jquery.ui.autocomplete.js, jquery.ui.button.js, jquery.ui.datepicker.js, jquery.ui.dialog.js, jquery.ui.effect-blind.js, jquery.ui.effect-bounce.js, jquery.ui.effect-clip.js, jquery.ui.effect-drop.js, jquery.ui.effect-explode.js, jquery.ui.effect-fade.js, jquery.ui.effect-fold.js, jquery.ui.effect-highlight.js, jquery.ui.effect-pulsate.js, jquery.ui.effect-scale.js, jquery.ui.effect-shake.js, jquery.ui.effect-slide.js, jquery.ui.effect-transfer.js, jquery.ui.menu.js, jquery.ui.position.js, jquery.ui.progressbar.js, jquery.ui.slider.js, jquery.ui.spinner.js, jquery.ui.tabs.js, jquery.ui.tooltip.js
* Copyright 2013 jQuery Foundation and other contributors; Licensed MIT */
function(e,t){function i(t,i){var s,o,r,a=t.nodeName.toLowerCase();return"area"===a?(s=t.parentNode,o=s.name,t.href&&o&&"map"===s.nodeName.toLowerCase()?(r=e("img[usemap=#"+o+"]")[0],!!r&&n(r)):!1):(/input|select|textarea|button|object/.test(a)?!t.disabled:"a"===a?t.href||i:i)&&n(t)}function n(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}var s=0,o=/^ui-id-\d+$/;e.ui=e.ui||{},e.extend(e.ui,{version:"1.10.2",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({focus:function(t){return function(i,n){return"number"==typeof i?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),n&&n.call(t)},i)}):t.apply(this,arguments)}}(e.fn.focus),scrollParent:function(){var t;return t=e.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.css(this,"position"))&&/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!t.length?e(document):t},zIndex:function(i){if(i!==t)return this.css("zIndex",i);if(this.length)for(var n,s,o=e(this[0]);o.length&&o[0]!==document;){if(n=o.css("position"),("absolute"===n||"relative"===n||"fixed"===n)&&(s=parseInt(o.css("zIndex"),10),!isNaN(s)&&0!==s))return s;o=o.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++s)})},removeUniqueId:function(){return this.each(function(){o.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(i){return!!e.data(i,t)}}):function(t,i,n){return!!e.data(t,n[3])},focusable:function(t){return i(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var n=e.attr(t,"tabindex"),s=isNaN(n);return(s||n>=0)&&i(t,!s)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(i,n){function s(t,i,n,s){return e.each(o,function(){i-=parseFloat(e.css(t,"padding"+this))||0,n&&(i-=parseFloat(e.css(t,"border"+this+"Width"))||0),s&&(i-=parseFloat(e.css(t,"margin"+this))||0)}),i}var o="Width"===n?["Left","Right"]:["Top","Bottom"],r=n.toLowerCase(),a={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+n]=function(i){return i===t?a["inner"+n].call(this):this.each(function(){e(this).css(r,s(this,i)+"px")})},e.fn["outer"+n]=function(t,i){return"number"!=typeof t?a["outer"+n].call(this,t):this.each(function(){e(this).css(r,s(this,t,!0,i)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(i){return arguments.length?t.call(this,e.camelCase(i)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.support.selectstart="onselectstart"in document.createElement("div"),e.fn.extend({disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),e.extend(e.ui,{plugin:{add:function(t,i,n){var s,o=e.ui[t].prototype;for(s in n)o.plugins[s]=o.plugins[s]||[],o.plugins[s].push([i,n[s]])},call:function(e,t,i){var n,s=e.plugins[t];if(s&&e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType)for(n=0;s.length>n;n++)e.options[s[n][0]]&&s[n][1].apply(e.element,i)}},hasScroll:function(t,i){if("hidden"===e(t).css("overflow"))return!1;var n=i&&"left"===i?"scrollLeft":"scrollTop",s=!1;return t[n]>0?!0:(t[n]=1,s=t[n]>0,t[n]=0,s)}})}(jQuery),function(e,t){var i=0,n=Array.prototype.slice,s=e.cleanData;e.cleanData=function(t){for(var i,n=0;null!=(i=t[n]);n++)try{e(i).triggerHandler("remove")}catch(o){}s(t)},e.widget=function(i,n,s){var o,r,a,l,c={},u=i.split(".")[0];i=i.split(".")[1],o=u+"-"+i,s||(s=n,n=e.Widget),e.expr[":"][o.toLowerCase()]=function(t){return!!e.data(t,o)},e[u]=e[u]||{},r=e[u][i],a=e[u][i]=function(e,i){return this._createWidget?(arguments.length&&this._createWidget(e,i),t):new a(e,i)},e.extend(a,r,{version:s.version,_proto:e.extend({},s),_childConstructors:[]}),l=new n,l.options=e.widget.extend({},l.options),e.each(s,function(i,s){return e.isFunction(s)?(c[i]=function(){var e=function(){return n.prototype[i].apply(this,arguments)},t=function(e){return n.prototype[i].apply(this,e)};return function(){var i,n=this._super,o=this._superApply;return this._super=e,this._superApply=t,i=s.apply(this,arguments),this._super=n,this._superApply=o,i}}(),t):(c[i]=s,t)}),a.prototype=e.widget.extend(l,{widgetEventPrefix:r?l.widgetEventPrefix:i},c,{constructor:a,namespace:u,widgetName:i,widgetFullName:o}),r?(e.each(r._childConstructors,function(t,i){var n=i.prototype;e.widget(n.namespace+"."+n.widgetName,a,i._proto)}),delete r._childConstructors):n._childConstructors.push(a),e.widget.bridge(i,a)},e.widget.extend=function(i){for(var s,o,r=n.call(arguments,1),a=0,l=r.length;l>a;a++)for(s in r[a])o=r[a][s],r[a].hasOwnProperty(s)&&o!==t&&(i[s]=e.isPlainObject(o)?e.isPlainObject(i[s])?e.widget.extend({},i[s],o):e.widget.extend({},o):o);return i},e.widget.bridge=function(i,s){var o=s.prototype.widgetFullName||i;e.fn[i]=function(r){var a="string"==typeof r,l=n.call(arguments,1),c=this;return r=!a&&l.length?e.widget.extend.apply(null,[r].concat(l)):r,a?this.each(function(){var n,s=e.data(this,o);return s?e.isFunction(s[r])&&"_"!==r.charAt(0)?(n=s[r].apply(s,l),n!==s&&n!==t?(c=n&&n.jquery?c.pushStack(n.get()):n,!1):t):e.error("no such method '"+r+"' for "+i+" widget instance"):e.error("cannot call methods on "+i+" prior to initialization; "+"attempted to call method '"+r+"'")}):this.each(function(){var t=e.data(this,o);t?t.option(r||{})._init():e.data(this,o,new s(r,this))}),c}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,n){n=e(n||this.defaultElement||this)[0],this.element=e(n),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),n!==this&&(e.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===n&&this.destroy()}}),this.document=e(n.style?n.ownerDocument:n.document||n),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(i,n){var s,o,r,a=i;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof i)if(a={},s=i.split("."),i=s.shift(),s.length){for(o=a[i]=e.widget.extend({},this.options[i]),r=0;s.length-1>r;r++)o[s[r]]=o[s[r]]||{},o=o[s[r]];if(i=s.pop(),n===t)return o[i]===t?null:o[i];o[i]=n}else{if(n===t)return this.options[i]===t?null:this.options[i];a[i]=n}return this._setOptions(a),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(i,n,s){var o,r=this;"boolean"!=typeof i&&(s=n,n=i,i=!1),s?(n=o=e(n),this.bindings=this.bindings.add(n)):(s=n,n=this.element,o=this.widget()),e.each(s,function(s,a){function l(){return i||r.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof a?r[a]:a).apply(r,arguments):t}"string"!=typeof a&&(l.guid=a.guid=a.guid||l.guid||e.guid++);var c=s.match(/^(\w+)\s*(.*)$/),u=c[1]+r.eventNamespace,d=c[2];d?o.delegate(d,u,l):n.bind(u,l)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){function i(){return("string"==typeof e?n[e]:e).apply(n,arguments)}var n=this;return setTimeout(i,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,i,n){var s,o,r=this.options[t];if(n=n||{},i=e.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(s in o)s in i||(i[s]=o[s]);return this.element.trigger(i,n),!(e.isFunction(r)&&r.apply(this.element[0],[i].concat(n))===!1||i.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,i){e.Widget.prototype["_"+t]=function(n,s,o){"string"==typeof s&&(s={effect:s});var r,a=s?s===!0||"number"==typeof s?i:s.effect||i:t;s=s||{},"number"==typeof s&&(s={duration:s}),r=!e.isEmptyObject(s),s.complete=o,s.delay&&n.delay(s.delay),r&&e.effects&&e.effects.effect[a]?n[t](s):a!==t&&n[a]?n[a](s.duration,s.easing,o):n.queue(function(i){e(this)[t](),o&&o.call(n[0]),i()})}})}(jQuery),function(e){var t=!1;e(document).mouseup(function(){t=!1}),e.widget("ui.mouse",{version:"1.10.2",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(i){return!0===e.data(i.target,t.widgetName+".preventClickEvent")?(e.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(i){if(!t){this._mouseStarted&&this._mouseUp(i),this._mouseDownEvent=i;var n=this,s=1===i.which,o="string"==typeof this.options.cancel&&i.target.nodeName?e(i.target).closest(this.options.cancel).length:!1;return s&&!o&&this._mouseCapture(i)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(i)&&this._mouseDelayMet(i)&&(this._mouseStarted=this._mouseStart(i)!==!1,!this._mouseStarted)?(i.preventDefault(),!0):(!0===e.data(i.target,this.widgetName+".preventClickEvent")&&e.removeData(i.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return n._mouseMove(e)},this._mouseUpDelegate=function(e){return n._mouseUp(e)},e(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),i.preventDefault(),t=!0,!0)):!0}},_mouseMove:function(t){return e.ui.ie&&(!document.documentMode||9>document.documentMode)&&!t.button?this._mouseUp(t):this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){return e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),function(e){e.widget("ui.draggable",e.ui.mouse,{version:"1.10.2",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(t){var i=this.options;return this.helper||i.disabled||e(t.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(t),this.handle?(e(i.iframeFix===!0?"iframe":i.iframeFix).each(function(){e("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(e(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(t){var i=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),i.containment&&this._setContainment(),this._trigger("start",t)===!1?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_mouseDrag:function(t,i){if(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),!i){var n=this._uiHash();if(this._trigger("drag",t,n)===!1)return this._mouseUp({}),!1;this.position=n.position}return this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var i,n=this,s=!1,o=!1;for(e.ui.ddmanager&&!this.options.dropBehaviour&&(o=e.ui.ddmanager.drop(this,t)),this.dropped&&(o=this.dropped,this.dropped=!1),i=this.element[0];i&&(i=i.parentNode);)i===document&&(s=!0);return s||"original"!==this.options.helper?("invalid"===this.options.revert&&!o||"valid"===this.options.revert&&o||this.options.revert===!0||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,o)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){n._trigger("stop",t)!==!1&&n._clear()}):this._trigger("stop",t)!==!1&&this._clear(),!1):!1},_mouseUp:function(t){return e("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){return this.options.handle?!!e(t.target).closest(this.element.find(this.options.handle)).length:!0},_createHelper:function(t){var i=this.options,n=e.isFunction(i.helper)?e(i.helper.apply(this.element[0],[t])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return n.parents("body").length||n.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),n[0]===this.element[0]||/(fixed|absolute)/.test(n.css("position"))||n.css("position","absolute"),n},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.element.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,n,s=this.options;if("parent"===s.containment&&(s.containment=this.helper[0].parentNode),("document"===s.containment||"window"===s.containment)&&(this.containment=["document"===s.containment?0:e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,"document"===s.containment?0:e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,("document"===s.containment?0:e(window).scrollLeft())+e("document"===s.containment?document:window).width()-this.helperProportions.width-this.margins.left,("document"===s.containment?0:e(window).scrollTop())+(e("document"===s.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(s.containment)||s.containment.constructor===Array)s.containment.constructor===Array&&(this.containment=s.containment);else{if(i=e(s.containment),n=i[0],!n)return;t="hidden"!==e(n).css("overflow"),this.containment=[(parseInt(e(n).css("borderLeftWidth"),10)||0)+(parseInt(e(n).css("paddingLeft"),10)||0),(parseInt(e(n).css("borderTopWidth"),10)||0)+(parseInt(e(n).css("paddingTop"),10)||0),(t?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(e(n).css("borderRightWidth"),10)||0)-(parseInt(e(n).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(e(n).css("borderBottomWidth"),10)||0)-(parseInt(e(n).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=i}},_convertPositionTo:function(t,i){i||(i=this.position);var n="absolute"===t?1:-1,s="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(s[0].tagName);return{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:s.scrollTop())*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:s.scrollLeft())*n}},_generatePosition:function(t){var i,n,s,o,r=this.options,a="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(a[0].tagName),c=t.pageX,u=t.pageY;return this.originalPosition&&(this.containment&&(this.relative_container?(n=this.relative_container.offset(),i=[this.containment[0]+n.left,this.containment[1]+n.top,this.containment[2]+n.left,this.containment[3]+n.top]):i=this.containment,t.pageX-this.offset.click.left<i[0]&&(c=i[0]+this.offset.click.left),t.pageY-this.offset.click.top<i[1]&&(u=i[1]+this.offset.click.top),t.pageX-this.offset.click.left>i[2]&&(c=i[2]+this.offset.click.left),t.pageY-this.offset.click.top>i[3]&&(u=i[3]+this.offset.click.top)),r.grid&&(s=r.grid[1]?this.originalPageY+Math.round((u-this.originalPageY)/r.grid[1])*r.grid[1]:this.originalPageY,u=i?s-this.offset.click.top>=i[1]||s-this.offset.click.top>i[3]?s:s-this.offset.click.top>=i[1]?s-r.grid[1]:s+r.grid[1]:s,o=r.grid[0]?this.originalPageX+Math.round((c-this.originalPageX)/r.grid[0])*r.grid[0]:this.originalPageX,c=i?o-this.offset.click.left>=i[0]||o-this.offset.click.left>i[2]?o:o-this.offset.click.left>=i[0]?o-r.grid[0]:o+r.grid[0]:o)),{top:u-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:a.scrollTop()),left:c-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:a.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(t,i,n){return n=n||this._uiHash(),e.ui.plugin.call(this,t,[i,n]),"drag"===t&&(this.positionAbs=this._convertPositionTo("absolute")),e.Widget.prototype._trigger.call(this,t,i,n)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,i){var n=e(this).data("ui-draggable"),s=n.options,o=e.extend({},i,{item:n.element});n.sortables=[],e(s.connectToSortable).each(function(){var i=e.data(this,"ui-sortable");i&&!i.options.disabled&&(n.sortables.push({instance:i,shouldRevert:i.options.revert}),i.refreshPositions(),i._trigger("activate",t,o))})},stop:function(t,i){var n=e(this).data("ui-draggable"),s=e.extend({},i,{item:n.element});e.each(n.sortables,function(){this.instance.isOver?(this.instance.isOver=0,n.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(t),this.instance.options.helper=this.instance.options._helper,"original"===n.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",t,s))})},drag:function(t,i){var n=e(this).data("ui-draggable"),s=this;e.each(n.sortables,function(){var o=!1,r=this;this.instance.positionAbs=n.positionAbs,this.instance.helperProportions=n.helperProportions,this.instance.offset.click=n.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(o=!0,e.each(n.sortables,function(){return this.instance.positionAbs=n.positionAbs,this.instance.helperProportions=n.helperProportions,this.instance.offset.click=n.offset.click,this!==r&&this.instance._intersectsWith(this.instance.containerCache)&&e.contains(r.instance.element[0],this.instance.element[0])&&(o=!1),o})),o?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=e(s).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return i.helper[0]},t.target=this.instance.currentItem[0],this.instance._mouseCapture(t,!0),this.instance._mouseStart(t,!0,!0),this.instance.offset.click.top=n.offset.click.top,this.instance.offset.click.left=n.offset.click.left,this.instance.offset.parent.left-=n.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=n.offset.parent.top-this.instance.offset.parent.top,n._trigger("toSortable",t),n.dropped=this.instance.element,n.currentItem=n.element,this.instance.fromOutside=n),this.instance.currentItem&&this.instance._mouseDrag(t)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",t,this.instance._uiHash(this.instance)),this.instance._mouseStop(t,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),n._trigger("fromSortable",t),n.dropped=!1)})}}),e.ui.plugin.add("draggable","cursor",{start:function(){var t=e("body"),i=e(this).data("ui-draggable").options;t.css("cursor")&&(i._cursor=t.css("cursor")),t.css("cursor",i.cursor)},stop:function(){var t=e(this).data("ui-draggable").options;t._cursor&&e("body").css("cursor",t._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,i){var n=e(i.helper),s=e(this).data("ui-draggable").options;n.css("opacity")&&(s._opacity=n.css("opacity")),n.css("opacity",s.opacity)},stop:function(t,i){var n=e(this).data("ui-draggable").options;n._opacity&&e(i.helper).css("opacity",n._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(){var t=e(this).data("ui-draggable");t.scrollParent[0]!==document&&"HTML"!==t.scrollParent[0].tagName&&(t.overflowOffset=t.scrollParent.offset())},drag:function(t){var i=e(this).data("ui-draggable"),n=i.options,s=!1;i.scrollParent[0]!==document&&"HTML"!==i.scrollParent[0].tagName?(n.axis&&"x"===n.axis||(i.overflowOffset.top+i.scrollParent[0].offsetHeight-t.pageY<n.scrollSensitivity?i.scrollParent[0].scrollTop=s=i.scrollParent[0].scrollTop+n.scrollSpeed:t.pageY-i.overflowOffset.top<n.scrollSensitivity&&(i.scrollParent[0].scrollTop=s=i.scrollParent[0].scrollTop-n.scrollSpeed)),n.axis&&"y"===n.axis||(i.overflowOffset.left+i.scrollParent[0].offsetWidth-t.pageX<n.scrollSensitivity?i.scrollParent[0].scrollLeft=s=i.scrollParent[0].scrollLeft+n.scrollSpeed:t.pageX-i.overflowOffset.left<n.scrollSensitivity&&(i.scrollParent[0].scrollLeft=s=i.scrollParent[0].scrollLeft-n.scrollSpeed))):(n.axis&&"x"===n.axis||(t.pageY-e(document).scrollTop()<n.scrollSensitivity?s=e(document).scrollTop(e(document).scrollTop()-n.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<n.scrollSensitivity&&(s=e(document).scrollTop(e(document).scrollTop()+n.scrollSpeed))),n.axis&&"y"===n.axis||(t.pageX-e(document).scrollLeft()<n.scrollSensitivity?s=e(document).scrollLeft(e(document).scrollLeft()-n.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<n.scrollSensitivity&&(s=e(document).scrollLeft(e(document).scrollLeft()+n.scrollSpeed)))),s!==!1&&e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(i,t)}}),e.ui.plugin.add("draggable","snap",{start:function(){var t=e(this).data("ui-draggable"),i=t.options;t.snapElements=[],e(i.snap.constructor!==String?i.snap.items||":data(ui-draggable)":i.snap).each(function(){var i=e(this),n=i.offset();this!==t.element[0]&&t.snapElements.push({item:this,width:i.outerWidth(),height:i.outerHeight(),top:n.top,left:n.left})})},drag:function(t,i){var n,s,o,r,a,l,c,u,d,h,p=e(this).data("ui-draggable"),f=p.options,m=f.snapTolerance,g=i.offset.left,v=g+p.helperProportions.width,_=i.offset.top,y=_+p.helperProportions.height;for(d=p.snapElements.length-1;d>=0;d--)a=p.snapElements[d].left,l=a+p.snapElements[d].width,c=p.snapElements[d].top,u=c+p.snapElements[d].height,g>a-m&&l+m>g&&_>c-m&&u+m>_||g>a-m&&l+m>g&&y>c-m&&u+m>y||v>a-m&&l+m>v&&_>c-m&&u+m>_||v>a-m&&l+m>v&&y>c-m&&u+m>y?("inner"!==f.snapMode&&(n=m>=Math.abs(c-y),s=m>=Math.abs(u-_),o=m>=Math.abs(a-v),r=m>=Math.abs(l-g),n&&(i.position.top=p._convertPositionTo("relative",{top:c-p.helperProportions.height,left:0}).top-p.margins.top),s&&(i.position.top=p._convertPositionTo("relative",{top:u,left:0}).top-p.margins.top),o&&(i.position.left=p._convertPositionTo("relative",{top:0,left:a-p.helperProportions.width}).left-p.margins.left),r&&(i.position.left=p._convertPositionTo("relative",{top:0,left:l}).left-p.margins.left)),h=n||s||o||r,"outer"!==f.snapMode&&(n=m>=Math.abs(c-_),s=m>=Math.abs(u-y),o=m>=Math.abs(a-g),r=m>=Math.abs(l-v),n&&(i.position.top=p._convertPositionTo("relative",{top:c,left:0}).top-p.margins.top),s&&(i.position.top=p._convertPositionTo("relative",{top:u-p.helperProportions.height,left:0}).top-p.margins.top),o&&(i.position.left=p._convertPositionTo("relative",{top:0,left:a}).left-p.margins.left),r&&(i.position.left=p._convertPositionTo("relative",{top:0,left:l-p.helperProportions.width}).left-p.margins.left)),!p.snapElements[d].snapping&&(n||s||o||r||h)&&p.options.snap.snap&&p.options.snap.snap.call(p.element,t,e.extend(p._uiHash(),{snapItem:p.snapElements[d].item})),p.snapElements[d].snapping=n||s||o||r||h):(p.snapElements[d].snapping&&p.options.snap.release&&p.options.snap.release.call(p.element,t,e.extend(p._uiHash(),{snapItem:p.snapElements[d].item})),p.snapElements[d].snapping=!1)}}),e.ui.plugin.add("draggable","stack",{start:function(){var t,i=this.data("ui-draggable").options,n=e.makeArray(e(i.stack)).sort(function(t,i){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(i).css("zIndex"),10)||0)});n.length&&(t=parseInt(e(n[0]).css("zIndex"),10)||0,e(n).each(function(i){e(this).css("zIndex",t+i)}),this.css("zIndex",t+n.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,i){var n=e(i.helper),s=e(this).data("ui-draggable").options;n.css("zIndex")&&(s._zIndex=n.css("zIndex")),n.css("zIndex",s.zIndex)},stop:function(t,i){var n=e(this).data("ui-draggable").options;n._zIndex&&e(i.helper).css("zIndex",n._zIndex)}})}(jQuery),function(e){function t(e,t,i){return e>t&&t+i>e}e.widget("ui.droppable",{version:"1.10.2",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t=this.options,i=t.accept;this.isover=!1,this.isout=!0,this.accept=e.isFunction(i)?i:function(e){return e.is(i)},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},e.ui.ddmanager.droppables[t.scope]=e.ui.ddmanager.droppables[t.scope]||[],e.ui.ddmanager.droppables[t.scope].push(this),t.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var t=0,i=e.ui.ddmanager.droppables[this.options.scope];i.length>t;t++)i[t]===this&&i.splice(t,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(t,i){"accept"===t&&(this.accept=e.isFunction(i)?i:function(e){return e.is(i)}),e.Widget.prototype._setOption.apply(this,arguments)},_activate:function(t){var i=e.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),i&&this._trigger("activate",t,this.ui(i))},_deactivate:function(t){var i=e.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),i&&this._trigger("deactivate",t,this.ui(i))
},_over:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(i)))},_out:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(i)))},_drop:function(t,i){var n=i||e.ui.ddmanager.current,s=!1;return n&&(n.currentItem||n.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var t=e.data(this,"ui-droppable");return t.options.greedy&&!t.options.disabled&&t.options.scope===n.options.scope&&t.accept.call(t.element[0],n.currentItem||n.element)&&e.ui.intersect(n,e.extend(t,{offset:t.element.offset()}),t.options.tolerance)?(s=!0,!1):void 0}),s?!1:this.accept.call(this.element[0],n.currentItem||n.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",t,this.ui(n)),this.element):!1):!1},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}}}),e.ui.intersect=function(e,i,n){if(!i.offset)return!1;var s,o,r=(e.positionAbs||e.position.absolute).left,a=r+e.helperProportions.width,l=(e.positionAbs||e.position.absolute).top,c=l+e.helperProportions.height,u=i.offset.left,d=u+i.proportions.width,h=i.offset.top,p=h+i.proportions.height;switch(n){case"fit":return r>=u&&d>=a&&l>=h&&p>=c;case"intersect":return r+e.helperProportions.width/2>u&&d>a-e.helperProportions.width/2&&l+e.helperProportions.height/2>h&&p>c-e.helperProportions.height/2;case"pointer":return s=(e.positionAbs||e.position.absolute).left+(e.clickOffset||e.offset.click).left,o=(e.positionAbs||e.position.absolute).top+(e.clickOffset||e.offset.click).top,t(o,h,i.proportions.height)&&t(s,u,i.proportions.width);case"touch":return(l>=h&&p>=l||c>=h&&p>=c||h>l&&c>p)&&(r>=u&&d>=r||a>=u&&d>=a||u>r&&a>d);default:return!1}},e.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(t,i){var n,s,o=e.ui.ddmanager.droppables[t.options.scope]||[],r=i?i.type:null,a=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();e:for(n=0;o.length>n;n++)if(!(o[n].options.disabled||t&&!o[n].accept.call(o[n].element[0],t.currentItem||t.element))){for(s=0;a.length>s;s++)if(a[s]===o[n].element[0]){o[n].proportions.height=0;continue e}o[n].visible="none"!==o[n].element.css("display"),o[n].visible&&("mousedown"===r&&o[n]._activate.call(o[n],i),o[n].offset=o[n].element.offset(),o[n].proportions={width:o[n].element[0].offsetWidth,height:o[n].element[0].offsetHeight})}},drop:function(t,i){var n=!1;return e.each((e.ui.ddmanager.droppables[t.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&e.ui.intersect(t,this,this.options.tolerance)&&(n=this._drop.call(this,i)||n),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),n},dragStart:function(t,i){t.element.parentsUntil("body").bind("scroll.droppable",function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)})},drag:function(t,i){t.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(t,i),e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var n,s,o,r=e.ui.intersect(t,this,this.options.tolerance),a=!r&&this.isover?"isout":r&&!this.isover?"isover":null;a&&(this.options.greedy&&(s=this.options.scope,o=this.element.parents(":data(ui-droppable)").filter(function(){return e.data(this,"ui-droppable").options.scope===s}),o.length&&(n=e.data(o[0],"ui-droppable"),n.greedyChild="isover"===a)),n&&"isover"===a&&(n.isover=!1,n.isout=!0,n._out.call(n,i)),this[a]=!0,this["isout"===a?"isover":"isout"]=!1,this["isover"===a?"_over":"_out"].call(this,i),n&&"isout"===a&&(n.isout=!1,n.isover=!0,n._over.call(n,i)))}})},dragStop:function(t,i){t.element.parentsUntil("body").unbind("scroll.droppable"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)}}}(jQuery),function(e){function t(e){return parseInt(e,10)||0}function i(e){return!isNaN(parseInt(e,10))}e.widget("ui.resizable",e.ui.mouse,{version:"1.10.2",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var t,i,n,s,o,r=this,a=this.options;if(this.element.addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!a.aspectRatio,aspectRatio:a.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:a.helper||a.ghost||a.animate?a.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=a.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),t=this.handles.split(","),this.handles={},i=0;t.length>i;i++)n=e.trim(t[i]),o="ui-resizable-"+n,s=e("<div class='ui-resizable-handle "+o+"'></div>"),s.css({zIndex:a.zIndex}),"se"===n&&s.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[n]=".ui-resizable-"+n,this.element.append(s);this._renderAxis=function(t){var i,n,s,o;t=t||this.element;for(i in this.handles)this.handles[i].constructor===String&&(this.handles[i]=e(this.handles[i],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(n=e(this.handles[i],this.element),o=/sw|ne|nw|se|n|s/.test(i)?n.outerHeight():n.outerWidth(),s=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),t.css(s,o),this._proportionallyResize()),e(this.handles[i]).length},this._renderAxis(this.element),this._handles=e(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){r.resizing||(this.className&&(s=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),r.axis=s&&s[1]?s[1]:"se")}),a.autoHide&&(this._handles.hide(),e(this.element).addClass("ui-resizable-autohide").mouseenter(function(){a.disabled||(e(this).removeClass("ui-resizable-autohide"),r._handles.show())}).mouseleave(function(){a.disabled||r.resizing||(e(this).addClass("ui-resizable-autohide"),r._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,i=function(t){e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_mouseCapture:function(t){var i,n,s=!1;for(i in this.handles)n=e(this.handles[i])[0],(n===t.target||e.contains(n,t.target))&&(s=!0);return!this.options.disabled&&s},_mouseStart:function(i){var n,s,o,r=this.options,a=this.element.position(),l=this.element;return this.resizing=!0,/absolute/.test(l.css("position"))?l.css({position:"absolute",top:l.css("top"),left:l.css("left")}):l.is(".ui-draggable")&&l.css({position:"absolute",top:a.top,left:a.left}),this._renderProxy(),n=t(this.helper.css("left")),s=t(this.helper.css("top")),r.containment&&(n+=e(r.containment).scrollLeft()||0,s+=e(r.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:n,top:s},this.size=this._helper?{width:l.outerWidth(),height:l.outerHeight()}:{width:l.width(),height:l.height()},this.originalSize=this._helper?{width:l.outerWidth(),height:l.outerHeight()}:{width:l.width(),height:l.height()},this.originalPosition={left:n,top:s},this.sizeDiff={width:l.outerWidth()-l.width(),height:l.outerHeight()-l.height()},this.originalMousePosition={left:i.pageX,top:i.pageY},this.aspectRatio="number"==typeof r.aspectRatio?r.aspectRatio:this.originalSize.width/this.originalSize.height||1,o=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor","auto"===o?this.axis+"-resize":o),l.addClass("ui-resizable-resizing"),this._propagate("start",i),!0},_mouseDrag:function(t){var i,n=this.helper,s={},o=this.originalMousePosition,r=this.axis,a=this.position.top,l=this.position.left,c=this.size.width,u=this.size.height,d=t.pageX-o.left||0,h=t.pageY-o.top||0,p=this._change[r];return p?(i=p.apply(this,[t,d,h]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(i=this._updateRatio(i,t)),i=this._respectSize(i,t),this._updateCache(i),this._propagate("resize",t),this.position.top!==a&&(s.top=this.position.top+"px"),this.position.left!==l&&(s.left=this.position.left+"px"),this.size.width!==c&&(s.width=this.size.width+"px"),this.size.height!==u&&(s.height=this.size.height+"px"),n.css(s),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(s)||this._trigger("resize",t,this.ui()),!1):!1},_mouseStop:function(t){this.resizing=!1;var i,n,s,o,r,a,l,c=this.options,u=this;return this._helper&&(i=this._proportionallyResizeElements,n=i.length&&/textarea/i.test(i[0].nodeName),s=n&&e.ui.hasScroll(i[0],"left")?0:u.sizeDiff.height,o=n?0:u.sizeDiff.width,r={width:u.helper.width()-o,height:u.helper.height()-s},a=parseInt(u.element.css("left"),10)+(u.position.left-u.originalPosition.left)||null,l=parseInt(u.element.css("top"),10)+(u.position.top-u.originalPosition.top)||null,c.animate||this.element.css(e.extend(r,{top:l,left:a})),u.helper.height(u.size.height),u.helper.width(u.size.width),this._helper&&!c.animate&&this._proportionallyResize()),e("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(e){var t,n,s,o,r,a=this.options;r={minWidth:i(a.minWidth)?a.minWidth:0,maxWidth:i(a.maxWidth)?a.maxWidth:1/0,minHeight:i(a.minHeight)?a.minHeight:0,maxHeight:i(a.maxHeight)?a.maxHeight:1/0},(this._aspectRatio||e)&&(t=r.minHeight*this.aspectRatio,s=r.minWidth/this.aspectRatio,n=r.maxHeight*this.aspectRatio,o=r.maxWidth/this.aspectRatio,t>r.minWidth&&(r.minWidth=t),s>r.minHeight&&(r.minHeight=s),r.maxWidth>n&&(r.maxWidth=n),r.maxHeight>o&&(r.maxHeight=o)),this._vBoundaries=r},_updateCache:function(e){this.offset=this.helper.offset(),i(e.left)&&(this.position.left=e.left),i(e.top)&&(this.position.top=e.top),i(e.height)&&(this.size.height=e.height),i(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,n=this.size,s=this.axis;return i(e.height)?e.width=e.height*this.aspectRatio:i(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===s&&(e.left=t.left+(n.width-e.width),e.top=null),"nw"===s&&(e.top=t.top+(n.height-e.height),e.left=t.left+(n.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,n=this.axis,s=i(e.width)&&t.maxWidth&&t.maxWidth<e.width,o=i(e.height)&&t.maxHeight&&t.maxHeight<e.height,r=i(e.width)&&t.minWidth&&t.minWidth>e.width,a=i(e.height)&&t.minHeight&&t.minHeight>e.height,l=this.originalPosition.left+this.originalSize.width,c=this.position.top+this.size.height,u=/sw|nw|w/.test(n),d=/nw|ne|n/.test(n);return r&&(e.width=t.minWidth),a&&(e.height=t.minHeight),s&&(e.width=t.maxWidth),o&&(e.height=t.maxHeight),r&&u&&(e.left=l-t.minWidth),s&&u&&(e.left=l-t.maxWidth),a&&d&&(e.top=c-t.minHeight),o&&d&&(e.top=c-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var e,t,i,n,s,o=this.helper||this.element;for(e=0;this._proportionallyResizeElements.length>e;e++){if(s=this._proportionallyResizeElements[e],!this.borderDif)for(this.borderDif=[],i=[s.css("borderTopWidth"),s.css("borderRightWidth"),s.css("borderBottomWidth"),s.css("borderLeftWidth")],n=[s.css("paddingTop"),s.css("paddingRight"),s.css("paddingBottom"),s.css("paddingLeft")],t=0;i.length>t;t++)this.borderDif[t]=(parseInt(i[t],10)||0)+(parseInt(n[t],10)||0);s.css({height:o.height()-this.borderDif[0]-this.borderDif[2]||0,width:o.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var t=this.element,i=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||e("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var i=this.originalSize,n=this.originalPosition;return{left:n.left+t,width:i.width-t}},n:function(e,t,i){var n=this.originalSize,s=this.originalPosition;return{top:s.top+i,height:n.height-i}},s:function(e,t,i){return{height:this.originalSize.height+i}},se:function(t,i,n){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,i,n]))},sw:function(t,i,n){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,i,n]))},ne:function(t,i,n){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,i,n]))},nw:function(t,i,n){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,i,n]))}},_propagate:function(t,i){e.ui.plugin.call(this,t,[i,this.ui()]),"resize"!==t&&this._trigger(t,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var i=e(this).data("ui-resizable"),n=i.options,s=i._proportionallyResizeElements,o=s.length&&/textarea/i.test(s[0].nodeName),r=o&&e.ui.hasScroll(s[0],"left")?0:i.sizeDiff.height,a=o?0:i.sizeDiff.width,l={width:i.size.width-a,height:i.size.height-r},c=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,u=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(e.extend(l,u&&c?{top:u,left:c}:{}),{duration:n.animateDuration,easing:n.animateEasing,step:function(){var n={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};s&&s.length&&e(s[0]).css({width:n.width,height:n.height}),i._updateCache(n),i._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var i,n,s,o,r,a,l,c=e(this).data("ui-resizable"),u=c.options,d=c.element,h=u.containment,p=h instanceof e?h.get(0):/parent/.test(h)?d.parent().get(0):h;p&&(c.containerElement=e(p),/document/.test(h)||h===document?(c.containerOffset={left:0,top:0},c.containerPosition={left:0,top:0},c.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(i=e(p),n=[],e(["Top","Right","Left","Bottom"]).each(function(e,s){n[e]=t(i.css("padding"+s))}),c.containerOffset=i.offset(),c.containerPosition=i.position(),c.containerSize={height:i.innerHeight()-n[3],width:i.innerWidth()-n[1]},s=c.containerOffset,o=c.containerSize.height,r=c.containerSize.width,a=e.ui.hasScroll(p,"left")?p.scrollWidth:r,l=e.ui.hasScroll(p)?p.scrollHeight:o,c.parentData={element:p,left:s.left,top:s.top,width:a,height:l}))},resize:function(t){var i,n,s,o,r=e(this).data("ui-resizable"),a=r.options,l=r.containerOffset,c=r.position,u=r._aspectRatio||t.shiftKey,d={top:0,left:0},h=r.containerElement;h[0]!==document&&/static/.test(h.css("position"))&&(d=l),c.left<(r._helper?l.left:0)&&(r.size.width=r.size.width+(r._helper?r.position.left-l.left:r.position.left-d.left),u&&(r.size.height=r.size.width/r.aspectRatio),r.position.left=a.helper?l.left:0),c.top<(r._helper?l.top:0)&&(r.size.height=r.size.height+(r._helper?r.position.top-l.top:r.position.top),u&&(r.size.width=r.size.height*r.aspectRatio),r.position.top=r._helper?l.top:0),r.offset.left=r.parentData.left+r.position.left,r.offset.top=r.parentData.top+r.position.top,i=Math.abs((r._helper?r.offset.left-d.left:r.offset.left-d.left)+r.sizeDiff.width),n=Math.abs((r._helper?r.offset.top-d.top:r.offset.top-l.top)+r.sizeDiff.height),s=r.containerElement.get(0)===r.element.parent().get(0),o=/relative|absolute/.test(r.containerElement.css("position")),s&&o&&(i-=r.parentData.left),i+r.size.width>=r.parentData.width&&(r.size.width=r.parentData.width-i,u&&(r.size.height=r.size.width/r.aspectRatio)),n+r.size.height>=r.parentData.height&&(r.size.height=r.parentData.height-n,u&&(r.size.width=r.size.height*r.aspectRatio))},stop:function(){var t=e(this).data("ui-resizable"),i=t.options,n=t.containerOffset,s=t.containerPosition,o=t.containerElement,r=e(t.helper),a=r.offset(),l=r.outerWidth()-t.sizeDiff.width,c=r.outerHeight()-t.sizeDiff.height;t._helper&&!i.animate&&/relative/.test(o.css("position"))&&e(this).css({left:a.left-s.left-n.left,width:l,height:c}),t._helper&&!i.animate&&/static/.test(o.css("position"))&&e(this).css({left:a.left-s.left-n.left,width:l,height:c})}}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).data("ui-resizable"),i=t.options,n=function(t){e(t).each(function(){var t=e(this);t.data("ui-resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})};"object"!=typeof i.alsoResize||i.alsoResize.parentNode?n(i.alsoResize):i.alsoResize.length?(i.alsoResize=i.alsoResize[0],n(i.alsoResize)):e.each(i.alsoResize,function(e){n(e)})},resize:function(t,i){var n=e(this).data("ui-resizable"),s=n.options,o=n.originalSize,r=n.originalPosition,a={height:n.size.height-o.height||0,width:n.size.width-o.width||0,top:n.position.top-r.top||0,left:n.position.left-r.left||0},l=function(t,n){e(t).each(function(){var t=e(this),s=e(this).data("ui-resizable-alsoresize"),o={},r=n&&n.length?n:t.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(r,function(e,t){var i=(s[t]||0)+(a[t]||0);i&&i>=0&&(o[t]=i||null)}),t.css(o)})};"object"!=typeof s.alsoResize||s.alsoResize.nodeType?l(s.alsoResize):e.each(s.alsoResize,function(e,t){l(e,t)})},stop:function(){e(this).removeData("resizable-alsoresize")}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).data("ui-resizable"),i=t.options,n=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:n.height,width:n.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof i.ghost?i.ghost:""),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).data("ui-resizable");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).data("ui-resizable");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(){var t=e(this).data("ui-resizable"),i=t.options,n=t.size,s=t.originalSize,o=t.originalPosition,r=t.axis,a="number"==typeof i.grid?[i.grid,i.grid]:i.grid,l=a[0]||1,c=a[1]||1,u=Math.round((n.width-s.width)/l)*l,d=Math.round((n.height-s.height)/c)*c,h=s.width+u,p=s.height+d,f=i.maxWidth&&h>i.maxWidth,m=i.maxHeight&&p>i.maxHeight,g=i.minWidth&&i.minWidth>h,v=i.minHeight&&i.minHeight>p;i.grid=a,g&&(h+=l),v&&(p+=c),f&&(h-=l),m&&(p-=c),/^(se|s|e)$/.test(r)?(t.size.width=h,t.size.height=p):/^(ne)$/.test(r)?(t.size.width=h,t.size.height=p,t.position.top=o.top-d):/^(sw)$/.test(r)?(t.size.width=h,t.size.height=p,t.position.left=o.left-u):(t.size.width=h,t.size.height=p,t.position.top=o.top-d,t.position.left=o.left-u)}})}(jQuery),function(e){e.widget("ui.selectable",e.ui.mouse,{version:"1.10.2",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var t,i=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){t=e(i.options.filter,i.element[0]),t.addClass("ui-selectee"),t.each(function(){var t=e(this),i=t.offset();e.data(this,"selectable-item",{element:this,$element:t,left:i.left,top:i.top,right:i.left+t.outerWidth(),bottom:i.top+t.outerHeight(),startselected:!1,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=t.addClass("ui-selectee"),this._mouseInit(),this.helper=e("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(t){var i=this,n=this.options;this.opos=[t.pageX,t.pageY],this.options.disabled||(this.selectees=e(n.filter,this.element[0]),this._trigger("start",t),e(n.appendTo).append(this.helper),this.helper.css({left:t.pageX,top:t.pageY,width:0,height:0}),n.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var n=e.data(this,"selectable-item");n.startselected=!0,t.metaKey||t.ctrlKey||(n.$element.removeClass("ui-selected"),n.selected=!1,n.$element.addClass("ui-unselecting"),n.unselecting=!0,i._trigger("unselecting",t,{unselecting:n.element}))}),e(t.target).parents().addBack().each(function(){var n,s=e.data(this,"selectable-item");return s?(n=!t.metaKey&&!t.ctrlKey||!s.$element.hasClass("ui-selected"),s.$element.removeClass(n?"ui-unselecting":"ui-selected").addClass(n?"ui-selecting":"ui-unselecting"),s.unselecting=!n,s.selecting=n,s.selected=n,n?i._trigger("selecting",t,{selecting:s.element}):i._trigger("unselecting",t,{unselecting:s.element}),!1):void 0}))},_mouseDrag:function(t){if(this.dragged=!0,!this.options.disabled){var i,n=this,s=this.options,o=this.opos[0],r=this.opos[1],a=t.pageX,l=t.pageY;return o>a&&(i=a,a=o,o=i),r>l&&(i=l,l=r,r=i),this.helper.css({left:o,top:r,width:a-o,height:l-r}),this.selectees.each(function(){var i=e.data(this,"selectable-item"),c=!1;i&&i.element!==n.element[0]&&("touch"===s.tolerance?c=!(i.left>a||o>i.right||i.top>l||r>i.bottom):"fit"===s.tolerance&&(c=i.left>o&&a>i.right&&i.top>r&&l>i.bottom),c?(i.selected&&(i.$element.removeClass("ui-selected"),i.selected=!1),i.unselecting&&(i.$element.removeClass("ui-unselecting"),i.unselecting=!1),i.selecting||(i.$element.addClass("ui-selecting"),i.selecting=!0,n._trigger("selecting",t,{selecting:i.element}))):(i.selecting&&((t.metaKey||t.ctrlKey)&&i.startselected?(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.$element.addClass("ui-selected"),i.selected=!0):(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.startselected&&(i.$element.addClass("ui-unselecting"),i.unselecting=!0),n._trigger("unselecting",t,{unselecting:i.element}))),i.selected&&(t.metaKey||t.ctrlKey||i.startselected||(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,n._trigger("unselecting",t,{unselecting:i.element})))))}),!1}},_mouseStop:function(t){var i=this;return this.dragged=!1,e(".ui-unselecting",this.element[0]).each(function(){var n=e.data(this,"selectable-item");n.$element.removeClass("ui-unselecting"),n.unselecting=!1,n.startselected=!1,i._trigger("unselected",t,{unselected:n.element})}),e(".ui-selecting",this.element[0]).each(function(){var n=e.data(this,"selectable-item");n.$element.removeClass("ui-selecting").addClass("ui-selected"),n.selecting=!1,n.selected=!0,n.startselected=!0,i._trigger("selected",t,{selected:n.element})}),this._trigger("stop",t),this.helper.remove(),!1}})}(jQuery),function(e){function t(e,t,i){return e>t&&t+i>e}function i(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))}e.widget("ui.sortable",e.ui.mouse,{version:"1.10.2",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var e=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?"x"===e.axis||i(this.items[0].item):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_setOption:function(t,i){"disabled"===t?(this.options[t]=i,this.widget().toggleClass("ui-sortable-disabled",!!i)):e.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(t,i){var n=null,s=!1,o=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(t),e(t.target).parents().each(function(){return e.data(this,o.widgetName+"-item")===o?(n=e(this),!1):void 0}),e.data(t.target,o.widgetName+"-item")===o&&(n=e(t.target)),n?!this.options.handle||i||(e(this.options.handle,n).find("*").addBack().each(function(){this===t.target&&(s=!0)}),s)?(this.currentItem=n,this._removeCurrentsFromItems(),!0):!1:!1)},_mouseStart:function(t,i,n){var s,o,r=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,r.cursorAt&&this._adjustOffsetFromHelper(r.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),r.containment&&this._setContainment(),r.cursor&&"auto"!==r.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",r.cursor),this.storedStylesheet=e("<style>*{ cursor: "+r.cursor+" !important; }</style>").appendTo(o)),r.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",r.opacity)),r.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",r.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!n)for(s=this.containers.length-1;s>=0;s--)this.containers[s]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!r.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var i,n,s,o,r=this.options,a=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<r.scrollSensitivity?this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+r.scrollSpeed:t.pageY-this.overflowOffset.top<r.scrollSensitivity&&(this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-r.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<r.scrollSensitivity?this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+r.scrollSpeed:t.pageX-this.overflowOffset.left<r.scrollSensitivity&&(this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-r.scrollSpeed)):(t.pageY-e(document).scrollTop()<r.scrollSensitivity?a=e(document).scrollTop(e(document).scrollTop()-r.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<r.scrollSensitivity&&(a=e(document).scrollTop(e(document).scrollTop()+r.scrollSpeed)),t.pageX-e(document).scrollLeft()<r.scrollSensitivity?a=e(document).scrollLeft(e(document).scrollLeft()-r.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<r.scrollSensitivity&&(a=e(document).scrollLeft(e(document).scrollLeft()+r.scrollSpeed))),a!==!1&&e.ui.ddmanager&&!r.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(n=this.items[i],s=n.item[0],o=this._intersectsWithPointer(n),o&&n.instance===this.currentContainer&&s!==this.currentItem[0]&&this.placeholder[1===o?"next":"prev"]()[0]!==s&&!e.contains(this.placeholder[0],s)&&("semi-dynamic"===this.options.type?!e.contains(this.element[0],s):!0)){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(n))break;this._rearrange(t,n),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,i){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var n=this,s=this.placeholder.offset(),o=this.options.axis,r={};o&&"x"!==o||(r.left=s.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(r.top=s.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,e(this.helper).animate(r,parseInt(this.options.revert,10)||500,function(){n._clear(t)})}else this._clear(t,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this
},serialize:function(t){var i=this._getItemsAsjQuery(t&&t.connected),n=[];return t=t||{},e(i).each(function(){var i=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);i&&n.push((t.key||i[1]+"[]")+"="+(t.key&&t.expression?i[1]:i[2]))}),!n.length&&t.key&&n.push(t.key+"="),n.join("&")},toArray:function(t){var i=this._getItemsAsjQuery(t&&t.connected),n=[];return t=t||{},i.each(function(){n.push(e(t.item||this).attr(t.attribute||"id")||"")}),n},_intersectsWith:function(e){var t=this.positionAbs.left,i=t+this.helperProportions.width,n=this.positionAbs.top,s=n+this.helperProportions.height,o=e.left,r=o+e.width,a=e.top,l=a+e.height,c=this.offset.click.top,u=this.offset.click.left,d=n+c>a&&l>n+c&&t+u>o&&r>t+u;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?d:t+this.helperProportions.width/2>o&&r>i-this.helperProportions.width/2&&n+this.helperProportions.height/2>a&&l>s-this.helperProportions.height/2},_intersectsWithPointer:function(e){var i="x"===this.options.axis||t(this.positionAbs.top+this.offset.click.top,e.top,e.height),n="y"===this.options.axis||t(this.positionAbs.left+this.offset.click.left,e.left,e.width),s=i&&n,o=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return s?this.floating?r&&"right"===r||"down"===o?2:1:o&&("down"===o?2:1):!1},_intersectsWithSides:function(e){var i=t(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),n=t(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),s=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return this.floating&&o?"right"===o&&n||"left"===o&&!n:s&&("down"===s&&i||"up"===s&&!i)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){var i,n,s,o,r=[],a=[],l=this._connectWith();if(l&&t)for(i=l.length-1;i>=0;i--)for(s=e(l[i]),n=s.length-1;n>=0;n--)o=e.data(s[n],this.widgetFullName),o&&o!==this&&!o.options.disabled&&a.push([e.isFunction(o.options.items)?o.options.items.call(o.element):e(o.options.items,o.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),o]);for(a.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),i=a.length-1;i>=0;i--)a[i][0].each(function(){r.push(this)});return e(r)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(e){for(var i=0;t.length>i;i++)if(t[i]===e.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var i,n,s,o,r,a,l,c,u=this.items,d=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],h=this._connectWith();if(h&&this.ready)for(i=h.length-1;i>=0;i--)for(s=e(h[i]),n=s.length-1;n>=0;n--)o=e.data(s[n],this.widgetFullName),o&&o!==this&&!o.options.disabled&&(d.push([e.isFunction(o.options.items)?o.options.items.call(o.element[0],t,{item:this.currentItem}):e(o.options.items,o.element),o]),this.containers.push(o));for(i=d.length-1;i>=0;i--)for(r=d[i][1],a=d[i][0],n=0,c=a.length;c>n;n++)l=e(a[n]),l.data(this.widgetName+"-item",r),u.push({item:l,instance:r,width:0,height:0,left:0,top:0})},refreshPositions:function(t){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,n,s,o;for(i=this.items.length-1;i>=0;i--)n=this.items[i],n.instance!==this.currentContainer&&this.currentContainer&&n.item[0]!==this.currentItem[0]||(s=this.options.toleranceElement?e(this.options.toleranceElement,n.item):n.item,t||(n.width=s.outerWidth(),n.height=s.outerHeight()),o=s.offset(),n.left=o.left,n.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)o=this.containers[i].element.offset(),this.containers[i].containerCache.left=o.left,this.containers[i].containerCache.top=o.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(t){t=t||this;var i,n=t.options;n.placeholder&&n.placeholder.constructor!==String||(i=n.placeholder,n.placeholder={element:function(){var n=t.currentItem[0].nodeName.toLowerCase(),s=e(t.document[0].createElement(n)).addClass(i||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===n?s.append("<td colspan='99'>&#160;</td>"):"img"===n&&s.attr("src",t.currentItem.attr("src")),i||s.css("visibility","hidden"),s},update:function(e,s){(!i||n.forcePlaceholderSize)&&(s.height()||s.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),s.width()||s.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}),t.placeholder=e(n.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),n.placeholder.update(t,t.placeholder)},_contactContainers:function(n){var s,o,r,a,l,c,u,d,h,p,f=null,m=null;for(s=this.containers.length-1;s>=0;s--)if(!e.contains(this.currentItem[0],this.containers[s].element[0]))if(this._intersectsWith(this.containers[s].containerCache)){if(f&&e.contains(this.containers[s].element[0],f.element[0]))continue;f=this.containers[s],m=s}else this.containers[s].containerCache.over&&(this.containers[s]._trigger("out",n,this._uiHash(this)),this.containers[s].containerCache.over=0);if(f)if(1===this.containers.length)this.containers[m].containerCache.over||(this.containers[m]._trigger("over",n,this._uiHash(this)),this.containers[m].containerCache.over=1);else{for(r=1e4,a=null,p=f.floating||i(this.currentItem),l=p?"left":"top",c=p?"width":"height",u=this.positionAbs[l]+this.offset.click[l],o=this.items.length-1;o>=0;o--)e.contains(this.containers[m].element[0],this.items[o].item[0])&&this.items[o].item[0]!==this.currentItem[0]&&(!p||t(this.positionAbs.top+this.offset.click.top,this.items[o].top,this.items[o].height))&&(d=this.items[o].item.offset()[l],h=!1,Math.abs(d-u)>Math.abs(d+this.items[o][c]-u)&&(h=!0,d+=this.items[o][c]),r>Math.abs(d-u)&&(r=Math.abs(d-u),a=this.items[o],this.direction=h?"up":"down"));if(!a&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[m])return;a?this._rearrange(n,a,null,!0):this._rearrange(n,null,this.containers[m].element,!0),this._trigger("change",n,this._uiHash()),this.containers[m]._trigger("change",n,this._uiHash(this)),this.currentContainer=this.containers[m],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[m]._trigger("over",n,this._uiHash(this)),this.containers[m].containerCache.over=1}},_createHelper:function(t){var i=this.options,n=e.isFunction(i.helper)?e(i.helper.apply(this.element[0],[t,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return n.parents("body").length||e("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(n[0]),n[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!n[0].style.width||i.forceHelperSize)&&n.width(this.currentItem.width()),(!n[0].style.height||i.forceHelperSize)&&n.height(this.currentItem.height()),n},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,n,s=this.options;"parent"===s.containment&&(s.containment=this.helper[0].parentNode),("document"===s.containment||"window"===s.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,e("document"===s.containment?document:window).width()-this.helperProportions.width-this.margins.left,(e("document"===s.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(s.containment)||(t=e(s.containment)[0],i=e(s.containment).offset(),n="hidden"!==e(t).css("overflow"),this.containment=[i.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,i.left+(n?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(n?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,i){i||(i=this.position);var n="absolute"===t?1:-1,s="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(s[0].tagName);return{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:s.scrollTop())*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:s.scrollLeft())*n}},_generatePosition:function(t){var i,n,s=this.options,o=t.pageX,r=t.pageY,a="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(a[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(r=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(r=this.containment[3]+this.offset.click.top)),s.grid&&(i=this.originalPageY+Math.round((r-this.originalPageY)/s.grid[1])*s.grid[1],r=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-s.grid[1]:i+s.grid[1]:i,n=this.originalPageX+Math.round((o-this.originalPageX)/s.grid[0])*s.grid[0],o=this.containment?n-this.offset.click.left>=this.containment[0]&&n-this.offset.click.left<=this.containment[2]?n:n-this.offset.click.left>=this.containment[0]?n-s.grid[0]:n+s.grid[0]:n)),{top:r-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:a.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:a.scrollLeft())}},_rearrange:function(e,t,i,n){i?i[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var s=this.counter;this._delay(function(){s===this.counter&&this.refreshPositions(!n)})},_clear:function(e,t){this.reverting=!1;var i,n=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)("auto"===this._storedCSS[i]||"static"===this._storedCSS[i])&&(this._storedCSS[i]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!t&&n.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||n.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(t||(n.push(function(e){this._trigger("remove",e,this._uiHash())}),n.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),n.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;i>=0;i--)t||n.push(function(e){return function(t){e._trigger("deactivate",t,this._uiHash(this))}}.call(this,this.containers[i])),this.containers[i].containerCache.over&&(n.push(function(e){return function(t){e._trigger("out",t,this._uiHash(this))}}.call(this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!t){for(this._trigger("beforeStop",e,this._uiHash()),i=0;n.length>i;i++)n[i].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!1}if(t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!t){for(i=0;n.length>i;i++)n[i].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){e.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(t){var i=t||this;return{helper:i.helper,placeholder:i.placeholder||e([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:t?t.element:null}}})}(jQuery),function(e,t){var i="ui-effects-";e.effects={effect:{}},function(e,t){function i(e,t,i){var n=d[t.type]||{};return null==e?i||!t.def?null:t.def:(e=n.floor?~~e:parseFloat(e),isNaN(e)?t.def:n.mod?(e+n.mod)%n.mod:0>e?0:e>n.max?n.max:e)}function n(i){var n=c(),s=n._rgba=[];return i=i.toLowerCase(),f(l,function(e,o){var r,a=o.re.exec(i),l=a&&o.parse(a),c=o.space||"rgba";return l?(r=n[c](l),n[u[c].cache]=r[u[c].cache],s=n._rgba=r._rgba,!1):t}),s.length?("0,0,0,0"===s.join()&&e.extend(s,o.transparent),n):o[i]}function s(e,t,i){return i=(i+1)%1,1>6*i?e+6*(t-e)*i:1>2*i?t:2>3*i?e+6*(t-e)*(2/3-i):e}var o,r="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",a=/^([\-+])=\s*(\d+\.?\d*)/,l=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],c=e.Color=function(t,i,n,s){return new e.Color.fn.parse(t,i,n,s)},u={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},d={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},h=c.support={},p=e("<p>")[0],f=e.each;p.style.cssText="background-color:rgba(1,1,1,.5)",h.rgba=p.style.backgroundColor.indexOf("rgba")>-1,f(u,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),c.fn=e.extend(c.prototype,{parse:function(s,r,a,l){if(s===t)return this._rgba=[null,null,null,null],this;(s.jquery||s.nodeType)&&(s=e(s).css(r),r=t);var d=this,h=e.type(s),p=this._rgba=[];return r!==t&&(s=[s,r,a,l],h="array"),"string"===h?this.parse(n(s)||o._default):"array"===h?(f(u.rgba.props,function(e,t){p[t.idx]=i(s[t.idx],t)}),this):"object"===h?(s instanceof c?f(u,function(e,t){s[t.cache]&&(d[t.cache]=s[t.cache].slice())}):f(u,function(t,n){var o=n.cache;f(n.props,function(e,t){if(!d[o]&&n.to){if("alpha"===e||null==s[e])return;d[o]=n.to(d._rgba)}d[o][t.idx]=i(s[e],t,!0)}),d[o]&&0>e.inArray(null,d[o].slice(0,3))&&(d[o][3]=1,n.from&&(d._rgba=n.from(d[o])))}),this):t},is:function(e){var i=c(e),n=!0,s=this;return f(u,function(e,o){var r,a=i[o.cache];return a&&(r=s[o.cache]||o.to&&o.to(s._rgba)||[],f(o.props,function(e,i){return null!=a[i.idx]?n=a[i.idx]===r[i.idx]:t})),n}),n},_space:function(){var e=[],t=this;return f(u,function(i,n){t[n.cache]&&e.push(i)}),e.pop()},transition:function(e,t){var n=c(e),s=n._space(),o=u[s],r=0===this.alpha()?c("transparent"):this,a=r[o.cache]||o.to(r._rgba),l=a.slice();return n=n[o.cache],f(o.props,function(e,s){var o=s.idx,r=a[o],c=n[o],u=d[s.type]||{};null!==c&&(null===r?l[o]=c:(u.mod&&(c-r>u.mod/2?r+=u.mod:r-c>u.mod/2&&(r-=u.mod)),l[o]=i((c-r)*t+r,s)))}),this[s](l)},blend:function(t){if(1===this._rgba[3])return this;var i=this._rgba.slice(),n=i.pop(),s=c(t)._rgba;return c(e.map(i,function(e,t){return(1-n)*s[t]+n*e}))},toRgbaString:function(){var t="rgba(",i=e.map(this._rgba,function(e,t){return null==e?t>2?1:0:e});return 1===i[3]&&(i.pop(),t="rgb("),t+i.join()+")"},toHslaString:function(){var t="hsla(",i=e.map(this.hsla(),function(e,t){return null==e&&(e=t>2?1:0),t&&3>t&&(e=Math.round(100*e)+"%"),e});return 1===i[3]&&(i.pop(),t="hsl("),t+i.join()+")"},toHexString:function(t){var i=this._rgba.slice(),n=i.pop();return t&&i.push(~~(255*n)),"#"+e.map(i,function(e){return e=(e||0).toString(16),1===e.length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),c.fn.parse.prototype=c.fn,u.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,i,n=e[0]/255,s=e[1]/255,o=e[2]/255,r=e[3],a=Math.max(n,s,o),l=Math.min(n,s,o),c=a-l,u=a+l,d=.5*u;return t=l===a?0:n===a?60*(s-o)/c+360:s===a?60*(o-n)/c+120:60*(n-s)/c+240,i=0===c?0:.5>=d?c/u:c/(2-u),[Math.round(t)%360,i,d,null==r?1:r]},u.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,i=e[1],n=e[2],o=e[3],r=.5>=n?n*(1+i):n+i-n*i,a=2*n-r;return[Math.round(255*s(a,r,t+1/3)),Math.round(255*s(a,r,t)),Math.round(255*s(a,r,t-1/3)),o]},f(u,function(n,s){var o=s.props,r=s.cache,l=s.to,u=s.from;c.fn[n]=function(n){if(l&&!this[r]&&(this[r]=l(this._rgba)),n===t)return this[r].slice();var s,a=e.type(n),d="array"===a||"object"===a?n:arguments,h=this[r].slice();return f(o,function(e,t){var n=d["object"===a?e:t.idx];null==n&&(n=h[t.idx]),h[t.idx]=i(n,t)}),u?(s=c(u(h)),s[r]=h,s):c(h)},f(o,function(t,i){c.fn[t]||(c.fn[t]=function(s){var o,r=e.type(s),l="alpha"===t?this._hsla?"hsla":"rgba":n,c=this[l](),u=c[i.idx];return"undefined"===r?u:("function"===r&&(s=s.call(this,u),r=e.type(s)),null==s&&i.empty?this:("string"===r&&(o=a.exec(s),o&&(s=u+parseFloat(o[2])*("+"===o[1]?1:-1))),c[i.idx]=s,this[l](c)))})})}),c.hook=function(t){var i=t.split(" ");f(i,function(t,i){e.cssHooks[i]={set:function(t,s){var o,r,a="";if("transparent"!==s&&("string"!==e.type(s)||(o=n(s)))){if(s=c(o||s),!h.rgba&&1!==s._rgba[3]){for(r="backgroundColor"===i?t.parentNode:t;(""===a||"transparent"===a)&&r&&r.style;)try{a=e.css(r,"backgroundColor"),r=r.parentNode}catch(l){}s=s.blend(a&&"transparent"!==a?a:"_default")}s=s.toRgbaString()}try{t.style[i]=s}catch(l){}}},e.fx.step[i]=function(t){t.colorInit||(t.start=c(t.elem,i),t.end=c(t.end),t.colorInit=!0),e.cssHooks[i].set(t.elem,t.start.transition(t.end,t.pos))}})},c.hook(r),e.cssHooks.borderColor={expand:function(e){var t={};return f(["Top","Right","Bottom","Left"],function(i,n){t["border"+n+"Color"]=e}),t}},o=e.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(){function i(t){var i,n,s=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,o={};if(s&&s.length&&s[0]&&s[s[0]])for(n=s.length;n--;)i=s[n],"string"==typeof s[i]&&(o[e.camelCase(i)]=s[i]);else for(i in s)"string"==typeof s[i]&&(o[i]=s[i]);return o}function n(t,i){var n,s,r={};for(n in i)s=i[n],t[n]!==s&&(o[n]||(e.fx.step[n]||!isNaN(parseFloat(s)))&&(r[n]=s));return r}var s=["add","remove","toggle"],o={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};e.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,i){e.fx.step[i]=function(e){("none"!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr)&&(jQuery.style(e.elem,i,e.end),e.setAttr=!0)}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e.effects.animateClass=function(t,o,r,a){var l=e.speed(o,r,a);return this.queue(function(){var o,r=e(this),a=r.attr("class")||"",c=l.children?r.find("*").addBack():r;c=c.map(function(){var t=e(this);return{el:t,start:i(this)}}),o=function(){e.each(s,function(e,i){t[i]&&r[i+"Class"](t[i])})},o(),c=c.map(function(){return this.end=i(this.el[0]),this.diff=n(this.start,this.end),this}),r.attr("class",a),c=c.map(function(){var t=this,i=e.Deferred(),n=e.extend({},l,{queue:!1,complete:function(){i.resolve(t)}});return this.el.animate(this.diff,n),i.promise()}),e.when.apply(e,c.get()).done(function(){o(),e.each(arguments,function(){var t=this.el;e.each(this.diff,function(e){t.css(e,"")})}),l.complete.call(r[0])})})},e.fn.extend({addClass:function(t){return function(i,n,s,o){return n?e.effects.animateClass.call(this,{add:i},n,s,o):t.apply(this,arguments)}}(e.fn.addClass),removeClass:function(t){return function(i,n,s,o){return arguments.length>1?e.effects.animateClass.call(this,{remove:i},n,s,o):t.apply(this,arguments)}}(e.fn.removeClass),toggleClass:function(i){return function(n,s,o,r,a){return"boolean"==typeof s||s===t?o?e.effects.animateClass.call(this,s?{add:n}:{remove:n},o,r,a):i.apply(this,arguments):e.effects.animateClass.call(this,{toggle:n},s,o,r)}}(e.fn.toggleClass),switchClass:function(t,i,n,s,o){return e.effects.animateClass.call(this,{add:i,remove:t},n,s,o)}})}(),function(){function n(t,i,n,s){return e.isPlainObject(t)&&(i=t,t=t.effect),t={effect:t},null==i&&(i={}),e.isFunction(i)&&(s=i,n=null,i={}),("number"==typeof i||e.fx.speeds[i])&&(s=n,n=i,i={}),e.isFunction(n)&&(s=n,n=null),i&&e.extend(t,i),n=n||i.duration,t.duration=e.fx.off?0:"number"==typeof n?n:n in e.fx.speeds?e.fx.speeds[n]:e.fx.speeds._default,t.complete=s||i.complete,t}function s(t){return!t||"number"==typeof t||e.fx.speeds[t]?!0:"string"!=typeof t||e.effects.effect[t]?e.isFunction(t)?!0:"object"!=typeof t||t.effect?!1:!0:!0}e.extend(e.effects,{version:"1.10.2",save:function(e,t){for(var n=0;t.length>n;n++)null!==t[n]&&e.data(i+t[n],e[0].style[t[n]])},restore:function(e,n){var s,o;for(o=0;n.length>o;o++)null!==n[o]&&(s=e.data(i+n[o]),s===t&&(s=""),e.css(n[o],s))},setMode:function(e,t){return"toggle"===t&&(t=e.is(":hidden")?"show":"hide"),t},getBaseline:function(e,t){var i,n;switch(e[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=e[0]/t.height}switch(e[1]){case"left":n=0;break;case"center":n=.5;break;case"right":n=1;break;default:n=e[1]/t.width}return{x:n,y:i}},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var i={width:t.outerWidth(!0),height:t.outerHeight(!0),"float":t.css("float")},n=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),s={width:t.width(),height:t.height()},o=document.activeElement;try{o.id}catch(r){o=document.body}return t.wrap(n),(t[0]===o||e.contains(t[0],o))&&e(o).focus(),n=t.parent(),"static"===t.css("position")?(n.css({position:"relative"}),t.css({position:"relative"})):(e.extend(i,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],function(e,n){i[n]=t.css(n),isNaN(parseInt(i[n],10))&&(i[n]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(s),n.css(i).show()},removeWrapper:function(t){var i=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===i||e.contains(t[0],i))&&e(i).focus()),t},setTransition:function(t,i,n,s){return s=s||{},e.each(i,function(e,i){var o=t.cssUnit(i);o[0]>0&&(s[i]=o[0]*n+o[1])}),s}}),e.fn.extend({effect:function(){function t(t){function n(){e.isFunction(o)&&o.call(s[0]),e.isFunction(t)&&t()}var s=e(this),o=i.complete,a=i.mode;(s.is(":hidden")?"hide"===a:"show"===a)?(s[a](),n()):r.call(s[0],i,n)}var i=n.apply(this,arguments),s=i.mode,o=i.queue,r=e.effects.effect[i.effect];return e.fx.off||!r?s?this[s](i.duration,i.complete):this.each(function(){i.complete&&i.complete.call(this)}):o===!1?this.each(t):this.queue(o||"fx",t)},show:function(e){return function(t){if(s(t))return e.apply(this,arguments);var i=n.apply(this,arguments);return i.mode="show",this.effect.call(this,i)}}(e.fn.show),hide:function(e){return function(t){if(s(t))return e.apply(this,arguments);var i=n.apply(this,arguments);return i.mode="hide",this.effect.call(this,i)}}(e.fn.hide),toggle:function(e){return function(t){if(s(t)||"boolean"==typeof t)return e.apply(this,arguments);var i=n.apply(this,arguments);return i.mode="toggle",this.effect.call(this,i)}}(e.fn.toggle),cssUnit:function(t){var i=this.css(t),n=[];return e.each(["em","px","%","pt"],function(e,t){i.indexOf(t)>0&&(n=[parseFloat(i),t])}),n}})}(),function(){var t={};e.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,i){t[i]=function(t){return Math.pow(t,e+2)}}),e.extend(t,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var t,i=4;((t=Math.pow(2,--i))-1)/11>e;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*t-2)/22-e,2)}}),e.each(t,function(t,i){e.easing["easeIn"+t]=i,e.easing["easeOut"+t]=function(e){return 1-i(1-e)},e.easing["easeInOut"+t]=function(e){return.5>e?i(2*e)/2:1-i(-2*e+2)/2}})}()}(jQuery),function(e){var t=0,i={},n={};i.height=i.paddingTop=i.paddingBottom=i.borderTopWidth=i.borderBottomWidth="hide",n.height=n.paddingTop=n.paddingBottom=n.borderTopWidth=n.borderBottomWidth="show",e.widget("ui.accordion",{version:"1.10.2",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},_create:function(){var t=this.options;this.prevShow=this.prevHide=e(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),t.collapsible||t.active!==!1&&null!=t.active||(t.active=0),this._processPanels(),0>t.active&&(t.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():e(),content:this.active.length?this.active.next():e()}},_createIcons:function(){var t=this.options.icons;t&&(e("<span>").addClass("ui-accordion-header-icon ui-icon "+t.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(t.header).addClass(t.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var e;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),this._destroyIcons(),e=this.headers.next().css("display","").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),"content"!==this.options.heightStyle&&e.css("height","")},_setOption:function(e,t){return"active"===e?(this._activate(t),void 0):("event"===e&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(t)),this._super(e,t),"collapsible"!==e||t||this.options.active!==!1||this._activate(0),"icons"===e&&(this._destroyIcons(),t&&this._createIcons()),"disabled"===e&&this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!t),void 0)},_keydown:function(t){if(!t.altKey&&!t.ctrlKey){var i=e.ui.keyCode,n=this.headers.length,s=this.headers.index(t.target),o=!1;switch(t.keyCode){case i.RIGHT:case i.DOWN:o=this.headers[(s+1)%n];break;case i.LEFT:case i.UP:o=this.headers[(s-1+n)%n];break;case i.SPACE:case i.ENTER:this._eventHandler(t);break;case i.HOME:o=this.headers[0];break;case i.END:o=this.headers[n-1]}o&&(e(t.target).attr("tabIndex",-1),e(o).attr("tabIndex",0),o.focus(),t.preventDefault())}},_panelKeyDown:function(t){t.keyCode===e.ui.keyCode.UP&&t.ctrlKey&&e(t.currentTarget).prev().focus()},refresh:function(){var t=this.options;this._processPanels(),(t.active===!1&&t.collapsible===!0||!this.headers.length)&&(t.active=!1,this.active=e()),t.active===!1?this._activate(0):this.active.length&&!e.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(t.active=!1,this.active=e()):this._activate(Math.max(0,t.active-1)):t.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all"),this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide()
},_refresh:function(){var i,n=this.options,s=n.heightStyle,o=this.element.parent(),r=this.accordionId="ui-accordion-"+(this.element.attr("id")||++t);this.active=this._findActive(n.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(t){var i=e(this),n=i.attr("id"),s=i.next(),o=s.attr("id");n||(n=r+"-header-"+t,i.attr("id",n)),o||(o=r+"-panel-"+t,s.attr("id",o)),i.attr("aria-controls",o),s.attr("aria-labelledby",n)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false",tabIndex:-1}).next().attr({"aria-expanded":"false","aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true",tabIndex:0}).next().attr({"aria-expanded":"true","aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(n.event),"fill"===s?(i=o.height(),this.element.siblings(":visible").each(function(){var t=e(this),n=t.css("position");"absolute"!==n&&"fixed"!==n&&(i-=t.outerHeight(!0))}),this.headers.each(function(){i-=e(this).outerHeight(!0)}),this.headers.next().each(function(){e(this).height(Math.max(0,i-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===s&&(i=0,this.headers.next().each(function(){i=Math.max(i,e(this).css("height","").height())}).height(i))},_activate:function(t){var i=this._findActive(t)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:e.noop}))},_findActive:function(t){return"number"==typeof t?this.headers.eq(t):e()},_setupEvents:function(t){var i={keydown:"_keydown"};t&&e.each(t.split(" "),function(e,t){i[t]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,i),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(t){var i=this.options,n=this.active,s=e(t.currentTarget),o=s[0]===n[0],r=o&&i.collapsible,a=r?e():s.next(),l=n.next(),c={oldHeader:n,oldPanel:l,newHeader:r?e():s,newPanel:a};t.preventDefault(),o&&!i.collapsible||this._trigger("beforeActivate",t,c)===!1||(i.active=r?!1:this.headers.index(s),this.active=o?e():s,this._toggle(c),n.removeClass("ui-accordion-header-active ui-state-active"),i.icons&&n.children(".ui-accordion-header-icon").removeClass(i.icons.activeHeader).addClass(i.icons.header),o||(s.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),i.icons&&s.children(".ui-accordion-header-icon").removeClass(i.icons.header).addClass(i.icons.activeHeader),s.next().addClass("ui-accordion-content-active")))},_toggle:function(t){var i=t.newPanel,n=this.prevShow.length?this.prevShow:t.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=i,this.prevHide=n,this.options.animate?this._animate(i,n,t):(n.hide(),i.show(),this._toggleComplete(t)),n.attr({"aria-expanded":"false","aria-hidden":"true"}),n.prev().attr("aria-selected","false"),i.length&&n.length?n.prev().attr("tabIndex",-1):i.length&&this.headers.filter(function(){return 0===e(this).attr("tabIndex")}).attr("tabIndex",-1),i.attr({"aria-expanded":"true","aria-hidden":"false"}).prev().attr({"aria-selected":"true",tabIndex:0})},_animate:function(e,t,s){var o,r,a,l=this,c=0,u=e.length&&(!t.length||e.index()<t.index()),d=this.options.animate||{},h=u&&d.down||d,p=function(){l._toggleComplete(s)};return"number"==typeof h&&(a=h),"string"==typeof h&&(r=h),r=r||h.easing||d.easing,a=a||h.duration||d.duration,t.length?e.length?(o=e.show().outerHeight(),t.animate(i,{duration:a,easing:r,step:function(e,t){t.now=Math.round(e)}}),e.hide().animate(n,{duration:a,easing:r,complete:p,step:function(e,i){i.now=Math.round(e),"height"!==i.prop?c+=i.now:"content"!==l.options.heightStyle&&(i.now=Math.round(o-t.outerHeight()-c),c=0)}}),void 0):t.animate(i,a,r,p):e.animate(n,a,r,p)},_toggleComplete:function(e){var t=e.oldPanel;t.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),t.length&&(t.parent()[0].className=t.parent()[0].className),this._trigger("activate",null,e)}})}(jQuery),function(e){var t=0;e.widget("ui.autocomplete",{version:"1.10.2",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},pending:0,_create:function(){var t,i,n,s=this.element[0].nodeName.toLowerCase(),o="textarea"===s,r="input"===s;this.isMultiLine=o?!0:r?!1:this.element.prop("isContentEditable"),this.valueMethod=this.element[o||r?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(s){if(this.element.prop("readOnly"))return t=!0,n=!0,i=!0,void 0;t=!1,n=!1,i=!1;var o=e.ui.keyCode;switch(s.keyCode){case o.PAGE_UP:t=!0,this._move("previousPage",s);break;case o.PAGE_DOWN:t=!0,this._move("nextPage",s);break;case o.UP:t=!0,this._keyEvent("previous",s);break;case o.DOWN:t=!0,this._keyEvent("next",s);break;case o.ENTER:case o.NUMPAD_ENTER:this.menu.active&&(t=!0,s.preventDefault(),this.menu.select(s));break;case o.TAB:this.menu.active&&this.menu.select(s);break;case o.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(s),s.preventDefault());break;default:i=!0,this._searchTimeout(s)}},keypress:function(n){if(t)return t=!1,n.preventDefault(),void 0;if(!i){var s=e.ui.keyCode;switch(n.keyCode){case s.PAGE_UP:this._move("previousPage",n);break;case s.PAGE_DOWN:this._move("nextPage",n);break;case s.UP:this._keyEvent("previous",n);break;case s.DOWN:this._keyEvent("next",n)}}},input:function(e){return n?(n=!1,e.preventDefault(),void 0):(this._searchTimeout(e),void 0)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){return this.cancelBlur?(delete this.cancelBlur,void 0):(clearTimeout(this.searching),this.close(e),this._change(e),void 0)}}),this._initSource(),this.menu=e("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({input:e(),role:null}).hide().data("ui-menu"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var i=this.menu.element[0];e(t.target).closest(".ui-menu-item").length||this._delay(function(){var t=this;this.document.one("mousedown",function(n){n.target===t.element[0]||n.target===i||e.contains(i,n.target)||t.close()})})},menufocus:function(t,i){if(this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type)))return this.menu.blur(),this.document.one("mousemove",function(){e(t.target).trigger(t.originalEvent)}),void 0;var n=i.item.data("ui-autocomplete-item");!1!==this._trigger("focus",t,{item:n})?t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(n.value):this.liveRegion.text(n.value)},menuselect:function(e,t){var i=t.item.data("ui-autocomplete-item"),n=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=n,this._delay(function(){this.previous=n,this.selectedItem=i})),!1!==this._trigger("select",e,{item:i})&&this._value(i.value),this.term=this._value(),this.close(e),this.selectedItem=i}}),this.liveRegion=e("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertAfter(this.element),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this._appendTo()),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_initSource:function(){var t,i,n=this;e.isArray(this.options.source)?(t=this.options.source,this.source=function(i,n){n(e.ui.autocomplete.filter(t,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(t,s){n.xhr&&n.xhr.abort(),n.xhr=e.ajax({url:i,data:t,dataType:"json",success:function(e){s(e)},error:function(){s([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):this._trigger("search",t)!==!1?this._search(e):void 0},_search:function(e){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var e=this,i=++t;return function(n){i===t&&e.__response(n),e.pending--,e.pending||e.element.removeClass("ui-autocomplete-loading")}},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,function(t){return"string"==typeof t?{label:t,value:t}:e.extend({label:t.label||t.value,value:t.value||t.label},t)})},_suggest:function(t){var i=this.menu.element.empty();this._renderMenu(i,t),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,i){var n=this;e.each(i,function(e,i){n._renderItemData(t,i)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(t,i){return e("<li>").append(e("<a>").text(i.label)).appendTo(t)},_move:function(e,t){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this._value(this.term),this.menu.blur(),void 0):(this.menu[e](t),void 0):(this.search(null,t),void 0)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(e,t),t.preventDefault())}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,i){var n=RegExp(e.ui.autocomplete.escapeRegex(i),"i");return e.grep(t,function(e){return n.test(e.label||e.value||e)})}}),e.widget("ui.autocomplete",e.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var t;this._superApply(arguments),this.options.disabled||this.cancelSearch||(t=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.text(t))}})}(jQuery),function(e){var t,i,n,s,o="ui-button ui-widget ui-state-default ui-corner-all",r="ui-state-hover ui-state-active ",a="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",l=function(){var t=e(this).find(":ui-button");setTimeout(function(){t.button("refresh")},1)},c=function(t){var i=t.name,n=t.form,s=e([]);return i&&(i=i.replace(/'/g,"\\'"),s=n?e(n).find("[name='"+i+"']"):e("[name='"+i+"']",t.ownerDocument).filter(function(){return!this.form})),s};e.widget("ui.button",{version:"1.10.2",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,l),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var r=this,a=this.options,u="checkbox"===this.type||"radio"===this.type,d=u?"":"ui-state-active",h="ui-state-focus";null===a.label&&(a.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(o).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){a.disabled||this===t&&e(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){a.disabled||e(this).removeClass(d)}).bind("click"+this.eventNamespace,function(e){a.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}),this.element.bind("focus"+this.eventNamespace,function(){r.buttonElement.addClass(h)}).bind("blur"+this.eventNamespace,function(){r.buttonElement.removeClass(h)}),u&&(this.element.bind("change"+this.eventNamespace,function(){s||r.refresh()}),this.buttonElement.bind("mousedown"+this.eventNamespace,function(e){a.disabled||(s=!1,i=e.pageX,n=e.pageY)}).bind("mouseup"+this.eventNamespace,function(e){a.disabled||(i!==e.pageX||n!==e.pageY)&&(s=!0)})),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){return a.disabled||s?!1:void 0}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(a.disabled||s)return!1;e(this).addClass("ui-state-active"),r.buttonElement.attr("aria-pressed","true");var t=r.element[0];c(t).not(t).map(function(){return e(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return a.disabled?!1:(e(this).addClass("ui-state-active"),t=this,r.document.one("mouseup",function(){t=null}),void 0)}).bind("mouseup"+this.eventNamespace,function(){return a.disabled?!1:(e(this).removeClass("ui-state-active"),void 0)}).bind("keydown"+this.eventNamespace,function(t){return a.disabled?!1:((t.keyCode===e.ui.keyCode.SPACE||t.keyCode===e.ui.keyCode.ENTER)&&e(this).addClass("ui-state-active"),void 0)}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){e(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(t){t.keyCode===e.ui.keyCode.SPACE&&e(this).click()})),this._setOption("disabled",a.disabled),this._resetButton()},_determineButtonType:function(){var e,t,i;this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button","checkbox"===this.type||"radio"===this.type?(e=this.element.parents().last(),t="label[for='"+this.element.attr("id")+"']",this.buttonElement=e.find(t),this.buttonElement.length||(e=e.length?e.siblings():this.element.siblings(),this.buttonElement=e.filter(t),this.buttonElement.length||(this.buttonElement=e.find(t))),this.element.addClass("ui-helper-hidden-accessible"),i=this.element.is(":checked"),i&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",i)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(o+" "+r+" "+a).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(e,t){return this._super(e,t),"disabled"===e?(t?this.element.prop("disabled",!0):this.element.prop("disabled",!1),void 0):(this._resetButton(),void 0)},refresh:function(){var t=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOption("disabled",t),"radio"===this.type?c(this.element[0]).each(function(){e(this).is(":checked")?e(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):e(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return this.options.label&&this.element.val(this.options.label),void 0;var t=this.buttonElement.removeClass(a),i=e("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(t.empty()).text(),n=this.options.icons,s=n.primary&&n.secondary,o=[];n.primary||n.secondary?(this.options.text&&o.push("ui-button-text-icon"+(s?"s":n.primary?"-primary":"-secondary")),n.primary&&t.prepend("<span class='ui-button-icon-primary ui-icon "+n.primary+"'></span>"),n.secondary&&t.append("<span class='ui-button-icon-secondary ui-icon "+n.secondary+"'></span>"),this.options.text||(o.push(s?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||t.attr("title",e.trim(i)))):o.push("ui-button-text-only"),t.addClass(o.join(" "))}}),e.widget("ui.buttonset",{version:"1.10.2",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(e,t){"disabled"===e&&this.buttons.button("option",e,t),this._super(e,t)},refresh:function(){var t="rtl"===this.element.css("direction");this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(t?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(t?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})}(jQuery),function(e,t){function i(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},e.extend(this._defaults,this.regional[""]),this.dpDiv=n(e("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function n(t){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.delegate(i,"mouseout",function(){e(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).removeClass("ui-datepicker-next-hover")}).delegate(i,"mouseover",function(){e.datepicker._isDisabledDatepicker(o.inline?t.parent()[0]:o.input[0])||(e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),e(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).addClass("ui-datepicker-next-hover"))})}function s(t,i){e.extend(t,i);for(var n in i)null==i[n]&&(t[n]=i[n]);return t}e.extend(e.ui,{datepicker:{version:"1.10.2"}});var o,r="datepicker",a=(new Date).getTime();e.extend(i.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return s(this._defaults,e||{}),this},_attachDatepicker:function(t,i){var n,s,o;n=t.nodeName.toLowerCase(),s="div"===n||"span"===n,t.id||(this.uuid+=1,t.id="dp"+this.uuid),o=this._newInst(e(t),s),o.settings=e.extend({},i||{}),"input"===n?this._connectDatepicker(t,o):s&&this._inlineDatepicker(t,o)},_newInst:function(t,i){var s=t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:s,input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?n(e("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(t,i){var n=e(t);i.append=e([]),i.trigger=e([]),n.hasClass(this.markerClassName)||(this._attachments(n,i),n.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(i),e.data(t,r,i),i.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,i){var n,s,o,r=this._get(i,"appendText"),a=this._get(i,"isRTL");i.append&&i.append.remove(),r&&(i.append=e("<span class='"+this._appendClass+"'>"+r+"</span>"),t[a?"before":"after"](i.append)),t.unbind("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),n=this._get(i,"showOn"),("focus"===n||"both"===n)&&t.focus(this._showDatepicker),("button"===n||"both"===n)&&(s=this._get(i,"buttonText"),o=this._get(i,"buttonImage"),i.trigger=e(this._get(i,"buttonImageOnly")?e("<img/>").addClass(this._triggerClass).attr({src:o,alt:s,title:s}):e("<button type='button'></button>").addClass(this._triggerClass).html(o?e("<img/>").attr({src:o,alt:s,title:s}):s)),t[a?"before":"after"](i.trigger),i.trigger.click(function(){return e.datepicker._datepickerShowing&&e.datepicker._lastInput===t[0]?e.datepicker._hideDatepicker():e.datepicker._datepickerShowing&&e.datepicker._lastInput!==t[0]?(e.datepicker._hideDatepicker(),e.datepicker._showDatepicker(t[0])):e.datepicker._showDatepicker(t[0]),!1}))},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t,i,n,s,o=new Date(2009,11,20),r=this._get(e,"dateFormat");r.match(/[DM]/)&&(t=function(e){for(i=0,n=0,s=0;e.length>s;s++)e[s].length>i&&(i=e[s].length,n=s);return n},o.setMonth(t(this._get(e,r.match(/MM/)?"monthNames":"monthNamesShort"))),o.setDate(t(this._get(e,r.match(/DD/)?"dayNames":"dayNamesShort"))+20-o.getDay())),e.input.attr("size",this._formatDate(e,o).length)}},_inlineDatepicker:function(t,i){var n=e(t);n.hasClass(this.markerClassName)||(n.addClass(this.markerClassName).append(i.dpDiv),e.data(t,r,i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(t),i.dpDiv.css("display","block"))},_dialogDatepicker:function(t,i,n,o,a){var l,c,u,d,h,p=this._dialogInst;return p||(this.uuid+=1,l="dp"+this.uuid,this._dialogInput=e("<input type='text' id='"+l+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),e("body").append(this._dialogInput),p=this._dialogInst=this._newInst(this._dialogInput,!1),p.settings={},e.data(this._dialogInput[0],r,p)),s(p.settings,o||{}),i=i&&i.constructor===Date?this._formatDate(p,i):i,this._dialogInput.val(i),this._pos=a?a.length?a:[a.pageX,a.pageY]:null,this._pos||(c=document.documentElement.clientWidth,u=document.documentElement.clientHeight,d=document.documentElement.scrollLeft||document.body.scrollLeft,h=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[c/2-100+d,u/2-150+h]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),p.settings.onSelect=n,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),e.blockUI&&e.blockUI(this.dpDiv),e.data(this._dialogInput[0],r,p),this},_destroyDatepicker:function(t){var i,n=e(t),s=e.data(t,r);n.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),e.removeData(t,r),"input"===i?(s.append.remove(),s.trigger.remove(),n.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===i||"span"===i)&&n.removeClass(this.markerClassName).empty())},_enableDatepicker:function(t){var i,n,s=e(t),o=e.data(t,r);s.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),"input"===i?(t.disabled=!1,o.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===i||"span"===i)&&(n=s.children("."+this._inlineClass),n.children().removeClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}))},_disableDatepicker:function(t){var i,n,s=e(t),o=e.data(t,r);s.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),"input"===i?(t.disabled=!0,o.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===i||"span"===i)&&(n=s.children("."+this._inlineClass),n.children().addClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;this._disabledInputs.length>t;t++)if(this._disabledInputs[t]===e)return!0;return!1},_getInst:function(t){try{return e.data(t,r)}catch(i){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(i,n,o){var r,a,l,c,u=this._getInst(i);return 2===arguments.length&&"string"==typeof n?"defaults"===n?e.extend({},e.datepicker._defaults):u?"all"===n?e.extend({},u.settings):this._get(u,n):null:(r=n||{},"string"==typeof n&&(r={},r[n]=o),u&&(this._curInst===u&&this._hideDatepicker(),a=this._getDateDatepicker(i,!0),l=this._getMinMaxDate(u,"min"),c=this._getMinMaxDate(u,"max"),s(u.settings,r),null!==l&&r.dateFormat!==t&&r.minDate===t&&(u.settings.minDate=this._formatDate(u,l)),null!==c&&r.dateFormat!==t&&r.maxDate===t&&(u.settings.maxDate=this._formatDate(u,c)),"disabled"in r&&(r.disabled?this._disableDatepicker(i):this._enableDatepicker(i)),this._attachments(e(i),u),this._autoSize(u),this._setDate(u,a),this._updateAlternate(u),this._updateDatepicker(u)),t)},_changeDatepicker:function(e,t,i){this._optionDatepicker(e,t,i)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var i=this._getInst(e);i&&(this._setDate(i,t),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(e,t){var i=this._getInst(e);return i&&!i.inline&&this._setDateFromField(i,t),i?this._getDate(i):null},_doKeyDown:function(t){var i,n,s,o=e.datepicker._getInst(t.target),r=!0,a=o.dpDiv.is(".ui-datepicker-rtl");if(o._keyEvent=!0,e.datepicker._datepickerShowing)switch(t.keyCode){case 9:e.datepicker._hideDatepicker(),r=!1;break;case 13:return s=e("td."+e.datepicker._dayOverClass+":not(."+e.datepicker._currentClass+")",o.dpDiv),s[0]&&e.datepicker._selectDay(t.target,o.selectedMonth,o.selectedYear,s[0]),i=e.datepicker._get(o,"onSelect"),i?(n=e.datepicker._formatDate(o),i.apply(o.input?o.input[0]:null,[n,o])):e.datepicker._hideDatepicker(),!1;case 27:e.datepicker._hideDatepicker();break;case 33:e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(o,"stepBigMonths"):-e.datepicker._get(o,"stepMonths"),"M");break;case 34:e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(o,"stepBigMonths"):+e.datepicker._get(o,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&e.datepicker._clearDate(t.target),r=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&e.datepicker._gotoToday(t.target),r=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,a?1:-1,"D"),r=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(o,"stepBigMonths"):-e.datepicker._get(o,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,-7,"D"),r=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,a?-1:1,"D"),r=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(o,"stepBigMonths"):+e.datepicker._get(o,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,7,"D"),r=t.ctrlKey||t.metaKey;break;default:r=!1}else 36===t.keyCode&&t.ctrlKey?e.datepicker._showDatepicker(this):r=!1;r&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(i){var n,s,o=e.datepicker._getInst(i.target);return e.datepicker._get(o,"constrainInput")?(n=e.datepicker._possibleChars(e.datepicker._get(o,"dateFormat")),s=String.fromCharCode(null==i.charCode?i.keyCode:i.charCode),i.ctrlKey||i.metaKey||" ">s||!n||n.indexOf(s)>-1):t},_doKeyUp:function(t){var i,n=e.datepicker._getInst(t.target);if(n.input.val()!==n.lastVal)try{i=e.datepicker.parseDate(e.datepicker._get(n,"dateFormat"),n.input?n.input.val():null,e.datepicker._getFormatConfig(n)),i&&(e.datepicker._setDateFromField(n),e.datepicker._updateAlternate(n),e.datepicker._updateDatepicker(n))}catch(s){}return!0},_showDatepicker:function(t){if(t=t.target||t,"input"!==t.nodeName.toLowerCase()&&(t=e("input",t.parentNode)[0]),!e.datepicker._isDisabledDatepicker(t)&&e.datepicker._lastInput!==t){var i,n,o,r,a,l,c;i=e.datepicker._getInst(t),e.datepicker._curInst&&e.datepicker._curInst!==i&&(e.datepicker._curInst.dpDiv.stop(!0,!0),i&&e.datepicker._datepickerShowing&&e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])),n=e.datepicker._get(i,"beforeShow"),o=n?n.apply(t,[t,i]):{},o!==!1&&(s(i.settings,o),i.lastVal=null,e.datepicker._lastInput=t,e.datepicker._setDateFromField(i),e.datepicker._inDialog&&(t.value=""),e.datepicker._pos||(e.datepicker._pos=e.datepicker._findPos(t),e.datepicker._pos[1]+=t.offsetHeight),r=!1,e(t).parents().each(function(){return r|="fixed"===e(this).css("position"),!r}),a={left:e.datepicker._pos[0],top:e.datepicker._pos[1]},e.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),e.datepicker._updateDatepicker(i),a=e.datepicker._checkOffset(i,a,r),i.dpDiv.css({position:e.datepicker._inDialog&&e.blockUI?"static":r?"fixed":"absolute",display:"none",left:a.left+"px",top:a.top+"px"}),i.inline||(l=e.datepicker._get(i,"showAnim"),c=e.datepicker._get(i,"duration"),i.dpDiv.zIndex(e(t).zIndex()+1),e.datepicker._datepickerShowing=!0,e.effects&&e.effects.effect[l]?i.dpDiv.show(l,e.datepicker._get(i,"showOptions"),c):i.dpDiv[l||"show"](l?c:null),i.input.is(":visible")&&!i.input.is(":disabled")&&i.input.focus(),e.datepicker._curInst=i))}},_updateDatepicker:function(t){this.maxRows=4,o=t,t.dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t),t.dpDiv.find("."+this._dayOverClass+" a").mouseover();
var i,n=this._getNumberOfMonths(t),s=n[1],r=17;t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),s>1&&t.dpDiv.addClass("ui-datepicker-multi-"+s).css("width",r*s+"em"),t.dpDiv[(1!==n[0]||1!==n[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t===e.datepicker._curInst&&e.datepicker._datepickerShowing&&t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&t.input[0]!==document.activeElement&&t.input.focus(),t.yearshtml&&(i=t.yearshtml,setTimeout(function(){i===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),i=t.yearshtml=null},0))},_getBorders:function(e){var t=function(e){return{thin:1,medium:2,thick:3}[e]||e};return[parseFloat(t(e.css("border-left-width"))),parseFloat(t(e.css("border-top-width")))]},_checkOffset:function(t,i,n){var s=t.dpDiv.outerWidth(),o=t.dpDiv.outerHeight(),r=t.input?t.input.outerWidth():0,a=t.input?t.input.outerHeight():0,l=document.documentElement.clientWidth+(n?0:e(document).scrollLeft()),c=document.documentElement.clientHeight+(n?0:e(document).scrollTop());return i.left-=this._get(t,"isRTL")?s-r:0,i.left-=n&&i.left===t.input.offset().left?e(document).scrollLeft():0,i.top-=n&&i.top===t.input.offset().top+a?e(document).scrollTop():0,i.left-=Math.min(i.left,i.left+s>l&&l>s?Math.abs(i.left+s-l):0),i.top-=Math.min(i.top,i.top+o>c&&c>o?Math.abs(o+a):0),i},_findPos:function(t){for(var i,n=this._getInst(t),s=this._get(n,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||e.expr.filters.hidden(t));)t=t[s?"previousSibling":"nextSibling"];return i=e(t).offset(),[i.left,i.top]},_hideDatepicker:function(t){var i,n,s,o,a=this._curInst;!a||t&&a!==e.data(t,r)||this._datepickerShowing&&(i=this._get(a,"showAnim"),n=this._get(a,"duration"),s=function(){e.datepicker._tidyDialog(a)},e.effects&&(e.effects.effect[i]||e.effects[i])?a.dpDiv.hide(i,e.datepicker._get(a,"showOptions"),n,s):a.dpDiv["slideDown"===i?"slideUp":"fadeIn"===i?"fadeOut":"hide"](i?n:null,s),i||s(),this._datepickerShowing=!1,o=this._get(a,"onClose"),o&&o.apply(a.input?a.input[0]:null,[a.input?a.input.val():"",a]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),e.blockUI&&(e.unblockUI(),e("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(e.datepicker._curInst){var i=e(t.target),n=e.datepicker._getInst(i[0]);(i[0].id!==e.datepicker._mainDivId&&0===i.parents("#"+e.datepicker._mainDivId).length&&!i.hasClass(e.datepicker.markerClassName)&&!i.closest("."+e.datepicker._triggerClass).length&&e.datepicker._datepickerShowing&&(!e.datepicker._inDialog||!e.blockUI)||i.hasClass(e.datepicker.markerClassName)&&e.datepicker._curInst!==n)&&e.datepicker._hideDatepicker()}},_adjustDate:function(t,i,n){var s=e(t),o=this._getInst(s[0]);this._isDisabledDatepicker(s[0])||(this._adjustInstDate(o,i+("M"===n?this._get(o,"showCurrentAtPos"):0),n),this._updateDatepicker(o))},_gotoToday:function(t){var i,n=e(t),s=this._getInst(n[0]);this._get(s,"gotoCurrent")&&s.currentDay?(s.selectedDay=s.currentDay,s.drawMonth=s.selectedMonth=s.currentMonth,s.drawYear=s.selectedYear=s.currentYear):(i=new Date,s.selectedDay=i.getDate(),s.drawMonth=s.selectedMonth=i.getMonth(),s.drawYear=s.selectedYear=i.getFullYear()),this._notifyChange(s),this._adjustDate(n)},_selectMonthYear:function(t,i,n){var s=e(t),o=this._getInst(s[0]);o["selected"+("M"===n?"Month":"Year")]=o["draw"+("M"===n?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(o),this._adjustDate(s)},_selectDay:function(t,i,n,s){var o,r=e(t);e(s).hasClass(this._unselectableClass)||this._isDisabledDatepicker(r[0])||(o=this._getInst(r[0]),o.selectedDay=o.currentDay=e("a",s).html(),o.selectedMonth=o.currentMonth=i,o.selectedYear=o.currentYear=n,this._selectDate(t,this._formatDate(o,o.currentDay,o.currentMonth,o.currentYear)))},_clearDate:function(t){var i=e(t);this._selectDate(i,"")},_selectDate:function(t,i){var n,s=e(t),o=this._getInst(s[0]);i=null!=i?i:this._formatDate(o),o.input&&o.input.val(i),this._updateAlternate(o),n=this._get(o,"onSelect"),n?n.apply(o.input?o.input[0]:null,[i,o]):o.input&&o.input.trigger("change"),o.inline?this._updateDatepicker(o):(this._hideDatepicker(),this._lastInput=o.input[0],"object"!=typeof o.input[0]&&o.input.focus(),this._lastInput=null)},_updateAlternate:function(t){var i,n,s,o=this._get(t,"altField");o&&(i=this._get(t,"altFormat")||this._get(t,"dateFormat"),n=this._getDate(t),s=this.formatDate(i,n,this._getFormatConfig(t)),e(o).each(function(){e(this).val(s)}))},noWeekends:function(e){var t=e.getDay();return[t>0&&6>t,""]},iso8601Week:function(e){var t,i=new Date(e.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),t=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((t-i)/864e5)/7)+1},parseDate:function(i,n,s){if(null==i||null==n)throw"Invalid arguments";if(n="object"==typeof n?""+n:n+"",""===n)return null;var o,r,a,l,c=0,u=(s?s.shortYearCutoff:null)||this._defaults.shortYearCutoff,d="string"!=typeof u?u:(new Date).getFullYear()%100+parseInt(u,10),h=(s?s.dayNamesShort:null)||this._defaults.dayNamesShort,p=(s?s.dayNames:null)||this._defaults.dayNames,f=(s?s.monthNamesShort:null)||this._defaults.monthNamesShort,m=(s?s.monthNames:null)||this._defaults.monthNames,g=-1,v=-1,_=-1,y=-1,b=!1,w=function(e){var t=i.length>o+1&&i.charAt(o+1)===e;return t&&o++,t},x=function(e){var t=w(e),i="@"===e?14:"!"===e?20:"y"===e&&t?4:"o"===e?3:2,s=RegExp("^\\d{1,"+i+"}"),o=n.substring(c).match(s);if(!o)throw"Missing number at position "+c;return c+=o[0].length,parseInt(o[0],10)},k=function(i,s,o){var r=-1,a=e.map(w(i)?o:s,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)});if(e.each(a,function(e,i){var s=i[1];return n.substr(c,s.length).toLowerCase()===s.toLowerCase()?(r=i[0],c+=s.length,!1):t}),-1!==r)return r+1;throw"Unknown name at position "+c},C=function(){if(n.charAt(c)!==i.charAt(o))throw"Unexpected literal at position "+c;c++};for(o=0;i.length>o;o++)if(b)"'"!==i.charAt(o)||w("'")?C():b=!1;else switch(i.charAt(o)){case"d":_=x("d");break;case"D":k("D",h,p);break;case"o":y=x("o");break;case"m":v=x("m");break;case"M":v=k("M",f,m);break;case"y":g=x("y");break;case"@":l=new Date(x("@")),g=l.getFullYear(),v=l.getMonth()+1,_=l.getDate();break;case"!":l=new Date((x("!")-this._ticksTo1970)/1e4),g=l.getFullYear(),v=l.getMonth()+1,_=l.getDate();break;case"'":w("'")?C():b=!0;break;default:C()}if(n.length>c&&(a=n.substr(c),!/^\s+/.test(a)))throw"Extra/unparsed characters found in date: "+a;if(-1===g?g=(new Date).getFullYear():100>g&&(g+=(new Date).getFullYear()-(new Date).getFullYear()%100+(d>=g?0:-100)),y>-1)for(v=1,_=y;r=this._getDaysInMonth(g,v-1),!(r>=_);)v++,_-=r;if(l=this._daylightSavingAdjust(new Date(g,v-1,_)),l.getFullYear()!==g||l.getMonth()+1!==v||l.getDate()!==_)throw"Invalid date";return l},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:864e9*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(e,t,i){if(!t)return"";var n,s=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,o=(i?i.dayNames:null)||this._defaults.dayNames,r=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,a=(i?i.monthNames:null)||this._defaults.monthNames,l=function(t){var i=e.length>n+1&&e.charAt(n+1)===t;return i&&n++,i},c=function(e,t,i){var n=""+t;if(l(e))for(;i>n.length;)n="0"+n;return n},u=function(e,t,i,n){return l(e)?n[t]:i[t]},d="",h=!1;if(t)for(n=0;e.length>n;n++)if(h)"'"!==e.charAt(n)||l("'")?d+=e.charAt(n):h=!1;else switch(e.charAt(n)){case"d":d+=c("d",t.getDate(),2);break;case"D":d+=u("D",t.getDay(),s,o);break;case"o":d+=c("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":d+=c("m",t.getMonth()+1,2);break;case"M":d+=u("M",t.getMonth(),r,a);break;case"y":d+=l("y")?t.getFullYear():(10>t.getYear()%100?"0":"")+t.getYear()%100;break;case"@":d+=t.getTime();break;case"!":d+=1e4*t.getTime()+this._ticksTo1970;break;case"'":l("'")?d+="'":h=!0;break;default:d+=e.charAt(n)}return d},_possibleChars:function(e){var t,i="",n=!1,s=function(i){var n=e.length>t+1&&e.charAt(t+1)===i;return n&&t++,n};for(t=0;e.length>t;t++)if(n)"'"!==e.charAt(t)||s("'")?i+=e.charAt(t):n=!1;else switch(e.charAt(t)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":s("'")?i+="'":n=!0;break;default:i+=e.charAt(t)}return i},_get:function(e,i){return e.settings[i]!==t?e.settings[i]:this._defaults[i]},_setDateFromField:function(e,t){if(e.input.val()!==e.lastVal){var i=this._get(e,"dateFormat"),n=e.lastVal=e.input?e.input.val():null,s=this._getDefaultDate(e),o=s,r=this._getFormatConfig(e);try{o=this.parseDate(i,n,r)||s}catch(a){n=t?"":n}e.selectedDay=o.getDate(),e.drawMonth=e.selectedMonth=o.getMonth(),e.drawYear=e.selectedYear=o.getFullYear(),e.currentDay=n?o.getDate():0,e.currentMonth=n?o.getMonth():0,e.currentYear=n?o.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(t,i,n){var s=function(e){var t=new Date;return t.setDate(t.getDate()+e),t},o=function(i){try{return e.datepicker.parseDate(e.datepicker._get(t,"dateFormat"),i,e.datepicker._getFormatConfig(t))}catch(n){}for(var s=(i.toLowerCase().match(/^c/)?e.datepicker._getDate(t):null)||new Date,o=s.getFullYear(),r=s.getMonth(),a=s.getDate(),l=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,c=l.exec(i);c;){switch(c[2]||"d"){case"d":case"D":a+=parseInt(c[1],10);break;case"w":case"W":a+=7*parseInt(c[1],10);break;case"m":case"M":r+=parseInt(c[1],10),a=Math.min(a,e.datepicker._getDaysInMonth(o,r));break;case"y":case"Y":o+=parseInt(c[1],10),a=Math.min(a,e.datepicker._getDaysInMonth(o,r))}c=l.exec(i)}return new Date(o,r,a)},r=null==i||""===i?n:"string"==typeof i?o(i):"number"==typeof i?isNaN(i)?n:s(i):new Date(i.getTime());return r=r&&"Invalid Date"==""+r?n:r,r&&(r.setHours(0),r.setMinutes(0),r.setSeconds(0),r.setMilliseconds(0)),this._daylightSavingAdjust(r)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,i){var n=!t,s=e.selectedMonth,o=e.selectedYear,r=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=r.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=r.getMonth(),e.drawYear=e.selectedYear=e.currentYear=r.getFullYear(),s===e.selectedMonth&&o===e.selectedYear||i||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(n?"":this._formatDate(e))},_getDate:function(e){var t=!e.currentYear||e.input&&""===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return t},_attachHandlers:function(t){var i=this._get(t,"stepMonths"),n="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){window["DP_jQuery_"+a].datepicker._adjustDate(n,-i,"M")},next:function(){window["DP_jQuery_"+a].datepicker._adjustDate(n,+i,"M")},hide:function(){window["DP_jQuery_"+a].datepicker._hideDatepicker()},today:function(){window["DP_jQuery_"+a].datepicker._gotoToday(n)},selectDay:function(){return window["DP_jQuery_"+a].datepicker._selectDay(n,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return window["DP_jQuery_"+a].datepicker._selectMonthYear(n,this,"M"),!1},selectYear:function(){return window["DP_jQuery_"+a].datepicker._selectMonthYear(n,this,"Y"),!1}};e(this).bind(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(e){var t,i,n,s,o,r,a,l,c,u,d,h,p,f,m,g,v,_,y,b,w,x,k,C,S,T,E,A,M,I,D,j,F,N,$,P,O,L,B,H=new Date,R=this._daylightSavingAdjust(new Date(H.getFullYear(),H.getMonth(),H.getDate())),V=this._get(e,"isRTL"),J=this._get(e,"showButtonPanel"),z=this._get(e,"hideIfNoPrevNext"),W=this._get(e,"navigationAsDateFormat"),U=this._getNumberOfMonths(e),q=this._get(e,"showCurrentAtPos"),Y=this._get(e,"stepMonths"),G=1!==U[0]||1!==U[1],X=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),K=this._getMinMaxDate(e,"min"),Q=this._getMinMaxDate(e,"max"),Z=e.drawMonth-q,et=e.drawYear;if(0>Z&&(Z+=12,et--),Q)for(t=this._daylightSavingAdjust(new Date(Q.getFullYear(),Q.getMonth()-U[0]*U[1]+1,Q.getDate())),t=K&&K>t?K:t;this._daylightSavingAdjust(new Date(et,Z,1))>t;)Z--,0>Z&&(Z=11,et--);for(e.drawMonth=Z,e.drawYear=et,i=this._get(e,"prevText"),i=W?this.formatDate(i,this._daylightSavingAdjust(new Date(et,Z-Y,1)),this._getFormatConfig(e)):i,n=this._canAdjustMonth(e,-1,et,Z)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(V?"e":"w")+"'>"+i+"</span></a>":z?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(V?"e":"w")+"'>"+i+"</span></a>",s=this._get(e,"nextText"),s=W?this.formatDate(s,this._daylightSavingAdjust(new Date(et,Z+Y,1)),this._getFormatConfig(e)):s,o=this._canAdjustMonth(e,1,et,Z)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+s+"'><span class='ui-icon ui-icon-circle-triangle-"+(V?"w":"e")+"'>"+s+"</span></a>":z?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+s+"'><span class='ui-icon ui-icon-circle-triangle-"+(V?"w":"e")+"'>"+s+"</span></a>",r=this._get(e,"currentText"),a=this._get(e,"gotoCurrent")&&e.currentDay?X:R,r=W?this.formatDate(r,a,this._getFormatConfig(e)):r,l=e.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(e,"closeText")+"</button>",c=J?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(V?l:"")+(this._isInRange(e,a)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+r+"</button>":"")+(V?"":l)+"</div>":"",u=parseInt(this._get(e,"firstDay"),10),u=isNaN(u)?0:u,d=this._get(e,"showWeek"),h=this._get(e,"dayNames"),p=this._get(e,"dayNamesMin"),f=this._get(e,"monthNames"),m=this._get(e,"monthNamesShort"),g=this._get(e,"beforeShowDay"),v=this._get(e,"showOtherMonths"),_=this._get(e,"selectOtherMonths"),y=this._getDefaultDate(e),b="",x=0;U[0]>x;x++){for(k="",this.maxRows=4,C=0;U[1]>C;C++){if(S=this._daylightSavingAdjust(new Date(et,Z,e.selectedDay)),T=" ui-corner-all",E="",G){if(E+="<div class='ui-datepicker-group",U[1]>1)switch(C){case 0:E+=" ui-datepicker-group-first",T=" ui-corner-"+(V?"right":"left");break;case U[1]-1:E+=" ui-datepicker-group-last",T=" ui-corner-"+(V?"left":"right");break;default:E+=" ui-datepicker-group-middle",T=""}E+="'>"}for(E+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+T+"'>"+(/all|left/.test(T)&&0===x?V?o:n:"")+(/all|right/.test(T)&&0===x?V?n:o:"")+this._generateMonthYearHeader(e,Z,et,K,Q,x>0||C>0,f,m)+"</div><table class='ui-datepicker-calendar'><thead>"+"<tr>",A=d?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"",w=0;7>w;w++)M=(w+u)%7,A+="<th"+((w+u+6)%7>=5?" class='ui-datepicker-week-end'":"")+">"+"<span title='"+h[M]+"'>"+p[M]+"</span></th>";for(E+=A+"</tr></thead><tbody>",I=this._getDaysInMonth(et,Z),et===e.selectedYear&&Z===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,I)),D=(this._getFirstDayOfMonth(et,Z)-u+7)%7,j=Math.ceil((D+I)/7),F=G?this.maxRows>j?this.maxRows:j:j,this.maxRows=F,N=this._daylightSavingAdjust(new Date(et,Z,1-D)),$=0;F>$;$++){for(E+="<tr>",P=d?"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(N)+"</td>":"",w=0;7>w;w++)O=g?g.apply(e.input?e.input[0]:null,[N]):[!0,""],L=N.getMonth()!==Z,B=L&&!_||!O[0]||K&&K>N||Q&&N>Q,P+="<td class='"+((w+u+6)%7>=5?" ui-datepicker-week-end":"")+(L?" ui-datepicker-other-month":"")+(N.getTime()===S.getTime()&&Z===e.selectedMonth&&e._keyEvent||y.getTime()===N.getTime()&&y.getTime()===S.getTime()?" "+this._dayOverClass:"")+(B?" "+this._unselectableClass+" ui-state-disabled":"")+(L&&!v?"":" "+O[1]+(N.getTime()===X.getTime()?" "+this._currentClass:"")+(N.getTime()===R.getTime()?" ui-datepicker-today":""))+"'"+(L&&!v||!O[2]?"":" title='"+O[2].replace(/'/g,"&#39;")+"'")+(B?"":" data-handler='selectDay' data-event='click' data-month='"+N.getMonth()+"' data-year='"+N.getFullYear()+"'")+">"+(L&&!v?"&#xa0;":B?"<span class='ui-state-default'>"+N.getDate()+"</span>":"<a class='ui-state-default"+(N.getTime()===R.getTime()?" ui-state-highlight":"")+(N.getTime()===X.getTime()?" ui-state-active":"")+(L?" ui-priority-secondary":"")+"' href='#'>"+N.getDate()+"</a>")+"</td>",N.setDate(N.getDate()+1),N=this._daylightSavingAdjust(N);E+=P+"</tr>"}Z++,Z>11&&(Z=0,et++),E+="</tbody></table>"+(G?"</div>"+(U[0]>0&&C===U[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),k+=E}b+=k}return b+=c,e._keyEvent=!1,b},_generateMonthYearHeader:function(e,t,i,n,s,o,r,a){var l,c,u,d,h,p,f,m,g=this._get(e,"changeMonth"),v=this._get(e,"changeYear"),_=this._get(e,"showMonthAfterYear"),y="<div class='ui-datepicker-title'>",b="";if(o||!g)b+="<span class='ui-datepicker-month'>"+r[t]+"</span>";else{for(l=n&&n.getFullYear()===i,c=s&&s.getFullYear()===i,b+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",u=0;12>u;u++)(!l||u>=n.getMonth())&&(!c||s.getMonth()>=u)&&(b+="<option value='"+u+"'"+(u===t?" selected='selected'":"")+">"+a[u]+"</option>");b+="</select>"}if(_||(y+=b+(!o&&g&&v?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",o||!v)y+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(d=this._get(e,"yearRange").split(":"),h=(new Date).getFullYear(),p=function(e){var t=e.match(/c[+\-].*/)?i+parseInt(e.substring(1),10):e.match(/[+\-].*/)?h+parseInt(e,10):parseInt(e,10);return isNaN(t)?h:t},f=p(d[0]),m=Math.max(f,p(d[1]||"")),f=n?Math.max(f,n.getFullYear()):f,m=s?Math.min(m,s.getFullYear()):m,e.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";m>=f;f++)e.yearshtml+="<option value='"+f+"'"+(f===i?" selected='selected'":"")+">"+f+"</option>";e.yearshtml+="</select>",y+=e.yearshtml,e.yearshtml=null}return y+=this._get(e,"yearSuffix"),_&&(y+=(!o&&g&&v?"":"&#xa0;")+b),y+="</div>"},_adjustInstDate:function(e,t,i){var n=e.drawYear+("Y"===i?t:0),s=e.drawMonth+("M"===i?t:0),o=Math.min(e.selectedDay,this._getDaysInMonth(n,s))+("D"===i?t:0),r=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(n,s,o)));e.selectedDay=r.getDate(),e.drawMonth=e.selectedMonth=r.getMonth(),e.drawYear=e.selectedYear=r.getFullYear(),("M"===i||"Y"===i)&&this._notifyChange(e)},_restrictMinMax:function(e,t){var i=this._getMinMaxDate(e,"min"),n=this._getMinMaxDate(e,"max"),s=i&&i>t?i:t;return n&&s>n?n:s},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,i,n){var s=this._getNumberOfMonths(e),o=this._daylightSavingAdjust(new Date(i,n+(0>t?t:s[0]*s[1]),1));return 0>t&&o.setDate(this._getDaysInMonth(o.getFullYear(),o.getMonth())),this._isInRange(e,o)},_isInRange:function(e,t){var i,n,s=this._getMinMaxDate(e,"min"),o=this._getMinMaxDate(e,"max"),r=null,a=null,l=this._get(e,"yearRange");return l&&(i=l.split(":"),n=(new Date).getFullYear(),r=parseInt(i[0],10),a=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(r+=n),i[1].match(/[+\-].*/)&&(a+=n)),(!s||t.getTime()>=s.getTime())&&(!o||t.getTime()<=o.getTime())&&(!r||t.getFullYear()>=r)&&(!a||a>=t.getFullYear())},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),{shortYearCutoff:t,dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,i,n){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var s=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(n,i,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),s,this._getFormatConfig(e))}}),e.fn.datepicker=function(t){if(!this.length)return this;e.datepicker.initialized||(e(document).mousedown(e.datepicker._checkExternalClick),e.datepicker.initialized=!0),0===e("#"+e.datepicker._mainDivId).length&&e("body").append(e.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!==t&&"getDate"!==t&&"widget"!==t?"option"===t&&2===arguments.length&&"string"==typeof arguments[1]?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(i)):this.each(function(){"string"==typeof t?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this].concat(i)):e.datepicker._attachDatepicker(this,t)}):e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(i))},e.datepicker=new i,e.datepicker.initialized=!1,e.datepicker.uuid=(new Date).getTime(),e.datepicker.version="1.10.2",window["DP_jQuery_"+a]=e}(jQuery),function(e){var t={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},i={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};e.widget("ui.dialog",{version:"1.10.2",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var i=e(this).css(t).offset().top;0>i&&e(this).css("top",t.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&e.fn.draggable&&this._makeDraggable(),this.options.resizable&&e.fn.resizable&&this._makeResizable(),this._isOpen=!1},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var t=this.options.appendTo;return t&&(t.jquery||t.nodeType)?e(t):this.document.find(t||"body").eq(0)},_destroy:function(){var e,t=this.originalPosition;this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),e=t.parent.children().eq(t.index),e.length&&e[0]!==this.element[0]?e.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},disable:e.noop,enable:e.noop,close:function(t){var i=this;this._isOpen&&this._trigger("beforeClose",t)!==!1&&(this._isOpen=!1,this._destroyOverlay(),this.opener.filter(":focusable").focus().length||e(this.document[0].activeElement).blur(),this._hide(this.uiDialog,this.options.hide,function(){i._trigger("close",t)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(e,t){var i=!!this.uiDialog.nextAll(":visible").insertBefore(this.uiDialog).length;return i&&!t&&this._trigger("focus",e),i},open:function(){var t=this;return this._isOpen?(this._moveToTop()&&this._focusTabbable(),void 0):(this._isOpen=!0,this.opener=e(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this._show(this.uiDialog,this.options.show,function(){t._focusTabbable(),t._trigger("focus")}),this._trigger("open"),void 0)},_focusTabbable:function(){var e=this.element.find("[autofocus]");e.length||(e=this.element.find(":tabbable")),e.length||(e=this.uiDialogButtonPane.find(":tabbable")),e.length||(e=this.uiDialogTitlebarClose.filter(":tabbable")),e.length||(e=this.uiDialog),e.eq(0).focus()},_keepFocus:function(t){function i(){var t=this.document[0].activeElement,i=this.uiDialog[0]===t||e.contains(this.uiDialog[0],t);i||this._focusTabbable()}t.preventDefault(),i.call(this),this._delay(i)},_createWrapper:function(){this.uiDialog=e("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(t){if(this.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===e.ui.keyCode.ESCAPE)return t.preventDefault(),this.close(t),void 0;if(t.keyCode===e.ui.keyCode.TAB){var i=this.uiDialog.find(":tabbable"),n=i.filter(":first"),s=i.filter(":last");t.target!==s[0]&&t.target!==this.uiDialog[0]||t.shiftKey?t.target!==n[0]&&t.target!==this.uiDialog[0]||!t.shiftKey||(s.focus(1),t.preventDefault()):(n.focus(1),t.preventDefault())}},mousedown:function(e){this._moveToTop(e)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var t;this.uiDialogTitlebar=e("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(t){e(t.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=e("<button></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(e){e.preventDefault(),this.close(e)}}),t=e("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(t),this.uiDialog.attr({"aria-labelledby":t.attr("id")})},_title:function(e){this.options.title||e.html("&#160;"),e.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=e("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=e("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var t=this,i=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),e.isEmptyObject(i)||e.isArray(i)&&!i.length?(this.uiDialog.removeClass("ui-dialog-buttons"),void 0):(e.each(i,function(i,n){var s,o;n=e.isFunction(n)?{click:n,text:i}:n,n=e.extend({type:"button"},n),s=n.click,n.click=function(){s.apply(t.element[0],arguments)},o={icons:n.icons,text:n.showText},delete n.icons,delete n.showText,e("<button></button>",n).button(o).appendTo(t.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog),void 0)},_makeDraggable:function(){function t(e){return{position:e.position,offset:e.offset}}var i=this,n=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(n,s){e(this).addClass("ui-dialog-dragging"),i._blockFrames(),i._trigger("dragStart",n,t(s))},drag:function(e,n){i._trigger("drag",e,t(n))},stop:function(s,o){n.position=[o.position.left-i.document.scrollLeft(),o.position.top-i.document.scrollTop()],e(this).removeClass("ui-dialog-dragging"),i._unblockFrames(),i._trigger("dragStop",s,t(o))}})},_makeResizable:function(){function t(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}var i=this,n=this.options,s=n.resizable,o=this.uiDialog.css("position"),r="string"==typeof s?s:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:n.maxWidth,maxHeight:n.maxHeight,minWidth:n.minWidth,minHeight:this._minHeight(),handles:r,start:function(n,s){e(this).addClass("ui-dialog-resizing"),i._blockFrames(),i._trigger("resizeStart",n,t(s))},resize:function(e,n){i._trigger("resize",e,t(n))},stop:function(s,o){n.height=e(this).height(),n.width=e(this).width(),e(this).removeClass("ui-dialog-resizing"),i._unblockFrames(),i._trigger("resizeStop",s,t(o))}}).css("position",o)},_minHeight:function(){var e=this.options;return"auto"===e.height?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(){var e=this.uiDialog.is(":visible");e||this.uiDialog.show(),this.uiDialog.position(this.options.position),e||this.uiDialog.hide()},_setOptions:function(n){var s=this,o=!1,r={};e.each(n,function(e,n){s._setOption(e,n),e in t&&(o=!0),e in i&&(r[e]=n)}),o&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",r)},_setOption:function(e,t){var i,n,s=this.uiDialog;"dialogClass"===e&&s.removeClass(this.options.dialogClass).addClass(t),"disabled"!==e&&(this._super(e,t),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:""+t}),"draggable"===e&&(i=s.is(":data(ui-draggable)"),i&&!t&&s.draggable("destroy"),!i&&t&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&(n=s.is(":data(ui-resizable)"),n&&!t&&s.resizable("destroy"),n&&"string"==typeof t&&s.resizable("option","handles",t),n||t===!1||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var e,t,i,n=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),n.minWidth>n.width&&(n.width=n.minWidth),e=this.uiDialog.css({height:"auto",width:n.width}).outerHeight(),t=Math.max(0,n.minHeight-e),i="number"==typeof n.maxHeight?Math.max(0,n.maxHeight-e):"none","auto"===n.height?this.element.css({minHeight:t,maxHeight:i,height:"auto"}):this.element.height(Math.max(0,n.height-e)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var t=e(this);return e("<div>").css({position:"absolute",width:t.outerWidth(),height:t.outerHeight()}).appendTo(t.parent()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(t){return e(t.target).closest(".ui-dialog").length?!0:!!e(t.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var t=this,i=this.widgetFullName;e.ui.dialog.overlayInstances||this._delay(function(){e.ui.dialog.overlayInstances&&this.document.bind("focusin.dialog",function(n){t._allowInteraction(n)||(n.preventDefault(),e(".ui-dialog:visible:last .ui-dialog-content").data(i)._focusTabbable())})}),this.overlay=e("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),e.ui.dialog.overlayInstances++}},_destroyOverlay:function(){this.options.modal&&this.overlay&&(e.ui.dialog.overlayInstances--,e.ui.dialog.overlayInstances||this.document.unbind("focusin.dialog"),this.overlay.remove(),this.overlay=null)}}),e.ui.dialog.overlayInstances=0,e.uiBackCompat!==!1&&e.widget("ui.dialog",e.ui.dialog,{_position:function(){var t,i=this.options.position,n=[],s=[0,0];i?(("string"==typeof i||"object"==typeof i&&"0"in i)&&(n=i.split?i.split(" "):[i[0],i[1]],1===n.length&&(n[1]=n[0]),e.each(["left","top"],function(e,t){+n[e]===n[e]&&(s[e]=n[e],n[e]=t)}),i={my:n[0]+(0>s[0]?s[0]:"+"+s[0])+" "+n[1]+(0>s[1]?s[1]:"+"+s[1]),at:n.join(" ")}),i=e.extend({},e.ui.dialog.prototype.options.position,i)):i=e.ui.dialog.prototype.options.position,t=this.uiDialog.is(":visible"),t||this.uiDialog.show(),this.uiDialog.position(i),t||this.uiDialog.hide()
}})}(jQuery),function(e){var t=/up|down|vertical/,i=/up|left|vertical|horizontal/;e.effects.effect.blind=function(n,s){var o,r,a,l=e(this),c=["position","top","bottom","left","right","height","width"],u=e.effects.setMode(l,n.mode||"hide"),d=n.direction||"up",h=t.test(d),p=h?"height":"width",f=h?"top":"left",m=i.test(d),g={},v="show"===u;l.parent().is(".ui-effects-wrapper")?e.effects.save(l.parent(),c):e.effects.save(l,c),l.show(),o=e.effects.createWrapper(l).css({overflow:"hidden"}),r=o[p](),a=parseFloat(o.css(f))||0,g[p]=v?r:0,m||(l.css(h?"bottom":"right",0).css(h?"top":"left","auto").css({position:"absolute"}),g[f]=v?a:r+a),v&&(o.css(p,0),m||o.css(f,a+r)),o.animate(g,{duration:n.duration,easing:n.easing,queue:!1,complete:function(){"hide"===u&&l.hide(),e.effects.restore(l,c),e.effects.removeWrapper(l),s()}})}}(jQuery),function(e){e.effects.effect.bounce=function(t,i){var n,s,o,r=e(this),a=["position","top","bottom","left","right","height","width"],l=e.effects.setMode(r,t.mode||"effect"),c="hide"===l,u="show"===l,d=t.direction||"up",h=t.distance,p=t.times||5,f=2*p+(u||c?1:0),m=t.duration/f,g=t.easing,v="up"===d||"down"===d?"top":"left",_="up"===d||"left"===d,y=r.queue(),b=y.length;for((u||c)&&a.push("opacity"),e.effects.save(r,a),r.show(),e.effects.createWrapper(r),h||(h=r["top"===v?"outerHeight":"outerWidth"]()/3),u&&(o={opacity:1},o[v]=0,r.css("opacity",0).css(v,_?2*-h:2*h).animate(o,m,g)),c&&(h/=Math.pow(2,p-1)),o={},o[v]=0,n=0;p>n;n++)s={},s[v]=(_?"-=":"+=")+h,r.animate(s,m,g).animate(o,m,g),h=c?2*h:h/2;c&&(s={opacity:0},s[v]=(_?"-=":"+=")+h,r.animate(s,m,g)),r.queue(function(){c&&r.hide(),e.effects.restore(r,a),e.effects.removeWrapper(r),i()}),b>1&&y.splice.apply(y,[1,0].concat(y.splice(b,f+1))),r.dequeue()}}(jQuery),function(e){e.effects.effect.clip=function(t,i){var n,s,o,r=e(this),a=["position","top","bottom","left","right","height","width"],l=e.effects.setMode(r,t.mode||"hide"),c="show"===l,u=t.direction||"vertical",d="vertical"===u,h=d?"height":"width",p=d?"top":"left",f={};e.effects.save(r,a),r.show(),n=e.effects.createWrapper(r).css({overflow:"hidden"}),s="IMG"===r[0].tagName?n:r,o=s[h](),c&&(s.css(h,0),s.css(p,o/2)),f[h]=c?o:0,f[p]=c?0:o/2,s.animate(f,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){c||r.hide(),e.effects.restore(r,a),e.effects.removeWrapper(r),i()}})}}(jQuery),function(e){e.effects.effect.drop=function(t,i){var n,s=e(this),o=["position","top","bottom","left","right","opacity","height","width"],r=e.effects.setMode(s,t.mode||"hide"),a="show"===r,l=t.direction||"left",c="up"===l||"down"===l?"top":"left",u="up"===l||"left"===l?"pos":"neg",d={opacity:a?1:0};e.effects.save(s,o),s.show(),e.effects.createWrapper(s),n=t.distance||s["top"===c?"outerHeight":"outerWidth"](!0)/2,a&&s.css("opacity",0).css(c,"pos"===u?-n:n),d[c]=(a?"pos"===u?"+=":"-=":"pos"===u?"-=":"+=")+n,s.animate(d,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===r&&s.hide(),e.effects.restore(s,o),e.effects.removeWrapper(s),i()}})}}(jQuery),function(e){e.effects.effect.explode=function(t,i){function n(){y.push(this),y.length===d*h&&s()}function s(){p.css({visibility:"visible"}),e(y).remove(),m||p.hide(),i()}var o,r,a,l,c,u,d=t.pieces?Math.round(Math.sqrt(t.pieces)):3,h=d,p=e(this),f=e.effects.setMode(p,t.mode||"hide"),m="show"===f,g=p.show().css("visibility","hidden").offset(),v=Math.ceil(p.outerWidth()/h),_=Math.ceil(p.outerHeight()/d),y=[];for(o=0;d>o;o++)for(l=g.top+o*_,u=o-(d-1)/2,r=0;h>r;r++)a=g.left+r*v,c=r-(h-1)/2,p.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-r*v,top:-o*_}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:v,height:_,left:a+(m?c*v:0),top:l+(m?u*_:0),opacity:m?0:1}).animate({left:a+(m?0:c*v),top:l+(m?0:u*_),opacity:m?1:0},t.duration||500,t.easing,n)}}(jQuery),function(e){e.effects.effect.fade=function(t,i){var n=e(this),s=e.effects.setMode(n,t.mode||"toggle");n.animate({opacity:s},{queue:!1,duration:t.duration,easing:t.easing,complete:i})}}(jQuery),function(e){e.effects.effect.fold=function(t,i){var n,s,o=e(this),r=["position","top","bottom","left","right","height","width"],a=e.effects.setMode(o,t.mode||"hide"),l="show"===a,c="hide"===a,u=t.size||15,d=/([0-9]+)%/.exec(u),h=!!t.horizFirst,p=l!==h,f=p?["width","height"]:["height","width"],m=t.duration/2,g={},v={};e.effects.save(o,r),o.show(),n=e.effects.createWrapper(o).css({overflow:"hidden"}),s=p?[n.width(),n.height()]:[n.height(),n.width()],d&&(u=parseInt(d[1],10)/100*s[c?0:1]),l&&n.css(h?{height:0,width:u}:{height:u,width:0}),g[f[0]]=l?s[0]:u,v[f[1]]=l?s[1]:0,n.animate(g,m,t.easing).animate(v,m,t.easing,function(){c&&o.hide(),e.effects.restore(o,r),e.effects.removeWrapper(o),i()})}}(jQuery),function(e){e.effects.effect.highlight=function(t,i){var n=e(this),s=["backgroundImage","backgroundColor","opacity"],o=e.effects.setMode(n,t.mode||"show"),r={backgroundColor:n.css("backgroundColor")};"hide"===o&&(r.opacity=0),e.effects.save(n,s),n.show().css({backgroundImage:"none",backgroundColor:t.color||"#ffff99"}).animate(r,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===o&&n.hide(),e.effects.restore(n,s),i()}})}}(jQuery),function(e){e.effects.effect.pulsate=function(t,i){var n,s=e(this),o=e.effects.setMode(s,t.mode||"show"),r="show"===o,a="hide"===o,l=r||"hide"===o,c=2*(t.times||5)+(l?1:0),u=t.duration/c,d=0,h=s.queue(),p=h.length;for((r||!s.is(":visible"))&&(s.css("opacity",0).show(),d=1),n=1;c>n;n++)s.animate({opacity:d},u,t.easing),d=1-d;s.animate({opacity:d},u,t.easing),s.queue(function(){a&&s.hide(),i()}),p>1&&h.splice.apply(h,[1,0].concat(h.splice(p,c+1))),s.dequeue()}}(jQuery),function(e){e.effects.effect.puff=function(t,i){var n=e(this),s=e.effects.setMode(n,t.mode||"hide"),o="hide"===s,r=parseInt(t.percent,10)||150,a=r/100,l={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()};e.extend(t,{effect:"scale",queue:!1,fade:!0,mode:s,complete:i,percent:o?r:100,from:o?l:{height:l.height*a,width:l.width*a,outerHeight:l.outerHeight*a,outerWidth:l.outerWidth*a}}),n.effect(t)},e.effects.effect.scale=function(t,i){var n=e(this),s=e.extend(!0,{},t),o=e.effects.setMode(n,t.mode||"effect"),r=parseInt(t.percent,10)||(0===parseInt(t.percent,10)?0:"hide"===o?0:100),a=t.direction||"both",l=t.origin,c={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()},u={y:"horizontal"!==a?r/100:1,x:"vertical"!==a?r/100:1};s.effect="size",s.queue=!1,s.complete=i,"effect"!==o&&(s.origin=l||["middle","center"],s.restore=!0),s.from=t.from||("show"===o?{height:0,width:0,outerHeight:0,outerWidth:0}:c),s.to={height:c.height*u.y,width:c.width*u.x,outerHeight:c.outerHeight*u.y,outerWidth:c.outerWidth*u.x},s.fade&&("show"===o&&(s.from.opacity=0,s.to.opacity=1),"hide"===o&&(s.from.opacity=1,s.to.opacity=0)),n.effect(s)},e.effects.effect.size=function(t,i){var n,s,o,r=e(this),a=["position","top","bottom","left","right","width","height","overflow","opacity"],l=["position","top","bottom","left","right","overflow","opacity"],c=["width","height","overflow"],u=["fontSize"],d=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],h=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],p=e.effects.setMode(r,t.mode||"effect"),f=t.restore||"effect"!==p,m=t.scale||"both",g=t.origin||["middle","center"],v=r.css("position"),_=f?a:l,y={height:0,width:0,outerHeight:0,outerWidth:0};"show"===p&&r.show(),n={height:r.height(),width:r.width(),outerHeight:r.outerHeight(),outerWidth:r.outerWidth()},"toggle"===t.mode&&"show"===p?(r.from=t.to||y,r.to=t.from||n):(r.from=t.from||("show"===p?y:n),r.to=t.to||("hide"===p?y:n)),o={from:{y:r.from.height/n.height,x:r.from.width/n.width},to:{y:r.to.height/n.height,x:r.to.width/n.width}},("box"===m||"both"===m)&&(o.from.y!==o.to.y&&(_=_.concat(d),r.from=e.effects.setTransition(r,d,o.from.y,r.from),r.to=e.effects.setTransition(r,d,o.to.y,r.to)),o.from.x!==o.to.x&&(_=_.concat(h),r.from=e.effects.setTransition(r,h,o.from.x,r.from),r.to=e.effects.setTransition(r,h,o.to.x,r.to))),("content"===m||"both"===m)&&o.from.y!==o.to.y&&(_=_.concat(u).concat(c),r.from=e.effects.setTransition(r,u,o.from.y,r.from),r.to=e.effects.setTransition(r,u,o.to.y,r.to)),e.effects.save(r,_),r.show(),e.effects.createWrapper(r),r.css("overflow","hidden").css(r.from),g&&(s=e.effects.getBaseline(g,n),r.from.top=(n.outerHeight-r.outerHeight())*s.y,r.from.left=(n.outerWidth-r.outerWidth())*s.x,r.to.top=(n.outerHeight-r.to.outerHeight)*s.y,r.to.left=(n.outerWidth-r.to.outerWidth)*s.x),r.css(r.from),("content"===m||"both"===m)&&(d=d.concat(["marginTop","marginBottom"]).concat(u),h=h.concat(["marginLeft","marginRight"]),c=a.concat(d).concat(h),r.find("*[width]").each(function(){var i=e(this),n={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()};f&&e.effects.save(i,c),i.from={height:n.height*o.from.y,width:n.width*o.from.x,outerHeight:n.outerHeight*o.from.y,outerWidth:n.outerWidth*o.from.x},i.to={height:n.height*o.to.y,width:n.width*o.to.x,outerHeight:n.height*o.to.y,outerWidth:n.width*o.to.x},o.from.y!==o.to.y&&(i.from=e.effects.setTransition(i,d,o.from.y,i.from),i.to=e.effects.setTransition(i,d,o.to.y,i.to)),o.from.x!==o.to.x&&(i.from=e.effects.setTransition(i,h,o.from.x,i.from),i.to=e.effects.setTransition(i,h,o.to.x,i.to)),i.css(i.from),i.animate(i.to,t.duration,t.easing,function(){f&&e.effects.restore(i,c)})})),r.animate(r.to,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){0===r.to.opacity&&r.css("opacity",r.from.opacity),"hide"===p&&r.hide(),e.effects.restore(r,_),f||("static"===v?r.css({position:"relative",top:r.to.top,left:r.to.left}):e.each(["top","left"],function(e,t){r.css(t,function(t,i){var n=parseInt(i,10),s=e?r.to.left:r.to.top;return"auto"===i?s+"px":n+s+"px"})})),e.effects.removeWrapper(r),i()}})}}(jQuery),function(e){e.effects.effect.shake=function(t,i){var n,s=e(this),o=["position","top","bottom","left","right","height","width"],r=e.effects.setMode(s,t.mode||"effect"),a=t.direction||"left",l=t.distance||20,c=t.times||3,u=2*c+1,d=Math.round(t.duration/u),h="up"===a||"down"===a?"top":"left",p="up"===a||"left"===a,f={},m={},g={},v=s.queue(),_=v.length;for(e.effects.save(s,o),s.show(),e.effects.createWrapper(s),f[h]=(p?"-=":"+=")+l,m[h]=(p?"+=":"-=")+2*l,g[h]=(p?"-=":"+=")+2*l,s.animate(f,d,t.easing),n=1;c>n;n++)s.animate(m,d,t.easing).animate(g,d,t.easing);s.animate(m,d,t.easing).animate(f,d/2,t.easing).queue(function(){"hide"===r&&s.hide(),e.effects.restore(s,o),e.effects.removeWrapper(s),i()}),_>1&&v.splice.apply(v,[1,0].concat(v.splice(_,u+1))),s.dequeue()}}(jQuery),function(e){e.effects.effect.slide=function(t,i){var n,s=e(this),o=["position","top","bottom","left","right","width","height"],r=e.effects.setMode(s,t.mode||"show"),a="show"===r,l=t.direction||"left",c="up"===l||"down"===l?"top":"left",u="up"===l||"left"===l,d={};e.effects.save(s,o),s.show(),n=t.distance||s["top"===c?"outerHeight":"outerWidth"](!0),e.effects.createWrapper(s).css({overflow:"hidden"}),a&&s.css(c,u?isNaN(n)?"-"+n:-n:n),d[c]=(a?u?"+=":"-=":u?"-=":"+=")+n,s.animate(d,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===r&&s.hide(),e.effects.restore(s,o),e.effects.removeWrapper(s),i()}})}}(jQuery),function(e){e.effects.effect.transfer=function(t,i){var n=e(this),s=e(t.to),o="fixed"===s.css("position"),r=e("body"),a=o?r.scrollTop():0,l=o?r.scrollLeft():0,c=s.offset(),u={top:c.top-a,left:c.left-l,height:s.innerHeight(),width:s.innerWidth()},d=n.offset(),h=e("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(t.className).css({top:d.top-a,left:d.left-l,height:n.innerHeight(),width:n.innerWidth(),position:o?"fixed":"absolute"}).animate(u,t.duration,t.easing,function(){h.remove(),i()})}}(jQuery),function(e){e.widget("ui.menu",{version:"1.10.2",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,e.proxy(function(e){this.options.disabled&&e.preventDefault()},this)),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item > a":function(e){e.preventDefault()},"click .ui-state-disabled > a":function(e){e.preventDefault()},"click .ui-menu-item:has(a)":function(t){var i=e(t.target).closest(".ui-menu-item");!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.mouseHandled=!0,this.select(t),i.has(".ui-menu").length?this.expand(t):this.element.is(":focus")||(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){var i=e(t.currentTarget);i.siblings().children(".ui-state-active").removeClass("ui-state-active"),this.focus(t,i)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var i=this.active||this.element.children(".ui-menu-item").eq(0);t||this.focus(e,i)},blur:function(t){this._delay(function(){e.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(t)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){e(t.target).closest(".ui-menu").length||this.collapseAll(t),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var t=e(this);t.data("ui-menu-submenu-carat")&&t.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(t){function i(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var n,s,o,r,a,l=!0;switch(t.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(t);break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case e.ui.keyCode.HOME:this._move("first","first",t);break;case e.ui.keyCode.END:this._move("last","last",t);break;case e.ui.keyCode.UP:this.previous(t);break;case e.ui.keyCode.DOWN:this.next(t);break;case e.ui.keyCode.LEFT:this.collapse(t);break;case e.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(t);break;case e.ui.keyCode.ESCAPE:this.collapse(t);break;default:l=!1,s=this.previousFilter||"",o=String.fromCharCode(t.keyCode),r=!1,clearTimeout(this.filterTimer),o===s?r=!0:o=s+o,a=RegExp("^"+i(o),"i"),n=this.activeMenu.children(".ui-menu-item").filter(function(){return a.test(e(this).children("a").text())}),n=r&&-1!==n.index(this.active.next())?this.active.nextAll(".ui-menu-item"):n,n.length||(o=String.fromCharCode(t.keyCode),a=RegExp("^"+i(o),"i"),n=this.activeMenu.children(".ui-menu-item").filter(function(){return a.test(e(this).children("a").text())})),n.length?(this.focus(t,n),n.length>1?(this.previousFilter=o,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}l&&t.preventDefault()},_activate:function(e){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(e):this.select(e))},refresh:function(){var t,i=this.options.icons.submenu,n=this.element.find(this.options.menus);n.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=e(this),n=t.prev("a"),s=e("<span>").addClass("ui-menu-icon ui-icon "+i).data("ui-menu-submenu-carat",!0);n.attr("aria-haspopup","true").prepend(s),t.attr("aria-labelledby",n.attr("id"))}),t=n.add(this.element),t.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()}),t.children(":not(.ui-menu-item)").each(function(){var t=e(this);/[^\-\u2014\u2013\s]/.test(t.text())||t.addClass("ui-widget-content ui-menu-divider")}),t.children(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!e.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(e,t){"icons"===e&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(t.submenu),this._super(e,t)},focus:function(e,t){var i,n;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),n=this.active.children("a").addClass("ui-state-focus"),this.options.role&&this.element.attr("aria-activedescendant",n.attr("id")),this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),i=t.children(".ui-menu"),i.length&&/^mouse/.test(e.type)&&this._startOpening(i),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(t){var i,n,s,o,r,a;this._hasScroll()&&(i=parseFloat(e.css(this.activeMenu[0],"borderTopWidth"))||0,n=parseFloat(e.css(this.activeMenu[0],"paddingTop"))||0,s=t.offset().top-this.activeMenu.offset().top-i-n,o=this.activeMenu.scrollTop(),r=this.activeMenu.height(),a=t.height(),0>s?this.activeMenu.scrollTop(o+s):s+a>r&&this.activeMenu.scrollTop(o+s-r+a))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",e,{item:this.active}))},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(e)},this.delay))},_open:function(t){var i=e.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(t,i){clearTimeout(this.timer),this.timer=this._delay(function(){var n=i?this.element:e(t&&t.target).closest(this.element.find(".ui-menu"));n.length||(n=this.element),this._close(n),this.blur(t),this.activeMenu=n},this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(e,t)}))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(e,t,i){var n;this.active&&(n="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[e+"All"](".ui-menu-item").eq(0)),n&&n.length&&this.active||(n=this.activeMenu.children(".ui-menu-item")[t]()),this.focus(i,n)},nextPage:function(t){var i,n,s;return this.active?(this.isLastItem()||(this._hasScroll()?(n=this.active.offset().top,s=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return i=e(this),0>i.offset().top-n-s}),this.focus(t,i)):this.focus(t,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]())),void 0):(this.next(t),void 0)},previousPage:function(t){var i,n,s;return this.active?(this.isFirstItem()||(this._hasScroll()?(n=this.active.offset().top,s=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return i=e(this),i.offset().top-n+s>0}),this.focus(t,i)):this.focus(t,this.activeMenu.children(".ui-menu-item").first())),void 0):(this.next(t),void 0)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||e(t.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,i)}})}(jQuery),function(e,t){function i(e,t,i){return[parseFloat(e[0])*(p.test(e[0])?t/100:1),parseFloat(e[1])*(p.test(e[1])?i/100:1)]}function n(t,i){return parseInt(e.css(t,i),10)||0}function s(t){var i=t[0];return 9===i.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:e.isWindow(i)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}e.ui=e.ui||{};var o,r=Math.max,a=Math.abs,l=Math.round,c=/left|center|right/,u=/top|center|bottom/,d=/[\+\-]\d+(\.[\d]+)?%?/,h=/^\w+/,p=/%$/,f=e.fn.position;e.position={scrollbarWidth:function(){if(o!==t)return o;var i,n,s=e("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),r=s.children()[0];return e("body").append(s),i=r.offsetWidth,s.css("overflow","scroll"),n=r.offsetWidth,i===n&&(n=s[0].clientWidth),s.remove(),o=i-n},getScrollInfo:function(t){var i=t.isWindow?"":t.element.css("overflow-x"),n=t.isWindow?"":t.element.css("overflow-y"),s="scroll"===i||"auto"===i&&t.width<t.element[0].scrollWidth,o="scroll"===n||"auto"===n&&t.height<t.element[0].scrollHeight;return{width:o?e.position.scrollbarWidth():0,height:s?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var i=e(t||window),n=e.isWindow(i[0]);return{element:i,isWindow:n,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:n?i.width():i.outerWidth(),height:n?i.height():i.outerHeight()}}},e.fn.position=function(t){if(!t||!t.of)return f.apply(this,arguments);t=e.extend({},t);var o,p,m,g,v,_,y=e(t.of),b=e.position.getWithinInfo(t.within),w=e.position.getScrollInfo(b),x=(t.collision||"flip").split(" "),k={};return _=s(y),y[0].preventDefault&&(t.at="left top"),p=_.width,m=_.height,g=_.offset,v=e.extend({},g),e.each(["my","at"],function(){var e,i,n=(t[this]||"").split(" ");1===n.length&&(n=c.test(n[0])?n.concat(["center"]):u.test(n[0])?["center"].concat(n):["center","center"]),n[0]=c.test(n[0])?n[0]:"center",n[1]=u.test(n[1])?n[1]:"center",e=d.exec(n[0]),i=d.exec(n[1]),k[this]=[e?e[0]:0,i?i[0]:0],t[this]=[h.exec(n[0])[0],h.exec(n[1])[0]]}),1===x.length&&(x[1]=x[0]),"right"===t.at[0]?v.left+=p:"center"===t.at[0]&&(v.left+=p/2),"bottom"===t.at[1]?v.top+=m:"center"===t.at[1]&&(v.top+=m/2),o=i(k.at,p,m),v.left+=o[0],v.top+=o[1],this.each(function(){var s,c,u=e(this),d=u.outerWidth(),h=u.outerHeight(),f=n(this,"marginLeft"),_=n(this,"marginTop"),C=d+f+n(this,"marginRight")+w.width,S=h+_+n(this,"marginBottom")+w.height,T=e.extend({},v),E=i(k.my,u.outerWidth(),u.outerHeight());"right"===t.my[0]?T.left-=d:"center"===t.my[0]&&(T.left-=d/2),"bottom"===t.my[1]?T.top-=h:"center"===t.my[1]&&(T.top-=h/2),T.left+=E[0],T.top+=E[1],e.support.offsetFractions||(T.left=l(T.left),T.top=l(T.top)),s={marginLeft:f,marginTop:_},e.each(["left","top"],function(i,n){e.ui.position[x[i]]&&e.ui.position[x[i]][n](T,{targetWidth:p,targetHeight:m,elemWidth:d,elemHeight:h,collisionPosition:s,collisionWidth:C,collisionHeight:S,offset:[o[0]+E[0],o[1]+E[1]],my:t.my,at:t.at,within:b,elem:u})}),t.using&&(c=function(e){var i=g.left-T.left,n=i+p-d,s=g.top-T.top,o=s+m-h,l={target:{element:y,left:g.left,top:g.top,width:p,height:m},element:{element:u,left:T.left,top:T.top,width:d,height:h},horizontal:0>n?"left":i>0?"right":"center",vertical:0>o?"top":s>0?"bottom":"middle"};d>p&&p>a(i+n)&&(l.horizontal="center"),h>m&&m>a(s+o)&&(l.vertical="middle"),l.important=r(a(i),a(n))>r(a(s),a(o))?"horizontal":"vertical",t.using.call(this,e,l)}),u.offset(e.extend(T,{using:c}))})},e.ui.position={fit:{left:function(e,t){var i,n=t.within,s=n.isWindow?n.scrollLeft:n.offset.left,o=n.width,a=e.left-t.collisionPosition.marginLeft,l=s-a,c=a+t.collisionWidth-o-s;t.collisionWidth>o?l>0&&0>=c?(i=e.left+l+t.collisionWidth-o-s,e.left+=l-i):e.left=c>0&&0>=l?s:l>c?s+o-t.collisionWidth:s:l>0?e.left+=l:c>0?e.left-=c:e.left=r(e.left-a,e.left)},top:function(e,t){var i,n=t.within,s=n.isWindow?n.scrollTop:n.offset.top,o=t.within.height,a=e.top-t.collisionPosition.marginTop,l=s-a,c=a+t.collisionHeight-o-s;t.collisionHeight>o?l>0&&0>=c?(i=e.top+l+t.collisionHeight-o-s,e.top+=l-i):e.top=c>0&&0>=l?s:l>c?s+o-t.collisionHeight:s:l>0?e.top+=l:c>0?e.top-=c:e.top=r(e.top-a,e.top)}},flip:{left:function(e,t){var i,n,s=t.within,o=s.offset.left+s.scrollLeft,r=s.width,l=s.isWindow?s.scrollLeft:s.offset.left,c=e.left-t.collisionPosition.marginLeft,u=c-l,d=c+t.collisionWidth-r-l,h="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,p="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,f=-2*t.offset[0];0>u?(i=e.left+h+p+f+t.collisionWidth-r-o,(0>i||a(u)>i)&&(e.left+=h+p+f)):d>0&&(n=e.left-t.collisionPosition.marginLeft+h+p+f-l,(n>0||d>a(n))&&(e.left+=h+p+f))},top:function(e,t){var i,n,s=t.within,o=s.offset.top+s.scrollTop,r=s.height,l=s.isWindow?s.scrollTop:s.offset.top,c=e.top-t.collisionPosition.marginTop,u=c-l,d=c+t.collisionHeight-r-l,h="top"===t.my[1],p=h?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,f="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,m=-2*t.offset[1];0>u?(n=e.top+p+f+m+t.collisionHeight-r-o,e.top+p+f+m>u&&(0>n||a(u)>n)&&(e.top+=p+f+m)):d>0&&(i=e.top-t.collisionPosition.marginTop+p+f+m-l,e.top+p+f+m>d&&(i>0||d>a(i))&&(e.top+=p+f+m))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}},function(){var t,i,n,s,o,r=document.getElementsByTagName("body")[0],a=document.createElement("div");t=document.createElement(r?"div":"body"),n={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},r&&e.extend(n,{position:"absolute",left:"-1000px",top:"-1000px"});for(o in n)t.style[o]=n[o];t.appendChild(a),i=r||document.documentElement,i.insertBefore(t,i.firstChild),a.style.cssText="position: absolute; left: 10.7432222px;",s=e(a).offset().left,e.support.offsetFractions=s>10&&11>s,t.innerHTML="",i.removeChild(t)}()}(jQuery),function(e,t){e.widget("ui.progressbar",{version:"1.10.2",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=e("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(e){return e===t?this.options.value:(this.options.value=this._constrainedValue(e),this._refreshValue(),t)},_constrainedValue:function(e){return e===t&&(e=this.options.value),this.indeterminate=e===!1,"number"!=typeof e&&(e=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,e))},_setOptions:function(e){var t=e.value;delete e.value,this._super(e),this.options.value=this._constrainedValue(t),this._refreshValue()},_setOption:function(e,t){"max"===e&&(t=Math.max(this.min,t)),this._super(e,t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var t=this.options.value,i=this._percentage();this.valueDiv.toggle(this.indeterminate||t>this.min).toggleClass("ui-corner-right",t===this.options.max).width(i.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=e("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":t}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==t&&(this.oldValue=t,this._trigger("change")),t===this.options.max&&this._trigger("complete")}})}(jQuery),function(e){var t=5;e.widget("ui.slider",e.ui.mouse,{version:"1.10.2",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget"+" ui-widget-content"+" ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var t,i,n=this.options,s=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),o="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",r=[];for(i=n.values&&n.values.length||1,s.length>i&&(s.slice(i).remove(),s=s.slice(0,i)),t=s.length;i>t;t++)r.push(o);this.handles=s.add(e(r.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(t){e(this).data("ui-slider-handle-index",t)})},_createRange:function(){var t=this.options,i="";t.range?(t.range===!0&&(t.values?t.values.length&&2!==t.values.length?t.values=[t.values[0],t.values[0]]:e.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=e("<div></div>").appendTo(this.element),i="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(i+("min"===t.range||"max"===t.range?" ui-slider-range-"+t.range:""))):this.range=e([])},_setupEvents:function(){var e=this.handles.add(this.range).filter("a");this._off(e),this._on(e,this._handleEvents),this._hoverable(e),this._focusable(e)},_destroy:function(){this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(t){var i,n,s,o,r,a,l,c,u=this,d=this.options;return d.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:t.pageX,y:t.pageY},n=this._normValueFromMouse(i),s=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var i=Math.abs(n-u.values(t));(s>i||s===i&&(t===u._lastChangedValue||u.values(t)===d.min))&&(s=i,o=e(this),r=t)}),a=this._start(t,r),a===!1?!1:(this._mouseSliding=!0,this._handleIndex=r,o.addClass("ui-state-active").focus(),l=o.offset(),c=!e(t.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=c?{left:0,top:0}:{left:t.pageX-l.left-o.width()/2,top:t.pageY-l.top-o.height()/2-(parseInt(o.css("borderTopWidth"),10)||0)-(parseInt(o.css("borderBottomWidth"),10)||0)+(parseInt(o.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,r,n),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},i=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,i),!1},_mouseStop:function(e){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"
},_normValueFromMouse:function(e){var t,i,n,s,o;return"horizontal"===this.orientation?(t=this.elementSize.width,i=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,i=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),n=i/t,n>1&&(n=1),0>n&&(n=0),"vertical"===this.orientation&&(n=1-n),s=this._valueMax()-this._valueMin(),o=this._valueMin()+n*s,this._trimAlignValue(o)},_start:function(e,t){var i={handle:this.handles[t],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("start",e,i)},_slide:function(e,t,i){var n,s,o;this.options.values&&this.options.values.length?(n=this.values(t?0:1),2===this.options.values.length&&this.options.range===!0&&(0===t&&i>n||1===t&&n>i)&&(i=n),i!==this.values(t)&&(s=this.values(),s[t]=i,o=this._trigger("slide",e,{handle:this.handles[t],value:i,values:s}),n=this.values(t?0:1),o!==!1&&this.values(t,i,!0))):i!==this.value()&&(o=this._trigger("slide",e,{handle:this.handles[t],value:i}),o!==!1&&this.value(i))},_stop:function(e,t){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("stop",e,i)},_change:function(e,t){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._lastChangedValue=t,this._trigger("change",e,i)}},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),this._change(null,0),void 0):this._value()},values:function(t,i){var n,s,o;if(arguments.length>1)return this.options.values[t]=this._trimAlignValue(i),this._refreshValue(),this._change(null,t),void 0;if(!arguments.length)return this._values();if(!e.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(t):this.value();for(n=this.options.values,s=arguments[0],o=0;n.length>o;o+=1)n[o]=this._trimAlignValue(s[o]),this._change(null,o);this._refreshValue()},_setOption:function(t,i){var n,s=0;switch("range"===t&&this.options.range===!0&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),e.isArray(this.options.values)&&(s=this.options.values.length),e.Widget.prototype._setOption.apply(this,arguments),t){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),n=0;s>n;n+=1)this._change(null,n);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var e=this.options.value;return e=this._trimAlignValue(e)},_values:function(e){var t,i,n;if(arguments.length)return t=this.options.values[e],t=this._trimAlignValue(t);if(this.options.values&&this.options.values.length){for(i=this.options.values.slice(),n=0;i.length>n;n+=1)i[n]=this._trimAlignValue(i[n]);return i}return[]},_trimAlignValue:function(e){if(this._valueMin()>=e)return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,i=(e-this._valueMin())%t,n=e-i;return 2*Math.abs(i)>=t&&(n+=i>0?t:-t),parseFloat(n.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var t,i,n,s,o,r=this.options.range,a=this.options,l=this,c=this._animateOff?!1:a.animate,u={};this.options.values&&this.options.values.length?this.handles.each(function(n){i=100*((l.values(n)-l._valueMin())/(l._valueMax()-l._valueMin())),u["horizontal"===l.orientation?"left":"bottom"]=i+"%",e(this).stop(1,1)[c?"animate":"css"](u,a.animate),l.options.range===!0&&("horizontal"===l.orientation?(0===n&&l.range.stop(1,1)[c?"animate":"css"]({left:i+"%"},a.animate),1===n&&l.range[c?"animate":"css"]({width:i-t+"%"},{queue:!1,duration:a.animate})):(0===n&&l.range.stop(1,1)[c?"animate":"css"]({bottom:i+"%"},a.animate),1===n&&l.range[c?"animate":"css"]({height:i-t+"%"},{queue:!1,duration:a.animate}))),t=i}):(n=this.value(),s=this._valueMin(),o=this._valueMax(),i=o!==s?100*((n-s)/(o-s)):0,u["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[c?"animate":"css"](u,a.animate),"min"===r&&"horizontal"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({width:i+"%"},a.animate),"max"===r&&"horizontal"===this.orientation&&this.range[c?"animate":"css"]({width:100-i+"%"},{queue:!1,duration:a.animate}),"min"===r&&"vertical"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({height:i+"%"},a.animate),"max"===r&&"vertical"===this.orientation&&this.range[c?"animate":"css"]({height:100-i+"%"},{queue:!1,duration:a.animate}))},_handleEvents:{keydown:function(i){var n,s,o,r,a=e(i.target).data("ui-slider-handle-index");switch(i.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(i.preventDefault(),!this._keySliding&&(this._keySliding=!0,e(i.target).addClass("ui-state-active"),n=this._start(i,a),n===!1))return}switch(r=this.options.step,s=o=this.options.values&&this.options.values.length?this.values(a):this.value(),i.keyCode){case e.ui.keyCode.HOME:o=this._valueMin();break;case e.ui.keyCode.END:o=this._valueMax();break;case e.ui.keyCode.PAGE_UP:o=this._trimAlignValue(s+(this._valueMax()-this._valueMin())/t);break;case e.ui.keyCode.PAGE_DOWN:o=this._trimAlignValue(s-(this._valueMax()-this._valueMin())/t);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(s===this._valueMax())return;o=this._trimAlignValue(s+r);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(s===this._valueMin())return;o=this._trimAlignValue(s-r)}this._slide(i,a,o)},click:function(e){e.preventDefault()},keyup:function(t){var i=e(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,i),this._change(t,i),e(t.target).removeClass("ui-state-active"))}}})}(jQuery),function(e){function t(e){return function(){var t=this.element.val();e.apply(this,arguments),this._refresh(),t!==this.element.val()&&this._trigger("change")}}e.widget("ui.spinner",{version:"1.10.2",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var t={},i=this.element;return e.each(["min","max","step"],function(e,n){var s=i.attr(n);void 0!==s&&s.length&&(t[n]=s)}),t},_events:{keydown:function(e){this._start(e)&&this._keydown(e)&&e.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(e){return this.cancelBlur?(delete this.cancelBlur,void 0):(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",e),void 0)},mousewheel:function(e,t){if(t){if(!this.spinning&&!this._start(e))return!1;this._spin((t>0?1:-1)*this.options.step,e),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(e)},100),e.preventDefault()}},"mousedown .ui-spinner-button":function(t){function i(){var e=this.element[0]===this.document[0].activeElement;e||(this.element.focus(),this.previous=n,this._delay(function(){this.previous=n}))}var n;n=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),t.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,i.call(this)}),this._start(t)!==!1&&this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(t){return e(t.currentTarget).hasClass("ui-state-active")?this._start(t)===!1?!1:(this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t),void 0):void 0},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var e=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=e.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*e.height())&&e.height()>0&&e.height(e.height()),this.options.disabled&&this.disable()},_keydown:function(t){var i=this.options,n=e.ui.keyCode;switch(t.keyCode){case n.UP:return this._repeat(null,1,t),!0;case n.DOWN:return this._repeat(null,-1,t),!0;case n.PAGE_UP:return this._repeat(null,i.page,t),!0;case n.PAGE_DOWN:return this._repeat(null,-i.page,t),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span>"+"</a>"+"<a class='ui-spinner-button ui-spinner-down ui-corner-br'>"+"<span class='ui-icon "+this.options.icons.down+"'>&#9660;</span>"+"</a>"},_start:function(e){return this.spinning||this._trigger("start",e)!==!1?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(e,t,i){e=e||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,t,i)},e),this._spin(t*this.options.step,i)},_spin:function(e,t){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+e*this._increment(this.counter)),this.spinning&&this._trigger("spin",t,{value:i})===!1||(this._value(i),this.counter++)},_increment:function(t){var i=this.options.incremental;return i?e.isFunction(i)?i(t):Math.floor(t*t*t/5e4-t*t/500+17*t/200+1):1},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=""+e,i=t.indexOf(".");return-1===i?0:t.length-i-1},_adjustValue:function(e){var t,i,n=this.options;return t=null!==n.min?n.min:0,i=e-t,i=Math.round(i/n.step)*n.step,e=t+i,e=parseFloat(e.toFixed(this._precision())),null!==n.max&&e>n.max?n.max:null!==n.min&&n.min>e?n.min:e},_stop:function(e){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",e))},_setOption:function(e,t){if("culture"===e||"numberFormat"===e){var i=this._parse(this.element.val());return this.options[e]=t,this.element.val(this._format(i)),void 0}("max"===e||"min"===e||"step"===e)&&"string"==typeof t&&(t=this._parse(t)),"icons"===e&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(t.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(t.down)),this._super(e,t),"disabled"===e&&(t?(this.element.prop("disabled",!0),this.buttons.button("disable")):(this.element.prop("disabled",!1),this.buttons.button("enable")))},_setOptions:t(function(e){this._super(e),this._value(this.element.val())}),_parse:function(e){return"string"==typeof e&&""!==e&&(e=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(e,10,this.options.culture):+e),""===e||isNaN(e)?null:e},_format:function(e){return""===e?"":window.Globalize&&this.options.numberFormat?Globalize.format(e,this.options.numberFormat,this.options.culture):e},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},_value:function(e,t){var i;""!==e&&(i=this._parse(e),null!==i&&(t||(i=this._adjustValue(i)),e=this._format(i))),this.element.val(e),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:t(function(e){this._stepUp(e)}),_stepUp:function(e){this._start()&&(this._spin((e||1)*this.options.step),this._stop())},stepDown:t(function(e){this._stepDown(e)}),_stepDown:function(e){this._start()&&(this._spin((e||1)*-this.options.step),this._stop())},pageUp:t(function(e){this._stepUp((e||1)*this.options.page)}),pageDown:t(function(e){this._stepDown((e||1)*this.options.page)}),value:function(e){return arguments.length?(t(this._value).call(this,e),void 0):this._parse(this.element.val())},widget:function(){return this.uiSpinner}})}(jQuery),function(e,t){function i(){return++s}function n(e){return e.hash.length>1&&decodeURIComponent(e.href.replace(o,""))===decodeURIComponent(location.href.replace(o,""))}var s=0,o=/#.*$/;e.widget("ui.tabs",{version:"1.10.2",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var t=this,i=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",i.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(t){e(this).is(".ui-state-disabled")&&t.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){e(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this._processTabs(),i.active=this._initialActive(),e.isArray(i.disabled)&&(i.disabled=e.unique(i.disabled.concat(e.map(this.tabs.filter(".ui-state-disabled"),function(e){return t.tabs.index(e)}))).sort()),this.active=this.options.active!==!1&&this.anchors.length?this._findActive(i.active):e(),this._refresh(),this.active.length&&this.load(i.active)},_initialActive:function(){var i=this.options.active,n=this.options.collapsible,s=location.hash.substring(1);return null===i&&(s&&this.tabs.each(function(n,o){return e(o).attr("aria-controls")===s?(i=n,!1):t}),null===i&&(i=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===i||-1===i)&&(i=this.tabs.length?0:!1)),i!==!1&&(i=this.tabs.index(this.tabs.eq(i)),-1===i&&(i=n?!1:0)),!n&&i===!1&&this.anchors.length&&(i=0),i},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):e()}},_tabKeydown:function(i){var n=e(this.document[0].activeElement).closest("li"),s=this.tabs.index(n),o=!0;if(!this._handlePageNav(i)){switch(i.keyCode){case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:s++;break;case e.ui.keyCode.UP:case e.ui.keyCode.LEFT:o=!1,s--;break;case e.ui.keyCode.END:s=this.anchors.length-1;break;case e.ui.keyCode.HOME:s=0;break;case e.ui.keyCode.SPACE:return i.preventDefault(),clearTimeout(this.activating),this._activate(s),t;case e.ui.keyCode.ENTER:return i.preventDefault(),clearTimeout(this.activating),this._activate(s===this.options.active?!1:s),t;default:return}i.preventDefault(),clearTimeout(this.activating),s=this._focusNextTab(s,o),i.ctrlKey||(n.attr("aria-selected","false"),this.tabs.eq(s).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",s)},this.delay))}},_panelKeydown:function(t){this._handlePageNav(t)||t.ctrlKey&&t.keyCode===e.ui.keyCode.UP&&(t.preventDefault(),this.active.focus())},_handlePageNav:function(i){return i.altKey&&i.keyCode===e.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):i.altKey&&i.keyCode===e.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):t},_findNextTab:function(t,i){function n(){return t>s&&(t=0),0>t&&(t=s),t}for(var s=this.tabs.length-1;-1!==e.inArray(n(),this.options.disabled);)t=i?t+1:t-1;return t},_focusNextTab:function(e,t){return e=this._findNextTab(e,t),this.tabs.eq(e).focus(),e},_setOption:function(e,i){return"active"===e?(this._activate(i),t):"disabled"===e?(this._setupDisabled(i),t):(this._super(e,i),"collapsible"===e&&(this.element.toggleClass("ui-tabs-collapsible",i),i||this.options.active!==!1||this._activate(0)),"event"===e&&this._setupEvents(i),"heightStyle"===e&&this._setupHeightStyle(i),t)},_tabId:function(e){return e.attr("aria-controls")||"ui-tabs-"+i()},_sanitizeSelector:function(e){return e?e.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var t=this.options,i=this.tablist.children(":has(a[href])");t.disabled=e.map(i.filter(".ui-state-disabled"),function(e){return i.index(e)}),this._processTabs(),t.active!==!1&&this.anchors.length?this.active.length&&!e.contains(this.tablist[0],this.active[0])?this.tabs.length===t.disabled.length?(t.active=!1,this.active=e()):this._activate(this._findNextTab(Math.max(0,t.active-1),!1)):t.active=this.tabs.index(this.active):(t.active=!1,this.active=e()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-expanded":"true","aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var t=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist"),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return e("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=e(),this.anchors.each(function(i,s){var o,r,a,l=e(s).uniqueId().attr("id"),c=e(s).closest("li"),u=c.attr("aria-controls");n(s)?(o=s.hash,r=t.element.find(t._sanitizeSelector(o))):(a=t._tabId(c),o="#"+a,r=t.element.find(o),r.length||(r=t._createPanel(a),r.insertAfter(t.panels[i-1]||t.tablist)),r.attr("aria-live","polite")),r.length&&(t.panels=t.panels.add(r)),u&&c.data("ui-tabs-aria-controls",u),c.attr({"aria-controls":o.substring(1),"aria-labelledby":l}),r.attr("aria-labelledby",l)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.element.find("ol,ul").eq(0)},_createPanel:function(t){return e("<div>").attr("id",t).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(t){e.isArray(t)&&(t.length?t.length===this.anchors.length&&(t=!0):t=!1);for(var i,n=0;i=this.tabs[n];n++)t===!0||-1!==e.inArray(n,t)?e(i).addClass("ui-state-disabled").attr("aria-disabled","true"):e(i).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=t},_setupEvents:function(t){var i={click:function(e){e.preventDefault()}};t&&e.each(t.split(" "),function(e,t){i[t]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(t){var i,n=this.element.parent();"fill"===t?(i=n.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var t=e(this),n=t.css("position");"absolute"!==n&&"fixed"!==n&&(i-=t.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=e(this).outerHeight(!0)}),this.panels.each(function(){e(this).height(Math.max(0,i-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===t&&(i=0,this.panels.each(function(){i=Math.max(i,e(this).height("").height())}).height(i))},_eventHandler:function(t){var i=this.options,n=this.active,s=e(t.currentTarget),o=s.closest("li"),r=o[0]===n[0],a=r&&i.collapsible,l=a?e():this._getPanelForTab(o),c=n.length?this._getPanelForTab(n):e(),u={oldTab:n,oldPanel:c,newTab:a?e():o,newPanel:l};t.preventDefault(),o.hasClass("ui-state-disabled")||o.hasClass("ui-tabs-loading")||this.running||r&&!i.collapsible||this._trigger("beforeActivate",t,u)===!1||(i.active=a?!1:this.tabs.index(o),this.active=r?e():o,this.xhr&&this.xhr.abort(),c.length||l.length||e.error("jQuery UI Tabs: Mismatching fragment identifier."),l.length&&this.load(this.tabs.index(o),t),this._toggle(t,u))},_toggle:function(t,i){function n(){o.running=!1,o._trigger("activate",t,i)}function s(){i.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),r.length&&o.options.show?o._show(r,o.options.show,n):(r.show(),n())}var o=this,r=i.newPanel,a=i.oldPanel;this.running=!0,a.length&&this.options.hide?this._hide(a,this.options.hide,function(){i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),s()}):(i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),a.hide(),s()),a.attr({"aria-expanded":"false","aria-hidden":"true"}),i.oldTab.attr("aria-selected","false"),r.length&&a.length?i.oldTab.attr("tabIndex",-1):r.length&&this.tabs.filter(function(){return 0===e(this).attr("tabIndex")}).attr("tabIndex",-1),r.attr({"aria-expanded":"true","aria-hidden":"false"}),i.newTab.attr({"aria-selected":"true",tabIndex:0})},_activate:function(t){var i,n=this._findActive(t);n[0]!==this.active[0]&&(n.length||(n=this.active),i=n.find(".ui-tabs-anchor")[0],this._eventHandler({target:i,currentTarget:i,preventDefault:e.noop}))},_findActive:function(t){return t===!1?e():this.tabs.eq(t)},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+e+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){e.data(this,"ui-tabs-destroy")?e(this).remove():e(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var t=e(this),i=t.data("ui-tabs-aria-controls");i?t.attr("aria-controls",i).removeData("ui-tabs-aria-controls"):t.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(i){var n=this.options.disabled;n!==!1&&(i===t?n=!1:(i=this._getIndex(i),n=e.isArray(n)?e.map(n,function(e){return e!==i?e:null}):e.map(this.tabs,function(e,t){return t!==i?t:null})),this._setupDisabled(n))},disable:function(i){var n=this.options.disabled;if(n!==!0){if(i===t)n=!0;else{if(i=this._getIndex(i),-1!==e.inArray(i,n))return;n=e.isArray(n)?e.merge([i],n).sort():[i]}this._setupDisabled(n)}},load:function(t,i){t=this._getIndex(t);var s=this,o=this.tabs.eq(t),r=o.find(".ui-tabs-anchor"),a=this._getPanelForTab(o),l={tab:o,panel:a};n(r[0])||(this.xhr=e.ajax(this._ajaxSettings(r,i,l)),this.xhr&&"canceled"!==this.xhr.statusText&&(o.addClass("ui-tabs-loading"),a.attr("aria-busy","true"),this.xhr.success(function(e){setTimeout(function(){a.html(e),s._trigger("load",i,l)},1)}).complete(function(e,t){setTimeout(function(){"abort"===t&&s.panels.stop(!1,!0),o.removeClass("ui-tabs-loading"),a.removeAttr("aria-busy"),e===s.xhr&&delete s.xhr},1)})))},_ajaxSettings:function(t,i,n){var s=this;return{url:t.attr("href"),beforeSend:function(t,o){return s._trigger("beforeLoad",i,e.extend({jqXHR:t,ajaxSettings:o},n))}}},_getPanelForTab:function(t){var i=e(t).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}})}(jQuery),function(e){function t(t,i){var n=(t.attr("aria-describedby")||"").split(/\s+/);n.push(i),t.data("ui-tooltip-id",i).attr("aria-describedby",e.trim(n.join(" ")))}function i(t){var i=t.data("ui-tooltip-id"),n=(t.attr("aria-describedby")||"").split(/\s+/),s=e.inArray(i,n);-1!==s&&n.splice(s,1),t.removeData("ui-tooltip-id"),n=e.trim(n.join(" ")),n?t.attr("aria-describedby",n):t.removeAttr("aria-describedby")}var n=0;e.widget("ui.tooltip",{version:"1.10.2",options:{content:function(){var t=e(this).attr("title")||"";return e("<a>").text(t).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable()},_setOption:function(t,i){var n=this;return"disabled"===t?(this[i?"_disable":"_enable"](),this.options[t]=i,void 0):(this._super(t,i),"content"===t&&e.each(this.tooltips,function(e,t){n._updateContent(t)}),void 0)},_disable:function(){var t=this;e.each(this.tooltips,function(i,n){var s=e.Event("blur");s.target=s.currentTarget=n[0],t.close(s,!0)}),this.element.find(this.options.items).addBack().each(function(){var t=e(this);t.is("[title]")&&t.data("ui-tooltip-title",t.attr("title")).attr("title","")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var t=e(this);t.data("ui-tooltip-title")&&t.attr("title",t.data("ui-tooltip-title"))})},open:function(t){var i=this,n=e(t?t.target:this.element).closest(this.options.items);n.length&&!n.data("ui-tooltip-id")&&(n.attr("title")&&n.data("ui-tooltip-title",n.attr("title")),n.data("ui-tooltip-open",!0),t&&"mouseover"===t.type&&n.parents().each(function(){var t,n=e(this);n.data("ui-tooltip-open")&&(t=e.Event("blur"),t.target=t.currentTarget=this,i.close(t,!0)),n.attr("title")&&(n.uniqueId(),i.parents[this.id]={element:this,title:n.attr("title")},n.attr("title",""))}),this._updateContent(n,t))},_updateContent:function(e,t){var i,n=this.options.content,s=this,o=t?t.type:null;return"string"==typeof n?this._open(t,e,n):(i=n.call(e[0],function(i){e.data("ui-tooltip-open")&&s._delay(function(){t&&(t.type=o),this._open(t,e,i)})}),i&&this._open(t,e,i),void 0)},_open:function(i,n,s){function o(e){c.of=e,r.is(":hidden")||r.position(c)}var r,a,l,c=e.extend({},this.options.position);if(s){if(r=this._find(n),r.length)return r.find(".ui-tooltip-content").html(s),void 0;n.is("[title]")&&(i&&"mouseover"===i.type?n.attr("title",""):n.removeAttr("title")),r=this._tooltip(n),t(n,r.attr("id")),r.find(".ui-tooltip-content").html(s),this.options.track&&i&&/^mouse/.test(i.type)?(this._on(this.document,{mousemove:o}),o(i)):r.position(e.extend({of:n},this.options.position)),r.hide(),this._show(r,this.options.show),this.options.show&&this.options.show.delay&&(l=this.delayedShow=setInterval(function(){r.is(":visible")&&(o(c.of),clearInterval(l))},e.fx.interval)),this._trigger("open",i,{tooltip:r}),a={keyup:function(t){if(t.keyCode===e.ui.keyCode.ESCAPE){var i=e.Event(t);i.currentTarget=n[0],this.close(i,!0)}},remove:function(){this._removeTooltip(r)}},i&&"mouseover"!==i.type||(a.mouseleave="close"),i&&"focusin"!==i.type||(a.focusout="close"),this._on(!0,n,a)}},close:function(t){var n=this,s=e(t?t.currentTarget:this.element),o=this._find(s);this.closing||(clearInterval(this.delayedShow),s.data("ui-tooltip-title")&&s.attr("title",s.data("ui-tooltip-title")),i(s),o.stop(!0),this._hide(o,this.options.hide,function(){n._removeTooltip(e(this))}),s.removeData("ui-tooltip-open"),this._off(s,"mouseleave focusout keyup"),s[0]!==this.element[0]&&this._off(s,"remove"),this._off(this.document,"mousemove"),t&&"mouseleave"===t.type&&e.each(this.parents,function(t,i){e(i.element).attr("title",i.title),delete n.parents[t]}),this.closing=!0,this._trigger("close",t,{tooltip:o}),this.closing=!1)},_tooltip:function(t){var i="ui-tooltip-"+n++,s=e("<div>").attr({id:i,role:"tooltip"}).addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||""));return e("<div>").addClass("ui-tooltip-content").appendTo(s),s.appendTo(this.document[0].body),this.tooltips[i]=t,s},_find:function(t){var i=t.data("ui-tooltip-id");return i?e("#"+i):e()},_removeTooltip:function(e){e.remove(),delete this.tooltips[e.attr("id")]},_destroy:function(){var t=this;e.each(this.tooltips,function(i,n){var s=e.Event("blur");s.target=s.currentTarget=n[0],t.close(s,!0),e("#"+i).remove(),n.data("ui-tooltip-title")&&(n.attr("title",n.data("ui-tooltip-title")),n.removeData("ui-tooltip-title"))})}})}(jQuery),function(e,t){var i=function(){var t=e._data(document,"events");return t&&t.click&&e.grep(t.click,function(e){return"rails"===e.namespace}).length};i()&&e.error("jquery-ujs has already been loaded!");var n;e.rails=n={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with]",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type])",disableSelector:"input[data-disable-with], button[data-disable-with], textarea[data-disable-with]",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input[type=file]",linkDisableSelector:"a[data-disable-with]",CSRFProtection:function(t){var i=e('meta[name="csrf-token"]').attr("content");i&&t.setRequestHeader("X-CSRF-Token",i)},fire:function(t,i,n){var s=e.Event(i);return t.trigger(s,n),s.result!==!1},confirm:function(e){return confirm(e)},ajax:function(t){return e.ajax(t)},href:function(e){return e.attr("href")},handleRemote:function(i){var s,o,r,a,l,c,u,d;if(n.fire(i,"ajax:before")){if(a=i.data("cross-domain"),l=a===t?null:a,c=i.data("with-credentials")||null,u=i.data("type")||e.ajaxSettings&&e.ajaxSettings.dataType,i.is("form")){s=i.attr("method"),o=i.attr("action"),r=i.serializeArray();var h=i.data("ujs:submit-button");h&&(r.push(h),i.data("ujs:submit-button",null))}else i.is(n.inputChangeSelector)?(s=i.data("method"),o=i.data("url"),r=i.serialize(),i.data("params")&&(r=r+"&"+i.data("params"))):(s=i.data("method"),o=n.href(i),r=i.data("params")||null);d={type:s||"GET",data:r,dataType:u,beforeSend:function(e,s){return s.dataType===t&&e.setRequestHeader("accept","*/*;q=0.5, "+s.accepts.script),n.fire(i,"ajax:beforeSend",[e,s])},success:function(e,t,n){i.trigger("ajax:success",[e,t,n])},complete:function(e,t){i.trigger("ajax:complete",[e,t])},error:function(e,t,n){i.trigger("ajax:error",[e,t,n])},crossDomain:l},c&&(d.xhrFields={withCredentials:c}),o&&(d.url=o);var p=n.ajax(d);return i.trigger("ajax:send",p),p}return!1},handleMethod:function(i){var s=n.href(i),o=i.data("method"),r=i.attr("target"),a=e("meta[name=csrf-token]").attr("content"),l=e("meta[name=csrf-param]").attr("content"),c=e('<form method="post" action="'+s+'"></form>'),u='<input name="_method" value="'+o+'" type="hidden" />';l!==t&&a!==t&&(u+='<input name="'+l+'" value="'+a+'" type="hidden" />'),r&&c.attr("target",r),c.hide().append(u).appendTo("body"),c.submit()},disableFormElements:function(t){t.find(n.disableSelector).each(function(){var t=e(this),i=t.is("button")?"html":"val";t.data("ujs:enable-with",t[i]()),t[i](t.data("disable-with")),t.prop("disabled",!0)})},enableFormElements:function(t){t.find(n.enableSelector).each(function(){var t=e(this),i=t.is("button")?"html":"val";t.data("ujs:enable-with")&&t[i](t.data("ujs:enable-with")),t.prop("disabled",!1)})},allowAction:function(e){var t,i=e.data("confirm"),s=!1;return i?(n.fire(e,"confirm")&&(s=n.confirm(i),t=n.fire(e,"confirm:complete",[s])),s&&t):!0},blankInputs:function(t,i,n){var s,o,r=e(),a=i||"input,textarea",l=t.find(a);return l.each(function(){if(s=e(this),o=s.is("input[type=checkbox],input[type=radio]")?s.is(":checked"):s.val(),!o==!n){if(s.is("input[type=radio]")&&l.filter('input[type=radio]:checked[name="'+s.attr("name")+'"]').length)return!0;
r=r.add(s)}}),r.length?r:!1},nonBlankInputs:function(e,t){return n.blankInputs(e,t,!0)},stopEverything:function(t){return e(t.target).trigger("ujs:everythingStopped"),t.stopImmediatePropagation(),!1},callFormSubmitBindings:function(i,n){var s=i.data("events"),o=!0;return s!==t&&s.submit!==t&&e.each(s.submit,function(e,t){return"function"==typeof t.handler?o=t.handler(n):void 0}),o},disableElement:function(e){e.data("ujs:enable-with",e.html()),e.html(e.data("disable-with")),e.bind("click.railsDisable",function(e){return n.stopEverything(e)})},enableElement:function(e){e.data("ujs:enable-with")!==t&&(e.html(e.data("ujs:enable-with")),e.data("ujs:enable-with",!1)),e.unbind("click.railsDisable")}},n.fire(e(document),"rails:attachBindings")&&(e.ajaxPrefilter(function(e,t,i){e.crossDomain||n.CSRFProtection(i)}),e(document).delegate(n.linkDisableSelector,"ajax:complete",function(){n.enableElement(e(this))}),e(document).delegate(n.linkClickSelector,"click.rails",function(i){var s=e(this),o=s.data("method"),r=s.data("params");if(!n.allowAction(s))return n.stopEverything(i);if(s.is(n.linkDisableSelector)&&n.disableElement(s),s.data("remote")!==t){if(!(!i.metaKey&&!i.ctrlKey||o&&"GET"!==o||r))return!0;var a=n.handleRemote(s);return a===!1?n.enableElement(s):a.error(function(){n.enableElement(s)}),!1}return s.data("method")?(n.handleMethod(s),!1):void 0}),e(document).delegate(n.inputChangeSelector,"change.rails",function(t){var i=e(this);return n.allowAction(i)?(n.handleRemote(i),!1):n.stopEverything(t)}),e(document).delegate(n.formSubmitSelector,"submit.rails",function(i){var s=e(this),o=s.data("remote")!==t,r=n.blankInputs(s,n.requiredInputSelector),a=n.nonBlankInputs(s,n.fileInputSelector);if(!n.allowAction(s))return n.stopEverything(i);if(r&&s.attr("novalidate")==t&&n.fire(s,"ajax:aborted:required",[r]))return n.stopEverything(i);if(o){if(a){setTimeout(function(){n.disableFormElements(s)},13);var l=n.fire(s,"ajax:aborted:file",[a]);return l||setTimeout(function(){n.enableFormElements(s)},13),l}return!e.support.submitBubbles&&"1.7">e().jquery&&n.callFormSubmitBindings(s,i)===!1?n.stopEverything(i):(n.handleRemote(s),!1)}setTimeout(function(){n.disableFormElements(s)},13)}),e(document).delegate(n.formInputClickSelector,"click.rails",function(t){var i=e(this);if(!n.allowAction(i))return n.stopEverything(t);var s=i.attr("name"),o=s?{name:s,value:i.val()}:null;i.closest("form").data("ujs:submit-button",o)}),e(document).delegate(n.formSubmitSelector,"ajax:beforeSend.rails",function(t){this==t.target&&n.disableFormElements(e(this))}),e(document).delegate(n.formSubmitSelector,"ajax:complete.rails",function(t){this==t.target&&n.enableFormElements(e(this))}),e(function(){var t=e("meta[name=csrf-token]").attr("content"),i=e("meta[name=csrf-param]").attr("content");e('form input[name="'+i+'"]').val(t)}))}(jQuery),/*
 * jqModal - Minimalist Modaling with jQuery
 *   (http://dev.iceburg.net/jquery/jqmodal/)
 *
 * Copyright (c) 2007,2008 Brice Burgess <bhb@iceburg.net>
 * Dual licensed under the MIT and GPL licenses:
 *   http://www.opensource.org/licenses/mit-license.php
 *   http://www.gnu.org/licenses/gpl.html
 * 
 * $Version: 07/06/2008 +r13
 */
function(e){e.fn.jqm=function(n){var s={overlay:50,overlayClass:"jqmOverlay",closeClass:"jqmClose",trigger:".jqModal",ajax:o,ajaxText:"",target:o,modal:o,toTop:o,onShow:o,onHide:o,onLoad:o};return this.each(function(){return this._jqm?i[this._jqm].c=e.extend({},i[this._jqm].c,n):(t++,this._jqm=t,i[t]={c:e.extend(s,e.jqm.params,n),a:o,w:e(this).addClass("jqmID"+t),s:t},s.trigger&&e(this).jqmAddTrigger(s.trigger),void 0)})},e.fn.jqmAddClose=function(e){return d(this,e,"jqmHide")},e.fn.jqmAddTrigger=function(e){return d(this,e,"jqmShow")},e.fn.jqmShow=function(t){return this.each(function(){e.jqm.open(this._jqm,t)})},e.fn.jqmHide=function(t){return this.each(function(){e.jqm.close(this._jqm,t)})},e.jqm={hash:{},open:function(t,r){var l=i[t],u=l.c,d="."+u.closeClass,h=parseInt(l.w.css("z-index")),h=h>0?h:3e3,p=e("<div></div>").css({height:"100%",width:"100%",position:"fixed",left:0,top:0,"z-index":h-1,opacity:u.overlay/100});if(l.a)return o;if(l.t=r,l.a=!0,l.w.css("z-index",h),u.modal?(n[0]||c("bind"),n.push(t)):u.overlay>0?l.w.jqmAddClose(p):p=o,l.o=p?p.addClass(u.overlayClass).prependTo("body"):o,s&&(e("html,body").css({height:"100%",width:"100%"}),p)){p=p.css({position:"absolute"})[0];for(var f in{Top:1,Left:1})p.style.setExpression(f.toLowerCase(),"(_=(document.documentElement.scroll"+f+" || document.body.scroll"+f+"))+'px'")}if(u.ajax){var m=u.target||l.w,g=u.ajax,m="string"==typeof m?e(m,l.w):e(m),g="@"==g.substr(0,1)?e(r).attr(g.substring(1)):g;m.html(u.ajaxText).load(g,function(){u.onLoad&&u.onLoad.call(this,l),d&&l.w.jqmAddClose(e(d,l.w)),a(l)})}else d&&l.w.jqmAddClose(e(d,l.w));return u.toTop&&l.o&&l.w.before('<span id="jqmP'+l.w[0]._jqm+'"></span>').insertAfter(l.o),u.onShow?u.onShow(l):l.w.show(),a(l),o},close:function(t){var s=i[t];return s.a?(s.a=o,n[0]&&(n.pop(),n[0]||c("unbind")),s.c.toTop&&s.o&&e("#jqmP"+s.w[0]._jqm).after(s.w).remove(),s.c.onHide?s.c.onHide(s):(s.w.hide(),s.o&&s.o.remove()),o):o},params:{}};var t=0,i=e.jqm.hash,n=[],s=e("html").hasClass("ie6"),o=!1,r=e('<iframe src="javascript:false;document.write(\'\');" class="jqm"></iframe>').css({opacity:0}),a=function(t){s&&(t.o?t.o.html('<p style="width:100%;height:100%"/>').prepend(r):e("iframe.jqm",t.w)[0]||t.w.prepend(r)),l(t)},l=function(t){try{e(":input:visible",t.w)[0].focus()}catch(i){}},c=function(t){e()[t]("keypress",u)[t]("keydown",u)[t]("mousedown",u)},u=function(t){var s=i[n[n.length-1]],o=!e(t.target).parents(".jqmID"+s.s)[0];return o&&l(s),!o},d=function(t,n,s){return t.each(function(){var t=this._jqm;e(n).each(function(){this[s]||(this[s]=[],e(this).click(function(){for(var e in{jqmShow:1,jqmHide:1})for(var t in this[e])i[this[e][t]]&&i[this[e][t]].w[e](this);return o})),this[s].push(t)})})}}(jQuery),function(e){e.extend({xmlToJSON:function(t){function i(e){var t=/-/g,i=String(e).replace(t,"_");return i}function n(t,n){if(n.attributes.length>0){var s,o=n.attributes.length-1;t._attributes=[];do s=String(i(n.attributes[o].name)),t._attributes.push(s),t[s]=e.trim(n.attributes[o].value);while(o--)}}function s(e){e.getNodeByAttribute=function(e,t){if(this.length>0){var i,n=this.length-1;try{do if(i=this[n],i[e]==t)return i;while(n--)}catch(s){return!1}return!1}},e.contains=function(e,t){if(this.length>0){var i=this.length-1;try{do if(this[i][e]==t)return!0;while(i--)}catch(n){return!1}return!1}},e.indexOf=function(e,t){var i=-1;if(this.length>0){var n=this.length-1;try{do this[n][e]==t&&(i=n);while(n--)}catch(s){return-1}return i}},e.SortByAttribute=function(e,t){function i(e,t){var i=e[t];return i=l(i)?parseFloat(i):i}function n(n,s){var o,r,a=0;return o=i(n,e),r=i(s,e),r>o?a=-1:o>r&&(a=1),t&&(a="DESC"==t.toUpperCase()?0-a:a),a}this.length&&this.sort(n)},e.SortByValue=function(e){function t(e){var t=e.Text;return t=l(t)?parseFloat(t):t}function i(i,n){var s,o,r=0;return s=t(i),o=t(n),o>s?r=-1:s>o&&(r=1),e&&(r="DESC"==e.toUpperCase()?0-r:r),r}this.length&&this.sort(i)},e.SortByNode=function(e,t){function i(e,t){var i=e[t][0].Text;return i=l(i)?parseFloat(i):i}function n(n,s){var o,r,a=0;return o=i(n,e),r=i(s,e),r>o?a=-1:o>r&&(a=1),t&&(a="DESC"==t.toUpperCase()?0-a:a),a}this.length&&this.sort(n)}}function o(t,r){var a,l,c,u="";if(!r)return null;if(r.attributes.length>0&&n(t,r),t.Text="",r.hasChildNodes()){var d=r.childNodes.length-1,h=0;do switch(l=r.childNodes[h],l.nodeType){case 1:t._children=[],a=l.localName?l.localName:l.baseName,a=i(a),u!=a&&t._children.push(a),t[a]||(t[a]=[]),c={},t[a].push(c),l.attributes.length>0&&n(c,l),t[a].contains||s(t[a]),u=a,l.hasChildNodes()&&o(c,l);break;case 3:t.Text+=e.trim(l.nodeValue);break;case 4:t.Text+=l.text?e.trim(l.text):e.trim(l.nodeValue)}while(d>h++)}}try{if(!t)return null;var r={};r.typeOf="JSXBObject";var a=9==t.nodeType?t.documentElement:t;if(r.RootName=a.nodeName||"",3==t.nodeType||4==t.nodeType)return t.nodeValue;var l=function(e){var t="";e&&"string"==typeof e&&(t=e);var i=/^((-)?([0-9]*)((\.{0,1})([0-9]+))?$)/;return i.test(t)};return o(r,a),t=null,a=null,r}catch(c){return null}}}),e.extend({textToXML:function(t){var i=null;try{i=e("html").hasClass("ie")?new ActiveXObject("Microsoft.XMLDOM"):new DOMParser,i.async=!1}catch(n){throw new Error("XML Parser could not be instantiated")}var s;try{s=e("html").hasClass("ie")?i.loadXML(t)?i:!1:i.parseFromString(t,"text/xml")}catch(n){throw new Error("Error parsing XML string")}return s}})}(jQuery);var elmnts,numElmnts,sizeFirstElmnt,shownInViewport,firstElementOnViewPort,increment=null,isAnimating=!1;(function($){var escapeable=/["\\\x00-\x1f\x7f-\x9f]/g,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};$.toJSON="object"==typeof JSON&&JSON.stringify?JSON.stringify:function(e){if(null===e)return"null";var t=typeof e;if("undefined"===t)return void 0;if("number"===t||"boolean"===t)return""+e;if("string"===t)return $.quoteString(e);if("object"===t){if("function"==typeof e.toJSON)return $.toJSON(e.toJSON());if(e.constructor===Date){var i=e.getUTCMonth()+1,n=e.getUTCDate(),s=e.getUTCFullYear(),o=e.getUTCHours(),r=e.getUTCMinutes(),a=e.getUTCSeconds(),l=e.getUTCMilliseconds();return 10>i&&(i="0"+i),10>n&&(n="0"+n),10>o&&(o="0"+o),10>r&&(r="0"+r),10>a&&(a="0"+a),100>l&&(l="0"+l),10>l&&(l="0"+l),'"'+s+"-"+i+"-"+n+"T"+o+":"+r+":"+a+"."+l+'Z"'}if(e.constructor===Array){for(var c=[],u=0;e.length>u;u++)c.push($.toJSON(e[u])||"null");return"["+c.join(",")+"]"}var d,h,p=[];for(var f in e){if(t=typeof f,"number"===t)d='"'+f+'"';else{if("string"!==t)continue;d=$.quoteString(f)}t=typeof e[f],"function"!==t&&"undefined"!==t&&(h=$.toJSON(e[f]),p.push(d+":"+h))}return"{"+p.join(",")+"}"}},$.evalJSON="object"==typeof JSON&&JSON.parse?JSON.parse:function(src){return eval("("+src+")")},$.secureEvalJSON="object"==typeof JSON&&JSON.parse?JSON.parse:function(src){var filtered=src.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"");if(/^[\],:{}\s]*$/.test(filtered))return eval("("+src+")");throw new SyntaxError("Error parsing JSON, source is not valid.")},$.quoteString=function(e){return e.match(escapeable)?'"'+e.replace(escapeable,function(e){var t=meta[e];return"string"==typeof t?t:(t=e.charCodeAt(),"\\u00"+Math.floor(t/16).toString(16)+(t%16).toString(16))})+'"':'"'+e+'"'}})(jQuery),/*
 * jStore - Persistent Client-Side Storage
 *
 * Copyright (c) 2009 Eric Garside (http://eric.garside.name)
 * 
 * Dual licensed under:
 * 	MIT: http://www.opensource.org/licenses/mit-license.php
 *	GPLv3: http://www.opensource.org/licenses/gpl-3.0.html
 */
function($){function toIntegersAtLease(e){return 10>e?"0"+e:e}Date.prototype.toJSON=function(){return this.getUTCFullYear()+"-"+toIntegersAtLease(this.getUTCMonth())+"-"+toIntegersAtLease(this.getUTCDate())};var escapeable=/["\\\x00-\x1f\x7f-\x9f]/g,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};$.quoteString=function(e){return escapeable.test(e)?'"'+e.replace(escapeable,function(e){var t=meta[e];return"string"==typeof t?t:(t=e.charCodeAt(),"\\u00"+Math.floor(t/16).toString(16)+(t%16).toString(16))})+'"':'"'+e+'"'},$.toJSON=function(e,t){var i=typeof e;if("undefined"==i)return"undefined";if("number"==i||"boolean"==i)return e+"";if(null===e)return"null";if("string"==i)return $.quoteString(e);if("object"==i&&"function"==typeof e.toJSON)return e.toJSON(t);if("function"!=i&&"number"==typeof e.length){for(var n=[],s=0;e.length>s;s++)n.push($.toJSON(e[s],t));return t?"["+n.join(",")+"]":"["+n.join(", ")+"]"}if("function"==i)throw new TypeError("Unable to convert object of type 'function' to json.");var n=[];for(var o in e){var r;if(i=typeof o,"number"==i)r='"'+o+'"';else{if("string"!=i)continue;r=$.quoteString(o)}var a=$.toJSON(e[o],t);"string"==typeof a&&(t?n.push(r+":"+a):n.push(r+": "+a))}return"{"+n.join(", ")+"}"},$.compactJSON=function(e){return $.toJSON(e,!0)},$.evalJSON=function(src){return eval("("+src+")")},$.secureEvalJSON=function(src){var filtered=src;if(filtered=filtered.replace(/\\["\\\/bfnrtu]/g,"@"),filtered=filtered.replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]"),filtered=filtered.replace(/(?:^|:|,)(?:\s*\[)+/g,""),/^[\],:{}\s]*$/.test(filtered))return eval("("+src+")");throw new SyntaxError("Error parsing JSON, source is not valid.")}}(jQuery),function(){var e=!1,t=/xyz/.test(function(){})?/\b_super\b/:/.*/;this.Class=function(){},Class.extend=function(i){function n(){!e&&this.init&&this.init.apply(this,arguments)}var s=this.prototype;e=!0;var o=new this;e=!1;for(var r in i)o[r]="function"==typeof i[r]&&"function"==typeof s[r]&&t.test(i[r])?function(e,t){return function(){var i=this._super;this._super=s[e];var n=t.apply(this,arguments);return this._super=i,n}}(r,i[r]):i[r];return n.prototype=o,n.constructor=n,n.extend=arguments.callee,n}}(),/*
 * jStore Delegate Framework
 * Copyright (c) 2009 Eric Garside (http://eric.garside.name)
 */
function(e){this.jStoreDelegate=Class.extend({init:function(e){this.parent=e,this.callbacks={}},bind:function(t,i){return e.isFunction(i)?(this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(i),this):this},trigger:function(){var t=this.parent,i=[].slice.call(arguments),n=i.shift(),s=this.callbacks[n];return s?(e.each(s,function(){this.apply(t,i)}),this):!1}})}(jQuery),function(e){var t;try{t=new RegExp('^("(\\\\.|[^"\\\\\\n\\r])*?"|[,:{}\\[\\]0-9.\\-+Eaeflnr-u \\n\\r\\t])+?$')}catch(i){t=/^(true|false|null|\[.*\]|\{.*\}|".*"|\d+|\d+\.\d+)$/}e.jStore={},e.extend(e.jStore,{EngineOrder:[],Availability:{},Engines:{},Instances:{},CurrentEngine:null,defaults:{project:null,engine:null,autoload:!0,flash:"jStore.Flash.html"},isReady:!1,isFlashReady:!1,delegate:new jStoreDelegate(e.jStore).bind("jStore-ready",function(t){e.jStore.isReady=!0,e.jStore.defaults.autoload&&t.connect()}).bind("flash-ready",function(){e.jStore.isFlashReady=!0}),ready:function(t){e.jStore.isReady?t.apply(e.jStore,[e.jStore.CurrentEngine]):e.jStore.delegate.bind("jStore-ready",t)},fail:function(t){e.jStore.delegate.bind("jStore-failure",t)},flashReady:function(t){e.jStore.isFlashReady?t.apply(e.jStore,[e.jStore.CurrentEngine]):e.jStore.delegate.bind("flash-ready",t)},use:function(t,i,n){i=i||e.jStore.defaults.project||location.hostname.replace(/\./g,"-")||"unknown";var s=e.jStore.Engines[t.toLowerCase()]||null,o=(n?n+".":"")+i+"."+t;if(!s)throw"JSTORE_ENGINE_UNDEFINED";if(s=new s(i,o),e.jStore.Instances[o])throw"JSTORE_JRI_CONFLICT";if(s.isAvailable())e.jStore.Instances[o]=s,e.jStore.CurrentEngine||(e.jStore.CurrentEngine=s),e.jStore.delegate.trigger("jStore-ready",s);else{if(!s.autoload)throw"JSTORE_ENGINE_UNAVILABLE";s.included(function(){this.isAvailable()?(e.jStore.Instances[o]=this,e.jStore.CurrentEngine||(e.jStore.CurrentEngine=this),e.jStore.delegate.trigger("jStore-ready",this)):e.jStore.delegate.trigger("jStore-failure",this)}).include()}},setCurrentEngine:function(t){if(!e.jStore.Instances.length)return e.jStore.FindEngine();if(!t&&e.jStore.Instances.length>=1)return e.jStore.delegate.trigger("jStore-ready",e.jStore.Instances[0]),e.jStore.CurrentEngine=e.jStore.Instances[0];if(t&&e.jStore.Instances[t])return e.jStore.delegate.trigger("jStore-ready",e.jStore.Instances[t]),e.jStore.CurrentEngine=e.jStore.Instances[t];throw"JSTORE_JRI_NO_MATCH"},FindEngine:function(){e.each(e.jStore.EngineOrder,function(){return e.jStore.Availability[this]()?(e.jStore.use(this,e.jStore.defaults.project,"default"),!1):void 0})},load:function(){if(e.jStore.defaults.engine)return e.jStore.use(e.jStore.defaults.engine,e.jStore.defaults.project,"default");try{e.jStore.FindEngine()}catch(t){}},safeStore:function(t){switch(typeof t){case"object":case"function":return e.jStore.compactJSON(t);case"number":case"boolean":case"string":case"xml":return t;case"undefined":default:return""}},safeResurrect:function(i){return t.test(i)?e.evalJSON(i):i},store:function(t,i){return e.jStore.CurrentEngine?i?e.jStore.CurrentEngine.set(t,i):e.jStore.CurrentEngine.get(t):!1},remove:function(t){return e.jStore.CurrentEngine?e.jStore.CurrentEngine.rem(t):!1},get:function(t){return e.jStore.store(t)},set:function(t,i){return e.jStore.store(t,i)}}),e.extend(e.fn,{store:function(t,i){if(!e.jStore.CurrentEngine)return this;var n=e.jStore.store(t,i);return i?this:n},removeStore:function(t){return e.jStore.remove(t),this},getStore:function(t){return e.jStore.store(t)},setStore:function(t,i){return e.jStore.store(t,i),this}})}(jQuery),function(e){this.StorageEngine=Class.extend({init:function(e,t){this.project=e,this.jri=t,this.data={},this.limit=-1,this.includes=[],this.delegate=new jStoreDelegate(this).bind("engine-ready",function(){this.isReady=!0}).bind("engine-included",function(){this.hasIncluded=!0}),this.autoload=!1,this.isReady=!1,this.hasIncluded=!1},include:function(){var t=this,i=this.includes.length,n=0;e.each(this.includes,function(){e.ajax({type:"get",url:this,dataType:"script",cache:!0,success:function(){n++,n==i&&t.delegate.trigger("engine-included")}})})},isAvailable:function(){return!1},interruptAccess:function(){if(!this.isReady)throw"JSTORE_ENGINE_NOT_READY"},ready:function(e){return this.isReady?e.apply(this):this.delegate.bind("engine-ready",e),this},included:function(e){return this.hasIncluded?e.apply(this):this.delegate.bind("engine-included",e),this},get:function(e){return this.interruptAccess(),this.data[e]||null},set:function(e,t){return this.interruptAccess(),this.data[e]=t,t},rem:function(e){this.interruptAccess();var t=this.data[e];return this.data[e]=null,t}})}(jQuery),/*
 * jStore DOM Storage Engine
 * Copyright (c) 2009 Eric Garside (http://eric.garside.name)
 */
function(e){var t=e.jStore.Availability.session=function(){return!!window.sessionStorage},i=e.jStore.Availability.local=function(){return!(!window.localStorage&&!window.globalStorage)};this.jStoreDom=StorageEngine.extend({init:function(e,t){this._super(e,t),this.type="DOM",this.limit=5242880},connect:function(){this.delegate.trigger("engine-ready")},get:function(t){this.interruptAccess();var i=this.db.getItem(t);return e.jStore.safeResurrect(i&&i.value?i.value:i)},set:function(t,i){return this.interruptAccess(),this.db.setItem(t,e.jStore.safeStore(i)),i},rem:function(e){this.interruptAccess();var t=this.get(e);return this.db.removeItem(e),t}}),this.jStoreLocal=jStoreDom.extend({connect:function(){this.db=window.globalStorage?window.globalStorage[location.hostname]:window.localStorage,this._super()},isAvailable:i}),this.jStoreSession=jStoreDom.extend({connect:function(){this.db=sessionStorage,this._super()},isAvailable:t}),e.jStore.Engines.local=jStoreLocal,e.jStore.Engines.session=jStoreSession,e.jStore.EngineOrder[1]="local"}(jQuery),/*
 * jStore HTML5 Specification Storage Engine
 * Copyright (c) 2009 Eric Garside (http://eric.garside.name)
 */
function(e){var t=e.jStore.Availability.html5=function(){return!!window.openDatabase};this.jStoreHtml5=StorageEngine.extend({init:function(e,t){this._super(e,t),this.type="HTML5",this.limit=204800},connect:function(){var e=this.db=openDatabase("jstore-"+this.project,"1.0",this.project,this.limit);if(!e)throw"JSTORE_ENGINE_HTML5_NODB";e.transaction(function(e){e.executeSql("CREATE TABLE IF NOT EXISTS jstore (k TEXT UNIQUE NOT NULL PRIMARY KEY, v TEXT NOT NULL)")}),this.updateCache()},updateCache:function(){var t=this;this.db.transaction(function(i){i.executeSql("SELECT k,v FROM jstore",[],function(i,n){for(var s,o=n.rows,r=0;o.length>r;++r)s=o.item(r),t.data[s.k]=e.jStore.safeResurrect(s.v);t.delegate.trigger("engine-ready")})})},isAvailable:t,set:function(t,i){return this.interruptAccess(),this.db.transaction(function(n){n.executeSql("INSERT OR REPLACE INTO jstore(k, v) VALUES (?, ?)",[t,e.jStore.safeStore(i)])}),this._super(t,i)},rem:function(e){return this.interruptAccess(),this.db.transaction(function(t){t.executeSql("DELETE FROM jstore WHERE k = ?",[e])}),this._super(e)}}),e.jStore.Engines.html5=jStoreHtml5,e.jStore.EngineOrder[0]="html5"}(jQuery),/**
 * jStore IE Storage Engine
 * Copyright (c) 2009 Eric Garside (http://eric.garside.name)
 */
function(e){var t=e.jStore.Availability.ie=function(){return!!window.ActiveXObject};this.jStoreIE=StorageEngine.extend({init:function(e,t){this._super(e,t),this.type="IE",this.limit=65536},connect:function(){this.db=e('<div style="display:none;behavior:url(\'#default#userData\')" id="jstore-'+this.project+'"></div>').appendTo(document.body).get(0),this.delegate.trigger("engine-ready")},isAvailable:t,get:function(t){return this.interruptAccess(),this.db.load(this.project),e.jStore.safeResurrect(this.db.getAttribute(t))},set:function(t,i){return this.interruptAccess(),this.db.setAttribute(t,e.jStore.safeStore(i)),this.db.save(this.project),i},rem:function(e){this.interruptAccess();var t=this.get(e);return this.db.removeAttribute(e),this.db.save(this.project),t}}),e.jStore.Engines.ie=jStoreIE,e.jStore.EngineOrder[4]="ie"}(jQuery),function(e){function t(t,i,n,s){var o={data:s||(i?i.data:{}),_wrap:i?i._wrap:null,tmpl:null,parent:i||null,nodes:[],calls:c,nest:u,wrap:d,html:h,update:p};return t&&e.extend(o,t,{nodes:[],parent:i}),n&&(o.tmpl=n,o._ctnt=o._ctnt||o.tmpl(e,o),o.key=++w,(k.length?y:_)[w]=o),o}function i(t,s,o){var r,a=o?e.map(o,function(e){return"string"==typeof e?t.key?e.replace(/(<\w+)(?=[\s>])(?![^>]*_tmplitem)([^>]*)/g,"$1 "+g+'="'+t.key+'" $2'):e:i(e,t,e._ctnt)}):t;return s?a:(a=a.join(""),a.replace(/^\s*([^<\s][^<]*)?(<[\w\W]+>)([^>]*[^>\s])?\s*$/,function(t,i,s,o){r=e(s).get(),l(r),i&&(r=n(i).concat(r)),o&&(r=r.concat(n(o)))}),r?r:n(a))}function n(t){var i=document.createElement("div");return i.innerHTML=t,e.makeArray(i.childNodes)}function s(t){return new Function("jQuery","$item","var $=jQuery,call,_=[],$data=$item.data;with($data){_.push('"+e.trim(t).replace(/([\\'])/g,"\\$1").replace(/[\r\t\n]/g," ").replace(/\$\{([^\}]*)\}/g,"{{= $1}}").replace(/\{\{(\/?)(\w+|.)(?:\(((?:[^\}]|\}(?!\}))*?)?\))?(?:\s+(.*?)?)?(\(((?:[^\}]|\}(?!\}))*?)\))?\s*\}\}/g,function(t,i,n,s,o,a,l){var c,u,d,h=e.tmpl.tag[n];if(!h)throw"Template command not found: "+n;return c=h._default||[],a&&!/\w$/.test(o)&&(o+=a,a=""),o?(o=r(o),l=l?","+r(l)+")":a?")":"",u=a?o.indexOf(".")>-1?o+a:"("+o+").call($item"+l:o,d=a?u:"(typeof("+o+")==='function'?("+o+").call($item):("+o+"))"):d=u=c.$1||"null",s=r(s),"');"+h[i?"close":"open"].split("$notnull_1").join(o?"typeof("+o+")!=='undefined' && ("+o+")!=null":"true").split("$1a").join(d).split("$1").join(u).split("$2").join(s?s.replace(/\s*([^\(]+)\s*(\((.*?)\))?/g,function(e,t,i,n){return n=n?","+n+")":i?")":"",n?"("+t+").call($item"+n:e}):c.$2||"")+"_.push('"})+"');}return _;")}function o(t,n){t._wrap=i(t,!0,e.isArray(n)?n:[v.test(n)?n:e(n).html()]).join("")}function r(e){return e?e.replace(/\\'/g,"'").replace(/\\\\/g,"\\"):null}function a(e){var t=document.createElement("div");return t.appendChild(e.cloneNode(!0)),t.innerHTML}function l(i){function n(i){function n(e){e+=c,r=u[e]=u[e]||t(r,_[r.parent.key+c]||r.parent,null,!0)}var s,o,r,a,l=i;if(a=i.getAttribute(g)){for(;l.parentNode&&1===(l=l.parentNode).nodeType&&!(s=l.getAttribute(g)););s!==a&&(l=l.parentNode?11===l.nodeType?0:l.getAttribute(g)||0:0,(r=_[a])||(r=y[a],r=t(r,_[l]||y[l],null,!0),r.key=++w,_[w]=r),x&&n(a)),i.removeAttribute(g)}else x&&(r=e.data(i,"tmplItem"))&&(n(r.key),_[r.key]=r,l=e.data(i.parentNode,"tmplItem"),l=l?l.key:0);if(r){for(o=r;o&&o.key!=l;)o.nodes.push(i),o=o.parent;delete r._ctnt,delete r._wrap,e.data(i,"tmplItem",r)}}var s,o,r,a,l,c="_"+x,u={};for(r=0,a=i.length;a>r;r++)if(1===(s=i[r]).nodeType){for(o=s.getElementsByTagName("*"),l=o.length-1;l>=0;l--)n(o[l]);n(s)}}function c(e,t,i,n){return e?(k.push({_:e,tmpl:t,item:this,data:i,options:n}),void 0):k.pop()}function u(t,i,n){return e.tmpl(e.template(t),i,n,this)}function d(t,i){var n=t.options||{};return n.wrapped=i,e.tmpl(e.template(t.tmpl),t.data,n,t.item)}function h(t,i){var n=this._wrap;return e.map(e(e.isArray(n)?n.join(""):n).filter(t||"*"),function(e){return i?e.innerText||e.textContent:e.outerHTML||a(e)})}function p(){var t=this.nodes;e.tmpl(null,null,null,this).insertBefore(t[0]),e(t).remove()}var f,m=e.fn.domManip,g="_tmplitem",v=/^[^<]*(<[\w\W]+>)[^>]*$|\{\{\! /,_={},y={},b={key:0,data:{}},w=0,x=0,k=[];e.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,i){e.fn[t]=function(n){var s,o,r,a,l=[],c=e(n),u=1===this.length&&this[0].parentNode;if(f=_||{},u&&11===u.nodeType&&1===u.childNodes.length&&1===c.length)c[i](this[0]),l=this;else{for(o=0,r=c.length;r>o;o++)x=o,s=(o>0?this.clone(!0):this).get(),e.fn[i].apply(e(c[o]),s),l=l.concat(s);x=0,l=this.pushStack(l,t,c.selector)}return a=f,f=null,e.tmpl.complete(a),l}}),e.fn.extend({tmpl:function(t,i,n){return e.tmpl(this[0],t,i,n)},tmplItem:function(){return e.tmplItem(this[0])},template:function(t){return e.template(t,this[0])},domManip:function(t,i,n){if(t[0]&&t[0].nodeType){for(var s,o=e.makeArray(arguments),r=t.length,a=0;r>a&&!(s=e.data(t[a++],"tmplItem")););r>1&&(o[0]=[e.makeArray(t)]),s&&x&&(o[2]=function(t){e.tmpl.afterManip(this,t,n)}),m.apply(this,o)}else m.apply(this,arguments);return x=0,!f&&e.tmpl.complete(_),this}}),e.extend({tmpl:function(n,s,r,a){var l,c=!a;if(c)a=b,n=e.template[n]||e.template(null,n),y={};else if(!n)return n=a.tmpl,_[a.key]=a,a.nodes=[],a.wrapped&&o(a,a.wrapped),e(i(a,null,a.tmpl(e,a)));return n?("function"==typeof s&&(s=s.call(a||{})),r&&r.wrapped&&o(r,r.wrapped),l=e.isArray(s)?e.map(s,function(e){return e?t(r,a,n,e):null}):[t(r,a,n,s)],c?e(i(a,null,l)):l):[]},tmplItem:function(t){var i;for(t instanceof e&&(t=t[0]);t&&1===t.nodeType&&!(i=e.data(t,"tmplItem"))&&(t=t.parentNode););return i||b},template:function(t,i){return i?("string"==typeof i?i=s(i):i instanceof e&&(i=i[0]||{}),i.nodeType&&(i=e.data(i,"tmpl")||e.data(i,"tmpl",s(i.innerHTML))),"string"==typeof t?e.template[t]=i:i):t?"string"!=typeof t?e.template(null,t):e.template[t]||e.template(null,v.test(t)?t:e(t)):null},encode:function(e){return(""+e).split("<").join("&lt;").split(">").join("&gt;").split('"').join("&#34;").split("'").join("&#39;")}}),e.extend(e.tmpl,{tag:{tmpl:{_default:{$2:"null"},open:"if($notnull_1){_=_.concat($item.nest($1,$2));}"},wrap:{_default:{$2:"null"},open:"$item.calls(_,$1,$2);_=[];",close:"call=$item.calls();_=call._.concat($item.wrap(call,_));"},each:{_default:{$2:"$index, $value"},open:"if($notnull_1){$.each($1a,function($2){with(this){",close:"}});}"},"if":{open:"if(($notnull_1) && $1a){",close:"}"},"else":{_default:{$1:"true"},open:"}else if(($notnull_1) && $1a){"},html:{open:"if($notnull_1){_.push($1a);}"},"=":{_default:{$1:"$data"},open:"if($notnull_1){_.push($.encode($1a));}"},"!":{open:""}},complete:function(){_={}},afterManip:function(t,i,n){var s=11===i.nodeType?e.makeArray(i.childNodes):1===i.nodeType?[i]:[];n.call(t,i),l(s),x++}})}(jQuery),/*
 * zClip :: jQuery ZeroClipboard v1.1.1
 * http://steamdev.com/zclip
 *
 * Copyright 2011, SteamDev
 * Released under the MIT license.
 * http://www.opensource.org/licenses/mit-license.php
 *
 * Date: Wed Jun 01, 2011
 */
function(e){e.fn.zclip=function(t){if("object"==typeof t&&!t.length){var i=e.extend({path:"ZeroClipboard.swf",copy:null,beforeCopy:null,afterCopy:null,clickAfter:!0,setHandCursor:!0,setCSSEffects:!0},t);return this.each(function(){var t=e(this);if(t.is(":visible")&&("string"==typeof i.copy||e.isFunction(i.copy))){ZeroClipboard.setMoviePath(i.path);var n=new ZeroClipboard.Client;e.isFunction(i.copy)&&t.bind("zClip_copy",i.copy),e.isFunction(i.beforeCopy)&&t.bind("zClip_beforeCopy",i.beforeCopy),e.isFunction(i.afterCopy)&&t.bind("zClip_afterCopy",i.afterCopy),n.setHandCursor(i.setHandCursor),n.setCSSEffects(i.setCSSEffects),n.addEventListener("mouseOver",function(){t.trigger("mouseenter")}),n.addEventListener("mouseOut",function(){t.trigger("mouseleave")}),n.addEventListener("mouseDown",function(){t.trigger("mousedown"),e.isFunction(i.copy)?n.setText(t.triggerHandler("zClip_copy")):n.setText(i.copy),e.isFunction(i.beforeCopy)&&t.trigger("zClip_beforeCopy")}),n.addEventListener("complete",function(n,s){e.isFunction(i.afterCopy)?t.trigger("zClip_afterCopy"):(s.length>500&&(s=s.substr(0,500)+"...\n\n("+(s.length-500)+" characters not shown)"),t.removeClass("hover"),alert("Copied text to clipboard:\n\n "+s)),i.clickAfter&&t.trigger("click")}),n.glue(t[0],t.parent()[0]),e(window).bind("load resize",function(){n.reposition()})}})}return"string"==typeof t?this.each(function(){var i=e(this);t=t.toLowerCase();var n=i.data("zclipId"),s=e("#"+n+".zclip");"remove"==t?(s.remove(),i.removeClass("active hover")):"hide"==t?(s.hide(),i.removeClass("active hover")):"show"==t&&s.show()}):void 0}}(jQuery);var ZeroClipboard={version:"1.0.7",clients:{},moviePath:"ZeroClipboard.swf",nextId:1,$:function(e){return"string"==typeof e&&(e=document.getElementById(e)),e.addClass||(e.hide=function(){this.style.display="none"},e.show=function(){this.style.display=""},e.addClass=function(e){this.removeClass(e),this.className+=" "+e},e.removeClass=function(e){for(var t=this.className.split(/\s+/),i=-1,n=0;t.length>n;n++)t[n]==e&&(i=n,n=t.length);return i>-1&&(t.splice(i,1),this.className=t.join(" ")),this},e.hasClass=function(e){return!!this.className.match(new RegExp("\\s*"+e+"\\s*"))}),e},setMoviePath:function(e){this.moviePath=e},dispatch:function(e,t,i){var n=this.clients[e];n&&n.receiveEvent(t,i)},register:function(e,t){this.clients[e]=t},getDOMObjectPosition:function(e,t){var i={left:0,top:0,width:e.width?e.width:e.offsetWidth,height:e.height?e.height:e.offsetHeight};return e&&e!=t&&(i.left+=e.offsetLeft,i.top+=e.offsetTop),i},Client:function(e){this.handlers={},this.id=ZeroClipboard.nextId++,this.movieId="ZeroClipboardMovie_"+this.id,ZeroClipboard.register(this.id,this),e&&this.glue(e)}};ZeroClipboard.Client.prototype={id:0,ready:!1,movie:null,clipText:"",handCursorEnabled:!0,cssEffects:!0,handlers:null,glue:function(e,t,i){this.domElement=ZeroClipboard.$(e);var n=99;this.domElement.style.zIndex&&(n=parseInt(this.domElement.style.zIndex,10)+1),"string"==typeof t?t=ZeroClipboard.$(t):"undefined"==typeof t&&(t=document.getElementsByTagName("body")[0]);var s=ZeroClipboard.getDOMObjectPosition(this.domElement,t);this.div=document.createElement("div"),this.div.className="zclip",this.div.id="zclip-"+this.movieId,$(this.domElement).data("zclipId","zclip-"+this.movieId);var o=this.div.style;if(o.position="absolute",o.left=""+s.left+"px",o.top=""+s.top+"px",o.width=""+s.width+"px",o.height=""+s.height+"px",o.zIndex=n,"object"==typeof i)for(addedStyle in i)o[addedStyle]=i[addedStyle];t.appendChild(this.div),this.div.innerHTML=this.getHTML(s.width,s.height)},getHTML:function(e,t){var i="",n="id="+this.id+"&width="+e+"&height="+t;if(navigator.userAgent.match(/MSIE/)){var s=location.href.match(/^https/i)?"https://":"http://";i+='<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" codebase="'+s+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=9,0,0,0" width="'+e+'" height="'+t+'" id="'+this.movieId+'" align="middle"><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="false" /><param name="movie" value="'+ZeroClipboard.moviePath+'" /><param name="loop" value="false" /><param name="menu" value="false" /><param name="quality" value="best" /><param name="bgcolor" value="#ffffff" /><param name="flashvars" value="'+n+'"/><param name="wmode" value="transparent"/></object>'}else i+='<embed id="'+this.movieId+'" src="'+ZeroClipboard.moviePath+'" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="'+e+'" height="'+t+'" name="'+this.movieId+'" align="middle" allowScriptAccess="always" allowFullScreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="'+n+'" wmode="transparent" />';return i},hide:function(){this.div&&(this.div.style.left="-2000px")},show:function(){this.reposition()},destroy:function(){if(this.domElement&&this.div){this.hide(),this.div.innerHTML="";var e=document.getElementsByTagName("body")[0];try{e.removeChild(this.div)}catch(t){}this.domElement=null,this.div=null}},reposition:function(e){if(e&&(this.domElement=ZeroClipboard.$(e),this.domElement||this.hide()),this.domElement&&this.div){var t=ZeroClipboard.getDOMObjectPosition(this.domElement),i=this.div.style;i.left=""+t.left+"px",i.top=""+t.top+"px"}},setText:function(e){this.clipText=e,this.ready&&this.movie.setText(e)},addEventListener:function(e,t){e=e.toString().toLowerCase().replace(/^on/,""),this.handlers[e]||(this.handlers[e]=[]),this.handlers[e].push(t)},setHandCursor:function(e){this.handCursorEnabled=e,this.ready&&this.movie.setHandCursor(e)},setCSSEffects:function(e){this.cssEffects=!!e},receiveEvent:function(e,t){switch(e=e.toString().toLowerCase().replace(/^on/,"")){case"load":if(this.movie=document.getElementById(this.movieId),!this.movie){var i=this;return setTimeout(function(){i.receiveEvent("load",null)},1),void 0}if(!this.ready&&navigator.userAgent.match(/Firefox/)&&navigator.userAgent.match(/Windows/)){var i=this;return setTimeout(function(){i.receiveEvent("load",null)},100),this.ready=!0,void 0}this.ready=!0;try{this.movie.setText(this.clipText)}catch(n){}try{this.movie.setHandCursor(this.handCursorEnabled)}catch(n){}break;case"mouseover":this.domElement&&this.cssEffects&&(this.domElement.addClass("hover"),this.recoverActive&&this.domElement.addClass("active"));break;case"mouseout":this.domElement&&this.cssEffects&&(this.recoverActive=!1,this.domElement.hasClass("active")&&(this.domElement.removeClass("active"),this.recoverActive=!0),this.domElement.removeClass("hover"));break;case"mousedown":this.domElement&&this.cssEffects&&this.domElement.addClass("active");break;case"mouseup":this.domElement&&this.cssEffects&&(this.domElement.removeClass("active"),this.recoverActive=!1)}if(this.handlers[e])for(var s=0,o=this.handlers[e].length;o>s;s++){var r=this.handlers[e][s];"function"==typeof r?r(this,t):"object"==typeof r&&2==r.length?r[0][r[1]](this,t):"string"==typeof r&&window[r](this,t)}}},/*!
 * jQuery Cookie Plugin v1.3.1
 * https://github.com/carhartl/jquery-cookie
 *
 * Copyright 2013 Klaus Hartl
 * Released under the MIT license
 */
function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){function t(e){return e}function i(e){return decodeURIComponent(e.replace(s," "))}function n(e){0===e.indexOf('"')&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return o.json?JSON.parse(e):e}catch(t){}}var s=/\+/g,o=e.cookie=function(s,r,a){if(void 0!==r){if(a=e.extend({},o.defaults,a),"number"==typeof a.expires){var l=a.expires,c=a.expires=new Date;c.setDate(c.getDate()+l)}return r=o.json?JSON.stringify(r):String(r),document.cookie=[o.raw?s:encodeURIComponent(s),"=",o.raw?r:encodeURIComponent(r),a.expires?"; expires="+a.expires.toUTCString():"",a.path?"; path="+a.path:"",a.domain?"; domain="+a.domain:"",a.secure?"; secure":""].join("")}for(var u=o.raw?t:i,d=document.cookie.split("; "),h=s?void 0:{},p=0,f=d.length;f>p;p++){var m=d[p].split("="),g=u(m.shift()),v=u(m.join("="));if(s&&s===g){h=n(v);break}s||(h[g]=n(v))}return h};o.defaults={},e.removeCookie=function(t,i){return void 0!==e.cookie(t)?(e.cookie(t,"",e.extend(i,{expires:-1})),!0):!1}}),function(e){"use strict";function t(t){var i=t.data;t.isDefaultPrevented()||(t.preventDefault(),e(this).ajaxSubmit(i))}function i(t){var i=t.target,n=e(i);if(!n.is("[type=submit],[type=image]")){var s=n.closest("[type=submit]");if(0===s.length)return;i=s[0]}var o=this;if(o.clk=i,"image"==i.type)if(void 0!==t.offsetX)o.clk_x=t.offsetX,o.clk_y=t.offsetY;else if("function"==typeof e.fn.offset){var r=n.offset();o.clk_x=t.pageX-r.left,o.clk_y=t.pageY-r.top}else o.clk_x=t.pageX-i.offsetLeft,o.clk_y=t.pageY-i.offsetTop;setTimeout(function(){o.clk=o.clk_x=o.clk_y=null},100)}function n(){if(e.fn.ajaxSubmit.debug){var t="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(t):window.opera&&window.opera.postError&&window.opera.postError(t)}}var s={};s.fileapi=void 0!==e("<input type='file'/>").get(0).files,s.formdata=void 0!==window.FormData;var o=!!e.fn.prop;e.fn.attr2=function(){if(!o)return this.attr.apply(this,arguments);var e=this.prop.apply(this,arguments);return e&&e.jquery||"string"==typeof e?e:this.attr.apply(this,arguments)},e.fn.ajaxSubmit=function(t){function i(i){var n,s,o=e.param(i,t.traditional).split("&"),r=o.length,a=[];for(n=0;r>n;n++)o[n]=o[n].replace(/\+/g," "),s=o[n].split("="),a.push([decodeURIComponent(s[0]),decodeURIComponent(s[1])]);return a}function r(n){for(var s=new FormData,o=0;n.length>o;o++)s.append(n[o].name,n[o].value);if(t.extraData){var r=i(t.extraData);for(o=0;r.length>o;o++)r[o]&&s.append(r[o][0],r[o][1])}t.data=null;var a=e.extend(!0,{},e.ajaxSettings,t,{contentType:!1,processData:!1,cache:!1,type:l||"POST"});t.uploadProgress&&(a.xhr=function(){var i=e.ajaxSettings.xhr();return i.upload&&i.upload.addEventListener("progress",function(e){var i=0,n=e.loaded||e.position,s=e.total;e.lengthComputable&&(i=Math.ceil(100*(n/s))),t.uploadProgress(e,n,s,i)},!1),i}),a.data=null;var c=a.beforeSend;return a.beforeSend=function(e,t){t.data=s,c&&c.call(this,e,t)},e.ajax(a)}function a(i){function s(e){var t=null;try{e.contentWindow&&(t=e.contentWindow.document)}catch(i){n("cannot get iframe.contentWindow document: "+i)}if(t)return t;try{t=e.contentDocument?e.contentDocument:e.document}catch(i){n("cannot get iframe.contentDocument: "+i),t=e.document}return t}function r(){function t(){try{var e=s(v).readyState;n("state = "+e),e&&"uninitialized"==e.toLowerCase()&&setTimeout(t,50)}catch(i){n("Server abort: ",i," (",i.name,")"),a(T),x&&clearTimeout(x),x=void 0}}var i=d.attr2("target"),o=d.attr2("action");k.setAttribute("target",f),(!l||/post/i.test(l))&&k.setAttribute("method","POST"),o!=h.url&&k.setAttribute("action",h.url),h.skipEncodingOverride||l&&!/post/i.test(l)||d.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),h.timeout&&(x=setTimeout(function(){w=!0,a(S)},h.timeout));var r=[];try{if(h.extraData)for(var c in h.extraData)h.extraData.hasOwnProperty(c)&&(e.isPlainObject(h.extraData[c])&&h.extraData[c].hasOwnProperty("name")&&h.extraData[c].hasOwnProperty("value")?r.push(e('<input type="hidden" name="'+h.extraData[c].name+'">').val(h.extraData[c].value).appendTo(k)[0]):r.push(e('<input type="hidden" name="'+c+'">').val(h.extraData[c]).appendTo(k)[0]));h.iframeTarget||g.appendTo("body"),v.attachEvent?v.attachEvent("onload",a):v.addEventListener("load",a,!1),setTimeout(t,15);try{k.submit()}catch(u){var p=document.createElement("form").submit;p.apply(k)}}finally{k.setAttribute("action",o),i?k.setAttribute("target",i):d.removeAttr("target"),e(r).remove()}}function a(t){if(!_.aborted&&!D){if(I=s(v),I||(n("cannot access response document"),t=T),t===S&&_)return _.abort("timeout"),C.reject(_,"timeout"),void 0;if(t==T&&_)return _.abort("server abort"),C.reject(_,"error","server abort"),void 0;if(I&&I.location.href!=h.iframeSrc||w){v.detachEvent?v.detachEvent("onload",a):v.removeEventListener("load",a,!1);var i,o="success";try{if(w)throw"timeout";var r="xml"==h.dataType||I.XMLDocument||e.isXMLDoc(I);if(n("isXml="+r),!r&&window.opera&&(null===I.body||!I.body.innerHTML)&&--j)return n("requeing onLoad callback, DOM not available"),setTimeout(a,250),void 0;var l=I.body?I.body:I.documentElement;_.responseText=l?l.innerHTML:null,_.responseXML=I.XMLDocument?I.XMLDocument:I,r&&(h.dataType="xml"),_.getResponseHeader=function(e){var t={"content-type":h.dataType};return t[e.toLowerCase()]},l&&(_.status=Number(l.getAttribute("status"))||_.status,_.statusText=l.getAttribute("statusText")||_.statusText);var c=(h.dataType||"").toLowerCase(),u=/(json|script|text)/.test(c);if(u||h.textarea){var d=I.getElementsByTagName("textarea")[0];if(d)_.responseText=d.value,_.status=Number(d.getAttribute("status"))||_.status,_.statusText=d.getAttribute("statusText")||_.statusText;else if(u){var f=I.getElementsByTagName("pre")[0],m=I.getElementsByTagName("body")[0];f?_.responseText=f.textContent?f.textContent:f.innerText:m&&(_.responseText=m.textContent?m.textContent:m.innerText)}}else"xml"==c&&!_.responseXML&&_.responseText&&(_.responseXML=F(_.responseText));try{M=$(_,c,h)}catch(y){o="parsererror",_.error=i=y||o}}catch(y){n("error caught: ",y),o="error",_.error=i=y||o}_.aborted&&(n("upload aborted"),o=null),_.status&&(o=_.status>=200&&300>_.status||304===_.status?"success":"error"),"success"===o?(h.success&&h.success.call(h.context,M,"success",_),C.resolve(_.responseText,"success",_),p&&e.event.trigger("ajaxSuccess",[_,h])):o&&(void 0===i&&(i=_.statusText),h.error&&h.error.call(h.context,_,o,i),C.reject(_,"error",i),p&&e.event.trigger("ajaxError",[_,h,i])),p&&e.event.trigger("ajaxComplete",[_,h]),p&&!--e.active&&e.event.trigger("ajaxStop"),h.complete&&h.complete.call(h.context,_,o),D=!0,h.timeout&&clearTimeout(x),setTimeout(function(){h.iframeTarget?g.attr("src",h.iframeSrc):g.remove(),_.responseXML=null},100)}}}var c,u,h,p,f,g,v,_,y,b,w,x,k=d[0],C=e.Deferred();if(C.abort=function(e){_.abort(e)},i)for(u=0;m.length>u;u++)c=e(m[u]),o?c.prop("disabled",!1):c.removeAttr("disabled");if(h=e.extend(!0,{},e.ajaxSettings,t),h.context=h.context||h,f="jqFormIO"+(new Date).getTime(),h.iframeTarget?(g=e(h.iframeTarget),b=g.attr2("name"),b?f=b:g.attr2("name",f)):(g=e('<iframe name="'+f+'" src="'+h.iframeSrc+'" />'),g.css({position:"absolute",top:"-1000px",left:"-1000px"})),v=g[0],_={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(t){var i="timeout"===t?"timeout":"aborted";n("aborting upload... "+i),this.aborted=1;try{v.contentWindow.document.execCommand&&v.contentWindow.document.execCommand("Stop")}catch(s){}g.attr("src",h.iframeSrc),_.error=i,h.error&&h.error.call(h.context,_,i,t),p&&e.event.trigger("ajaxError",[_,h,i]),h.complete&&h.complete.call(h.context,_,i)}},p=h.global,p&&0===e.active++&&e.event.trigger("ajaxStart"),p&&e.event.trigger("ajaxSend",[_,h]),h.beforeSend&&h.beforeSend.call(h.context,_,h)===!1)return h.global&&e.active--,C.reject(),C;if(_.aborted)return C.reject(),C;y=k.clk,y&&(b=y.name,b&&!y.disabled&&(h.extraData=h.extraData||{},h.extraData[b]=y.value,"image"==y.type&&(h.extraData[b+".x"]=k.clk_x,h.extraData[b+".y"]=k.clk_y)));var S=1,T=2,E=e("meta[name=csrf-token]").attr("content"),A=e("meta[name=csrf-param]").attr("content");A&&E&&(h.extraData=h.extraData||{},h.extraData[A]=E),h.forceSync?r():setTimeout(r,10);var M,I,D,j=50,F=e.parseXML||function(e,t){return window.ActiveXObject?(t=new ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.loadXML(e)):t=(new DOMParser).parseFromString(e,"text/xml"),t&&t.documentElement&&"parsererror"!=t.documentElement.nodeName?t:null},N=e.parseJSON||function(e){return window.eval("("+e+")")},$=function(t,i,n){var s=t.getResponseHeader("content-type")||"",o="xml"===i||!i&&s.indexOf("xml")>=0,r=o?t.responseXML:t.responseText;return o&&"parsererror"===r.documentElement.nodeName&&e.error&&e.error("parsererror"),n&&n.dataFilter&&(r=n.dataFilter(r,i)),"string"==typeof r&&("json"===i||!i&&s.indexOf("json")>=0?r=N(r):("script"===i||!i&&s.indexOf("javascript")>=0)&&e.globalEval(r)),r};return C}if(!this.length)return n("ajaxSubmit: skipping submit process - no element selected"),this;var l,c,u,d=this;"function"==typeof t?t={success:t}:void 0===t&&(t={}),l=t.type||this.attr2("method"),c=t.url||this.attr2("action"),u="string"==typeof c?e.trim(c):"",u=u||window.location.href||"",u&&(u=(u.match(/^([^#]+)/)||[])[1]),t=e.extend(!0,{url:u,success:e.ajaxSettings.success,type:l||e.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},t);var h={};if(this.trigger("form-pre-serialize",[this,t,h]),h.veto)return n("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(t.beforeSerialize&&t.beforeSerialize(this,t)===!1)return n("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var p=t.traditional;void 0===p&&(p=e.ajaxSettings.traditional);var f,m=[],g=this.formToArray(t.semantic,m);if(t.data&&(t.extraData=t.data,f=e.param(t.data,p)),t.beforeSubmit&&t.beforeSubmit(g,this,t)===!1)return n("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[g,this,t,h]),h.veto)return n("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var v=e.param(g,p);f&&(v=v?v+"&"+f:f),"GET"==t.type.toUpperCase()?(t.url+=(t.url.indexOf("?")>=0?"&":"?")+v,t.data=null):t.data=v;var _=[];if(t.resetForm&&_.push(function(){d.resetForm()}),t.clearForm&&_.push(function(){d.clearForm(t.includeHidden)}),!t.dataType&&t.target){var y=t.success||function(){};_.push(function(i){var n=t.replaceTarget?"replaceWith":"html";e(t.target)[n](i).each(y,arguments)})}else t.success&&_.push(t.success);if(t.success=function(e,i,n){for(var s=t.context||this,o=0,r=_.length;r>o;o++)_[o].apply(s,[e,i,n||d,d])},t.error){var b=t.error;t.error=function(e,i,n){var s=t.context||this;b.apply(s,[e,i,n,d])}}if(t.complete){var w=t.complete;t.complete=function(e,i){var n=t.context||this;w.apply(n,[e,i,d])}}var x=e("input[type=file]:enabled",this).filter(function(){return""!=e(this).val()}),k=x.length>0,C="multipart/form-data",S=d.attr("enctype")==C||d.attr("encoding")==C,T=s.fileapi&&s.formdata;n("fileAPI :"+T);var E,A=(k||S)&&!T;t.iframe!==!1&&(t.iframe||A)?t.closeKeepAlive?e.get(t.closeKeepAlive,function(){E=a(g)}):E=a(g):E=(k||S)&&T?r(g):e.ajax(t),d.removeData("jqxhr").data("jqxhr",E);for(var M=0;m.length>M;M++)m[M]=null;return this.trigger("form-submit-notify",[this,t]),this},e.fn.ajaxForm=function(s){if(s=s||{},s.delegation=s.delegation&&e.isFunction(e.fn.on),!s.delegation&&0===this.length){var o={s:this.selector,c:this.context};return!e.isReady&&o.s?(n("DOM not ready, queuing ajaxForm"),e(function(){e(o.s,o.c).ajaxForm(s)}),this):(n("terminating; zero elements found by selector"+(e.isReady?"":" (DOM not ready)")),this)}return s.delegation?(e(document).off("submit.form-plugin",this.selector,t).off("click.form-plugin",this.selector,i).on("submit.form-plugin",this.selector,s,t).on("click.form-plugin",this.selector,s,i),this):this.ajaxFormUnbind().bind("submit.form-plugin",s,t).bind("click.form-plugin",s,i)},e.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")},e.fn.formToArray=function(t,i){var n=[];if(0===this.length)return n;var o=this[0],r=t?o.getElementsByTagName("*"):o.elements;if(!r)return n;var a,l,c,u,d,h,p;for(a=0,h=r.length;h>a;a++)if(d=r[a],c=d.name,c&&!d.disabled)if(t&&o.clk&&"image"==d.type)o.clk==d&&(n.push({name:c,value:e(d).val(),type:d.type}),n.push({name:c+".x",value:o.clk_x},{name:c+".y",value:o.clk_y}));else if(u=e.fieldValue(d,!0),u&&u.constructor==Array)for(i&&i.push(d),l=0,p=u.length;p>l;l++)n.push({name:c,value:u[l]});else if(s.fileapi&&"file"==d.type){i&&i.push(d);var f=d.files;if(f.length)for(l=0;f.length>l;l++)n.push({name:c,value:f[l],type:d.type});else n.push({name:c,value:"",type:d.type})}else null!==u&&void 0!==u&&(i&&i.push(d),n.push({name:c,value:u,type:d.type,required:d.required}));if(!t&&o.clk){var m=e(o.clk),g=m[0];c=g.name,c&&!g.disabled&&"image"==g.type&&(n.push({name:c,value:m.val()}),n.push({name:c+".x",value:o.clk_x},{name:c+".y",value:o.clk_y}))}return n},e.fn.formSerialize=function(t){return e.param(this.formToArray(t))},e.fn.fieldSerialize=function(t){var i=[];return this.each(function(){var n=this.name;if(n){var s=e.fieldValue(this,t);if(s&&s.constructor==Array)for(var o=0,r=s.length;r>o;o++)i.push({name:n,value:s[o]});else null!==s&&void 0!==s&&i.push({name:this.name,value:s})}}),e.param(i)},e.fn.fieldValue=function(t){for(var i=[],n=0,s=this.length;s>n;n++){var o=this[n],r=e.fieldValue(o,t);null===r||void 0===r||r.constructor==Array&&!r.length||(r.constructor==Array?e.merge(i,r):i.push(r))}return i},e.fieldValue=function(t,i){var n=t.name,s=t.type,o=t.tagName.toLowerCase();if(void 0===i&&(i=!0),i&&(!n||t.disabled||"reset"==s||"button"==s||("checkbox"==s||"radio"==s)&&!t.checked||("submit"==s||"image"==s)&&t.form&&t.form.clk!=t||"select"==o&&-1==t.selectedIndex))return null;if("select"==o){var r=t.selectedIndex;if(0>r)return null;for(var a=[],l=t.options,c="select-one"==s,u=c?r+1:l.length,d=c?r:0;u>d;d++){var h=l[d];if(h.selected){var p=h.value;if(p||(p=h.attributes&&h.attributes.value&&!h.attributes.value.specified?h.text:h.value),c)return p;a.push(p)}}return a}return e(t).val()},e.fn.clearForm=function(t){return this.each(function(){e("input,select,textarea",this).clearFields(t)})},e.fn.clearFields=e.fn.clearInputs=function(t){var i=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var n=this.type,s=this.tagName.toLowerCase();i.test(n)||"textarea"==s?this.value="":"checkbox"==n||"radio"==n?this.checked=!1:"select"==s?this.selectedIndex=-1:"file"==n?/MSIE/.test(navigator.userAgent)?e(this).replaceWith(e(this).clone(!0)):e(this).val(""):t&&(t===!0&&/hidden/.test(n)||"string"==typeof t&&e(this).is(t))&&(this.value="")})},e.fn.resetForm=function(){return this.each(function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()})},e.fn.enable=function(e){return void 0===e&&(e=!0),this.each(function(){this.disabled=!e})},e.fn.selected=function(t){return void 0===t&&(t=!0),this.each(function(){var i=this.type;if("checkbox"==i||"radio"==i)this.checked=t;else if("option"==this.tagName.toLowerCase()){var n=e(this).parent("select");t&&n[0]&&"select-one"==n[0].type&&n.find("option").selected(!1),this.selected=t}})},e.fn.ajaxSubmit.debug=!1}("undefined"!=typeof jQuery?jQuery:window.Zepto),function(window,undefined){function returnTrue(){return!0}function returnFalse(){return!1}var document=window.document;document.createElement("video"),document.createElement("audio");var VideoJS=function(e,t,i){var n;if("string"==typeof e){if(0===e.indexOf("#")&&(e=e.slice(1)),_V_.players[e])return _V_.players[e];n=_V_.el(e)}else n=e;if(!n||!n.nodeName)throw new TypeError("The element or ID supplied is not valid. (VideoJS)");return n.player||new _V_.Player(n,t,i)},_V_=VideoJS,CDN_VERSION="3.2";VideoJS.players={},VideoJS.options={techOrder:["flash","html5"],html5:{},flash:{swf:"http://files.jibjabcdn.com/video-js.swf"},width:"auto",height:"auto",defaultVolume:0,components:{posterImage:{},textTrackDisplay:{},loadingSpinner:{},bigPlayButton:{},controlBar:{}}},"GENERATED_CDN_VSN"!=CDN_VERSION&&(_V_.options.flash.swf="http://files.jibjabcdn.com/video-js.swf"),_V_.merge=function(e,t,i){t||(t={});for(var n in t)!t.hasOwnProperty(n)||i&&e.hasOwnProperty(n)||(e[n]=t[n]);return e},_V_.extend=function(e){this.merge(this,e,!0)},_V_.extend({tech:{},controlSets:{},isIE:function(){return!1},isFF:function(){return!!_V_.ua.match("Firefox")},isIPad:function(){return null!==navigator.userAgent.match(/iPad/i)},isIPhone:function(){return null!==navigator.userAgent.match(/iPhone/i)},isIOS:function(){return VideoJS.isIPhone()||VideoJS.isIPad()},iOSVersion:function(){var e=navigator.userAgent.match(/OS (\d+)_/i);return e&&e[1]?e[1]:void 0},isAndroid:function(){return null!==navigator.userAgent.match(/Android.*AppleWebKit/i)},androidVersion:function(){var e=navigator.userAgent.match(/Android (\d+)\./i);return e&&e[1]?e[1]:void 0},testVid:document.createElement("video"),ua:navigator.userAgent,support:{},each:function(e,t){if(e&&0!==e.length)for(var i=0,n=e.length;n>i;i++)t.call(this,e[i],i)},eachProp:function(e,t){if(e)for(var i in e)e.hasOwnProperty(i)&&t.call(this,i,e[i])},el:function(e){return document.getElementById(e)},createElement:function(e,t){var i,n=document.createElement(e);for(i in t)t.hasOwnProperty(i)&&(-1!==i.indexOf("-")?n.setAttribute(i,t[i]):n[i]=t[i]);return n},insertFirst:function(e,t){t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)},addClass:function(e,t){-1==(" "+e.className+" ").indexOf(" "+t+" ")&&(e.className=""===e.className?t:e.className+" "+t)},removeClass:function(e,t){if(-1!=e.className.indexOf(t)){var i=e.className.split(" ");i.splice(i.indexOf(t),1),e.className=i.join(" ")}},remove:function(e,t){if(t){var i=t.indexOf(e);return-1!=i?t.splice(i,1):void 0}},blockTextSelection:function(){document.body.focus(),document.onselectstart=function(){return!1}},unblockTextSelection:function(){document.onselectstart=function(){return!0}},formatTime:function(e,t){t=t||e;var i=Math.floor(e%60),n=Math.floor(e/60%60),s=Math.floor(e/3600),o=Math.floor(t/60%60),r=Math.floor(t/3600);return s=s>0||r>0?s+":":"",n=((s||o>=10)&&10>n?"0"+n:n)+":",i=10>i?"0"+i:i,s+n+i},uc:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},getRelativePosition:function(e,t){return Math.max(0,Math.min(1,(e-_V_.findPosX(t))/t.offsetWidth))},getComputedStyleValue:function(e,t){return window.getComputedStyle(e,null).getPropertyValue(t)},trim:function(e){return e.toString().replace(/^\s+/,"").replace(/\s+$/,"")},round:function(e,t){return t||(t=0),Math.round(e*Math.pow(10,t))/Math.pow(10,t)},isEmpty:function(e){for(var t in e)return!1;return!0},createTimeRange:function(e,t){return{length:1,start:function(){return e},end:function(){return t}}},cache:{},guid:1,expando:"vdata"+(new Date).getTime(),getData:function(e){var t=e[_V_.expando];return t||(t=e[_V_.expando]=_V_.guid++,_V_.cache[t]={}),_V_.cache[t]},removeData:function(e){var t=e[_V_.expando];if(t){delete _V_.cache[t];try{delete e[_V_.expando]}catch(i){e.removeAttribute?e.removeAttribute(_V_.expando):e[_V_.expando]=null}}},proxy:function(e,t,i){t.guid||(t.guid=_V_.guid++);var n=function(){return t.apply(e,arguments)};return n.guid=i?i+"_"+t.guid:t.guid,n},get:function(e,t,i){var n=0==e.indexOf("file:")||0==window.location.href.indexOf("file:")&&-1==e.indexOf("http:");"undefined"==typeof XMLHttpRequest&&(XMLHttpRequest=function(){try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(i){}throw new Error("This browser does not support XMLHttpRequest.")});var s=new XMLHttpRequest;try{s.open("GET",e)}catch(o){return _V_.log("VideoJS XMLHttpRequest (open)",o),!1}s.onreadystatechange=_V_.proxy(this,function(){4==s.readyState&&(200==s.status||n&&0==s.status?t(s.responseText):i&&i())});try{s.send()}catch(o){_V_.log("VideoJS XMLHttpRequest (send)",o),i&&i(o)}},setLocalStorage:function(e,t){var i=window.localStorage||!1;if(i)try{i[e]=t}catch(n){22==n.code||1014==n.code?_V_.log("LocalStorage Full (VideoJS)",n):_V_.log("LocalStorage Error (VideoJS)",n)}},getAbsoluteURL:function(e){return e.match(/^https?:\/\//)||(e=_V_.createElement("div",{innerHTML:'<a href="'+e+'">x</a>'}).firstChild.href),e}}),_V_.log=function(){if(_V_.log.history=_V_.log.history||[],_V_.log.history.push(arguments),window.console){arguments.callee=arguments.callee.caller;var e=[].slice.call(arguments);"object"==typeof console.log?_V_.log.apply.call(console.log,console,e):console.log.apply(console,e)}},function(e){function t(){}for(var i,n="assert,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,timeStamp,profile,profileEnd,time,timeEnd,trace,warn".split(",");i=n.pop();)e[i]=e[i]||t}(function(){try{return console.log(),window.console}catch(e){return window.console={}}}()),_V_.findPosX="getBoundingClientRect"in document.documentElement?function(e){var t;try{t=e.getBoundingClientRect()}catch(i){}if(!t)return 0;var n=document.documentElement,s=document.body,o=n.clientLeft||s.clientLeft||0,r=window.pageXOffset||s.scrollLeft,a=t.left+r-o;return a}:function(e){for(var t=e.offsetLeft;e=obj.offsetParent;)-1==e.className.indexOf("video-js"),t+=e.offsetLeft;return t},function(){var e=!1,t=/xyz/.test(function(){})?/\b_super\b/:/.*/;_V_.Class=function(){},_V_.Class.extend=function(i){function n(){return!e&&this.init?this.init.apply(this,arguments):e?void 0:arguments.callee.prototype.init()}var s=this.prototype;e=!0;var o=new this;e=!1;for(var r in i)o[r]="function"==typeof i[r]&&"function"==typeof s[r]&&t.test(i[r])?function(e,t){return function(){var i=this._super;this._super=s[e];var n=t.apply(this,arguments);return this._super=i,n}}(r,i[r]):i[r];return n.prototype=o,n.constructor=n,n.extend=arguments.callee,n}}(),_V_.Component=_V_.Class.extend({init:function(e,t){this.player=e,t=this.options=_V_.merge(this.options||{},t),this.el=t.el?t.el:this.createElement(),this.initComponents()},destroy:function(){},createElement:function(e,t){return _V_.createElement(e||"div",t)},buildCSSClass:function(){return""},initComponents:function(){var e=this.options;e&&e.components&&this.eachProp(e.components,function(e,t){var i=this.proxy(function(){this[e]=this.addComponent(e,t)});t.loadEvent?this.one(t.loadEvent,i):i()})},addComponent:function(e,t){var i,n;return"string"==typeof e?(t=t||{},n=t.componentClass||_V_.uc(e),i=new _V_[n](this.player||this,t)):i=e,this.el.appendChild(i.el),i},removeComponent:function(e){this.el.removeChild(e.el)},show:function(){this.el.style.display="block"},hide:function(){this.el.style.display="none"},fadeIn:function(){this.removeClass("vjs-fade-out"),this.addClass("vjs-fade-in")},fadeOut:function(){this.removeClass("vjs-fade-in"),this.addClass("vjs-fade-out")},lockShowing:function(){var e=this.el.style;e.display="block",e.opacity=1,e.visiblity="visible"},unlockShowing:function(){var e=this.el.style;e.display="",e.opacity="",e.visiblity=""},addClass:function(e){_V_.addClass(this.el,e)},removeClass:function(e){_V_.removeClass(this.el,e)},addEvent:function(e,t){return _V_.addEvent(this.el,e,_V_.proxy(this,t))},removeEvent:function(e,t){return _V_.removeEvent(this.el,e,t)},triggerEvent:function(e,t){return _V_.triggerEvent(this.el,e,t)},one:function(e,t){_V_.one(this.el,e,_V_.proxy(this,t))},ready:function(e){return e?(this.isReady?e.call(this):(this.readyQueue===undefined&&(this.readyQueue=[]),this.readyQueue.push(e)),this):this},triggerReady:function(){this.isReady=!0,this.readyQueue&&this.readyQueue.length>0&&(this.each(this.readyQueue,function(e){e.call(this)}),this.readyQueue=[],this.triggerEvent("ready"))},each:function(e,t){_V_.each.call(this,e,t)},eachProp:function(e,t){_V_.eachProp.call(this,e,t)},extend:function(e){_V_.merge(this,e)},proxy:function(e,t){return _V_.proxy(this,e,t)}}),_V_.Control=_V_.Component.extend({buildCSSClass:function(){return"vjs-control "+this._super()}}),_V_.ControlBar=_V_.Component.extend({options:{loadEvent:"play",components:{playToggle:{},fullscreenToggle:{},currentTimeDisplay:{},timeDivider:{},durationDisplay:{},remainingTimeDisplay:{},progressControl:{},volumeControl:{},muteToggle:{}}},init:function(e,t){this._super(e,t),e.addEvent("play",this.proxy(function(){this.fadeIn(),this.player.addEvent("mouseover",this.proxy(this.fadeIn)),this.player.addEvent("mouseout",this.proxy(this.fadeOut))}))},createElement:function(){return _V_.createElement("div",{className:"vjs-controls"})},fadeIn:function(){this._super(),this.player.triggerEvent("controlsvisible")},fadeOut:function(){this._super(),this.player.triggerEvent("controlshidden")},lockShowing:function(){this.el.style.opacity="1"}}),_V_.Button=_V_.Control.extend({init:function(e,t){this._super(e,t),this.addEvent("click",this.onClick),this.addEvent("focus",this.onFocus),this.addEvent("blur",this.onBlur)},createElement:function(e,t){return t=_V_.merge({className:this.buildCSSClass(),innerHTML:'<div><span class="vjs-control-text">'+(this.buttonText||"Need Text")+"</span></div>",role:"button",tabIndex:0},t),this._super(e,t)},onClick:function(){},onFocus:function(){_V_.addEvent(document,"keyup",_V_.proxy(this,this.onKeyPress))},onKeyPress:function(e){(32==e.which||13==e.which)&&(e.preventDefault(),this.onClick())},onBlur:function(){_V_.removeEvent(document,"keyup",_V_.proxy(this,this.onKeyPress))}}),_V_.PlayButton=_V_.Button.extend({buttonText:"Play",buildCSSClass:function(){return"vjs-play-button "+this._super()},onClick:function(){this.player.play()}}),_V_.PauseButton=_V_.Button.extend({buttonText:"Pause",buildCSSClass:function(){return"vjs-pause-button "+this._super()},onClick:function(){this.player.pause()}}),_V_.PlayToggle=_V_.Button.extend({buttonText:"Play",init:function(e,t){this._super(e,t),e.addEvent("play",_V_.proxy(this,this.onPlay)),e.addEvent("pause",_V_.proxy(this,this.onPause))},buildCSSClass:function(){return"vjs-play-control "+this._super()},onClick:function(){this.player.paused()?this.player.play():this.player.pause()},onPlay:function(){_V_.removeClass(this.el,"vjs-paused"),_V_.addClass(this.el,"vjs-playing")},onPause:function(){_V_.removeClass(this.el,"vjs-playing"),_V_.addClass(this.el,"vjs-paused")}}),_V_.FullscreenToggle=_V_.Button.extend({buttonText:"Fullscreen",buildCSSClass:function(){return"vjs-fullscreen-control "+this._super()},onClick:function(){this.player.isFullScreen?this.player.cancelFullScreen():this.player.requestFullScreen()}}),_V_.BigPlayButton=_V_.Button.extend({init:function(e,t){this._super(e,t),e.addEvent("play",_V_.proxy(this,this.hide)),e.addEvent("ended",_V_.proxy(this,this.show))},createElement:function(){return this._super("div",{className:"vjs-big-play-button",innerHTML:"<span></span>"})},onClick:function(){this.player.currentTime()&&this.player.currentTime(0),this.player.play()}}),_V_.LoadingSpinner=_V_.Component.extend({init:function(e,t){this._super(e,t),e.addEvent("canplay",_V_.proxy(this,this.hide)),e.addEvent("canplaythrough",_V_.proxy(this,this.hide)),e.addEvent("playing",_V_.proxy(this,this.hide)),e.addEvent("seeking",_V_.proxy(this,this.show)),e.addEvent("error",_V_.proxy(this,this.show)),e.addEvent("waiting",_V_.proxy(this,this.show))},createElement:function(){var e,t;return"string"==typeof this.player.el.style.WebkitBorderRadius||"string"==typeof this.player.el.style.MozBorderRadius||"string"==typeof this.player.el.style.KhtmlBorderRadius||"string"==typeof this.player.el.style.borderRadius?(e="vjs-loading-spinner",t="<div class='ball1'></div><div class='ball2'></div><div class='ball3'></div><div class='ball4'></div><div class='ball5'></div><div class='ball6'></div><div class='ball7'></div><div class='ball8'></div>"):(e="vjs-loading-spinner-fallback",t=""),this._super("div",{className:e,innerHTML:t})}}),_V_.CurrentTimeDisplay=_V_.Component.extend({init:function(e,t){this._super(e,t),e.addEvent("timeupdate",_V_.proxy(this,this.updateContent))},createElement:function(){var e=this._super("div",{className:"vjs-current-time vjs-time-controls vjs-control"});return this.content=_V_.createElement("div",{className:"vjs-current-time-display",innerHTML:"0:00"}),e.appendChild(_V_.createElement("div").appendChild(this.content)),e},updateContent:function(){var e=this.player.scrubbing?this.player.values.currentTime:this.player.currentTime();this.content.innerHTML=_V_.formatTime(e,this.player.duration())}}),_V_.DurationDisplay=_V_.Component.extend({init:function(e,t){this._super(e,t),e.addEvent("timeupdate",_V_.proxy(this,this.updateContent))},createElement:function(){var e=this._super("div",{className:"vjs-duration vjs-time-controls vjs-control"});return this.content=_V_.createElement("div",{className:"vjs-duration-display",innerHTML:"0:00"}),e.appendChild(_V_.createElement("div").appendChild(this.content)),e},updateContent:function(){this.player.duration()&&(this.content.innerHTML=_V_.formatTime(this.player.duration()))}}),_V_.TimeDivider=_V_.Component.extend({createElement:function(){return this._super("div",{className:"vjs-time-divider",innerHTML:"<div><span>/</span></div>"})}}),_V_.RemainingTimeDisplay=_V_.Component.extend({init:function(e,t){this._super(e,t),e.addEvent("timeupdate",_V_.proxy(this,this.updateContent))},createElement:function(){var e=this._super("div",{className:"vjs-remaining-time vjs-time-controls vjs-control"});return this.content=_V_.createElement("div",{className:"vjs-remaining-time-display",innerHTML:"-0:00"}),e.appendChild(_V_.createElement("div").appendChild(this.content)),e},updateContent:function(){this.player.duration()&&(this.content.innerHTML="-"+_V_.formatTime(this.player.remainingTime()))}}),_V_.Slider=_V_.Component.extend({init:function(e,t){this._super(e,t),e.addEvent(this.playerEvent,_V_.proxy(this,this.update)),this.addEvent("mousedown",this.onMouseDown),this.addEvent("focus",this.onFocus),this.addEvent("blur",this.onBlur),this.player.addEvent("controlsvisible",this.proxy(this.update)),this.update()},createElement:function(e,t){return t=_V_.merge({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},t),this._super(e,t)},onMouseDown:function(e){e.preventDefault(),_V_.blockTextSelection(),_V_.addEvent(document,"mousemove",_V_.proxy(this,this.onMouseMove)),_V_.addEvent(document,"mouseup",_V_.proxy(this,this.onMouseUp)),this.onMouseMove(e)},onMouseUp:function(){_V_.unblockTextSelection(),_V_.removeEvent(document,"mousemove",this.onMouseMove,!1),_V_.removeEvent(document,"mouseup",this.onMouseUp,!1),this.update()},update:function(){var e,t=this.getPercent();if(handle=this.handle,bar=this.bar,isNaN(t)&&(t=0),e=t,handle){var i=this.el,n=i.offsetWidth,s=handle.el.offsetWidth,o=s?s/n:0,r=1-o;adjustedProgress=t*r,e=adjustedProgress+o/2,handle.el.style.left=_V_.round(100*adjustedProgress,2)+"%"}bar.el.style.width=_V_.round(100*e,2)+"%"},calculateDistance:function(e){var t=this.el,i=_V_.findPosX(t),n=t.offsetWidth,s=this.handle;if(s){var o=s.el.offsetWidth;i+=o/2,n-=o}return Math.max(0,Math.min(1,(e.pageX-i)/n))},onFocus:function(){_V_.addEvent(document,"keyup",_V_.proxy(this,this.onKeyPress))},onKeyPress:function(e){37==e.which?(e.preventDefault(),this.stepBack()):39==e.which&&(e.preventDefault(),this.stepForward())},onBlur:function(){_V_.removeEvent(document,"keyup",_V_.proxy(this,this.onKeyPress))}}),_V_.ProgressControl=_V_.Component.extend({options:{components:{seekBar:{}}},createElement:function(){return this._super("div",{className:"vjs-progress-control vjs-control"})}}),_V_.SeekBar=_V_.Slider.extend({options:{components:{loadProgressBar:{},bar:{componentClass:"PlayProgressBar"},handle:{componentClass:"SeekHandle"}}},playerEvent:"timeupdate",init:function(e,t){this._super(e,t)},createElement:function(){return this._super("div",{className:"vjs-progress-holder"})},getPercent:function(){return this.player.currentTime()/this.player.duration()},onMouseDown:function(e){this._super(e),this.player.scrubbing=!0,this.videoWasPlaying=!this.player.paused(),this.player.pause()},onMouseMove:function(e){var t=this.calculateDistance(e)*this.player.duration();t==this.player.duration()&&(t-=.1),this.player.currentTime(t)},onMouseUp:function(e){this._super(e),this.player.scrubbing=!1,this.videoWasPlaying&&this.player.play()},stepForward:function(){this.player.currentTime(this.player.currentTime()+1)},stepBack:function(){this.player.currentTime(this.player.currentTime()-1)}}),_V_.LoadProgressBar=_V_.Component.extend({init:function(e,t){this._super(e,t),e.addEvent("progress",_V_.proxy(this,this.update))
},createElement:function(){return this._super("div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text">Loaded: 0%</span>'})},update:function(){this.el.style&&(this.el.style.width=_V_.round(100*this.player.bufferedPercent(),2)+"%")}}),_V_.PlayProgressBar=_V_.Component.extend({createElement:function(){return this._super("div",{className:"vjs-play-progress",innerHTML:'<span class="vjs-control-text">Progress: 0%</span>'})}}),_V_.SeekHandle=_V_.Component.extend({createElement:function(){return this._super("div",{className:"vjs-seek-handle",innerHTML:'<span class="vjs-control-text">00:00</span>'})}}),_V_.VolumeControl=_V_.Component.extend({options:{components:{volumeBar:{}}},createElement:function(){return this._super("div",{className:"vjs-volume-control vjs-control"})}}),_V_.VolumeBar=_V_.Slider.extend({options:{components:{bar:{componentClass:"VolumeLevel"},handle:{componentClass:"VolumeHandle"}}},playerEvent:"volumechange",createElement:function(){return this._super("div",{className:"vjs-volume-bar"})},onMouseMove:function(e){this.player.volume(this.calculateDistance(e))},getPercent:function(){return this.player.volume()},stepForward:function(){this.player.volume(this.player.volume()+.1)},stepBack:function(){this.player.volume(this.player.volume()-.1)}}),_V_.VolumeLevel=_V_.Component.extend({createElement:function(){return this._super("div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})}}),_V_.VolumeHandle=_V_.Component.extend({createElement:function(){return this._super("div",{className:"vjs-volume-handle",innerHTML:'<span class="vjs-control-text"></span>'})}}),_V_.MuteToggle=_V_.Button.extend({init:function(e,t){this._super(e,t),e.addEvent("volumechange",_V_.proxy(this,this.update))},createElement:function(){return this._super("div",{className:"vjs-mute-control vjs-control",innerHTML:'<div><span class="vjs-control-text">Mute</span></div>'})},onClick:function(){this.player.muted(this.player.muted()?!1:!0)},update:function(){var e=this.player.volume(),t=3;0==e||this.player.muted()?t=0:.33>e?t=1:.67>e&&(t=2),_V_.each.call(this,[0,1,2,3],function(e){_V_.removeClass(this.el,"vjs-vol-"+e)}),_V_.addClass(this.el,"vjs-vol-"+t)}}),_V_.PosterImage=_V_.Button.extend({init:function(e,t){this._super(e,t),this.player.options.poster||this.hide(),e.addEvent("play",_V_.proxy(this,this.hide))},createElement:function(){return _V_.createElement("img",{className:"vjs-poster",src:this.player.options.poster,tabIndex:-1})},onClick:function(){this.player.play()}}),_V_.Menu=_V_.Component.extend({init:function(e,t){this._super(e,t)},addItem:function(e){this.addComponent(e),e.addEvent("click",this.proxy(function(){this.unlockShowing()}))},createElement:function(){return this._super("ul",{className:"vjs-menu"})}}),_V_.MenuItem=_V_.Button.extend({init:function(e,t){this._super(e,t),t.selected&&this.addClass("vjs-selected")},createElement:function(e,t){return this._super("li",_V_.merge({className:"vjs-menu-item",innerHTML:this.options.label},t))},onClick:function(){this.selected(!0)},selected:function(e){e?this.addClass("vjs-selected"):this.removeClass("vjs-selected")}}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){"use strict";if(void 0===this||null===this)throw new TypeError;var t=Object(this),i=t.length>>>0;if(0===i)return-1;var n=0;if(arguments.length>0&&(n=Number(arguments[1]),n!==n?n=0:0!==n&&n!==1/0&&n!==-(1/0)&&(n=(n>0||-1)*Math.floor(Math.abs(n)))),n>=i)return-1;for(var s=n>=0?n:Math.max(i-Math.abs(n),0);i>s;s++)if(s in t&&t[s]===e)return s;return-1}),_V_.extend({addEvent:function(e,t,i){var n,s=_V_.getData(e);s&&!s.handler&&(s.handler=function(t){t=_V_.fixEvent(t);var i=_V_.getData(e).events[t.type];if(i){var n=[];_V_.each(i,function(e,t){n[t]=e});for(var s=0,o=n.length;o>s;s++)n[s].call(e,t)}}),s.events||(s.events={}),n=s.events[t],n||(n=s.events[t]=[],document.addEventListener?e.addEventListener(t,s.handler,!1):document.attachEvent&&e.attachEvent("on"+t,s.handler)),i.guid||(i.guid=_V_.guid++),n.push(i)},removeEvent:function(e,t,i){var n,s=_V_.getData(e);if(s.events)if(t){if(n=s.events[t]){if(i&&i.guid)for(var o=0;n.length>o;o++)n[o].guid===i.guid&&n.splice(o--,1);_V_.cleanUpEvents(e,t)}}else for(t in s.events)_V_.cleanUpEvents(e,t)},cleanUpEvents:function(e,t){var i=_V_.getData(e);0===i.events[t].length&&(delete i.events[t],document.removeEventListener?e.removeEventListener(t,i.handler,!1):document.detachEvent&&e.detachEvent("on"+t,i.handler)),_V_.isEmpty(i.events)&&(delete i.events,delete i.handler),_V_.isEmpty(i)&&_V_.removeData(e)},fixEvent:function(e){if(e[_V_.expando])return e;var t=e;e=new _V_.Event(t);for(var i,n=_V_.Event.props.length;n;)i=_V_.Event.props[--n],e[i]=t[i];if(e.target||(e.target=e.srcElement||document),3===e.target.nodeType&&(e.target=e.target.parentNode),!e.relatedTarget&&e.fromElement&&(e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement),null==e.pageX&&null!=e.clientX){var s=e.target.ownerDocument||document,o=s.documentElement,r=s.body;e.pageX=e.clientX+(o&&o.scrollLeft||r&&r.scrollLeft||0)-(o&&o.clientLeft||r&&r.clientLeft||0),e.pageY=e.clientY+(o&&o.scrollTop||r&&r.scrollTop||0)-(o&&o.clientTop||r&&r.clientTop||0)}return null!=e.which||null==e.charCode&&null==e.keyCode||(e.which=null!=e.charCode?e.charCode:e.keyCode),!e.metaKey&&e.ctrlKey&&(e.metaKey=e.ctrlKey),e.which||e.button===undefined||(e.which=1&e.button?1:2&e.button?3:4&e.button?2:0),e},triggerEvent:function(e,t){var i,n=_V_.getData(e),s=(e.parentNode||e.ownerDocument,t.type||t);n&&(i=n.handler),t="object"==typeof t?t[_V_.expando]?t:new _V_.Event(s,t):new _V_.Event(s),t.type=s,i&&i.call(e,t),t.result=undefined,t.target=e},one:function(e,t,i){_V_.addEvent(e,t,function(){_V_.removeEvent(e,t,arguments.callee),i.apply(this,arguments)})}}),_V_.Event=function(e,t){e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?returnTrue:returnFalse):this.type=e,t&&_V_.merge(this,t),this.timeStamp=(new Date).getTime(),this[_V_.expando]=!0},_V_.Event.prototype={preventDefault:function(){this.isDefaultPrevented=returnTrue;var e=this.originalEvent;e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=returnTrue;var e=this.originalEvent;e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=returnTrue,this.stopPropagation()},isDefaultPrevented:returnFalse,isPropagationStopped:returnFalse,isImmediatePropagationStopped:returnFalse},_V_.Event.props="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode metaKey newValue offsetX offsetY pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" ");var JSON;JSON||(JSON={}),function(){var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(e,t){var i,n,s=e[t];if(s&&"object"==typeof s)for(i in s)Object.prototype.hasOwnProperty.call(s,i)&&(n=walk(s,i),n!==undefined?s[i]=n:delete s[i]);return reviver.call(e,t,s)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),_V_.Player=_V_.Component.extend({init:function(e,t,i){this.tag=e;var n=this.el=_V_.createElement("div"),s=this.options={},o=s.width=e.getAttribute("width"),r=s.height=e.getAttribute("height"),a=o||300,l=r||150;if(e.player=n.player=this,this.ready(i),e.parentNode.insertBefore(n,e),n.appendChild(e),n.id=this.id=e.id,n.className=e.className,e.id+="_html5_api",e.className="vjs-tech",_V_.players[n.id]=this,n.setAttribute("width",a),n.setAttribute("height",l),n.style.width=a+"px",n.style.height=l+"px",e.removeAttribute("width"),e.removeAttribute("height"),_V_.merge(s,_V_.options),_V_.merge(s,this.getVideoTagSettings()),_V_.merge(s,t),e.removeAttribute("controls"),e.removeAttribute("poster"),e.hasChildNodes())for(var c=0,u=e.childNodes;u.length>c;c++)("SOURCE"==u[c].nodeName||"TRACK"==u[c].nodeName)&&e.removeChild(u[c]);if(this.values={},this.addClass("vjs-paused"),this.addEvent("ended",this.onEnded),this.addEvent("play",this.onPlay),this.addEvent("pause",this.onPause),this.addEvent("progress",this.onProgress),this.addEvent("error",this.onError),s.controls&&this.ready(function(){this.initComponents()}),this.textTracks=[],s.tracks&&s.tracks.length>0&&this.addTextTracks(s.tracks),s.sources&&0!=s.sources.length)this.src(s.sources);else for(var c=0,u=s.techOrder;u.length>c;c++){var d=u[c],h=_V_[d];if(h.isSupported()){this.loadTech(d);break}}},values:{},destroy:function(){this.stopTrackingProgress(),this.stopTrackingCurrentTime(),_V_.players[this.id]=null,delete _V_.players[this.id],this.tech.destroy(),this.el.parentNode.removeChild(this.el)},createElement:function(){},getVideoTagSettings:function(){var e={sources:[],tracks:[]};if(e.src=this.tag.getAttribute("src"),e.controls=null!==this.tag.getAttribute("controls"),e.poster=this.tag.getAttribute("poster"),e.preload=this.tag.getAttribute("preload"),e.autoplay=null!==this.tag.getAttribute("autoplay"),e.loop=null!==this.tag.getAttribute("loop"),e.muted=null!==this.tag.getAttribute("muted"),this.tag.hasChildNodes())for(var t,i=0,n=this.tag.childNodes;n.length>i;i++)t=n[i],"SOURCE"==t.nodeName&&e.sources.push({src:t.getAttribute("src"),type:t.getAttribute("type"),media:t.getAttribute("media"),title:t.getAttribute("title")}),"TRACK"==t.nodeName&&e.tracks.push({src:t.getAttribute("src"),kind:t.getAttribute("kind"),srclang:t.getAttribute("srclang"),label:t.getAttribute("label"),"default":null!==t.getAttribute("default"),title:t.getAttribute("title")});return e},loadTech:function(e,t){this.tech?this.unloadTech():"html5"!=e&&this.tag&&(this.el.removeChild(this.tag),this.tag=!1),this.techName=e,this.isReady=!1;var i=function(){this.player.triggerReady(),this.support.progressEvent||this.player.manualProgressOn(),this.support.timeupdateEvent||this.player.manualTimeUpdatesOn()},n=_V_.merge({source:t,parentEl:this.el},this.options[e]);t&&(t.src==this.values.src&&this.values.currentTime>0&&(n.startTime=this.values.currentTime),this.values.src=t.src),this.tech=new _V_[e](this,n),this.tech.ready(i)},unloadTech:function(){this.tech.destroy(),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),this.tech=!1},manualProgressOn:function(){this.manualProgress=!0,this.trackProgress(),this.tech.addEvent("progress",function(){this.removeEvent("progress",arguments.callee),this.support.progressEvent=!0,this.player.manualProgressOff()})},manualProgressOff:function(){this.manualProgress=!1,this.stopTrackingProgress()},trackProgress:function(){this.progressInterval=setInterval(_V_.proxy(this,function(){this.values.bufferEnd<this.buffered().end(0)?this.triggerEvent("progress"):1==this.bufferedPercent()&&(this.stopTrackingProgress(),this.triggerEvent("progress"))}),500)},stopTrackingProgress:function(){clearInterval(this.progressInterval)},manualTimeUpdatesOn:function(){this.manualTimeUpdates=!0,this.addEvent("play",this.trackCurrentTime),this.addEvent("pause",this.stopTrackingCurrentTime),this.tech.addEvent("timeupdate",function(){this.removeEvent("timeupdate",arguments.callee),this.support.timeupdateEvent=!0,this.player.manualTimeUpdatesOff()})},manualTimeUpdatesOff:function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.removeEvent("play",this.trackCurrentTime),this.removeEvent("pause",this.stopTrackingCurrentTime)},trackCurrentTime:function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=setInterval(_V_.proxy(this,function(){this.triggerEvent("timeupdate")}),250)},stopTrackingCurrentTime:function(){clearInterval(this.currentTimeInterval)},onEnded:function(){this.options.loop?(this.currentTime(0),this.play()):(this.pause(),this.currentTime(0),this.pause())},onPlay:function(){_V_.removeClass(this.el,"vjs-paused"),_V_.addClass(this.el,"vjs-playing")},onPause:function(){_V_.removeClass(this.el,"vjs-playing"),_V_.addClass(this.el,"vjs-paused")},onProgress:function(){1==this.bufferedPercent()&&this.triggerEvent("loadedalldata")},onError:function(e){_V_.log("Video Error",e)},techCall:function(e,t){if(this.tech.isReady)try{this.tech[e](t)}catch(i){_V_.log(i)}else this.tech.ready(function(){this[e](t)})},techGet:function(e){if(this.tech.isReady)try{return this.tech[e]()}catch(t){this.tech[e]===undefined?_V_.log("Video.js: "+e+" method not defined for "+this.techName+" playback technology.",t):"TypeError"==t.name?(_V_.log("Video.js: "+e+" unavailable on "+this.techName+" playback technology element.",t),this.tech.isReady=!1):_V_.log(t)}},play:function(){return this.techCall("play"),this},pause:function(){return this.techCall("pause"),this},paused:function(){return this.techGet("paused")===!1?!1:!0},currentTime:function(e){return e!==undefined?(this.values.lastSetCurrentTime=e,this.techCall("setCurrentTime",e),this.manualTimeUpdates&&this.triggerEvent("timeupdate"),this):this.values.currentTime=this.techGet("currentTime")||0},duration:function(){return parseFloat(this.techGet("duration"))},remainingTime:function(){return this.duration()-this.currentTime()},buffered:function(){var e=this.techGet("buffered"),t=0,i=this.values.bufferEnd=this.values.bufferEnd||0;return e&&e.length>0&&e.end(0)!==i&&(i=e.end(0),this.values.bufferEnd=i),_V_.createTimeRange(t,i)},bufferedPercent:function(){return this.duration()?this.buffered().end(0)/this.duration():0},volume:function(e){var t;return e!==undefined?(t=Math.max(0,Math.min(1,parseFloat(e))),this.values.volume=t,this.techCall("setVolume",t),_V_.setLocalStorage("volume",t),this):(t=parseFloat(this.techGet("volume")),isNaN(t)?1:t)},muted:function(e){return e!==undefined?(this.techCall("setMuted",e),this):this.techGet("muted")||!1},width:function(e,t){return e!==undefined?(this.el.width=e,this.el.style.width=e+"px",t||this.triggerEvent("resize"),this):parseInt(this.el.getAttribute("width"))},height:function(e){return e!==undefined?(this.el.height=e,this.el.style.height=e+"px",this.triggerEvent("resize"),this):parseInt(this.el.getAttribute("height"))},size:function(e,t){return this.width(e,!0).height(t)},supportsFullScreen:function(){return this.techGet("supportsFullScreen")||!1},requestFullScreen:function(){var e=_V_.support.requestFullScreen;return this.isFullScreen=!0,e?(_V_.addEvent(document,e.eventName,this.proxy(function(){this.isFullScreen=document[e.isFullScreen],0==this.isFullScreen&&_V_.removeEvent(document,e.eventName,arguments.callee),this.triggerEvent("fullscreenchange")})),this.tech.support.fullscreenResize===!1&&1!=this.options.flash.iFrameMode?(this.pause(),this.unloadTech(),_V_.addEvent(document,e.eventName,this.proxy(function(){_V_.removeEvent(document,e.eventName,arguments.callee),this.loadTech(this.techName,{src:this.values.src})})),this.el[e.requestFn]()):this.el[e.requestFn]()):this.tech.supportsFullScreen()?(this.triggerEvent("fullscreenchange"),this.techCall("enterFullScreen")):(this.triggerEvent("fullscreenchange"),this.enterFullWindow()),this},cancelFullScreen:function(){var e=_V_.support.requestFullScreen;return this.isFullScreen=!1,e?this.tech.support.fullscreenResize===!1&&1!=this.options.flash.iFrameMode?(this.pause(),this.unloadTech(),_V_.addEvent(document,e.eventName,this.proxy(function(){_V_.removeEvent(document,e.eventName,arguments.callee),this.loadTech(this.techName,{src:this.values.src})})),document[e.cancelFn]()):document[e.cancelFn]():this.tech.supportsFullScreen()?(this.techCall("exitFullScreen"),this.triggerEvent("fullscreenchange")):(this.exitFullWindow(),this.triggerEvent("fullscreenchange")),this},enterFullWindow:function(){this.isFullWindow=!0,this.docOrigOverflow=document.documentElement.style.overflow,_V_.addEvent(document,"keydown",_V_.proxy(this,this.fullWindowOnEscKey)),document.documentElement.style.overflow="hidden",_V_.addClass(document.body,"vjs-full-window"),_V_.addClass(this.el,"vjs-fullscreen"),this.triggerEvent("enterFullWindow")},fullWindowOnEscKey:function(e){27==e.keyCode&&(1==this.isFullScreen?this.cancelFullScreen():this.exitFullWindow())},exitFullWindow:function(){this.isFullWindow=!1,_V_.removeEvent(document,"keydown",this.fullWindowOnEscKey),document.documentElement.style.overflow=this.docOrigOverflow,_V_.removeClass(document.body,"vjs-full-window"),_V_.removeClass(this.el,"vjs-fullscreen"),this.triggerEvent("exitFullWindow")},selectSource:function(e){for(var t=0,i=this.options.techOrder;i.length>t;t++){var n=i[t],s=_V_[n];if(s.isSupported())for(var o=0,r=e;r.length>o;o++){var a=r[o];if(s.canPlaySource.call(this,a))return{source:a,tech:n}}}return!1},src:function(e){if(e instanceof Array){var e,t,i=this.selectSource(e);i?(e=i.source,t=i.tech,t==this.techName?this.src(e):this.loadTech(t,e)):_V_.log("No compatible source and playback technology were found.")}else e instanceof Object?_V_[this.techName].canPlaySource(e)?this.src(e.src):this.src([e]):(this.values.src=e,this.isReady?(this.techCall("src",e),"auto"==this.options.preload&&this.load(),this.options.autoplay&&this.play()):this.ready(function(){this.src(e)}));return this},load:function(){return this.techCall("load"),this},currentSrc:function(){return this.techGet("currentSrc")||this.values.src||""},preload:function(e){return e!==undefined?(this.techCall("setPreload",e),this.options.preload=e,this):this.techGet("preload")},autoplay:function(e){return e!==undefined?(this.techCall("setAutoplay",e),this.options.autoplay=e,this):this.techGet("autoplay",e)},loop:function(e){return e!==undefined?(this.techCall("setLoop",e),this.options.loop=e,this):this.techGet("loop")},controls:function(){return this.options.controls},poster:function(){return this.techGet("poster")},error:function(){return this.techGet("error")},ended:function(){return this.techGet("ended")}}),function(){var e,t,i,n;_V_.Player.prototype,document.cancelFullscreen!==undefined?(e="requestFullscreen",t="exitFullscreen",i="fullscreenchange",n="fullScreen"):_V_.each(["moz","webkit"],function(s){"moz"==s&&!document.mozFullScreenEnabled||document[s+"CancelFullScreen"]===undefined||(e=s+"RequestFullScreen",t=s+"CancelFullScreen",i=s+"fullscreenchange",n="webkit"==s?s+"IsFullScreen":s+"FullScreen")}),e&&(_V_.support.requestFullScreen={requestFn:e,cancelFn:t,eventName:i,isFullScreen:n})}(),_V_.PlaybackTech=_V_.Component.extend({init:function(){},onClick:function(){this.player.options.controls&&_V_.PlayToggle.prototype.onClick.call(this)}}),_V_.apiMethods="play,pause,paused,currentTime,setCurrentTime,duration,buffered,volume,setVolume,muted,setMuted,width,height,supportsFullScreen,enterFullScreen,src,load,currentSrc,preload,setPreload,autoplay,setAutoplay,loop,setLoop,error,networkState,readyState,seeking,initialTime,startOffsetTime,played,seekable,ended,videoTracks,audioTracks,videoWidth,videoHeight,textTracks,defaultPlaybackRate,playbackRate,mediaGroup,controller,controls,defaultMuted".split(","),_V_.each(_V_.apiMethods,function(e){_V_.PlaybackTech.prototype[e]=function(){throw new Error("The '"+e+"' method is not available on the playback technology's API")}}),_V_.html5=_V_.PlaybackTech.extend({init:function(e,t,i){this.player=e,this.el=this.createElement(),this.ready(i),this.addEvent("click",this.proxy(this.onClick));var n=t.source;n&&this.el.currentSrc==n.src?e.triggerEvent("loadstart"):n&&(this.el.src=n.src),e.ready(function(){this.options.autoplay&&this.paused()&&(this.tag.poster=null,this.play())}),this.setupTriggers(),this.triggerReady()},destroy:function(){this.player.tag=!1,this.removeTriggers(),this.el.parentNode.removeChild(this.el)},createElement:function(){var e,t=(_V_.html5,this.player),i=t.tag;return i&&this.support.movingElementInDOM!==!1||(i&&t.el.removeChild(i),e=_V_.createElement("video",{id:i.id||t.el.id+"_html5_api",className:i.className||"vjs-tech"}),i=e,_V_.insertFirst(i,t.el)),_V_.each(["autoplay","preload","loop","muted"],function(e){null!==t.options[e]&&(i[e]=t.options[e])},this),i},setupTriggers:function(){_V_.each.call(this,_V_.html5.events,function(e){_V_.addEvent(this.el,e,_V_.proxy(this.player,this.eventHandler))})},removeTriggers:function(){_V_.each.call(this,_V_.html5.events,function(e){_V_.removeEvent(this.el,e,_V_.proxy(this.player,this.eventHandler))})},eventHandler:function(e){e.stopPropagation(),this.triggerEvent(e)},play:function(){this.el.play()},pause:function(){this.el.pause()},paused:function(){return this.el.paused},currentTime:function(){return this.el.currentTime},setCurrentTime:function(e){try{this.el.currentTime=e}catch(t){_V_.log(t,"Video isn't ready. (VideoJS)")}},duration:function(){return this.el.duration||0},buffered:function(){return this.el.buffered},volume:function(){return this.el.volume},setVolume:function(e){this.el.volume=e},muted:function(){return this.el.muted},setMuted:function(e){this.el.muted=e},width:function(){return this.el.offsetWidth},height:function(){return this.el.offsetHeight},supportsFullScreen:function(){return"function"!=typeof this.el.webkitEnterFullScreen||navigator.userAgent.match("Chrome")||navigator.userAgent.match("Mac OS X 10.5")?!1:!0},enterFullScreen:function(){try{this.el.webkitEnterFullScreen()}catch(e){11==e.code&&_V_.log("VideoJS: Video not ready.")}},src:function(e){this.el.src=e},load:function(){this.el.load()},currentSrc:function(){return this.el.currentSrc},preload:function(){return this.el.preload},setPreload:function(e){this.el.preload=e},autoplay:function(){return this.el.autoplay},setAutoplay:function(e){this.el.autoplay=e},loop:function(){return this.el.loop},setLoop:function(e){this.el.loop=e},error:function(){return this.el.error},seeking:function(){return this.el.seeking},ended:function(){return this.el.ended},controls:function(){return this.player.options.controls},defaultMuted:function(){return this.el.defaultMuted}}),_V_.html5.isSupported=function(){return!!document.createElement("video").canPlayType},_V_.html5.canPlaySource=function(e){return!!document.createElement("video").canPlayType(e.type)},_V_.html5.events="loadstart,suspend,abort,error,emptied,stalled,loadedmetadata,loadeddata,canplay,canplaythrough,playing,waiting,seeking,seeked,ended,durationchange,timeupdate,progress,play,pause,ratechange,volumechange".split(","),_V_.html5.prototype.support={fullscreen:typeof _V_.testVid.webkitEnterFullScreen!==undefined?_V_.ua.match("Chrome")||_V_.ua.match("Mac OS X 10.5")?!1:!0:!1,movingElementInDOM:!_V_.isIOS()},_V_.isAndroid()&&3>_V_.androidVersion()&&(document.createElement("video").constructor.prototype.canPlayType=function(e){return e&&-1!=e.toLowerCase().indexOf("video/mp4")?"maybe":""}),_V_.flash=_V_.PlaybackTech.extend({init:function(e,t){this.player=e;var i=t.source,n=t.parentEl,s=this.el=_V_.createElement("div",{id:n.id+"_temp_flash"}),o=e.el.id+"_flash_api",r=e.options,a=_V_.merge({readyFunction:"_V_.flash.onReady",eventProxyFunction:"_V_.flash.onEvent",errorEventProxyFunction:"_V_.flash.onError",autoplay:r.autoplay,preload:r.preload,loop:r.loop,muted:r.muted},t.flashVars),l=_V_.merge({wmode:"opaque",bgcolor:"#000000"},t.params),c=_V_.merge({id:o,name:o,"class":"vjs-tech"},t.attributes);if(i&&(a.src=encodeURIComponent(_V_.getAbsoluteURL(i.src))),_V_.insertFirst(s,n),t.startTime&&this.ready(function(){this.load(),this.play(),this.currentTime(t.startTime)}),1!=t.iFrameMode||_V_.isFF)_V_.flash.embed(t.swf,s,a,l,c);else{var u=_V_.createElement("iframe",{id:o+"_iframe",name:o+"_iframe",className:"vjs-tech",scrolling:"no",marginWidth:0,marginHeight:0,frameBorder:0});a.readyFunction="ready",a.eventProxyFunction="events",a.errorEventProxyFunction="errors",_V_.addEvent(u,"load",_V_.proxy(this,function(){var e,i=u.contentWindow;e=u.contentDocument?u.contentDocument:u.contentWindow.document,e.write(_V_.flash.getEmbedCode(t.swf,a,l,c)),i.player=this.player,i.ready=_V_.proxy(this.player,function(t){var i=e.getElementById(t),n=this,s=n.tech;s.el=i,_V_.addEvent(i,"click",s.proxy(s.onClick)),_V_.flash.checkReady(s)}),i.events=_V_.proxy(this.player,function(e,t){var i=this;i&&"flash"==i.techName&&i.triggerEvent(t)}),i.errors=_V_.proxy(this.player,function(e,t){_V_.log("Flash Error",t)})})),s.parentNode.replaceChild(u,s)}},destroy:function(){this.el.parentNode.removeChild(this.el)},play:function(){this.el.vjs_play()},pause:function(){this.el.vjs_pause()},src:function(e){if(e=_V_.getAbsoluteURL(e),this.el.vjs_src(e),this.player.autoplay()){var t=this;setTimeout(function(){t.play()},0)}},load:function(){this.el.vjs_load()},poster:function(){this.el.vjs_getProperty("poster")},buffered:function(){return _V_.createTimeRange(0,this.el.vjs_getProperty("buffered"))},supportsFullScreen:function(){return!1},enterFullScreen:function(){return!1}}),function(){var e=_V_.flash.prototype,t="preload,currentTime,defaultPlaybackRate,playbackRate,autoplay,loop,mediaGroup,controller,controls,volume,muted,defaultMuted".split(","),i="error,currentSrc,networkState,readyState,seeking,initialTime,duration,startOffsetTime,paused,played,seekable,ended,videoTracks,audioTracks,videoWidth,videoHeight,textTracks".split(",");"load,play,pause".split(","),createSetter=function(t){var i=t.charAt(0).toUpperCase()+t.slice(1);e["set"+i]=function(e){return this.el.vjs_setProperty(t,e)}},createGetter=function(t){e[t]=function(){return this.el.vjs_getProperty(t)}},_V_.each(t,function(e){createGetter(e),createSetter(e)}),_V_.each(i,function(e){createGetter(e)})}(),_V_.flash.isSupported=function(){return _V_.flash.version()[0]>=10},_V_.flash.canPlaySource=function(e){return e.type in _V_.flash.prototype.support.formats?"maybe":void 0},_V_.flash.prototype.support={formats:{"video/flv":"FLV","video/x-flv":"FLV","video/mp4":"MP4","video/m4v":"MP4"},progressEvent:!1,timeupdateEvent:!1,fullscreenResize:!1,parentResize:!_V_.ua.match("Firefox")},_V_.flash.onReady=function(e){var t=_V_.el(e),i=t.player||t.parentNode.player,n=i.tech;t.player=i,n.el=t,n.addEvent("click",n.onClick),_V_.flash.checkReady(n)},_V_.flash.checkReady=function(e){e.el.vjs_getProperty?e.triggerReady():setTimeout(function(){_V_.flash.checkReady(e)},50)},_V_.flash.onEvent=function(e,t){var i=_V_.el(e).player;i.triggerEvent(t)},_V_.flash.onError=function(e,t){var i=_V_.el(e).player;i.triggerEvent("error"),_V_.log("Flash Error",t,e)},_V_.flash.version=function(){var e="0,0,0";try{e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(t){try{navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(e=(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1])}catch(t){}}return e.split(",")},_V_.flash.embed=function(e,t,i,n,s){var o=_V_.flash.getEmbedCode(e,i,n,s),r=_V_.createElement("div",{innerHTML:o}).childNodes[0],a=t.parentNode;if(t.parentNode.replaceChild(r,t),_V_.isIE()){var l=a.childNodes[0];setTimeout(function(){l.style.display="block"},1e3)}return r},_V_.flash.getEmbedCode=function(e,t,i,n){var s='<object type="application/x-shockwave-flash"',o="",r="";return attrsString="",t&&_V_.eachProp(t,function(e,t){o+=e+"="+t+"&amp;"}),i=_V_.merge({movie:e,flashvars:o,allowScriptAccess:"always",allowNetworking:"all"},i),_V_.eachProp(i,function(e,t){r+='<param name="'+e+'" value="'+t+'" />'}),n=_V_.merge({data:e,width:"100%",height:"100%"},n),_V_.eachProp(n,function(e,t){attrsString+=e+'="'+t+'" '}),s+attrsString+">"+r+"</object>"},_V_.merge(_V_.Player.prototype,{addTextTracks:function(e){for(var t,i,n=this.textTracks=this.textTracks?this.textTracks:[],s=0,o=e.length;o>s;s++)i=_V_.uc(e[s].kind||"subtitles"),t=new _V_[i+"Track"](this,e[s]),n.push(t),t["default"]&&this.ready(_V_.proxy(t,t.show));return this},showTextTrack:function(e,t){for(var i,n,s,o=this.textTracks,r=0,a=o.length;a>r;r++)i=o[r],i.id===e?(i.show(),n=i):t&&i.kind==t&&i.mode>0&&i.disable();return s=n?n.kind:t?t:!1,s&&this.triggerEvent(s+"trackchange"),this}}),_V_.Track=_V_.Component.extend({init:function(e,t){this._super(e,t),_V_.merge(this,{id:t.id||"vjs_"+t.kind+"_"+t.language+"_"+_V_.guid++,src:t.src,"default":t["default"],title:t.title,language:t.srclang,label:t.label,cues:[],activeCues:[],readyState:0,mode:0})},createElement:function(){return this._super("div",{className:"vjs-"+this.kind+" vjs-text-track"})},show:function(){this.activate(),this.mode=2,this._super()},hide:function(){this.activate(),this.mode=1,this._super()},disable:function(){2==this.mode&&this.hide(),this.deactivate(),this.mode=0},activate:function(){0==this.readyState&&this.load(),0==this.mode&&(this.player.addEvent("timeupdate",this.proxy(this.update,this.id)),this.player.addEvent("ended",this.proxy(this.reset,this.id)),("captions"==this.kind||"subtitles"==this.kind)&&this.player.textTrackDisplay.addComponent(this))},deactivate:function(){this.player.removeEvent("timeupdate",this.proxy(this.update,this.id)),this.player.removeEvent("ended",this.proxy(this.reset,this.id)),this.reset(),this.player.textTrackDisplay.removeComponent(this)},load:function(){0==this.readyState&&(this.readyState=1,_V_.get(this.src,this.proxy(this.parseCues),this.proxy(this.onError)))},onError:function(e){this.error=e,this.readyState=3,this.triggerEvent("error")},parseCues:function(e){for(var t,i,n,s,o=e.split("\n"),r="",a=1,l=o.length;l>a;a++)if(r=_V_.trim(o[a])){for(-1==r.indexOf("-->")?(s=r,r=_V_.trim(o[++a])):s=this.cues.length,t={id:s,index:this.cues.length},i=r.split(" --> "),t.startTime=this.parseCueTime(i[0]),t.endTime=this.parseCueTime(i[1]),n=[];o[++a]&&(r=_V_.trim(o[a]));)n.push(r);t.text=n.join("<br/>"),this.cues.push(t)}this.readyState=2,this.triggerEvent("loaded")},parseCueTime:function(e){var t,i,n,s,o,r=e.split(":"),a=0;return 3==r.length?(t=r[0],i=r[1],n=r[2]):(t=0,i=r[0],n=r[1]),n=n.split(/\s+/),s=n.splice(0,1)[0],s=s.split(/\.|,/),o=parseFloat(s[1]),s=s[0],a+=3600*parseFloat(t),a+=60*parseFloat(i),a+=parseFloat(s),o&&(a+=o/1e3),a},update:function(){if(this.cues.length>0){var e=this.player.currentTime();if(this.prevChange===undefined||this.prevChange>e||e>=this.nextChange){var t,i,n,s,o=this.cues,r=this.player.duration(),a=0,l=!1,c=[];for(e>=this.nextChange||this.nextChange===undefined?s=this.firstActiveIndex!==undefined?this.firstActiveIndex:0:(l=!0,s=this.lastActiveIndex!==undefined?this.lastActiveIndex:o.length-1);;){if(n=o[s],e>=n.endTime)a=Math.max(a,n.endTime),n.active&&(n.active=!1);else if(n.startTime>e){if(r=Math.min(r,n.startTime),n.active&&(n.active=!1),!l)break}else l?(c.splice(0,0,n),i===undefined&&(i=s),t=s):(c.push(n),t===undefined&&(t=s),i=s),r=Math.min(r,n.endTime),a=Math.max(a,n.startTime),n.active=!0;if(l){if(0===s)break;s--}else{if(s===o.length-1)break;s++}}this.activeCues=c,this.nextChange=r,this.prevChange=a,this.firstActiveIndex=t,this.lastActiveIndex=i,this.updateDisplay(),this.triggerEvent("cuechange")}}},updateDisplay:function(){for(var e=this.activeCues,t="",i=0,n=e.length;n>i;i++)t+="<span class='vjs-tt-cue'>"+e[i].text+"</span>";this.el.innerHTML=t},reset:function(){this.nextChange=0,this.prevChange=this.player.duration(),this.firstActiveIndex=0,this.lastActiveIndex=0}}),_V_.CaptionsTrack=_V_.Track.extend({kind:"captions"}),_V_.SubtitlesTrack=_V_.Track.extend({kind:"subtitles"}),_V_.ChaptersTrack=_V_.Track.extend({kind:"chapters"}),_V_.TextTrackDisplay=_V_.Component.extend({createElement:function(){return this._super("div",{className:"vjs-text-track-display"})}}),_V_.TextTrackMenuItem=_V_.MenuItem.extend({init:function(e,t){var i=this.track=t.track;t.label=i.label,t.selected=i["default"],this._super(e,t),this.player.addEvent(i.kind+"trackchange",_V_.proxy(this,this.update))},onClick:function(){this._super(),this.player.showTextTrack(this.track.id,this.track.kind)},update:function(){2==this.track.mode?this.selected(!0):this.selected(!1)}}),_V_.OffTextTrackMenuItem=_V_.TextTrackMenuItem.extend({init:function(e,t){t.track={kind:t.kind,player:e,label:"Off"},this._super(e,t)},onClick:function(){this._super(),this.player.showTextTrack(this.track.id,this.track.kind)},update:function(){for(var e,t=this.player.textTracks,i=0,n=t.length,s=!0;n>i;i++)e=t[i],e.kind==this.track.kind&&2==e.mode&&(s=!1);s?this.selected(!0):this.selected(!1)}}),_V_.TextTrackButton=_V_.Button.extend({init:function(e,t){this._super(e,t),this.menu=this.createMenu(),0===this.items.length&&this.hide()
},createMenu:function(){var e=new _V_.Menu(this.player);return e.el.appendChild(_V_.createElement("li",{className:"vjs-menu-title",innerHTML:_V_.uc(this.kind)})),e.addItem(new _V_.OffTextTrackMenuItem(this.player,{kind:this.kind})),this.items=this.createItems(),this.each(this.items,function(t){e.addItem(t)}),this.addComponent(e),e},createItems:function(){var e=[];return this.each(this.player.textTracks,function(t){t.kind===this.kind&&e.push(new _V_.TextTrackMenuItem(this.player,{track:t}))}),e},buildCSSClass:function(){return this.className+" vjs-menu-button "+this._super()},onFocus:function(){this.menu.lockShowing(),_V_.one(this.menu.el.childNodes[this.menu.el.childNodes.length-1],"blur",this.proxy(function(){this.menu.unlockShowing()}))},onBlur:function(){},onClick:function(){this.one("mouseout",this.proxy(function(){this.menu.unlockShowing(),this.el.blur()}))}}),_V_.CaptionsButton=_V_.TextTrackButton.extend({kind:"captions",buttonText:"Captions",className:"vjs-captions-button"}),_V_.SubtitlesButton=_V_.TextTrackButton.extend({kind:"subtitles",buttonText:"Subtitles",className:"vjs-subtitles-button"}),_V_.ChaptersButton=_V_.TextTrackButton.extend({kind:"chapters",buttonText:"Chapters",className:"vjs-chapters-button",createItems:function(){var e=[];return this.each(this.player.textTracks,function(t){t.kind===this.kind&&e.push(new _V_.TextTrackMenuItem(this.player,{track:t}))}),e},createMenu:function(){for(var e,t,i=this.player.textTracks,n=0,s=i.length,o=this.items=[];s>n;n++)if(e=i[n],e.kind==this.kind&&e["default"]){if(2>e.readyState)return this.chaptersTrack=e,e.addEvent("loaded",this.proxy(this.createMenu)),void 0;t=e;break}var r=this.menu=new _V_.Menu(this.player);if(r.el.appendChild(_V_.createElement("li",{className:"vjs-menu-title",innerHTML:_V_.uc(this.kind)})),t)for(var a,l,c=t.cues,n=0,s=c.length;s>n;n++)a=c[n],l=new _V_.ChaptersTrackMenuItem(this.player,{track:t,cue:a}),o.push(l),r.addComponent(l);return this.addComponent(r),this.items.length>0&&this.show(),r}}),_V_.ChaptersTrackMenuItem=_V_.MenuItem.extend({init:function(e,t){var i=this.track=t.track,n=this.cue=t.cue,s=e.currentTime();t.label=n.text,t.selected=s>=n.startTime&&n.endTime>s,this._super(e,t),i.addEvent("cuechange",_V_.proxy(this,this.update))},onClick:function(){this._super(),this.player.currentTime(this.cue.startTime),this.update(this.cue.startTime)},update:function(){var e=this.cue,t=this.player.currentTime();t>=e.startTime&&e.endTime>t?this.selected(!0):this.selected(!1)}}),_V_.merge(_V_.ControlBar.prototype.options.components,{subtitlesButton:{},captionsButton:{},chaptersButton:{}}),_V_.autoSetup=function(){var e,t,i,n=document.getElementsByTagName("video");if(n&&n.length>0)for(var s=0,o=n.length;o>s;s++){if(t=n[s],!t||!t.getAttribute){_V_.autoSetupTimeout(1);break}t.player===undefined&&(e=t.getAttribute("data-setup"),null!==e&&(e=JSON.parse(e||"{}"),i=_V_(t,e)))}else _V_.windowLoaded||_V_.autoSetupTimeout(1)},_V_.autoSetupTimeout=function(e){setTimeout(_V_.autoSetup,e)},_V_.addEvent(window,"load",function(){_V_.windowLoaded=!0}),_V_.autoSetup(),window.VideoJS=window._V_=VideoJS}(window);var swfobject=function(){function e(){if(!J){try{var e=P.getElementsByTagName("body")[0].appendChild(g("span"));e.parentNode.removeChild(e)}catch(t){return}J=!0;for(var i=B.length,n=0;i>n;n++)B[n]()}}function t(e){J?e():B[B.length]=e}function i(e){if(typeof $.addEventListener!=A)$.addEventListener("load",e,!1);else if(typeof P.addEventListener!=A)P.addEventListener("load",e,!1);else if(typeof $.attachEvent!=A)v($,"onload",e);else if("function"==typeof $.onload){var t=$.onload;$.onload=function(){t(),e()}}else $.onload=e}function n(){L?s():o()}function s(){var e=P.getElementsByTagName("body")[0],t=g(M);t.setAttribute("type",j);var i=e.appendChild(t);if(i){var n=0;(function(){if(typeof i.GetVariable!=A){var s=i.GetVariable("$version");s&&(s=s.split(" ")[1].split(","),U.pv=[parseInt(s[0],10),parseInt(s[1],10),parseInt(s[2],10)])}else if(10>n)return n++,setTimeout(arguments.callee,10),void 0;e.removeChild(t),i=null,o()})()}else o()}function o(){var e=H.length;if(e>0)for(var t=0;e>t;t++){var i=H[t].id,n=H[t].callbackFn,s={success:!1,id:i};if(U.pv[0]>0){var o=m(i);if(o)if(!_(H[t].swfVersion)||U.wk&&312>U.wk)if(H[t].expressInstall&&a()){var u={};u.data=H[t].expressInstall,u.width=o.getAttribute("width")||"0",u.height=o.getAttribute("height")||"0",o.getAttribute("class")&&(u.styleclass=o.getAttribute("class")),o.getAttribute("align")&&(u.align=o.getAttribute("align"));for(var d={},h=o.getElementsByTagName("param"),p=h.length,f=0;p>f;f++)"movie"!=h[f].getAttribute("name").toLowerCase()&&(d[h[f].getAttribute("name")]=h[f].getAttribute("value"));l(u,d,i,n)}else c(o),n&&n(s);else b(i,!0),n&&(s.success=!0,s.ref=r(i),n(s))}else if(b(i,!0),n){var g=r(i);g&&typeof g.SetVariable!=A&&(s.success=!0,s.ref=g),n(s)}}}function r(e){var t=null,i=m(e);if(i&&"OBJECT"==i.nodeName)if(typeof i.SetVariable!=A)t=i;else{var n=i.getElementsByTagName(M)[0];n&&(t=n)}return t}function a(){return!z&&_("6.0.65")&&(U.win||U.mac)&&!(U.wk&&312>U.wk)}function l(e,t,i,n){z=!0,C=n||null,S={success:!1,id:i};var s=m(i);if(s){"OBJECT"==s.nodeName?(x=u(s),k=null):(x=s,k=i),e.id=F,(typeof e.width==A||!/%$/.test(e.width)&&310>parseInt(e.width,10))&&(e.width="310"),(typeof e.height==A||!/%$/.test(e.height)&&137>parseInt(e.height,10))&&(e.height="137"),P.title=P.title.slice(0,47)+" - Flash Player Installation";var o=U.ie&&U.win?"ActiveX":"PlugIn",r="MMredirectURL="+encodeURI(window.location).toString().replace(/&/g,"%26")+"&MMplayerType="+o+"&MMdoctitle="+P.title;if(typeof t.flashvars!=A?t.flashvars+="&"+r:t.flashvars=r,U.ie&&U.win&&4!=s.readyState){var a=g("div");i+="SWFObjectNew",a.setAttribute("id",i),s.parentNode.insertBefore(a,s),s.style.display="none",function(){4==s.readyState?s.parentNode.removeChild(s):setTimeout(arguments.callee,10)}()}d(e,t,i)}}function c(e){if(U.ie&&U.win&&4!=e.readyState){var t=g("div");e.parentNode.insertBefore(t,e),t.parentNode.replaceChild(u(e),t),e.style.display="none",function(){4==e.readyState?e.parentNode.removeChild(e):setTimeout(arguments.callee,10)}()}else e.parentNode.replaceChild(u(e),e)}function u(e){var t=g("div");if(U.win&&U.ie)t.innerHTML=e.innerHTML;else{var i=e.getElementsByTagName(M)[0];if(i){var n=i.childNodes;if(n)for(var s=n.length,o=0;s>o;o++)1==n[o].nodeType&&"PARAM"==n[o].nodeName||8==n[o].nodeType||t.appendChild(n[o].cloneNode(!0))}}return t}function d(e,t,i){var n,s=m(i);if(U.wk&&312>U.wk)return n;if(s)if(typeof e.id==A&&(e.id=i),U.ie&&U.win){var o="";for(var r in e)e[r]!=Object.prototype[r]&&("data"==r.toLowerCase()?t.movie=e[r]:"styleclass"==r.toLowerCase()?o+=' class="'+e[r]+'"':"classid"!=r.toLowerCase()&&(o+=" "+r+'="'+e[r]+'"'));var a="";for(var l in t)t[l]!=Object.prototype[l]&&(a+='<param name="'+l+'" value="'+t[l]+'" />');s.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+o+">"+a+"</object>",R[R.length]=e.id,n=m(e.id)}else{var c=g(M);c.setAttribute("type",j);for(var u in e)e[u]!=Object.prototype[u]&&("styleclass"==u.toLowerCase()?c.setAttribute("class",e[u]):"classid"!=u.toLowerCase()&&c.setAttribute(u,e[u]));for(var d in t)t[d]!=Object.prototype[d]&&"movie"!=d.toLowerCase()&&h(c,d,t[d]);s.parentNode.replaceChild(c,s),n=c}return n}function h(e,t,i){var n=g("param");n.setAttribute("name",t),n.setAttribute("value",i),e.appendChild(n)}function p(e){var t=m(e);t&&"OBJECT"==t.nodeName&&(U.ie&&U.win?(t.style.display="none",function(){4==t.readyState?f(e):setTimeout(arguments.callee,10)}()):t.parentNode.removeChild(t))}function f(e){var t=m(e);if(t){for(var i in t)"function"==typeof t[i]&&(t[i]=null);t.parentNode.removeChild(t)}}function m(e){var t=null;try{t=P.getElementById(e)}catch(i){}return t}function g(e){return P.createElement(e)}function v(e,t,i){e.attachEvent(t,i),V[V.length]=[e,t,i]}function _(e){var t=U.pv,i=e.split(".");return i[0]=parseInt(i[0],10),i[1]=parseInt(i[1],10)||0,i[2]=parseInt(i[2],10)||0,t[0]>i[0]||t[0]==i[0]&&t[1]>i[1]||t[0]==i[0]&&t[1]==i[1]&&t[2]>=i[2]?!0:!1}function y(e,t,i,n){if(!U.ie||!U.mac){var s=P.getElementsByTagName("head")[0];if(s){var o=i&&"string"==typeof i?i:"screen";if(n&&(T=null,E=null),!T||E!=o){var r=g("style");r.setAttribute("type","text/css"),r.setAttribute("media",o),T=s.appendChild(r),U.ie&&U.win&&typeof P.styleSheets!=A&&P.styleSheets.length>0&&(T=P.styleSheets[P.styleSheets.length-1]),E=o}U.ie&&U.win?T&&typeof T.addRule==M&&T.addRule(e,t):T&&typeof P.createTextNode!=A&&T.appendChild(P.createTextNode(e+" {"+t+"}"))}}}function b(e,t){if(W){var i=t?"visible":"hidden";J&&m(e)?m(e).style.visibility=i:y("#"+e,"visibility:"+i)}}function w(e){var t=/[\\\"<>\.;]/,i=null!=t.exec(e);return i&&typeof encodeURIComponent!=A?encodeURIComponent(e):e}var x,k,C,S,T,E,A="undefined",M="object",I="Shockwave Flash",D="ShockwaveFlash.ShockwaveFlash",j="application/x-shockwave-flash",F="SWFObjectExprInst",N="onreadystatechange",$=window,P=document,O=navigator,L=!1,B=[n],H=[],R=[],V=[],J=!1,z=!1,W=!0,U=function(){var e=typeof P.getElementById!=A&&typeof P.getElementsByTagName!=A&&typeof P.createElement!=A,t=O.userAgent.toLowerCase(),i=O.platform.toLowerCase(),n=i?/win/.test(i):/win/.test(t),s=i?/mac/.test(i):/mac/.test(t),o=/webkit/.test(t)?parseFloat(t.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,r=!1,a=[0,0,0],l=null;if(typeof O.plugins!=A&&typeof O.plugins[I]==M)l=O.plugins[I].description,!l||typeof O.mimeTypes!=A&&O.mimeTypes[j]&&!O.mimeTypes[j].enabledPlugin||(L=!0,r=!1,l=l.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),a[0]=parseInt(l.replace(/^(.*)\..*$/,"$1"),10),a[1]=parseInt(l.replace(/^.*\.(.*)\s.*$/,"$1"),10),a[2]=/[a-zA-Z]/.test(l)?parseInt(l.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(typeof $.ActiveXObject!=A)try{var c=new ActiveXObject(D);c&&(l=c.GetVariable("$version"),l&&(r=!0,l=l.split(" ")[1].split(","),a=[parseInt(l[0],10),parseInt(l[1],10),parseInt(l[2],10)]))}catch(u){}return{w3:e,pv:a,wk:o,ie:r,win:n,mac:s}}();return function(){U.w3&&((typeof P.readyState!=A&&"complete"==P.readyState||typeof P.readyState==A&&(P.getElementsByTagName("body")[0]||P.body))&&e(),J||(typeof P.addEventListener!=A&&P.addEventListener("DOMContentLoaded",e,!1),U.ie&&U.win&&(P.attachEvent(N,function(){"complete"==P.readyState&&(P.detachEvent(N,arguments.callee),e())}),$==top&&function(){if(!J){try{P.documentElement.doScroll("left")}catch(t){return setTimeout(arguments.callee,0),void 0}e()}}()),U.wk&&function(){return J?void 0:/loaded|complete/.test(P.readyState)?(e(),void 0):(setTimeout(arguments.callee,0),void 0)}(),i(e)))}(),function(){U.ie&&U.win&&window.attachEvent("onunload",function(){for(var e=V.length,t=0;e>t;t++)V[t][0].detachEvent(V[t][1],V[t][2]);for(var i=R.length,n=0;i>n;n++)p(R[n]);for(var s in U)U[s]=null;U=null;for(var o in swfobject)swfobject[o]=null;swfobject=null})}(),{registerObject:function(e,t,i,n){if(U.w3&&e&&t){var s={};s.id=e,s.swfVersion=t,s.expressInstall=i,s.callbackFn=n,H[H.length]=s,b(e,!1)}else n&&n({success:!1,id:e})},getObjectById:function(e){return U.w3?r(e):void 0},embedSWF:function(e,i,n,s,o,r,c,u,h,p){var f={success:!1,id:i};U.w3&&!(U.wk&&312>U.wk)&&e&&i&&n&&s&&o?(b(i,!1),t(function(){n+="",s+="";var t={};if(h&&typeof h===M)for(var m in h)t[m]=h[m];t.data=e,t.width=n,t.height=s;var g={};if(u&&typeof u===M)for(var v in u)g[v]=u[v];if(c&&typeof c===M)for(var y in c)typeof g.flashvars!=A?g.flashvars+="&"+y+"="+c[y]:g.flashvars=y+"="+c[y];if(_(o)){var w=d(t,g,i);t.id==i&&b(i,!0),f.success=!0,f.ref=w}else{if(r&&a())return t.data=r,l(t,g,i,p),void 0;b(i,!0)}p&&p(f)})):p&&p(f)},switchOffAutoHideShow:function(){W=!1},ua:U,getFlashPlayerVersion:function(){return{major:U.pv[0],minor:U.pv[1],release:U.pv[2]}},hasFlashPlayerVersion:_,createSWF:function(e,t,i){return U.w3?d(e,t,i):void 0},showExpressInstall:function(e,t,i,n){U.w3&&a()&&l(e,t,i,n)},removeSWF:function(e){U.w3&&p(e)},createCSS:function(e,t,i,n){U.w3&&y(e,t,i,n)},addDomLoadEvent:t,addLoadEvent:i,getQueryParamValue:function(e){var t=P.location.search||P.location.hash;if(t){if(/\?/.test(t)&&(t=t.split("?")[1]),null==e)return w(t);for(var i=t.split("&"),n=0;i.length>n;n++)if(i[n].substring(0,i[n].indexOf("="))==e)return w(i[n].substring(i[n].indexOf("=")+1))}return""},expressInstallCallback:function(){if(z){var e=m(F);e&&x&&(e.parentNode.replaceChild(x,e),k&&(b(k,!0),U.ie&&U.win&&(x.style.display="block")),C&&C(S)),z=!1}}}}(),isIE=-1!=navigator.appVersion.indexOf("MSIE")?!0:!1,isWin=-1!=navigator.appVersion.toLowerCase().indexOf("win")?!0:!1,isOpera=-1!=navigator.userAgent.indexOf("Opera")?!0:!1,foo="";jQuery.extend(jQuery.jStore.defaults,{project:"jj"}),$(function(){jQuery.jStore.load()}),"undefined"==typeof JJ&&(JJ={});var UTIL=UTIL||{};UTIL.popup=UTIL.popup||{},UTIL.popup.open=function(e,t){var i,n={width:"500",height:"650",top:"0",left:"0",directories:"no",location:"no",resizeable:"yes",menubar:"no",toolbar:"no",scrollbars:"yes",status:"no"},s=t.windowName||"new_window",o="";for(i in n)o+=""===o?"":",",o+=i+"=",o+=t[i]||n[i];return window.open(e,s,o)};var RunOnce=function(e){var t=new function(){this.executed=!1,this.run=function(){this.executed||(this.executed=!0,e())}};return function(){t.run()}};$(function(){$("[title]").each(function(){$(this).data("original-title",$(this).attr("title"))}).hover(function(){$(this).attr("title","")},function(){$(this).attr("title",$(this).data("original-title"))}),$("a.popup").each(function(){$(this).click(function(e){e.preventDefault();var t=$(this).data("popup")||{};$(this).attr("target")&&(t.windowName=$(this).attr("target"));var i=UTIL.popup.open(this.href,t);$(this).data("windowObject",i)})})});var FormHelper={post:function(e,t,i,n){var s=function(e){if(elem=$(i).find("span.global_errors")[0],elem&&FormHelper.showErrors(e.global_errors,elem),elem=null,elem&&FormHelper.showErrors(e.global_notify,elem),e.field_errors)for(var t in e.field_errors)elem=$(i).find("div[@rel="+t+"_error]")[0],elem&&($(elem).text(e.field_errors[t]),$(elem).addClass("error"),$("fieldset[@rel="+t+"]").addClass("error"));n&&n(e),FormHelper.hideThrobber($(i)),FormHelper.enableSubmit($(i))};FormHelper.showThrobber($(i)),FormHelper.disableSubmit($(i)),$.post(e,t,s,"json")},showErrors:function(e,t){if($(t).text(""),$(t).children().remove(),e)if(len=e.length,1==len)$(t).text(e[0]),$(t).parent().show();else if(len>1){ul=document.createElement("ul");for(var i=0;e.length>i;i++)li=document.createElement("li"),$(li).text(e[i]),ul.appendChild(li);t.appendChild(ul),$(t).parent().show()}else $(t).parent().hide()},encodeFields:function(e){var t=[];return e.find(":input").each(function(e,i){switch(i.type){case"text":case"password":case"hidden":t.push(i.name+"="+encodeURIComponent(i.value));break;case"checkbox":case"radio":i.checked&&t.push(i.name+"="+encodeURIComponent(i.value));break;case"select-one":t.push(i.name+"="+encodeURIComponent(i.value));break;default:}}),t.join("&")},showThrobber:function(e){elem=$(e).find("span.throbber_holder")[0],elem&&(img=document.createElement("img"),img.src=SiteConfig.asset_base+"/images/icons/loading_throbber_blue.gif",elem.appendChild(img))},hideThrobber:function(e){if(elem=$(e).find("span.throbber_holder")[0],elem&&elem.hasChildNodes())for(;elem.childNodes.length>=1;)elem.removeChild(elem.firstChild)},disableSubmit:function(e){for(elems=$(e).find("input[type=image]"),i=0;elems.length>i;i++)elem=elems[i],elem.disabled=!0,elem.style.opacity="0.5",elem.style.filter="alpha(opacity = 50)"},enableSubmit:function(e){for(elems=$(e).find("input[type=image]"),i=0;elems.length>i;i++)elem=elems[i],elem.disabled=!1,elem.style.opacity=null,elem.style.filter=null},populateSelectOptionsNumbers:function(e,t,i,n){var s="";n&&(s+='<option value=""></option>');for(var o=t;i>=o;o++)s+='<option value="'+o+'">'+o+"</option>";e.html(s)}},TrackEcard={_currentMake:null,_currentPage:null,_totalCount:null,_currentRecipient:null,showResend:function(e){if(prevKey=this._currentRecipient){if(prevKey==e)return;elem=document.getElementById("resend_"+prevKey),elem.style.display="none",TrackEcard.deleteChildren(elem),this._currentRecipient=null}this._currentRecipient=e,elem=document.getElementById("resend_"+e),"none"==elem.style.display&&(elem_td=document.createElement("td"),elem_td.id="td_resend_"+e,elem_td.className="resend",elem_td.colSpan=4,elem.appendChild(elem_td),a=document.createElement("a"),a.href="#",a.onclick=function(){return TrackEcard.hideResend(e),!1},a.innerHTML="Close",a.className="close",elem_td.appendChild(a),p=document.createElement("p"),p.innerHTML="Your eCard will be resent to this recipient's email address. If it is incorrect, you can modify it below:",elem_td.appendChild(p),err=document.createElement("p"),err.id="error_"+e,err.style.display="none",elem_td.appendChild(err),form=document.createElement("form"),form.id="form_"+e,form.onsubmit=function(){form=document.getElementById("form_"+e);var t="";if($("html").hasClass("ie"))for(var i=0;form.length>i;i++)"email"==form.elements[i].name&&(t=form.elements[i].value);else t=form.elements.email.value;return TrackEcard.resendRecipient(e,t),!1},elem_td.appendChild(form),tr_recip=document.getElementById("recipient_"+e),current_email=tr_recip.cells[0].innerHTML,text=document.createElement("input"),text.type="text",text.size=40,text.name="email",text.value=current_email,form.appendChild(text),btn=document.createElement("input"),btn.value="Resend",btn.className="resend_button",btn.type="image",btn.src=SiteConfig.asset_base+"/images/buttons/resend.png",form.appendChild(btn),span=document.createElement("span"),span.id="throbber_"+e,form.appendChild(span),elem.style.display="")},hideResend:function(e){elem=document.getElementById("resend_"+e),elem_td=document.getElementById("td_resend_"+e),elem.removeChild(elem_td),elem.style.display="none",this._currentRecipient=null},resendRecipient:function(e,t){data="key="+encodeURIComponent(e)+"&email="+encodeURIComponent(t),handler=function(t){throb=document.getElementById("throbber_"+e),TrackEcard.deleteChildren(throb),recipient=t.recipient,success=t.success,error_msg=t.error,1==success?(TrackEcard.updateRecipient(recipient),TrackEcard.hideResend(e)):(err=document.getElementById("error_"+e),err.style.display="block",err.innerHTML=error_msg)},$.getJSON("/my_account/resend_recipient.json",data,handler),throb=document.getElementById("throbber_"+e),img=document.createElement("img"),img.src=SiteConfig.asset_base+"/images/icons/loading_throbber_blue.gif",throb.appendChild(img)},cancelRecipient:function(e){if(confirm("Are you sure?")){var t=this._currentPage,i=this._totalCount-1,n=i%6,s=i/6+(n>0?1:0);t>s&&(t=s),data="key="+encodeURIComponent(e),handler=function(e){label=document.getElementById("track_label_"+TrackEcard._currentMake),throb=document.getElementById("make_throbber_"+TrackEcard._currentMake),label.removeChild(throb),success=e.success,1==success?TrackEcard.showModule(TrackEcard._currentMake,t):TrackEcard.showModule(TrackEcard._currentMake,TrackEcard._currentPage)},$.getJSON("/my_account/cancel_recipient.json",data,handler),throb=document.getElementById("make_throbber_"+this._currentMake),throb||(throb=document.createElement("img"),throb.id="make_throbber_"+this._currentMake,throb.className="throbber",throb.src=SiteConfig.asset_base+"/images/icons/loading_throbber_blue.gif",label=document.getElementById("track_label_"+this._currentMake),label.appendChild(throb))}return!1},toggleModule:function(e){this._currentMake&&(prevKey=this._currentMake,close_tracker=document.getElementById("track_label_"+prevKey),close_tracker.className="",current=$("#track_"+prevKey),current.hide(),current.empty(),this._currentMake=null,this._currentRecipient=null,this._totalCount=null,this._currentPage=null,prevKey==e)||(this._currentMake=e,open_tracker=document.getElementById("track_label_"+e),current=$("#track_"+this._currentMake),current.empty(),TrackEcard.showModule(e),current.show(),open_tracker.className="open")},showModule:function(e,t){data="key="+encodeURIComponent(e),t&&(data+="&page="+t),handler=function(t){label=document.getElementById("track_label_"+e),throb=document.getElementById("make_throbber_"+e),label.removeChild(throb),recipient=t.recipient,t.subscriber?TrackEcard.showSubscriberModule(t):TrackEcard.showNonSubscriberModule(t)},$.getJSON("/my_account/recipients.json",data,handler),throb=document.getElementById("make_throbber_"+e),throb||(throb=document.createElement("img"),throb.id="make_throbber_"+e,throb.className="throbber",throb.src=SiteConfig.asset_base+"/images/icons/loading_throbber_blue.gif",label=document.getElementById("track_label_"+e),label.appendChild(throb))},showSubscriberModule:function(e){this._currentPage=e.page,this._totalCount=e.total,track=document.getElementById("track_"+e.make_key),TrackEcard.deleteChildren(track);var t=document.createElement("table");if(t.className="recipients",track.appendChild(t),thead=document.createElement("thead"),tr=document.createElement("tr"),th=document.createElement("th"),th.innerHTML="Recipient",th.className="recipient",tr.appendChild(th),th=document.createElement("th"),th.innerHTML="Send Date",th.className="send_date",tr.appendChild(th),th=document.createElement("th"),th.innerHTML="Opened",th.className="opened",tr.appendChild(th),th=document.createElement("th"),th.innerHTML="Actions",th.className="actions",tr.appendChild(th),thead.appendChild(tr),t.appendChild(thead),tbody=document.createElement("tbody"),t.appendChild(tbody),e.count>0)for(var i=0;e.recipients.length>i;i++)TrackEcard.addRecipient(e.recipients[i],tbody);else tr=document.createElement("tr"),td=document.createElement("td"),td.colSpan="4",td.className="not_emailed",td.innerHTML="You haven't used JibJab to email this eCard yet. <a href='/view/"+e.make_key+"'>Click here</a> to email now.",tr.appendChild(td),tbody.appendChild(tr);e.total>6&&(div=document.createElement("div"),div.className="paging",track.appendChild(div),e.show_prev&&(a=document.createElement("a"),a.href="#",a.onclick=function(){return TrackEcard.showModule(e.make_key,e.page-1),!1},a.innerHTML="Previous Page",a.className="previous_page",div.appendChild(a),div.appendChild(document.createTextNode(" "))),page=document.createElement("p"),page.innerHTML=e.first+" - "+e.last+" of "+e.total,div.appendChild(page),e.show_next&&(div.appendChild(document.createTextNode(" ")),a=document.createElement("a"),a.href="#",a.onclick=function(){return TrackEcard.showModule(e.make_key,e.page+1),!1},a.innerHTML="Next Page",a.className="next_page",div.appendChild(a)))},showNonSubscriberModule:function(e){track=document.getElementById("track_"+e.make_key),p=document.createElement("h3"),p.innerHTML="eCard tracking is available exclusively to JibJab Members. As a Member, you can:",track.appendChild(p),ul=document.createElement("ul"),li=document.createElement("li"),li.innerHTML="Know who has viewed your eCard",ul.appendChild(li),li=document.createElement("li"),li.innerHTML="See when they picked it up",ul.appendChild(li),li=document.createElement("li"),li.innerHTML="Find out who has not opened your eCard",ul.appendChild(li),track.appendChild(ul),ul=document.createElement("ul"),li=document.createElement("li"),li.innerHTML="Correct and resend an eCard if your recipient's email address is incorrect",ul.appendChild(li),li=document.createElement("li"),li.innerHTML="Schedule an eCard to be sent in the future",ul.appendChild(li),track.appendChild(ul),p=document.createElement("p"),p.innerHTML="It's the perfect time to become a member!",p.className="giant",track.appendChild(p),a=document.createElement("a"),a.href=SiteConfig.ssl_base+"/subscribe/start?return=my_stuff&pageaction=my_stuff_subscribe&pagename="+escape("My Account: My Stuff"),a.id="become_a_subscriber",a.innerHTML="Become a Subscriber",track.appendChild(a)},addRecipient:function(e,t){return tr_recip=document.createElement("tr"),tr_recip.id="recipient_"+e.key,t.appendChild(tr_recip),tr_recip.appendChild(document.createElement("td")),tr_recip.appendChild(document.createElement("td")),tr_recip.appendChild(document.createElement("td")),tr_recip.appendChild(document.createElement("td")),tr_resend=document.createElement("tr"),tr_resend.id="resend_"+e.key,tr_resend.style.display="none",t.appendChild(tr_resend),TrackEcard.updateRecipient(e),tr_recip},updateRecipient:function(e){tr_recip=document.getElementById("recipient_"+e.key),recip_index=(tr_recip.rowIndex-1)/2%2,row_class=0==recip_index?"even ":"odd ",tr_recip.className="unopened"==e.opened||"blocked"==e.opened||"scheduled"==e.opened?row_class+e.opened:row_class;var t;t=$("html").hasClass("ie")?tr_recip.children:tr_recip.cells,t[0].innerHTML=e.email,t[1].innerHTML=e.send_date?e.send_date:"",TrackEcard.deleteChildren(t[2]),"blocked"==e.opened?(txt1=document.createTextNode("blocked"),t[2].appendChild(txt1),txt2=document.createTextNode(" ( "),txt3=document.createTextNode(" )"),popup=document.createElement("a"),popup.href="#",popup.onclick=function(){return window.open("http://www.webetools.com/jibjab_help/users/kb.php?id=10071&category_id=0&sid2=","Blocked"),!1},popup.innerHTML="?<span>This user has blocked all emails from JibJab and cannot receive your eCard.</span>",t[2].appendChild(txt2),t[2].appendChild(popup),t[2].appendChild(txt3)):t[2].innerHTML=e.opened,t[2].className="opened",TrackEcard.deleteChildren(t[3]),"scheduled"==e.opened?(a=document.createElement("a"),a.href="#",a.onclick=function(){return TrackEcard.cancelRecipient(e.key),!1},a.innerHTML="Cancel",t[3].appendChild(a)):"blocked"==e.opened||(a=document.createElement("a"),a.href="#",a.onclick=function(){return TrackEcard.showResend(e.key),!1},a.innerHTML="Resend",t[3].appendChild(a))},deleteChildren:function(e){if(e.hasChildNodes())for(;e.childNodes.length>=1;)e.removeChild(e.firstChild)}},CategoryPageSupport={large_stills_hash:{},load_still_template_image:function(e){var t=document.getElementById("template_"+e+"_still_img");null!=t&&(t.src==this.large_stills_hash[e]||(t.src=this.large_stills_hash[e]))},embed_template_swf:function(e,t,i,n,s,o,r,a){if(void 0===o?o=!1:1!=o&&(o=!1),void 0===r&&(r="window"),void 0===a&&(a=!1),!swfobject.hasFlashPlayerVersion("10.3.0"))return $("#template_"+e+"_swf_placeholder").html('<p class="flash_missing_msg">JibJab Sendables<sup>&reg;</sup><br/>eCards<span class="latest_fp">require the latest<br/>Adobe Flash Player.</span><a class="button"  href="http://www.adobe.com/go/getflash/" target="_blank">Get Flash here</a></p>'),void 0;var l={templateID:e,categoryID:s,service:i,partnerID:t,autoplay:o,delayLoggingUntilPlay:a,context:"teaser"};SiteConfig.is_next_gen_channel&&(l.cornerRadius=10);var c={wmode:r,scaleMode:"showAll",quality:"high",allowNetworking:"all",allowFullScreen:"true",allowScriptAccess:"always",bgcolor:"#000000"},u={id:"A128199_"+e},d={width:"567",height:"319"};swfobject.embedSWF(n+"/client/zero/ClientZero_EmbedViewer.swf","template_"+e+"_swf_placeholder",d.width,d.height,"10.3.0",!1,l,c,u)},remove_and_repopulate_swf:function(e,t,n,s,o,r){swfobject.removeSWF("A128199_"+e);var a=document.getElementById("template_"+e+"_preview_container");for(children=a.childNodes,i=0;children.length>i;i++)a.removeChild(children[i]);var l=document.createElement("div");l.id="template_"+e+"_swf_placeholder",a.appendChild(l),this.embed_template_swf(e,t,n,s,o,r)},log_teaser_view:function(e,t,i,n){$.post("/stats/teaser_view",{template_id:e,category_id:t,browse_method:i,premium:n})},categorize_action_link:function(e,t){if(null!=e&&null!=t){var i=document.getElementById("tpl_"+e+"_member_specific_action_link");if(null!=i){var n=document.getElementById("tpl_"+e+"_member_login_link");i.href.match("category_id")||(i.href=-1==i.href.indexOf("?")?i.href+"?category_id="+t:i.href+"&category_id="+t),null!=n&&(n.href.match("category_id")||(n.href=n.href.replace("#already_registered","?category_id="+t+"#already_registered")))}}}},ContentViewPageSupport={_tab_names:["share_tab","email_tab","comments_tab","make_your_own_tab"],_default_full_name:null,_default_recipients:null,rra:function(){},pauseMovie:function(){var e=$("#cvp_player");if(e&&e[0])try{e[0].pause_movie()}catch(t){log("error pausing movie: "+t)}},playMovie:function(){var e=$("#cvp_player");if(e&&e[0])try{e[0].play_movie()}catch(t){log("error playing movie: "+t)}},set_default_full_name:function(e){this._default_full_name=e},set_default_recipients:function(e){this._default_recipients=e},clear_recipients_field:function(){var e=$("textarea#cvp_share_email_recipients"),t=e.val();null!=t&&t==this._default_recipients&&e.val("")},reset_recipients_field:function(){var e=$("textarea#cvp_share_email_recipients"),t=e.val();null!=t&&""==t&&e.val(this._default_recipients)},select_tab:function(e){for(var t=this._tab_names[e],i=0;this._tab_names.length>i;i++){var n=this._tab_names[i];this.disable_tab(n)}this.enable_tab(t)},disable_tab:function(e){var t=document.getElementById("cvp_"+e+"_container"),i=document.getElementById("cvp_"+e+"_tab");t&&(t.style.display="none"),i&&(i.className=e)},enable_tab:function(e){var t=document.getElementById("cvp_"+e+"_container"),i=document.getElementById("cvp_"+e+"_tab");t&&(t.style.display="block"),i&&(i.className=e+" active "+e+"_active")},show_email_share_form:function(){$("div#cvp_email_share_confirmation_message").remove(),$("div#cvp_email_share_errors_container").remove(),this.clear_error_states_on_form(),null!=this._default_full_name?$("input#cvp_share_email_sender_name").val(this._default_full_name):$("input#cvp_share_email_sender_name").val(""),null!=this._default_recipients?$("textarea#cvp_share_email_recipients").val(this._default_recipients):$("textarea#cvp_share_email_recipients").val(""),$("textarea#cvp_share_email_message").val(""),$("form#cvp_share_email_form").show()},pad_date_field:function(e){return e>=0&&10>e?"0"+e:""+e},detect_timezone_offset:function(){var e,t,i=new Date,n=i.getTimezoneOffset(),s=!1;0>n&&(s=!0,n=-n),e=n/60,e=Math.floor(e),e=this.pad_date_field(e),t=n%60,t=this.pad_date_field(t);var o=e+""+t;return o=s?"+"+o:"-"+o},clear_error_states_on_form:function(){var e=$("input#cvp_share_email_sender_name"),t=$("label#cvp_share_email_sender_name_label");e.removeClass("error"),t.removeClass("error");var i=$("textarea#cvp_share_email_recipients"),n=$("label#cvp_share_email_recipients_label");i.removeClass("error"),n.removeClass("error");var s=$("label#delivery_label"),o=$("label#cvp_share_email_send_on_label");s.removeClass("error"),o.removeClass("error")},submit_email_share_form:function(e,t){t="undefined"!=typeof t?t:!1;var i=$("input#cvp_share_email_sender_name").val(),n=$("textarea#cvp_share_email_recipients").val(),s=$("#cvp_share_email_message").val(),o="";$("input#cvp_share_email_send_now").is(":checked");var r=$("input#cvp_share_email_send_on").is(":checked"),a=$("select#scheduled_send_date_2i").val(),l=$("select#scheduled_send_date_3i").val(),c=$("select#scheduled_send_date_1i").val();$("#cvp_share_email_form input.button").attr("disabled","true");var u;if(r){a=this.pad_date_field(a),l=this.pad_date_field(l),u=c+"-"+a+"-"+l;var d=this.detect_timezone_offset();o="&send_date="+encodeURIComponent(u)+"&local_offset="+encodeURIComponent(d)}n==this._default_recipients&&(n=""),("Add an additional greeting to your email (optional)"==s||"Add a message:"==s)&&(s="",console.log("clearing message")),this.clear_error_states_on_form(),handler=function(e){$("#cvp_share_email_form input.button").attr("disabled","");var i=e.success;if(SiteConfig.is_next_gen_channel&&($("#cvp_share_email_form .e_from_label").removeClass("red"),$("#cvp_share_email_sender_name").removeClass("e_error"),$("#cvp_share_email_form .e_to_label").removeClass("red"),$("#cvp_share_email_recipients").removeClass("e_error")),1==i){if(JJFB.postShareRedirect()){if(SiteConfig.is_next_gen_channel)location.href="/view/next_gen_post_share/"+$.cookie("content_view_make_key")+"?destination=email";else{var n="";t&&(n="&email_type=now"),location.href="/view/post_share/"+$.cookie("content_view_make_key")+"?destination=email"+n}return}var s=e.valid_emails;valid_emails_markup="";for(var o=0;s.length>o;o++)valid_emails_markup+="<li> "+s[o]+"</li>";var r=e.send_date,a="Your email has been sent to the following recipients:";null!=r&&(a="Your email will be sent to the following recipients <strong>on "+r+":</strong>"),$("form#cvp_share_email_form").before("<div id='cvp_email_share_confirmation_message' class='confirmed'><p>"+a+"</p><ul>"+valid_emails_markup+"</ul><div><input class='button' type='text' value='' alt='Send Again?' onclick=\"ContentViewPageSupport.show_email_share_form();return false;\"  /></div></div>"),$("form#cvp_share_email_form").hide()}else{var l=e.field_errors,c="";for(var u in l)if(c+="<li>"+l[u]+"</li>","sender_name"==u){var d=$("input#cvp_share_email_sender_name"),h=$("label#cvp_share_email_sender_name_label");d.addClass("error"),h.addClass("error"),SiteConfig.is_next_gen_channel&&($("#cvp_share_email_form .e_from_label").addClass("red"),$("#cvp_share_email_sender_name").addClass("e_error"))
}else if("recipients"==u){var p=$("textarea#cvp_share_email_recipients"),f=$("label#cvp_share_email_recipients_label");p.addClass("error"),f.addClass("error");for(var m=e.invalid_emails,g=0;m.length>g;g++)c+="<li>"+m[g]+" is an invalid email address</li>";SiteConfig.is_next_gen_channel&&($("#cvp_share_email_form .e_to_label").addClass("red"),$("#cvp_share_email_recipients").addClass("e_error"),e.invalid_emails.length>0&&($("#bad_recipients_modal").jqmShow(),$("#bad_recipients_modal .bad_emails").empty(),$(e.invalid_emails).each(function(e,t){$("#bad_recipients_modal .bad_emails").append('<div class="red">'+t+"</div>")})))}else if("send_date"==u){var v=$("label#delivery_label"),_=$("label#cvp_share_email_send_on_label");v.addClass("error"),_.addClass("error")}var y=$("div#cvp_email_share_errors_container");SiteConfig.is_next_gen_channel?0!=y.size()?y.replaceWith("<div id='cvp_email_share_errors_container' class='sorry_error red'>sorry, there was an error!</div>"):$("form#cvp_share_email_form").prepend("<div id='cvp_email_share_errors_container' class='sorry_error red'>sorry, there was an error!</div>"):0!=y.size()?y.replaceWith("<div id='cvp_email_share_errors_container' class='errors'><h4 class='strong'>Please correct the following errors marked in red and send again</h4><ul>"+c+"</ul></div>"):$("form#cvp_share_email_form div.contents").length>0?$("form#cvp_share_email_form div.contents").append("<div id='cvp_email_share_errors_container' class='errors'><h4 class='strong'>Please correct the following errors marked in red and send again</h4><ul>"+c+"</ul></div>"):$("form#cvp_share_email_form").prepend("<div id='cvp_email_share_errors_container' class='errors'><h4 class='strong'>Please correct the following errors marked in red and send again</h4><ul>"+c+"</ul></div>"),$("#cvp_share_email_form input.button").removeAttr("disabled"),$('#cvp_share_email_form input[type="submit"]').removeAttr("disabled")}},data="make="+encodeURIComponent(e)+"&sender_name="+encodeURIComponent(i)+"&recipients="+encodeURIComponent(n)+"&message="+encodeURIComponent(s)+o,$.post("/share/email.json",data,handler,"json")},rejectInvalidEmails:function(e){for(var t=e.length,i=0,n=[],s=[],o=0;t>o;o++)LeadSpend.validate($.trim(e[o]),4,function(e){switch(e.result){case"unknown":case"verified":n.push(e.address),++i===t&&$("body").trigger({type:"validation.done",validEmails:n,invalidEmails:s});break;default:s.push(e.address),++i===t&&$("body").trigger({type:"validation.done",validEmails:n,invalidEmails:s})}})},submit_originals_share_form:function(e){is_share_now=!0;var t=$("input#cvp_share_email_sender_name").val(),i=$("input#cvp_share_email_sender_email").val(),n=$("textarea#cvp_share_email_recipients").val(),s=$("#cvp_share_email_message").val();$("#cvp_share_email_form input.button").attr("disabled","true"),n==this._default_recipients&&(n=""),("Add an additional greeting to your email (optional)"==s||"Add a message:"==s)&&(s=""),this.clear_error_states_on_form(),data="original="+encodeURIComponent(e)+"&sender_name="+encodeURIComponent(t)+"&recipients="+encodeURIComponent(n)+"&message="+encodeURIComponent(s)+"&from_email="+encodeURIComponent(i),handler=function(t){$("#cvp_share_email_form input.button").attr("disabled","");var i=t.success;if(SiteConfig.is_next_gen_channel&&($("#cvp_share_email_form .e_from_label").removeClass("red"),$("#cvp_share_email_sender_name").removeClass("e_error"),$("#cvp_share_email_form .e_to_label").removeClass("red"),$("#cvp_share_email_recipients").removeClass("e_error")),1==i)return location.href="/originals/post_share/"+e,void 0;var n=t.field_errors,s="";for(var o in n)if(s+="<li>"+n[o]+"</li>","sender_name"==o){var r=$("input#cvp_share_email_sender_name"),a=$("label#cvp_share_email_sender_name_label");r.addClass("error"),a.addClass("error"),SiteConfig.is_next_gen_channel&&($("#cvp_share_email_form .e_from_label").addClass("red"),$("#cvp_share_email_sender_name").addClass("e_error"))}else if("recipients"==o){var l=$("textarea#cvp_share_email_recipients"),c=$("label#cvp_share_email_recipients_label");l.addClass("error"),c.addClass("error");for(var u=t.invalid_emails,d=0;u.length>d;d++)s+="<li>"+u[d]+" is an invalid email address</li>";SiteConfig.is_next_gen_channel&&($("#cvp_share_email_form .e_to_label").addClass("red"),$("#cvp_share_email_recipients").addClass("e_error"),t.invalid_emails.length>0&&($("#bad_recipients_modal").jqmShow(),$("#bad_recipients_modal .bad_emails").empty(),$(t.invalid_emails).each(function(e,t){$("#bad_recipients_modal .bad_emails").append('<div class="red">'+t+"</div>")})))}var h=$("div#cvp_email_share_errors_container");SiteConfig.is_next_gen_channel?0!=h.size()?h.replaceWith("<div id='cvp_email_share_errors_container' class='sorry_error red'>sorry, there was an error!</div>"):$("form#cvp_share_email_form").prepend("<div id='cvp_email_share_errors_container' class='sorry_error red'>sorry, there was an error!</div>"):0!=h.size()?h.replaceWith("<div id='cvp_email_share_errors_container' class='errors'><h4 class='strong'>Please correct the following errors marked in red and send again</h4><ul>"+s+"</ul></div>"):$("form#cvp_share_email_form div.contents").length>0?$("form#cvp_share_email_form div.contents").append("<div id='cvp_email_share_errors_container' class='errors'><h4 class='strong'>Please correct the following errors marked in red and send again</h4><ul>"+s+"</ul></div>"):$("form#cvp_share_email_form").prepend("<div id='cvp_email_share_errors_container' class='errors'><h4 class='strong'>Please correct the following errors marked in red and send again</h4><ul>"+s+"</ul></div>"),$("#cvp_share_email_form input.button").removeAttr("disabled")},$.post("/share/email_originals.json",data,handler,"json")},submit_ecard_email_share_form:function(e,t){var i=$("input#cvp_share_email_sender_name").val(),n=$("input#cvp_share_email_recipient_name").val(),s=$("textarea#cvp_share_email_recipients").val(),o=$("#cvp_share_email_message").val();if(""==n){var r=$("input#cvp_share_email_recipient_name");return r.addClass("error"),void 0}("Add a message (optional)"==o||"Add a message:"==o)&&(o="",console.log("clearing message")),console.log(o);var a="";$("input#cvp_share_email_send_now").is(":checked");var l=$("input#cvp_share_email_send_on").is(":checked"),c=$("select#scheduled_send_date_2i").val(),u=$("select#scheduled_send_date_3i").val(),d=$("select#scheduled_send_date_1i").val();$("#cvp_share_email_form input.button").attr("disabled","true");var h;if(l){c=this.pad_date_field(c),u=this.pad_date_field(u),h=d+"-"+c+"-"+u;var p=this.detect_timezone_offset();a="&send_date="+encodeURIComponent(h)+"&local_offset="+encodeURIComponent(p)}s==this._default_recipients&&(s=""),this.clear_error_states_on_form(),console.log(o),data="undefined"==typeof o?"make="+encodeURIComponent(e)+"&sender_name="+encodeURIComponent(i)+"&recipients="+encodeURIComponent(s)+a:"make="+encodeURIComponent(e)+"&sender_name="+encodeURIComponent(i)+"&recipients="+encodeURIComponent(s)+"&message="+encodeURIComponent(o)+a,console.log(data),handler=function(e){log(e),$("#cvp_share_email_form input.button").removeAttr("disabled");var i=e.success;if($("#cvp_share_email_form .e_from_label").removeClass("red"),$("#cvp_share_email_sender_name").removeClass("e_error"),$("#cvp_share_email_form .e_to_label").removeClass("red"),$("#cvp_share_email_recipients").removeClass("e_error"),1==i){var n="";if(n="now"==e.email_type?"Send Now":"Send Later",Analytics.trackShare("E-Mail",n,e.make_external_key,e.cct_context),JJFB.postShareRedirect())return location.href="/view/post_share/"+$.cookie("content_view_make_key")+"?destination=email&email_type="+e.email_type+"&send_date="+e.send_date,void 0;var s=e.valid_emails;valid_emails_markup="";for(var o=0;s.length>o;o++)valid_emails_markup+="<li> "+s[o]+"</li>";var r=e.send_date,a="Your email has been sent to the following recipients:";null!=r&&(a="Your email will be sent to the following recipients <strong>on "+r+":</strong>"),$("form#cvp_share_email_form").before("<div id='cvp_email_share_confirmation_message' class='confirmed'><p>"+a+"</p><ul>"+valid_emails_markup+"</ul><div><input class='button' type='text' value='' alt='Send Again?' onclick=\"ContentViewPageSupport.show_email_share_form();return false;\"  /></div></div>"),$("form#cvp_share_email_form").hide()}else{var l=e.field_errors,c="";$(".sorryerror").show();for(var u in l)if(c+="<li>"+l[u]+"</li>","sender_name"==u){var d=$("input#cvp_share_email_sender_name"),h=$("label#cvp_share_email_sender_name_label");d.addClass("error"),h.addClass("error")}else if("recipients"==u){var p=$("textarea#cvp_share_email_recipients"),f=$("label#cvp_share_email_recipients_label");p.addClass("error"),f.addClass("error");for(var m=e.invalid_emails,g=0;m.length>g;g++)c+="<li>"+m[g]+" is an invalid email address</li>";$("#cvp_share_email_form .e_to_label").addClass("red"),$("#cvp_share_email_recipients").addClass("e_error"),e.invalid_emails.length>0&&($("#bad_recipients_modal").dialog({modal:!0}),$("#bad_recipients_modal .bad_emails").empty(),$(e.invalid_emails).each(function(e,t){$("#bad_recipients_modal .bad_emails").append('<div class="red">'+t+"</div>")}))}else if("send_date"==u){var v=$("label#delivery_label"),_=$("label#cvp_share_email_send_on_label");v.addClass("error"),_.addClass("error")}else"limit"==u&&$("#emaillimit").dialog({modal:!0});$("div#cvp_email_share_errors_container"),$("#cvp_share_email_form input.button").removeAttr("disabled")}t&&t(e)},$.post("/share/email.json",data,handler,"json")},embed_make_swf:function(e,t,i,n,s,o,r,a){var l={categoryID:a,external_make_id:i,service:o,partnerID:s,enableShare:!1,autoplay:!0,state:n},c={src:r+"/client/zero/ClientZero_EmbedViewer.swf",width:e,height:t,align:"middle",id:"_movie",bgcolor:"#000000",name:"_movie",wmode:"opaque",scaleMode:"showAll",quality:"high",allowNetworking:"all",allowFullScreen:"true",allowScriptAccess:"always"},u={id:"cvp_player"};swfobject.embedSWF(r+"/client/zero/ClientZero_EmbedViewer.swf","cvp_player",e,t,"10.3.0",!1,l,c,u)}},MyAccountSupport={_payment_history_modal_name:"dialog",get_payment_history_page:function(e){$("#dialog").load("/my_account/payment_history",{page:e})},resend_order_receipt:function(e){$("#resend_receipt_email_status_"+e).load("/my_account/resend_order_receipt",{order_id:e})}};document.all||(Node.prototype.swapNode=function(e){var t=this.nextSibling,i=this.parentNode;e.parentNode.replaceChild(this,e),i.insertBefore(e,t)});var feature_five={order:[],move:function(e,t){switch(this.table=$("feature_five"),e){case"up":t.rowIndex>2&&this.table.rows[t.rowIndex-1].swapNode(t);break;case"down":t.rowIndex<this.table.rows.length-2&&this.table.rows[t.rowIndex+1].swapNode(t)}this.show_save()},get_order:function(){for(this.order=[],i=2;this.table.rows.length-1>i;i++)this.order.push(this.table.rows[i].cells[0].innerHTML)},show_save:function(){$("save_status").innerHTML="",$("save_order").style.display="inline"},save_order:function(e,t){this.get_order(),$("save_status").innerHTML="saving...",new Ajax.Updater("save_status","/admin/page_elements/feature_five_change_order/?channel_id="+t+"&date="+e+"&order="+this.order.join(","),{method:"get",onSuccess:function(){for(setTimeout(function(){$("save_order").style.display="none"},1e3),master=["item1","item2","item3","item4","item5"],i=2;feature_five.table.rows.length-1>i;i++)feature_five.table.rows[i].cells[0].innerHTML=master[i-2]}})}};if($(function(){$("a.new_window").click(function(){return window.open(this.href),!1})}),addLoadEvent(loadAds),jQuery.fn.highlight=function(e,t){var i=new RegExp(e,"gi");return this.each(function(){this.innerHTML=this.innerHTML.replace(i,function(e){return'<span class="'+t+'">'+e+"</span>"})})},$(document).ready(function(){"true"==$.cookie("became_new_jibjab_user")&&$.cookie("became_new_jibjab_user",null,{path:"/"}),swfobject&&!swfobject.hasFlashPlayerVersion("10.3.0")&&$(".flash_missing_msg").css({display:"block"})}),$(document).ready(function(){$(".edit-turn-off-auto-renewal").click(function(){return $(".edit-turn-off-auto-renewal").hide(),$(".turn-off-auto-renewal").show(),!1})}),$(document).ready(function(){$("body").hasClass("responsive")||($(".seeall").mouseover(function(){$(".seeall").addClass("expanded"),$(".dropdown_4columns").css("left","-395px"),$(".dropdown_4columns").css("top","33px")}),$(".dropdown_4columns").mouseover(function(){$(".seeall").addClass("expanded"),$(".dropdown_4columns").css("left","-395px")}),$(".dropdown_4columns").mouseout(function(){$(".seeall").removeClass("expanded"),$(".dropdown_4columns").css("left","-999em")}),$(".seeall .expanded").mouseout(function(){$(".seeall").removeClass("expanded"),$(".dropdown_4columns").css("left","-999em")}),$(".seeall").mouseout(function(){$(".dropdown_4columns").css("left","-999em")}))}),$(window).load(function(){"placeholder"in document.createElement("input")||$("[placeholder]").focus(function(){var e=$(this);(e.val()==e.attr("placeholder")||e.val()==e.attr("placeholder-temp"))&&(e.val(""),e.removeClass("placeholder"))}).blur(function(){var e=$(this);(""==e.val()||e.val()==e.attr("placeholder")||e.val()==e.attr("placeholder-temp"))&&(e.addClass("placeholder"),e.val(e.attr("placeholder")))}).blur().parents("form").submit(function(){$(this).find("[placeholder]").each(function(){var e=$(this);(e.val()==e.attr("placeholder")||e.val()==e.attr("placeholder-temp"))&&e.val("")})})}),RegExp.escape=function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},$(document).ajaxSend(function(e,t,i){var n="^https?:\\/\\/"+RegExp.escape(location.hostname)+"|^\\/\\w+",s=new RegExp(n,"i");if(i.url.match(s)){var o=$("meta[name='csrf-token']").attr("content");t.setRequestHeader("X-CSRF-Token",o)}}),$().ready(function(){JJFB.toggleFacebookDivs(!1)}),JJFB={GRAPH_URL:"http://graph.facebook.com/v2.0/",SECURE_GRAPH_URL:"https://graph.facebook.com/v2.0/",perms:{default_required:"user_photos, email, user_friends",extended:"publish_actions, user_photos, email, user_friends",size:function getSize(){return getSize.cache||(getSize.cache=$.unique(this.default_required.split(",").concat(this.extended.split(","))).length),getSize.cache}},current_status:"",current_perms:null,get_login_status_complete:!1,user_info:"",user_thumb_url:"",user_thumb_secure_url:"",upcoming_birthdays:new Array,all_users_loaded:!1,all_friends:new Array,all_friends_loaded:!1,birthday_permissions:null,first_refresh:!0,facebook_logged_in:function(){try{return"undefined"!=typeof FB&&null!=FB.getAuthResponse()&&$.cookie("jjsid")}catch(e){}return!1},jibjab_logged_in:function(){return"true"==$.cookie("user_logged_in")},requireRefreshPages:{birthday_alert:"*",user:["login","register"]},updateAccountStatus:function(){JJFB.reloadPage()},refreshUserStatus:function(e){var t=ClientStorage.storage();if(!e.authResponse&&null!=current_facebook_user&&$.cookie("jjsid")){var i=t.get("refreshUserStatus_count");if(i=null!=i?parseInt(i):0,i>0)return t.del("refreshUserStatus_count"),void 0;i++,t.set("refreshUserStatus_count",i),JJFB.delete_cookies(),JJFB.reloadPage()}e.status!=JJFB.current_status&&(e.authResponse||FB.XFBML.parse(),JJFB.current_status=e.status,e.authResponse?(null!=current_facebook_user&&e.authResponse.userID!=current_facebook_user&&$.cookie("jjsid")&&JJFB.reloadPage(),1==JJFB.first_refresh&&null==current_facebook_user&&e.authResponse.userID!=current_facebook_user&&$.cookie("jjsid")&&JJFB.updateAccountStatus(),JJFB.current_perms=e.scope,JJFB.user_thumb_url=JJFB.GRAPH_URL+e.authResponse.userID+"/picture",JJFB.user_thumb_secure_url=JJFB.SECURE_GRAPH_URL+e.authResponse.userID+"/picture",FB.api("/me",function(e){JJFB.user_info=e,$("body").trigger("JJFB.userInfoRetrieved")}),JJFB.toggleFacebookDivs(!0),FB.XFBML.parse()):JJFB.toggleFacebookDivs(!1))},toggleFacebookDivs:function(e){e?($(".need_to_connect").hide(),$(".fb_connected").show()):($(".fb_connected").hide(),$(".need_to_connect").show())},apiKey:function(){return JJFB._apiKey},init:function(e,t){JJFB.applicationId=e.applicationId,JJFB._apiKey=e.apiKey,window.fbAsyncInit=function(){FB.init({appId:JJFB.applicationId,status:!0,cookie:!0,version:"v2.0"}),FB.Event.subscribe("auth.statusChange",JJFB.refreshUserStatus),FB.Event.subscribe("edge.create",function(e){void 0!==_gaq&&_gaq.push(["_trackSocial","Facebook","Like",e])}),FB.Event.subscribe("edge.remove",function(e){void 0!==_gaq&&_gaq.push(["_trackSocial","Facebook","Unlike",e])}),FB.Event.subscribe("message.send",function(e){void 0!==_gaq&&_gaq.push(["_trackSocial","Facebook","Send",e])}),FB.getLoginStatus(function(e){JJFB.refreshUserStatus(e),JJFB.first_refresh=!1,$("body").trigger("JJFB.ready",e),JJFB.get_login_status_complete=!0}),void 0!==t&&t(),setTimeout(function(){JJFB.get_login_status_complete||FB.getLoginStatus(function(){JJFB.get_login_status_complete=!0},!0)},2e3)},function(e,t,i){var n,s=e.getElementsByTagName(t)[0];e.getElementById(i)||(n=e.createElement(t),n.id=i,n.src="//connect.facebook.net/en_US/sdk.js",s.parentNode.insertBefore(n,s))}(document,"script","facebook-jssdk")},get_additional_perms:function(e,t,i){with_fb_login=function(){FB.login(function(){JJFB.grantedGraphPermissions(function(n){JJFB.gotAllPerms(e,n)?$.isFunction(t)&&t():$.isFunction(i)&&i()})},{scope:e})},JJFB.facebook_logged_in()?JJFB.grantedGraphPermissions(function(i){return JJFB.gotAllPerms(e,i)?($.isFunction(t)&&t(),void 0):(with_fb_login(),void 0)}):with_fb_login()},merge_with_facebook:function(e,t,i,n,s){try{var o=ClientStorage.storage();o.del("check-share-fb-on")}catch(r){}FB.login(function(n){n.authResponse?JJFB.grantedGraphPermissions(function(o){if(JJFB.gotAllPerms(e,o)){Analytics.trackFBLoginSourceSuccess(t);var r=new Date,a={user_timezone:Math.floor(r.getTimezoneOffset()/-60),perms:o.join(","),status:n.status,access_token:n.authResponse.accessToken,access_token_expires_in:n.authResponse.expiresIn,force_merge:!0};$.post("/user/facebook_login",a,function(e){e.jjsid&&e.cookie_domain&&$.cookie("jjsid",e.jjsid,{expires:28,path:"/",domain:e.cookie_domain}),e.facebook_user_id&&(current_facebook_user=e.facebook_user_id),$.isFunction(i)&&i(n)},"json")}else Analytics.trackFBLoginSourceFailure(t),$.isFunction(s)&&s()}):(Analytics.trackFBLoginSourceFailure(t),$.isFunction(s)&&s())},{scope:e})},login_with_perms:function(e,t,i,n,s){"undefined"==typeof t&&(t="Unknown Login Source"),"undefined"==typeof e&&(e=JJFB.perms.default_required),$.cookie("registration_source")||$.cookie("registration_source",t);var o=e;FB.login(function(e){if(e.authResponse){var r=!0,a=o.replace(/\s/g,"").split(","),l=e.authResponse.grantedScopes.split(",");if($.each(a,function(e,t){-1===$.inArray(t,l)&&(r=!1)}),r)JJFB.grantedGraphPermissions(function(s){JJFB.on_successful_login(e,s,o,t,i,n)});else{var c=a.filter(function(e){return-1===l.indexOf(e)});FB.login(function(e){e.authResponse&&(c=c.filter(function(t){return-1===e.authResponse.grantedScopes.split(",").indexOf(t)}),0!==c.length?FB.api("/me/permissions","DELETE",function(e){e&&!e.error&&(document.location.href="/better-with-facebook")}):JJFB.grantedGraphPermissions(function(s){JJFB.on_successful_login(e,s,o,t,i,n)}))},{scope:c.join(","),return_scopes:!0,auth_type:"rerequest"})}}else Analytics.trackFBLoginSourceFailure(t),$.isFunction(s)&&s()},{scope:o,return_scopes:!0})},on_successful_login_continiue:function(e,t,i,n,s){Analytics.trackFBLoginSourceSuccess(n);var o=new Date;$.post("/user/facebook_login",{user_timezone:Math.floor(o.getTimezoneOffset()/-60),perms:t.join(","),status:e.status,access_token:e.authResponse.accessToken,access_token_expires_in:e.authResponse.expiresIn},function(t){if(t.jjsid&&t.cookie_domain&&$.cookie("jjsid",t.jjsid,{expires:28,path:"/",domain:t.cookie_domain}),t.facebook_user_id&&(current_facebook_user=t.facebook_user_id),t.became_new_facebook_user){var i=$.cookie("registration_source")||"Unknown Registration Source";Analytics.trackEvent("Registration",i,"FB reg success"),Optimizely.trackEvent("Registration")}try{void 0!==s&&s(e)}catch(n){}JJFB.reloadPage()},"json")},on_successful_login:function(e,t,i,n,s,o){JJFB.gotAllPerms(i,t)&&(!ClientStorage.storage().get("reconcile_accounts_prompted")&&(UserConfig.logged_in&&!UserConfig.facebook_connected||window.location.pathname.indexOf("register")>=0||window.location.pathname.indexOf("subscribe")>=0)?(ClientStorage.storage().set("reconcile_accounts_prompted","1"),FB.api("/me",{fields:"email"},function(r){var a=r;$.post("/user/reconcile_accounts",a,function(r){null!=r&&r.success?"switch_or_stay"==r.action?PromptUser.init({title:"Important Note!",message:"This Facebook account is linked to another JibJab Account. Would you like to switch to your Facebook account or stay logged into your current JibJab account?",left_button:"Facebook",right_button:"Current Account",on_left_click:function(){JJFB.on_successful_login_continiue(e,t,i,n,s,o)}}):"merge_accounts"==r.action?PromptUser.init({title:"Important Note!",message:"You appear to have two separate accounts on JibJab. Would you like to switch to your Facebook Connected Account or merge your accounts so you can access all of your heads and cards from one account?",left_button:"Use Facebook Account",right_button:"Merge Accounts",on_left_click:function(){JJFB.on_successful_login_continiue(e,t,i,n,s,o)},on_right_click:function(){a.command="merge",a.key=r.key,$.post("/user/reconcile_accounts",a,function(r){r.status=e.status,r.authResponse=e.authResponse,"merge_complete"==r.action?JJFB.on_successful_login_continiue(r,t,i,n,s,o):PromptUser.init({title:"Important Note!",message:'Unfortunately, the Facebook account merge failed. Please contact customer service at <a href="mailto:help@jibjab.net">help@jibjab.net</a> if you would like additional help.',left_button:null,right_button:"Okay"})},"json")}}):"two_paid_accounts"==r.action?PromptUser.init({title:"Important Note!",message:'You appear to have two paid accounts with JibJab that use the same email address. Please contact customer service at <a href="mailto:help@jibjab.net">help@jibjab.net</a> if this was not intentional.',left_button:null,right_button:"Okay"}):"auto_merge_complete"==r.action?(r.status=e.status,r.authResponse=e.authResponse,JJFB.on_successful_login_continiue(r,t,i,n,s,o)):"auto_merge_failed"==r.action?PromptUser.init({title:"Important Note!",message:"Unfortunately, you are not able to sign in with Facebook because you already have an account with that email address. Please sign in with your email address and password instead, or reset your password if you forgot it.",left_button:null,right_button:"Okay"}):JJFB.on_successful_login_continiue(e,t,i,n,s,o):JJFB.on_successful_login_continiue(e,t,i,n,s,o)},"json")})):JJFB.on_successful_login_continiue(e,t,i,n,s,o))},logout:function(e){ClientStorage.storage().get("init_add_fb_photo")&&ClientStorage.storage().del("init_add_fb_photo"),$.post("/user/facebook_logout",{},function(){$.removeCookie("birthday_data",{path:"/",expires:10}),JJFB.delete_cookies(),$.cookie("skip_next_page_track",!0),e&&(location.href=e)})},delete_cookies:function(){for(subdomains=document.domain.split("."),i=0;subdomains.length-2>=i;i++)arr=subdomains.slice(i,subdomains.length),thisdomain=arr.join("."),$.removeCookie("jjsid",{path:"/"}),$.removeCookie("fbsr_"+JJFB.applicationId,{domain:thisdomain}),$.removeCookie("fbsr_"+JJFB.applicationId,{domain:thisdomain,path:"/"})},updateHeader:function(e,t,i,n,s){void 0===n&&(n=""),$.ajax({url:"/user/user_links",dataType:"html",data:{template_id:e,jjchannel:t,category_id:i,logout_from:location.pathname+location.search,header:n},success:function(e){$("#user-nav").replaceWith(e);var t=$("body");UserConfig.logged_in?t.removeClass("USER-ANON").addClass("USER-MEMBER"):t.removeClass("USER-MEMBER").addClass("USER-ANON"),UserConfig.subscriber?t.removeClass("USER-NONSUB").addClass("USER-SUB"):t.removeClass("USER-SUB").addClass("USER-NONSUB"),UserConfig.facebook_connected?t.removeClass("USER-NONFB").addClass("USER-FB"):t.removeClass("USER-FB").addClass("USER-NONFB"),$.ajax({url:"/user/user_links_mobile",dataType:"html",data:{logout_from:location.pathname+location.search},success:function(e){$("#account-links").replaceWith(e)}}),$.isFunction(s)&&s()},error:function(){}})},gotAllPerms:function(e,t){if(optionals=e.split(","),void 0===t)return!1;for(null==t&&(t=""),scope_array="string"==typeof t?t.split(","):t,i=0;scope_array.length>i;i++)scope_array[i]=$.trim(scope_array[i]);if(gotAllPerms=!0,optionals.length>0)for(i=0;optionals.length>i;i++)if(""==$.trim(optionals[i]));else if(-1==$.inArray($.trim(optionals[i]),scope_array)){gotAllPerms=!1;break}return gotAllPerms},gotoUrl:function(e){return function(){e&&(location.href=e)}},reloadPage:function(){$.cookie("skip_next_page_track",!0),location.reload(!0)},get_friends:function(e,t){if(JJFB.facebook_logged_in()){if(JJFB.all_friends_loaded)return e(JJFB.all_friends),void 0;var i=null;FB.api("/me/friends",function(n){n.data&&n.data.length>0&&(i=t?t(n.data):n.data),JJFB.all_friends=i,JJFB.all_friends_loaded=!0,e(i)})}},show_friends_photos:function(e,t,i,n){t&&i&&t.html()&&(render_callback=function(s){if(selected=new Array,s){for(var o=0;s.length>o&&e>o;o++)for(;;){rand=Math.floor(Math.random()*s.length);for(var r=0;selected.length>r&&selected[r]!=rand;r++);if(r>=selected.length){selected.push(rand);break}}content=t.html();for(var o=0;selected.length>o;o++)selected_idx=selected[o],user_id=s[selected_idx].uid?s[selected_idx].uid:s[selected_idx].id,thumb_url=JJFB.GRAPH_URL+user_id+"/picture",fname=s[selected_idx].name.replace(/ .*$/,""),div_content=content.replace(/rel=["']#img["']/g,"src='"+thumb_url+"'"),div_content=div_content.replace(/#name/g,s[selected_idx].name),div_content=div_content.replace(/#fname/g,fname),div_content=div_content.replace(/#uid/g,user_id),n?i.append(n(div_content,o,selected.length)):i.append(div_content)}},JJFB.get_friends(render_callback,null))},get_all_friends:function(e,t){JJFB.facebook_logged_in()&&FB.api("/me/friends?fields=birthday,name,gender",function(i){i.data&&i.data.length>0&&(void 0===t&&(t="name"),users=JJFB.users_sort(i.data,t),JJFB.upcoming_birthdays=users,JJFB.all_users_loaded=!0),$.isFunction(e)&&e()})},show_all_friends:function(e,t,i){i&&i.hide(),JJFB.show_throbber(t),JJFB.get_all_friends(function(){content=e.html(),t.html('<div id="'+e[0].id+'" style="display:none;">'+content+"</div>"),t.animate({height:"500px"},1500),t.css({height:"500px"}),JJFB.render_users(users,e,t)})},has_birthday_permissions:function(e){return JJFB.facebook_logged_in()?null!=JJFB.birthday_permissions?(e(JJFB.birthday_permissions),void 0):($.getJSON(JJFB.SECURE_GRAPH_URL+"me/permissions?access_token="+FB.getAccessToken()+"&callback=?",function(t){var i=t&&t.data&&t.data[0].friends_birthday?!0:!1;JJFB.birthday_permissions=i,e(i)}),void 0):(e(!1),void 0)},get_upcoming_birthdays:function(e,t,i,n,s){if(JJFB.facebook_logged_in()){var o=function(o){var r=o.data;0!=r.length&&(1==r[0].friends_birthday?JJFB.get_and_show_upcoming_birthdays(e,t,i):(void 0===n&&(n=t),void 0===s?JJFB.get_all_friends(function(){JJFB.render_users(JJFB.upcoming_birthdays,n,i,e)},"name"):(JJFB.get_all_friends(function(){JJFB.render_users(JJFB.upcoming_birthdays,n,i,e+1)},"random"),i.append(s))))};$.getJSON(JJFB.SECURE_GRAPH_URL+"me/permissions?access_token="+FB.getAccessToken()+"&callback=?",o)}},get_and_show_upcoming_birthdays:function(e,t,i,n,s){JJFB.load_upcoming_birthdays(function(o){0==o.length&&null!=s?s():JJFB.render_users(o,t,i,e,n)})},load_upcoming_birthdays:function(callback){if(d=new Date,midnight_today=new Date(d.getFullYear(),d.getMonth(),d.getDate(),0,0,0,0),done=!1,jQuery.jStore.ready(function(){found=jQuery.jStore.get("birthdays"),found=eval("("+found+")"),"string"==typeof found&&found&&(found.retrieved==midnight_today.getTime()&&found.user==FB.getUserID()?(JJFB.upcoming_birthdays=found.birthdays,callback&&callback(JJFB.upcoming_birthdays),done=!0):jQuery.jStore.remove("birthdays"))}),!done){var hasFriends=function(e){var t=e.data,n=new Array,s=new Date,o=s.getFullYear(),r=new Array;for(i=0;t.length>i;i++)t[i].birthday?(date_split=t[i].birthday.split("/"),date_split.length>=2?(t[i].birthday_date=Date.parse(date_split[0]+"/"+date_split[1]+"/"+o),n.push(t[i])):r.push(t[i])):r.push(t[i]);n=JJFB.users_sort(n,"birthday_date");var a=0;if(n.length>0){for(;n[a]&&midnight_today>n[a].birthday_date;)a++;n=n.concat(n.splice(0,a)),n=n.concat(r);var l=new Array;for(i=0;12>i;i++)bday=n[i],bday&&l.push("{id:'"+bday.id+"', name:'"+bday.name.replace(/'/g,"\\'")+"', birthday_date: '"+bday.birthday_date+"',gender:'"+bday.gender+"'}");var c="{retrieved:"+midnight_today.getTime()+",user:"+FB.getUserID()+",birthdays:["+l.join(",")+"]"+"}";jQuery.jStore.ready(function(){jQuery.jStore.store("birthdays",c)})}JJFB.upcoming_birthdays=n,callback&&callback(JJFB.upcoming_birthdays)};FB.getAccessToken()&&$.getJSON(JJFB.SECURE_GRAPH_URL+"me/friends?fields=birthday,name,gender&access_token="+FB.getAccessToken()+"&callback=?",hasFriends)}},users_sort:function(e,t){return"random"==t?e.sort(function(){return.5-Math.random()}):e.sort(function(e,i){return e[t]>i[t]?1:e[t]<i[t]?-1:0}),e},render_users:function(e,t,n,s,o){if(e&&t&&n&&t.html()){content=t.html();var r=e.length;for(void 0!==s&&e.length>s&&(r=s),n.html(""),i=0;r>i;i++)user_id=e[i].uid?e[i].uid:e[i].id,user_thumbnail_url=JJFB.GRAPH_URL+user_id+"/picture",fname=e[i].name.replace(/ .*$/,""),div_content=content.replace(/rel=["']#img["']/g,"src='"+user_thumbnail_url+"'"),div_content=div_content.replace(/#name/g,e[i].name),div_content=div_content.replace(/#fname/g,fname),div_content=div_content.replace(/#uid/g,user_id),e[i].birthday_date?(dDate=new Date(parseInt(e[i].birthday_date)),bd=JJFB.parse_date(dDate),div_content=div_content.replace(/#birthday/g,bd)):div_content=div_content.replace(/#birthday/g,""),o&&(div_content=o(div_content,i,r)),n.append(div_content)}},show_throbber:function(e){e.html('<center><img src="/images/icons/loading_throbber_blue.gif" /></center>')},parse_date:function(e){var t=new Date;t.setTime(Date.parse(t.getMonth()+1+"/"+t.getDate()+"/"+t.getFullYear()));var i=new Date(e),n=i.getDate(),s=i.getMonth(),o=new Array("January","February","March","April","May","June","July","August","September","October","November","December");return s==t.getMonth()&&n==t.getDate()?"Today":s==t.getMonth()&&n==t.getDate()+1?"Tomorrow":o[s]+" "+n},hide_birthdays:function(e){e.hide("slow"),document.cookie="hide_birthday=1; path=/"},show_birthdays:function(e){/hide_birthday=([^;]+)/.test(document.cookie)||window.setTimeout(function(){e.show("slow")},1e3)},share:function(e,t,i,n,s){var o=JJFB.facebook_logged_in()?"my_wall":"my_wall_not_connected",r=function(){JJFB.gotoPostShare(o)};return"undefined"===e&&(e=encodeURIComponent(document.title)),"undefined"===t&&(t=encodeURIComponent(location.href)),"undefined"===s&&(s="jj_fb_self"),"undefined"===n&&(n=!1),JJFB.publishToStream(null,e,t,i,r,s,null),!1},ui:function(e,t){return FB.ui(e,t)},api:function(e,t,i,n){return FB.api(e,t,i,n)},fb_logout:function(e){try{return FB.logout(e)}catch(t){}},facebook_logged_in_but_no_jibjab:function(){return null!=FB.getAuthResponse()&&!$.cookie("jjsid")},event_subscribe:function(e,t){FB.Event.subscribe(e,t)},publishToStream:function(e,t,i,n,s,o,r){var a="",l=FBWallPostConfig.name_url.replace("{*link*}",i),c=FBWallPostConfig.action_link_url.replace("{*link*}",i);e?(a=SiteConfig.fb_friend_post_cmpid,o="undefined"==typeof o?"jj_fb_friend":o):(a=SiteConfig.fb_post_cmpid,o="undefined"==typeof o?"jj_fb_self":o),a&&(l+=(i.indexOf("?")>-1?"&":"?")+"cmpid="+a,c+=(i.indexOf("?")>-1?"&":"?")+"cmpid="+a);var u={method:"feed",caption:"www.jibjab.com",to:e,link:l,name:FBWallPostConfig.name_label.replace("{*title*}",t),description:FBWallPostConfig.description.replace("{*description*}",FBWallPostConfig.template_description),actions:[{name:FBWallPostConfig.action_link_label,link:c}]};FB.ui(u,function(t){t&&t.post_id&&1==JJFB.postShareRedirect()&&(fb_type="undefined"==typeof e?"my_wall":"friends_wall",JJFB.gotoPostShare(fb_type)),$.isFunction(s)&&t&&s(t,r)})},gotoPostShare:function(e){0!=JJFB.postShareRedirect()&&(location.href="/view/post_share/"+$.cookie("content_view_make_key")+"?destination=facebook&fb_type="+e)},postShareRedirect:function(){return"undefined"!=typeof SiteConfig&&SiteConfig&&SiteConfig.redirect_to_post_share?SiteConfig.redirect_to_post_share:!1},uploadPhoto:function(t,i){JJFB.login_with_perms("publish_stream","Upload Photo",function(n){JJ.openDialog({selector:"#fb_upload_modal",ga:"/modals/fb_upload_photo_confirmation"}),id_of_modal="fb_upload_modal",e=$("div[aria-labelledby=ui-dialog-title-"+id_of_modal+"]"),s1=e.attr("style"),e.attr("style",s1+";background-color: transparent !important"),data={make:t,access_token:n.authResponse.accessToken,access_token_expires_in:n.authResponse.expiresIn},handler=function(e){$(".throbber").hide(),$(".modal_preview_wrap").show(),document.getElementById("upload_photo_link").href=e.link,Analytics.trackShare("Facebook","Upload Photo",t,i)
},$.post("/share/facebook_upload",data,handler,"json")},"basic")},updateDirtyFacebookFields:function(e){data="field="+e,handler=function(){},$.post("/user/update_facebook",data,handler,"json")},grantedGraphPermissions:function(e){return FB.getAuthResponse()?(FB.api("/me/permissions",function(t){if(t.data&&t.data.length>0){var i=t.data.filter(function(e){return"granted"===e.status}).map(function(e){return e.permission});e(i)}else e([])}),void 0):(e([]),void 0)},grantedPermissions:function(e){return FB.getAuthResponse()?(user_id=FB.getUserID(),scope="publish_actions,user_friends,user_photos,user_birthday,email,public_profile",FB.api("/me/permissions",function(t){var i=[];t&&t.data&&(i=t.data.filter(function(e){return-1!=scope.search(e.permission)}).filter(function(e){return"granted"===e.status}).map(function(e){return e.permission})),e(i)}),void 0):(e([]),void 0)},isProxyEmail:function(e){return re=/^.+@proxymail\.facebook\.com$/,null==e.match(re)?!1:!0},getSession:function(e){var t=FB.getAuthResponse();e({access_token:t.accessToken,expires:t.expiresIn,uid:t.userID})}},extend_fb_methods=function(){FB.provide("UIServer.Methods",{"permissions.request":{size:{width:575,height:300},url:"connect/uiserver.php",transform:FB.UIServer.genericTransform}})},/*
 * jQuery JSONP Core Plugin 2.4.0 (2012-08-21)
 *
 * https://github.com/jaubourg/jquery-jsonp
 *
 * Copyright (c) 2012 Julian Aubourg
 *
 * This document is licensed as free software under the terms of the
 * MIT License: http://www.opensource.org/licenses/mit-license.php
 */
function(e){function t(){}function i(e){r=[e]}function n(e,t,i){return e&&e.apply(t.context||t,i)}function s(e){return/\?/.test(e)?"&":"?"}function o(o){function p(e){G++||(X(),z&&(T[U]={s:[e]}),H&&(e=H.apply(o,[e])),n(O,o,[e,w,o]),n(B,o,[o,w]))}function D(e){G++||(X(),z&&e!=x&&(T[U]=e),n(L,o,[o,e]),n(B,o,[o,e]))}o=e.extend({},A,o);var j,F,N,$,P,O=o.success,L=o.error,B=o.complete,H=o.dataFilter,R=o.callbackParameter,V=o.callback,J=o.cache,z=o.pageCache,W=o.charset,U=o.url,q=o.data,Y=o.timeout,G=0,X=t;return C&&C(function(e){e.done(O).fail(L),O=e.resolve,L=e.reject}).promise(o),o.abort=function(){!G++&&X()},n(o.beforeSend,o,[o])===!1||G?o:(U=U||c,q=q?"string"==typeof q?q:e.param(q,o.traditional):c,U+=q?s(U)+q:c,R&&(U+=s(U)+encodeURIComponent(R)+"=?"),!J&&!z&&(U+=s(U)+"_"+(new Date).getTime()+"="),U=U.replace(/=\?(&|$)/,"="+V+"$1"),z&&(j=T[U])?j.s?p(j.s[0]):D(j):(k[V]=i,N=e(b)[0],N.id=h+E++,W&&(N[l]=W),M&&11.6>M.version()?($=e(b)[0]).text="document.getElementById('"+N.id+"')."+m+"()":N[a]=a,I&&(N.htmlFor=N.id,N.event=f),N[g]=N[m]=N[v]=function(e){if(!N[_]||!/i/.test(N[_])){try{N[f]&&N[f]()}catch(t){}e=r,r=0,e?p(e[0]):D(u)}},N.src=U,X=function(){P&&clearTimeout(P),N[v]=N[g]=N[m]=null,S[y](N),$&&S[y]($)},S[d](N,F=S.firstChild),$&&S[d]($,F),P=Y>0&&setTimeout(function(){D(x)},Y)),o)}var r,a="async",l="charset",c="",u="error",d="insertBefore",h="_jqjsp",p="on",f=p+"click",m=p+u,g=p+"load",v=p+"readystatechange",_="readyState",y="removeChild",b="<script>",w="success",x="timeout",k=window,C=e.Deferred,S=e("head")[0]||document.documentElement,T={},E=0,A={callback:h,url:location.href},M=k.opera,I=!!e("<div>").html("<!--[if IE]><i><![endif]-->").find("i").length;o.setup=function(t){e.extend(A,t)},e.jsonp=o}(jQuery),"undefined"==typeof LeadSpend)var LeadSpend=new function(){this.validate=function(e,t,i){jQuery.jsonp({emailAddress:e,url:"https://primary.api.leadspend.com/v2/validity/"+encodeURIComponent(e)+"?timeout="+t,callbackParameter:"callback",timeout:1e3*t,success:function(e){i(e)},error:function(e){i({address:e.emailAddress,result:"unknown"})}})}};window.log=function(){if(log.history=log.history||[],log.history.push(arguments),this.console){arguments.callee=arguments.callee.caller;var e=[].slice.call(arguments);"object"==typeof console.log?log.apply.call(console.log,console,e):console.log.apply(console,e)}},"undefined"==typeof JJ&&(JJ={}),function(e){function t(){}for(var i,n="assert,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,timeStamp,profile,profileEnd,time,timeEnd,trace,warn".split(",");i=n.pop();)e[i]=e[i]||t}(function(){try{return console.log(),window.console}catch(e){return window.console={}}}());/**
 * JHM: Moved from jquery_cookie.js
 *
 * Copyright (c) 2006 Klaus Hartl (stilbuero.de)
 * Dual licensed under the MIT and GPL licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 **/
var foo="";$(document).ready(function(){jQuery.extend(jQuery.jStore.defaults,{project:"jj"}),$(function(){jQuery.jStore.load()})});var UTIL=UTIL||{};UTIL.popup=UTIL.popup||{},UTIL.popup.open=function(e,t){var i,n={width:"500",height:"650",top:"0",left:"0",directories:"no",location:"no",resizeable:"yes",menubar:"no",toolbar:"no",scrollbars:"yes",status:"no"},s=t.windowName||"new_window",o="";for(i in n)o+=""===o?"":",",o+=i+"=",o+=t[i]||n[i];return window.open(e,s,o)};var FormHelper={post:function(e,t,i,n){var s=function(e){if(elem=$(i).find("span.global_errors")[0],elem&&FormHelper.showErrors(e.global_errors,elem),elem=null,elem&&FormHelper.showErrors(e.global_notify,elem),$(i).find("fieldset[@rel]").removeClass("error"),$(i).find("div[@rel]").removeClass(),$(i).find("div[@rel]").empty(),e.field_errors)for(var t in e.field_errors)elem=$(i).find("div[@rel="+t+"_error]")[0],elem&&($(elem).text(e.field_errors[t]),$(elem).addClass("error"),$("fieldset[@rel="+t+"]").addClass("error"));n&&n(e),FormHelper.hideThrobber($(i)),FormHelper.enableSubmit($(i))};FormHelper.showThrobber($(i)),FormHelper.disableSubmit($(i)),$.post(e,t,s,"json")},showErrors:function(e,t){if($(t).text(""),$(t).children().remove(),e)if(len=e.length,1==len)$(t).text(e[0]),$(t).parent().show();else if(len>1){ul=document.createElement("ul");for(var i=0;e.length>i;i++)li=document.createElement("li"),$(li).text(e[i]),ul.appendChild(li);t.appendChild(ul),$(t).parent().show()}else $(t).parent().hide()},encodeFields:function(e){var t=[];return e.find(":input").each(function(e,i){switch(i.type){case"text":case"password":case"hidden":t.push(i.name+"="+encodeURIComponent(i.value));break;case"checkbox":case"radio":i.checked&&t.push(i.name+"="+encodeURIComponent(i.value));break;case"select-one":t.push(i.name+"="+encodeURIComponent(i.value));break;default:}}),t.join("&")},showThrobber:function(e){elem=$(e).find("span.throbber_holder")[0],elem&&(img=document.createElement("img"),img.src=SiteConfig.asset_base+"/images/icons/loading_throbber_blue.gif",elem.appendChild(img))},hideThrobber:function(e){if(elem=$(e).find("span.throbber_holder")[0],elem&&elem.hasChildNodes())for(;elem.childNodes.length>=1;)elem.removeChild(elem.firstChild)},disableSubmit:function(e){for(elems=$(e).find("input[type=image]"),i=0;elems.length>i;i++)elem=elems[i],elem.disabled=!0,elem.style.opacity="0.5",elem.style.filter="alpha(opacity = 50)"},enableSubmit:function(e){for(elems=$(e).find("input[type=image]"),i=0;elems.length>i;i++)elem=elems[i],elem.disabled=!1,elem.style.opacity=null,elem.style.filter=null},populateSelectOptionsNumbers:function(e,t,i,n){var s="";n&&(s+='<option value=""></option>');for(var o=t;i>=o;o++)s+='<option value="'+o+'">'+o+"</option>";e.html(s)}},MyAccountSupport={_payment_history_modal_name:"dialog",get_payment_history_page:function(e){$("#dialog").load("/my_account/payment_history",{page:e})},resend_order_receipt:function(e){$("#resend_receipt_email_status_"+e).load("/my_account/resend_order_receipt",{order_id:e})}};document.all||(Node.prototype.swapNode=function(e){var t=this.nextSibling,i=this.parentNode;e.parentNode.replaceChild(this,e),i.insertBefore(e,t)});var feature_five={order:[],move:function(e,t){switch(this.table=$("feature_five"),e){case"up":t.rowIndex>2&&this.table.rows[t.rowIndex-1].swapNode(t);break;case"down":t.rowIndex<this.table.rows.length-2&&this.table.rows[t.rowIndex+1].swapNode(t)}this.show_save()},get_order:function(){for(this.order=[],i=2;this.table.rows.length-1>i;i++)this.order.push(this.table.rows[i].cells[0].innerHTML)},show_save:function(){$("save_status").innerHTML="",$("save_order").style.display="inline"},save_order:function(e,t){this.get_order(),$("save_status").innerHTML="saving...",new Ajax.Updater("save_status","/admin/page_elements/feature_five_change_order/?channel_id="+t+"&date="+e+"&order="+this.order.join(","),{method:"get",onSuccess:function(){for(setTimeout(function(){$("save_order").style.display="none"},1e3),master=["item1","item2","item3","item4","item5"],i=2;feature_five.table.rows.length-1>i;i++)feature_five.table.rows[i].cells[0].innerHTML=master[i-2]}})}},isIE=-1!=navigator.appVersion.indexOf("MSIE")?!0:!1,isWin=-1!=navigator.appVersion.toLowerCase().indexOf("win")?!0:!1,isOpera=-1!=navigator.userAgent.indexOf("Opera")?!0:!1,swfobject=function(){function e(){if(!J){try{var e=P.getElementsByTagName("body")[0].appendChild(g("span"));e.parentNode.removeChild(e)}catch(t){return}J=!0;for(var i=B.length,n=0;i>n;n++)B[n]()}}function t(e){J?e():B[B.length]=e}function i(e){if(typeof $.addEventListener!=A)$.addEventListener("load",e,!1);else if(typeof P.addEventListener!=A)P.addEventListener("load",e,!1);else if(typeof $.attachEvent!=A)v($,"onload",e);else if("function"==typeof $.onload){var t=$.onload;$.onload=function(){t(),e()}}else $.onload=e}function n(){L?s():o()}function s(){var e=P.getElementsByTagName("body")[0],t=g(M);t.setAttribute("type",j);var i=e.appendChild(t);if(i){var n=0;(function(){if(typeof i.GetVariable!=A){var s=i.GetVariable("$version");s&&(s=s.split(" ")[1].split(","),U.pv=[parseInt(s[0],10),parseInt(s[1],10),parseInt(s[2],10)])}else if(10>n)return n++,setTimeout(arguments.callee,10),void 0;e.removeChild(t),i=null,o()})()}else o()}function o(){var e=H.length;if(e>0)for(var t=0;e>t;t++){var i=H[t].id,n=H[t].callbackFn,s={success:!1,id:i};if(U.pv[0]>0){var o=m(i);if(o)if(!_(H[t].swfVersion)||U.wk&&312>U.wk)if(H[t].expressInstall&&a()){var u={};u.data=H[t].expressInstall,u.width=o.getAttribute("width")||"0",u.height=o.getAttribute("height")||"0",o.getAttribute("class")&&(u.styleclass=o.getAttribute("class")),o.getAttribute("align")&&(u.align=o.getAttribute("align"));for(var d={},h=o.getElementsByTagName("param"),p=h.length,f=0;p>f;f++)"movie"!=h[f].getAttribute("name").toLowerCase()&&(d[h[f].getAttribute("name")]=h[f].getAttribute("value"));l(u,d,i,n)}else c(o),n&&n(s);else b(i,!0),n&&(s.success=!0,s.ref=r(i),n(s))}else if(b(i,!0),n){var g=r(i);g&&typeof g.SetVariable!=A&&(s.success=!0,s.ref=g),n(s)}}}function r(e){var t=null,i=m(e);if(i&&"OBJECT"==i.nodeName)if(typeof i.SetVariable!=A)t=i;else{var n=i.getElementsByTagName(M)[0];n&&(t=n)}return t}function a(){return!z&&_("6.0.65")&&(U.win||U.mac)&&!(U.wk&&312>U.wk)}function l(e,t,i,n){z=!0,C=n||null,S={success:!1,id:i};var s=m(i);if(s){"OBJECT"==s.nodeName?(x=u(s),k=null):(x=s,k=i),e.id=F,(typeof e.width==A||!/%$/.test(e.width)&&310>parseInt(e.width,10))&&(e.width="310"),(typeof e.height==A||!/%$/.test(e.height)&&137>parseInt(e.height,10))&&(e.height="137"),P.title=P.title.slice(0,47)+" - Flash Player Installation";var o=U.ie&&U.win?"ActiveX":"PlugIn",r="MMredirectURL="+$.location.toString().replace(/&/g,"%26")+"&MMplayerType="+o+"&MMdoctitle="+P.title;if(typeof t.flashvars!=A?t.flashvars+="&"+r:t.flashvars=r,U.ie&&U.win&&4!=s.readyState){var a=g("div");i+="SWFObjectNew",a.setAttribute("id",i),s.parentNode.insertBefore(a,s),s.style.display="none",function(){4==s.readyState?s.parentNode.removeChild(s):setTimeout(arguments.callee,10)}()}d(e,t,i)}}function c(e){if(U.ie&&U.win&&4!=e.readyState){var t=g("div");e.parentNode.insertBefore(t,e),t.parentNode.replaceChild(u(e),t),e.style.display="none",function(){4==e.readyState?e.parentNode.removeChild(e):setTimeout(arguments.callee,10)}()}else e.parentNode.replaceChild(u(e),e)}function u(e){var t=g("div");if(U.win&&U.ie)t.innerHTML=e.innerHTML;else{var i=e.getElementsByTagName(M)[0];if(i){var n=i.childNodes;if(n)for(var s=n.length,o=0;s>o;o++)1==n[o].nodeType&&"PARAM"==n[o].nodeName||8==n[o].nodeType||t.appendChild(n[o].cloneNode(!0))}}return t}function d(e,t,i){var n,s=m(i);if(U.wk&&312>U.wk)return n;if(s)if(typeof e.id==A&&(e.id=i),U.ie&&U.win){var o="";for(var r in e)e[r]!=Object.prototype[r]&&("data"==r.toLowerCase()?t.movie=e[r]:"styleclass"==r.toLowerCase()?o+=' class="'+e[r]+'"':"classid"!=r.toLowerCase()&&(o+=" "+r+'="'+e[r]+'"'));var a="";for(var l in t)t[l]!=Object.prototype[l]&&(a+='<param name="'+l+'" value="'+t[l]+'" />');s.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+o+">"+a+"</object>",R[R.length]=e.id,n=m(e.id)}else{var c=g(M);c.setAttribute("type",j);for(var u in e)e[u]!=Object.prototype[u]&&("styleclass"==u.toLowerCase()?c.setAttribute("class",e[u]):"classid"!=u.toLowerCase()&&c.setAttribute(u,e[u]));for(var d in t)t[d]!=Object.prototype[d]&&"movie"!=d.toLowerCase()&&h(c,d,t[d]);s.parentNode.replaceChild(c,s),n=c}return n}function h(e,t,i){var n=g("param");n.setAttribute("name",t),n.setAttribute("value",i),e.appendChild(n)}function p(e){var t=m(e);t&&"OBJECT"==t.nodeName&&(U.ie&&U.win?(t.style.display="none",function(){4==t.readyState?f(e):setTimeout(arguments.callee,10)}()):t.parentNode.removeChild(t))}function f(e){var t=m(e);if(t){for(var i in t)"function"==typeof t[i]&&(t[i]=null);t.parentNode.removeChild(t)}}function m(e){var t=null;try{t=P.getElementById(e)}catch(i){}return t}function g(e){return P.createElement(e)}function v(e,t,i){e.attachEvent(t,i),V[V.length]=[e,t,i]}function _(e){var t=U.pv,i=e.split(".");return i[0]=parseInt(i[0],10),i[1]=parseInt(i[1],10)||0,i[2]=parseInt(i[2],10)||0,t[0]>i[0]||t[0]==i[0]&&t[1]>i[1]||t[0]==i[0]&&t[1]==i[1]&&t[2]>=i[2]?!0:!1}function y(e,t,i,n){if(!U.ie||!U.mac){var s=P.getElementsByTagName("head")[0];if(s){var o=i&&"string"==typeof i?i:"screen";if(n&&(T=null,E=null),!T||E!=o){var r=g("style");r.setAttribute("type","text/css"),r.setAttribute("media",o),T=s.appendChild(r),U.ie&&U.win&&typeof P.styleSheets!=A&&P.styleSheets.length>0&&(T=P.styleSheets[P.styleSheets.length-1]),E=o}U.ie&&U.win?T&&typeof T.addRule==M&&T.addRule(e,t):T&&typeof P.createTextNode!=A&&T.appendChild(P.createTextNode(e+" {"+t+"}"))}}}function b(e,t){if(W){var i=t?"visible":"hidden";J&&m(e)?m(e).style.visibility=i:y("#"+e,"visibility:"+i)}}function w(e){var t=/[\\\"<>\.;]/,i=null!=t.exec(e);return i&&typeof encodeURIComponent!=A?encodeURIComponent(e):e}var x,k,C,S,T,E,A="undefined",M="object",I="Shockwave Flash",D="ShockwaveFlash.ShockwaveFlash",j="application/x-shockwave-flash",F="SWFObjectExprInst",N="onreadystatechange",$=window,P=document,O=navigator,L=!1,B=[n],H=[],R=[],V=[],J=!1,z=!1,W=!0,U=function(){var e=typeof P.getElementById!=A&&typeof P.getElementsByTagName!=A&&typeof P.createElement!=A,t=O.userAgent.toLowerCase(),i=O.platform.toLowerCase(),n=i?/win/.test(i):/win/.test(t),s=i?/mac/.test(i):/mac/.test(t),o=/webkit/.test(t)?parseFloat(t.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,r=!1,a=[0,0,0],l=null;if(typeof O.plugins!=A&&typeof O.plugins[I]==M)l=O.plugins[I].description,!l||typeof O.mimeTypes!=A&&O.mimeTypes[j]&&!O.mimeTypes[j].enabledPlugin||(L=!0,r=!1,l=l.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),a[0]=parseInt(l.replace(/^(.*)\..*$/,"$1"),10),a[1]=parseInt(l.replace(/^.*\.(.*)\s.*$/,"$1"),10),a[2]=/[a-zA-Z]/.test(l)?parseInt(l.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(typeof $.ActiveXObject!=A)try{var c=new ActiveXObject(D);c&&(l=c.GetVariable("$version"),l&&(r=!0,l=l.split(" ")[1].split(","),a=[parseInt(l[0],10),parseInt(l[1],10),parseInt(l[2],10)]))}catch(u){}return{w3:e,pv:a,wk:o,ie:r,win:n,mac:s}}();return function(){U.w3&&((typeof P.readyState!=A&&"complete"==P.readyState||typeof P.readyState==A&&(P.getElementsByTagName("body")[0]||P.body))&&e(),J||(typeof P.addEventListener!=A&&P.addEventListener("DOMContentLoaded",e,!1),U.ie&&U.win&&(P.attachEvent(N,function(){"complete"==P.readyState&&(P.detachEvent(N,arguments.callee),e())}),$==top&&function(){if(!J){try{P.documentElement.doScroll("left")}catch(t){return setTimeout(arguments.callee,0),void 0}e()}}()),U.wk&&function(){return J?void 0:/loaded|complete/.test(P.readyState)?(e(),void 0):(setTimeout(arguments.callee,0),void 0)}(),i(e)))}(),function(){U.ie&&U.win&&window.attachEvent("onunload",function(){for(var e=V.length,t=0;e>t;t++)V[t][0].detachEvent(V[t][1],V[t][2]);for(var i=R.length,n=0;i>n;n++)p(R[n]);for(var s in U)U[s]=null;U=null;for(var o in swfobject)swfobject[o]=null;swfobject=null})}(),{registerObject:function(e,t,i,n){if(U.w3&&e&&t){var s={};s.id=e,s.swfVersion=t,s.expressInstall=i,s.callbackFn=n,H[H.length]=s,b(e,!1)}else n&&n({success:!1,id:e})},getObjectById:function(e){return U.w3?r(e):void 0},embedSWF:function(e,i,n,s,o,r,c,u,h,p){var f={success:!1,id:i};U.w3&&!(U.wk&&312>U.wk)&&e&&i&&n&&s&&o?(b(i,!1),t(function(){n+="",s+="";var t={};if(h&&typeof h===M)for(var m in h)t[m]=h[m];t.data=e,t.width=n,t.height=s;var g={};if(u&&typeof u===M)for(var v in u)g[v]=u[v];if(c&&typeof c===M)for(var y in c)typeof g.flashvars!=A?g.flashvars+="&"+y+"="+c[y]:g.flashvars=y+"="+c[y];if(_(o)){var w=d(t,g,i);t.id==i&&b(i,!0),f.success=!0,f.ref=w}else{if(r&&a())return t.data=r,l(t,g,i,p),void 0;b(i,!0)}p&&p(f)})):p&&p(f)},switchOffAutoHideShow:function(){W=!1},ua:U,getFlashPlayerVersion:function(){return{major:U.pv[0],minor:U.pv[1],release:U.pv[2]}},hasFlashPlayerVersion:_,createSWF:function(e,t,i){return U.w3?d(e,t,i):void 0},showExpressInstall:function(e,t,i,n){U.w3&&a()&&l(e,t,i,n)},removeSWF:function(e){U.w3&&p(e)},createCSS:function(e,t,i,n){U.w3&&y(e,t,i,n)},addDomLoadEvent:t,addLoadEvent:i,getQueryParamValue:function(e){var t=P.location.search||P.location.hash;if(t){if(/\?/.test(t)&&(t=t.split("?")[1]),null==e)return w(t);for(var i=t.split("&"),n=0;i.length>n;n++)if(i[n].substring(0,i[n].indexOf("="))==e)return w(i[n].substring(i[n].indexOf("=")+1))}return""},expressInstallCallback:function(){if(z){var e=m(F);e&&x&&(e.parentNode.replaceChild(x,e),k&&(b(k,!0),U.ie&&U.win&&(x.style.display="block")),C&&C(S)),z=!1}}}}();$(function(){$("a.new_window").click(function(){return window.open(this.href),!1})}),addLoadEvent(loadAds),jQuery.fn.highlight=function(e,t){var i=new RegExp(e,"gi");return this.each(function(){this.innerHTML=this.innerHTML.replace(i,function(e){return'<span class="'+t+'">'+e+"</span>"})})},$(document).ready(function(){"true"==$.cookie("became_new_jibjab_user")&&$.cookie("became_new_jibjab_user",null,{path:"/"})}),$(document).ready(function(){$(".edit-turn-off-auto-renewal").click(function(){return $(".edit-turn-off-auto-renewal").hide(),$(".turn-off-auto-renewal").show(),!1})});var CategoryPageSupport={large_stills_hash:{},load_still_template_image:function(e){var t=document.getElementById("template_"+e+"_still_img");null!=t&&(t.src==this.large_stills_hash[e]||(t.src=this.large_stills_hash[e]))},embed_template_swf:function(e,t,i,n,s,o,r,a,l){if(!swfobject.hasFlashPlayerVersion("10.3.0"))return $("#template_"+e+"_swf_placeholder").html('<p class="flash_missing_msg">JibJab Sendables<sup>&reg;</sup><br/>eCards<span class="latest_fp">require the latest<br/>Adobe Flash Player.</span><a class="button"  href="http://www.adobe.com/go/getflash/" target="_blank">Get Flash here</a></p>'),void 0;void 0===o?o=!1:1!=o&&(o=!1),void 0===r&&(r="window"),void 0===a&&(a=!1);var c={templateID:e,categoryID:s,service:i,partnerID:t,autoplay:o,delayLoggingUntilPlay:a,cornerRadius:10,context:"teaser"};"undefined"!=typeof l&&$.extend(c,l);var u={wmode:r,scaleMode:"showAll",quality:"high",allowNetworking:"all",allowFullScreen:"true",allowScriptAccess:"always",bgcolor:"#000000"},d={id:"A128199_"+e},h={width:"567",height:"319"};swfobject.embedSWF(n+"/client/zero/ClientZero_EmbedViewer.swf","template_"+e+"_swf_placeholder",h.width,h.height,"10.3.0",!1,c,u,d)},remove_and_repopulate_swf:function(e,t,n,s,o,r){swfobject.removeSWF("A128199_"+e);var a=document.getElementById("template_"+e+"_preview_container");for(children=a.childNodes,i=0;children.length>i;i++)a.removeChild(children[i]);var l=document.createElement("div");l.id="template_"+e+"_swf_placeholder",a.appendChild(l),this.embed_template_swf(e,t,n,s,o,r)},log_teaser_view:function(e,t,i,n){$.post("/stats/teaser_view",{template_id:e,category_id:t,browse_method:i,premium:n})},categorize_action_link:function(e,t){if(null!=e&&null!=t){var i=document.getElementById("tpl_"+e+"_member_specific_action_link");if(null!=i){var n=document.getElementById("tpl_"+e+"_member_login_link");i.href.match("category_id")||(i.href=-1==i.href.indexOf("?")?i.href+"?category_id="+t:i.href+"&category_id="+t),null!=n&&(n.href.match("category_id")||(n.href=n.href.replace("#already_registered","?category_id="+t+"#already_registered")))}}}},loadingSearchResults=!1;$(document).on("click",".show_more_link",function(){if(!loadingSearchResults){loadingSearchResults=!0,$(".show_more_link").html("<strong>&hellip;loading&hellip;</strong>"),$("body").trigger("CategoryModals.ajaxStart");var e=cur_elem_selector;$.ajax({url:template_feed_url,dataType:"html",success:function(t){loadingSearchResults=!1;var i=e;$(".show_more_link").remove(),$(".promo_templates").css({"background-image":"none"}),$("#promo_template_feed").append(t);var n=$("html").hasClass("ie")&&($("html").hasClass("ie6")||$("html").hasClass("ie7"));if(n?$(i).fadeIn(1e3):$(i).slideDown(1e3),0==$("#preview_modal").is(":visible")&&$(i).offset()){var s=$(i).offset().top;$("html,body").animate({scrollTop:s},500)}$("body").trigger("CategoryModals.ajaxDone"),ModalHelper.updateModalMetadata(),$("body").trigger("category.paginationcomplete")}})}return!1}),$(document).ready(function(){$("body").hasClass("responsive")||($(".seeall").mouseover(function(){$(".seeall").addClass("expanded"),$(".dropdown_4columns").css("left","-315px"),$(".dropdown_4columns").css("top","53px")}),$(".dropdown_4columns").mouseover(function(){$(".seeall").addClass("expanded"),$(".dropdown_4columns").css("left","-315px")}),$(".dropdown_4columns").mouseout(function(){$(".seeall").removeClass("expanded"),$(".dropdown_4columns").css("left","-999em")}),$(".see_all .expanded").mouseout(function(){$(".seeall").removeClass("expanded"),$(".dropdown_4columns").css("left","-999em")}),$(".seeall").mouseout(function(){$(".dropdown_4columns").css("left","-999em")}))}),$(document).ready(function(){$("html").hasClass("ie")&&$("html").hasClass("ie9")&&$("#ie7_detect").css("height","0px")});var ModalHelper={_authenticatedDest:null,showLoginModal:function(){JJModal.showLoginModal()},gotoAuthenticatedDest:function(){ModalHelper._authenticatedDest?window.location=ModalHelper._authenticatedDest:window.location.reload(!0)},loginSubmit:function(e){return data=FormHelper.encodeFields($(e)),handler=function(e){e.success&&(JJFB.show_merge?ModalHelper.showModal("merge_success"):null!=ModalHelper._authenticatedDest?window.location=ModalHelper._authenticatedDest:window.location.reload(!0))},FormHelper.post("/user/login.json",data,e,handler),!1},registerSubmit:function(e,t){return data=FormHelper.encodeFields($(e)),handler=function(i){btn=$(e).find("input:image")[0],btn.style.opacity=null,btn.disabled=!1,$(btn).css({filter:"alpha(opacity = 100)"}),elem=$(e).find("span.global_errors")[0],!elem||null!=i.global_errors&&0!=i.global_errors.length||($(elem).text("Correct errors in the fields marked in red"),$(elem).parent().show()),i.success&&(t||$("#reg_dialog").jqmHide(),$("#reg_success_dialog").jqm({trigger:"jqModal_reg_success"}).jqmShow(),i.already_logged_in?null!=ModalHelper._authenticatedDest?window.location=ModalHelper._authenticatedDest:window.location.reload(!0):(email_elem=$("#reg_success_dialog").find(".account")[0],$(email_elem).text(i.email)))},FormHelper.post("/user/register.json",data,e,handler),!1},hideModal:function(e){ContentViewPageSupport.playMovie();var t=$("#"+e);$(t).find(".error").removeClass("error"),$(t).find(".warnings").hide(),t.jqmHide()}};ModalHelper.showLoginFormModal=function(e){JJModal.showLoginModal(e)},ModalHelper.showRegisterModal=function(e){JJModal.showSignupModal(e)},ModalHelper.showModal=function(e,t){t||(t={});var i=e;t.ga&&(i=t.ga),ContentViewPageSupport.pauseMovie();var n=$(".modal_form");$(".ui-dialog-content").dialog("close"),$(n).find("form").each(function(){this.reset(),$(this).find(".error").removeClass("error"),$(this).find(".warnings").hide()}),$("#"+e),JJ.openDialog({selector:"#"+e,ga:i,config:{modal:!0,position:["center",50]}})},ModalHelper.preview_modals={},ModalHelper.modal_lookup=[],ModalHelper.cachedTeasers={},ModalHelper.currentVolume=.5,ModalHelper.teaserTemplate=null;var current_preview_idx=-1,templates_loading=!1;ModalHelper.updateModalMetadata=function(){ModalHelper.preview_modals={},ModalHelper.modal_lookup=[];var e=$(".cthumbs .cthumb");e.each(function(e,t){var i=$(t),n=i.attr("data-templateid");ModalHelper.modal_lookup.push(n),ModalHelper.preview_modals[n]={name:i.attr("data-modal-name"),tpl_type:i.attr("data-tpl_type"),tpl_type_str:i.attr("data-tpl_type_str"),views:i.attr("data-views"),tpl_preview_asset_url:i.attr("data-tpl_preview_asset_url"),premium:i.attr("data-premium"),make_url:i.attr("data-make_url")}})},$().ready(function(){$("#preview_modal_next_link").bind("click",function(){return unload_current_swf(),show_next_template_preview(),!1}),$("#preview_modal_prev_link").bind("click",function(){return unload_current_swf(),show_prev_template_preview(),!1})});var embedTeaserAsset=function(e){if(e.asset){var t=e.type;switch(t){case"video":if($("#teaser-video").length)try{_V_("teaser-video").destroy(),$("#teaser-video").remove()}catch(i){log(i)}_V_.options.flash.iFrameMode=!0,$('<video id="teaser-video" class="video-js vjs-default-skin" controls poster="" preload="auto" autoplay="autoplay" width="567" height="319" data-setup="{}"> <source src="'+e.asset+'" type="video/mp4" /></video>').appendTo(".preview_modal_video_div"),_V_("teaser-video",{},function(){this.play(),this.volume(ModalHelper.currentVolume),this.addEvent("volumechange",function(){ModalHelper.currentVolume=this.volume()})})}}};$("body").bind("CategoryModals.ajaxStart",function(){templates_loading=!0,$("#preview_modal_next_link").addClass("loading")}),$("body").on("CategoryModals.ajaxDone",function(){templates_loading=!1,$("#preview_modal_next_link").removeClass("loading"),alert("hi"),ModalHelper.updateModalMetadata()}),$().ready(function(){FormHelper.populateSelectOptionsNumbers($(".modal select#modal_profile_dob_1i"),1900,(new Date).getFullYear(),!0),FormHelper.populateSelectOptionsNumbers($(".modal select#modal_profile_dob_3i"),1,31,!0);var e=function(){if(ModalHelper.teaserTemplate=null,JJ&&JJ.currentTeaserTemplateId&&(JJ.currentTeaserTemplateId=null),$("#teaser-video").length)try{_V_("teaser-video").destroy(),$("#teaser-video").remove()}catch(e){log(e)}$("#preview_modal").find("object").remove(),$(".modal fieldset.text input").each(function(){$(this).val(""),$(this).trigger("blur")}),$(".ui-dialog-content").dialog("close")};$("#lnkLogin").click(function(){return ModalHelper.showLoginModal(),!1}),$(".modal .log_in_link").click(function(){return e(),ModalHelper.showModal("login_form"),!1}),$(".x_circle").click(function(){return e(),!1}),$("#preview_modal_close_button").click(function(){if($("#preview_modal").dialog("close"),ModalHelper.teaserTemplate=null,$("#teaser-video").length)try{_V_("teaser-video").destroy(),$("#teaser-video").remove()}catch(e){log(e)}return $("#preview_modal").find("object").remove(),!1}),$(".modal .create_account_link").click(function(){return e(),ModalHelper.showRegisterModal($(this).attr("id")),!1}),$(".email_nl_right .reg a").click(function(){return ModalHelper.showRegisterModal($(this).attr("id")),!1}),$(".email_nl_right .login").click(function(){return ModalHelper.showLoginFormModal($(this).attr("id")),!1}),$(".fb_signin a").click(function(){return e(),JJFB.login_with_perms(JJFB.perms.default_required,"Unknown Login Source",ModalHelper.gotoAuthenticatedDest),!1}),$(document).on("click",".closeAllModals",function(){e()}),$("#bad_recipients_modal .b_return a").click(function(){$("#bad_recipients_modal").dialog("close")}),$(".merge_success_close").click(function(){return e(),ModalHelper.gotoAuthenticatedDest(),!1}),$("#merge_fb_email_close").click(function(){return e(),ModalHelper.gotoAuthenticatedDest(),window.location.reload(!0),!1}),$(document).on("click",".preview",function(){var e=$(this).attr("id").split("_"),t=e[1];return show_preview_modal(t),!1}),$("body").click(function(t){$(t.target).hasClass("ui-widget-overlay")&&!$(t.target).hasClass("doNotClose")&&e()}),$("#learn_more").click(function(){JJ.openDialog({selector:"#what_is_jj",ga:"learn_more",config:{position:["center",50],modal:!0}})}),$(".have_a_promo_code").click(function(){JJ.openDialog({selector:"#modal_promo_code_entry",ga:"have_a_promo_code",config:{position:["center",50],modal:!0}})})}),$(document).ready(function(){JJ.closeDialog=function(e){$(e).dialog("close"),$(e).find("object").remove()},JJ.openDialog=function(e){var t=e.selector,i=e.ga,n=e.config||{modal:!0},s=$(t).attr("data-width"),o=$(t).attr("data-height");if(s&&o){var r=($(window).width()-s)/2,a=($(window).height()-o)/2;n.width=s,n.height=o,n.position=[r,a]}$(t).dialog(n),Analytics&&i&&Analytics.trackEvent("User Prompt","Modal Shown",i)},ModalHelper.updateModalMetadata()});var JJDropdown={modal:$("ul#dropdown-modal"),rect:{x1:0,y1:0,x2:0,y2:0},init:function(){var e=this.modal;e.is("*")||(this.modal=$("<ul id='dropdown-modal'>"),this.modal.appendTo("body")),$(document).on("mouseenter click","[data-component='jj-dropdown']",$.proxy(this.populateDropdown,this))},showDropdown:function(e){var t=this.modal,i=$(e),n=i.offset(),s=n.top+i.outerHeight(!0),o=t.outerWidth(!0),r=n.left+i.width()/2-o/2;t.css({top:s,left:r}).fadeIn("200"),this.rect={x1:r,y1:n.top,x2:r+t.outerWidth(!0),y2:s+t.outerHeight(!0)},$(document).on("click","[data-component='jj-dropdown']",$.proxy(this.hideDropdown,this)),$(document).on("mousemove",$.proxy(this.hideDropdown,this))},hideDropdown:function(e){var t=this.modal,i=this.rect;i.x1<=e.pageX&&e.pageX<=i.x2&&i.y1<=e.pageY&&e.pageY<=i.y2||(t.fadeOut("200"),$(document).off("click","[data-component='jj-dropdown']",$.proxy(this.hideDropdown,this)),$(document).off("mousemove",$.proxy(this.hideDropdown,this)))},populateDropdown:function(e){e.preventDefault();var t=this.modal,i=$(e.target),n=i.data("elements");t.empty(),$.each(n,function(e,i){t.append("<li><a href='"+i+"'>"+e+"</a></li>")}),this.showDropdown(i)}};$(function(){JJDropdown.init()});var JJModal={$window:$(window),$document:$(document),previousModals:[],activeModal:null,modal:$("div#jj-modal"),backdrop:$("div#jj-backdrop"),init:function(){var e=this.modal,t=this.backdrop,i=$("div#wrap > footer");e.is("*")||(e=$("<div id='jj-modal'>"),i.append(e),this.modal=e),t.is("*")||(t=$("<div id='jj-backdrop'>"),i.append(t),this.backdrop=t)},showModal:function(e,t,i){var n=this.activeModal,s=this.modal,o=this.backdrop,r=$(e),t=t||{},a=void 0===t.replace?!1:t.replace,l=void 0===t.animate?!0:t.animate;r.is("*")?s=r.addClass("JJ-MODAL"):s.html(r);var c=function(){};if(jQuery.isFunction(i)&&(c=i),!s||void 0===s)return c(),void 0;var u=-(s.outerWidth()/2),d=Math.max(this.$window.scrollTop(),15);if(BrowserDetect.test().isIE(8)?d=Math.max(this.$window.scrollTop()-70,15):BrowserDetect.test().isMobileBrowser()&&(d=Math.max(($(window).height()-s.outerHeight())/4+d,5)),void 0!==t.bottom){var h=$(window).height()-s.outerHeight()-t.bottom;0>h&&(h=d),s.css({left:u,top:h})}else s.css({left:u,top:d});n&&(a||this.previousModals.push(n),n.hide()),o.on("click",$.proxy(this.hideModal,this)),this.$document.on("click","[data-action='modal-close']",$.proxy(this.hideModal,this)),this.$document.on("keydown",$.proxy(this.handleKeyPress,this)),this.$window.on("resize",$.proxy(this.centerModal,this)),this.activeModal=s,l?s.fadeIn("fast",function(){c(),o.fadeIn("fast")}):(s.show(0),o.show(0),c())},hideModal:function(e){var t=this.activeModal,i=this.previousModals.pop(),n=this.backdrop;i?(t.hide(),i.fadeIn("fast")):(t.fadeOut("fast",function(){n.fadeOut("fast")}),n.off("click",$.proxy(this.hideModal,this)),this.$document.off("click","[data-action='modal-close']",$.proxy(this.hideModal,this)),this.$document.off("keydown",$.proxy(this.handleKeyPress,this)),this.$window.off("resize",$.proxy(this.centerModal,this))),this.activeModal=i,this.$window.trigger("modal.close",[t]),e.preventDefault()},hideAllModals:function(e){for(var t=null;t=this.previousModals.pop();)t.hide();this.hideModal(e)},centerModal:function(){var e=this.activeModal;e.css({left:-(e.outerWidth()/2)})},handleKeyPress:function(e){27==e.keyCode&&JJModal.hideAllModals(e)}};$(function(){JJModal.init()});var makesCounter={options:{},makeStripWrap:function(e,i){for(counterStripWrap=document.createElement("div"),counterStripWrap.id="strip-wrap-pow"+e,counterStripWrap.className="strip-wrap",counterStrip=document.createElement("div"),counterStrip.id="strip-pow"+e,$(counterStrip).addClass("strip").addClass("pos"+i),j=0;positions.length>j;j++)position=document.createElement("div"),t=document.createTextNode(""+positions[j]),position.appendChild(t),position.className="digit",counterStrip.appendChild(position);return counterStripWrap.appendChild(counterStrip),counterStripWrap},advanceCounter:function(e){makesCounter.setCounter(e)},configure:function(e,t){for(options=t,positions=[0,1,2,3,4,5,6,7,8,9,0,1,2,3,4,5,6,7,8],$(this).attr("id"),counterStrips=document.createElement("div"),counterStrips.id="strips",digits=(""+options.startVal).split("").reverse(),i=digits.length-1;i>=0;i--)value=digits[i],counterStripWrap=makesCounter.makeStripWrap(i,value),counterStrips.appendChild(counterStripWrap);$(e).append(counterStrips),$(e).attr("data-value",options.startVal)},startCounter:function(e){counterTimer=setInterval(function(){makesCounter.advanceCounter(e)},options.incrementEvery,e)},setCounter:function(e){for($selector=$(e),currentVal=$selector.attr("data-value"),incr=options.incrementBy,value=parseInt(currentVal)+parseInt(incr),currentArray=(""+currentVal).split("").reverse(),valuesArray=(""+value).split("").reverse(),pow=0;valuesArray.length>pow;pow++)this.slideDigit(pow,parseInt(valuesArray[pow])||0,parseInt(currentArray[pow]),$selector);$(e).attr("data-value",value)},slideDigit:function(e,t,i,n){$strip=n.find("#strip-pow"+e),0==$strip.length&&$(n.find("#strips")).prepend(makesCounter.makeStripWrap(e,t)),elemHeight=$(n.find(".digit")[0]).height(),offset=(t-i+10)%10,margin=elemHeight*offset,$strip.animate({marginTop:"-="+margin},this.options.animationTime,function(){$(this).removeClass().addClass("strip").addClass("pos"+t).css("margin-top","")})},setDigit:function setDigit(e,t,i){$strip=i.find("#strip-pow"+e),$strip.removeClass().addClass("strip").addClass("pos"+t)}};$(document).ready(function(){$("a.kill").click(function(e){e.preventDefault()}),$("footer #footer .footer_links h4").click(function(){980>$(window).width()&&($this=$(this),$this.toggleClass("expanded"),$this.hasClass("expanded")?$("footer #footer .footer_links ul").slideDown():$("footer #footer .footer_links ul").slideUp())})}),$(function(){var e=$("#site-header .account-links"),t="label[for=nav-toggle]",i=function(){return e.hasClass("expanded")||(e.hasClass("contracted")||e.css("display","block"),e.slideDown({complete:function(){$(this).addClass("expanded"),$(this).removeClass("contracted")}})),!0};$("#site-header .site-menu "+t).on("click",function(){return e.hasClass("expanded")?e.slideUp({complete:function(){$(this).removeClass("expanded"),$(this).addClass("contracted"),$(this).css("display","none")}}):i(),!1}),$("#wrap #user-nav "+t).on("click",i),$("#site-header #user-nav .JIBJAB-LOGIN").click(function(){var e=$("input#nav-toggle:checked");e.length>0&&e.click()})}),JJFB.ACShare={share_box:null,placeholder:null,container:null,init:function(e,t,i){JJFB.ACShare.share_box=e,JJFB.ACShare.placeholder=t,JJFB.ACShare.container=i,JJFB.ACShare.get_all_friends_for_autocomplete(),JJFB.ACShare.poll_friends_box()},poll_friends_box:function(){var e=JJFB.ACShare.friends_box_value_changed();1==e&&JJFB.ACShare.update_friends_box_with_narrowed_results(),setTimeout("JJFB.ACShare.poll_friends_box()",2e3)},update_friends_box_with_narrowed_results:function(){var friend_name_substring=$("#search_friends_input_box").val(),filtered_friends=new Array;if(all_friends=JJFB.upcoming_birthdays,void 0!=all_friends&&null!=all_friends)for(var i=0;all_friends.length>i;i++){if(""==friend_name_substring){filtered_friends=all_friends;break}eval("var fb_re = /"+friend_name_substring+"/gi;"),all_friends[i].name.match(fb_re)&&filtered_friends.push(all_friends[i])}content=JJFB.ACShare.placeholder.html(),JJFB.show_throbber(JJFB.ACShare.container),$(".see_all").hide(),JJFB.ACShare.container.html('<div id="'+JJFB.ACShare.placeholder[0].id+'" style="display:none;">'+content+"</div>"),JJFB.ACShare.container.animate({height:"500px"},1500),JJFB.ACShare.container.css({height:"500px"}),divs=JJFB.ACShare.container.children("div"),JJFB.render_users(filtered_friends,JJFB.ACShare.placeholder,JJFB.ACShare.container)},_last_friends_box_value:null,friends_box_value_changed:function(){var e=$("#search_friends_input_box").val();return null!=this.last_friends_box_value?this.last_friends_box_value!=e?(this.last_friends_box_value=e,!0):!1:""==e?!1:""!=e?(this.last_friends_box_value=e,!0):void 0
},get_all_friends_for_autocomplete:function(){JJFB.get_all_friends(function(){log("got all friends; upcoming birthdays length = "+JJFB.upcoming_birthdays.length),all_friends=JJFB.upcoming_birthdays,JJFB.ACShare.share_box.autocomplete(all_friends,{formatItem:function(e){return e.name},matchCase:!1,matchContains:!0,matchSubset:!0}).result(function(){JJFB.ACShare.update_friends_box_with_narrowed_results()})})}};var download_prefix="download",store_prefix="mkt_store",sub_prefix="mkt_subscription",images_dir="files";(function(e){e.fn.JJNewsletterPlugin=function(){return this.each(function(){var t=e(this),i=t.find('input[type="email"]'),n=t.find('input[type="submit"]'),s=function(e){var t=/\S+@\S+\.\S+/;return t.test(e)},o=function(){n.is(":disabled")||(r(),l(),LeadSpend.validate(i.val(),4,function(n){switch(n.result){case"unknown":case"verified":e.ajax({url:t.attr("action"),type:"POST",dataType:"script",data:t.serialize(),complete:function(){c()}});break;default:i.addClass("invalid-email"),c(),a()}}))},r=function(){e(".newsletter-signup form input[type=submit]").attr("disabled","disabled")},a=function(){e(".newsletter-signup form input[type=submit]").removeAttr("disabled")},l=function(){t.find(".spinner").fadeIn("fast")},c=function(){t.find(".spinner").fadeOut("fast")};t.submit(function(e){return e.preventDefault(),s(i.val())?(i.removeClass("invalid-email"),o(),void 0):(i.addClass("invalid-email"),void 0)}),i.focus(function(){e(this).attr("placeholder-temp",e(this).attr("placeholder")),e(this).attr("placeholder","")}).blur(function(){e(this).attr("placeholder",e(this).attr("placeholder-temp"))})})},e(document).ready(function(){e(".newsletter-signup form").JJNewsletterPlugin()})})(window.jQuery);var ecardFinderMap={seasons_greetings:{url:"/category/seasons_greetings",cats:{christmas:{name:"Christmas",url:"/category/christmas"},hanukkah:{name:"Hanukkah",url:"/category/hanukkah"},new_year:{name:"New Year",url:"/category/new_year"}}},birthdays:{url:"/category/birthdays",cats:{for_him:{name:"For Him",url:"/category/for_him"},for_her:{name:"For Her",url:"/category/for_her"},belated:{name:"Belated",url:"/category/belated"},over_the_hill:{name:"Over The Hill",url:"/category/over_the_hill"},funny:{name:"Funny",url:"/category/funny"}}},special_occasions:{url:"/category/special_occasions",cats:{anniversary:{name:"Anniversary",url:"/category/anniversary"},baby:{name:"Baby",url:"/category/baby"},wedding:{name:"Wedding",url:"/category/wedding"},engagement:{name:"Engagement",url:"/category/engagement"}}},love_kisses:{url:"/category/love_kisses",cats:{flirts:{name:"Flirts",url:"/category/flirts"},Sincere:{name:"Sincere",url:"/category/sincere"},sexy:{name:"Sexy",url:"/category/sexy"}}},holidays:{url:"/category/holidays",cats:{christmas:{name:"Christmas",url:"/category/christmas"},new_year:{name:"New Year",url:"/category/new_year"},valentines_day:{name:"Valentine's Day",url:"/category/valentines_day"},thanksgiving:{name:"Thanksgiving",url:"/category/thanksgiving"}}},just_to_say:{url:"/category/just_to_say",cats:{get_well:{name:"Get Well",url:"/category/get_well"},thanks:{name:"Thanks",url:"/category/thanks"},congrats:{name:"Congrats",url:"/category/congrats"},missing_you:{name:"Missing You",url:"/category/missing_you"},cheer_up:{name:"Cheer Up",url:"/category/cheer_up"}}}};$(document).ready(function(){$("#occasion").attr("selectedIndex")>0&&buildNarrowSelect($("#occasion").attr("options")[$("#occasion").attr("selectedIndex")].value),$("#occasion").change(function(){buildNarrowSelect(this[this.selectedIndex].value)}),$("#get_started").click(function(){var e=$("#occasion"),t=$("#narrow");if(e.attr("selectedIndex")>0){var i=e.attr("options")[e.attr("selectedIndex")].value,n=ecardFinderMap[i].url;if(t.attr("selectedIndex")>0){var s=t.attr("options")[t.attr("selectedIndex")].value;n=ecardFinderMap[i].cats[s].url}window.location=n}else alert("You must first select an occasion to use the eCard Finder")})}),function(e){var t=function(t,i){this.$container=e(t),this.pauseRemoteFetch=!1,this.previewThumbSelector=i.thumbSelector,this.nextSelector=i.nextSelector,this.prevSelector=i.prevSelector,this.$carousel=e(i.carouselSelector),this.cachedTemplates=e(t).data("templateHash"),this.orderedTemplates=i.orderedTemplates,this.currentPosition=0,this.init()};t.prototype={init:function(){this.$container.on("click",this.previewThumbSelector,e.proxy(this.handleThumbClick,this)),this.$carousel.on("click",this.nextSelector,e.proxy(this.getNextTemplate,this)),this.$carousel.on("click",this.prevSelector,e.proxy(this.getPreviousTemplate,this)),this.$backdrop=e('<div id="backdrop"></div>').appendTo("body"),e(this).on("update.current.modal",e.proxy(this.updateModal,this)),this.$backdrop.click(e.proxy(this.hideModal,this)),this.$carousel.on("click","#close-btn",e.proxy(this.hideModal,this))},hideModal:function(e){e.preventDefault(),this.resetModal(),this.$carousel.fadeOut(),this.$backdrop.fadeOut()},showModal:function(){this.$carousel.fadeIn(),this.$backdrop.fadeIn()},updateModal:function(t,i){e("#template-title").text(i.name),e("#template-casting-type").html(i.type_text),e("#view-count").text(i.views+"Views"),e("#template-personalize-button").attr("href",i.make_url),i.premium?e("#template-content-exclusive").addClass("exclusive"):e("#template-content-exclusive").removeClass("exclusive"),0==this.currentPosition&&this.currentPosition==this.orderedTemplates.length-1?(e(this.prevSelector).hide(),e(this.nextSelector).hide()):0==this.currentPosition?(e(this.prevSelector).hide(),e(this.nextSelector).show()):this.currentPosition==this.orderedTemplates.length-1?(e(this.prevSelector).show(),e(this.nextSelector).hide()):(e(this.prevSelector).show(),e(this.nextSelector).show()),this.resetModal(),e('<div id="template_'+this.currentTemplateId+'_swf_placeholder"></div>').appendTo("#template-video-container"),this.embedSwf()},resetModal:function(){e("#template-video-container").children().each(function(){e(this).remove()})},embedSwf:function(){var e=this.currentTemplateId,t=this.cachedTemplates[e];CategoryPageSupport.embed_template_swf(""+e,SiteConfig.channel_short_name,SiteConfig.http_base.replace("http://",""),SiteConfig.asset_base,t.category,!0,"transparent")},getNextTemplate:function(t){t.preventDefault(),this.currentPosition+=this.currentPosition==this.orderedTemplates.length-1?0:1;var i=this.orderedTemplates[this.currentPosition];this.setCurrentTemplateId(i),e(this).trigger("update.current.modal",[this.cachedTemplates[i]])},getPreviousTemplate:function(t){t.preventDefault(),this.currentPosition-=0==this.currentPosition?0:1;var i=this.orderedTemplates[this.currentPosition];this.setCurrentTemplateId(i),e(this).trigger("update.current.modal",[this.cachedTemplates[i]])},setCurrentTemplateId:function(e){this.currentTemplateId=e},handleThumbClick:function(t){t.preventDefault();var i=e(t.currentTarget),n=i.data("templateId");this.setCurrentTemplateId(n),this.currentPosition=e(this.previewThumbSelector).index(i),e(this).trigger("update.current.modal",[this.cachedTemplates[n]]),this.showModal()}},e.fn.activitySheetsPreview=function(i){return this.each(function(){var n=e(this),s=e.extend({},i),o=".thumbnail-holder",r="#template-preview-carousel";new t(this,{thumbSelector:o,carouselSelector:r,nextSelector:s.nextSelector,prevSelector:s.prevSelector,orderedTemplates:n.data("orderedTemplates")})})},e('[data-component="preview"]').activitySheetsPreview({nextSelector:"#next-template",prevSelector:"#previous-template"})}(window.jQuery);var Search={keywordRedirections:{},pageSize:6,maxPages:10,onComplete:function(e){log("======= SEARCH RESULTS ======"),log(e),$(".searchResults #search-error").remove(),results=e.response.docs,log("Results: "+results.length);var t=$(".searchResults .facets");t.empty(),e.facet_counts&&$.each(e.facet_counts.facet_fields,function(e,i){"premium"==e?$.each(i,function(i,n){"true"==i?(link=$('<a href="#">Premium ('+n+")</a>").click(function(){return $("#search-facets-premium-input").val(e+":"+i),Search.submit(),!1}),t.append(link)):(link=$('<a href="#">Free ('+n+")</a>").click(function(){return $("#search-facets-premium-input").val(e+":"+i),Search.submit(),!1}),t.append(link))}):"category"==e&&(t.append($("<h3>Categories</h3>")),$.each(i,function(i,n){0!=n&&(link=$('<a href="#">'+i+" ("+n+")</a>").click(function(){return $("#search-facets-category-input").val(e+":"+i),Search.submit(),!1}),t.append(link))}))});var i=$(".searchResults .items");i.empty(),$(".searchPaginator").remove(),e.response.start/Search.pageSize+1,$.each(results,function(e,t){var n=$('<div class="item"></div>'),s='<a href="'+t.template_url+'">',o="/images/search/search_gen_logo.jpg";if(t.thumbnail_src&&(o=t.thumbnail_src),s+='<img class="sr_th thumb_link" src="'+o+'"/></a>',s=$(s),"free"==t.access){var r=$('<div class="free">FREE</div>');n.append(r)}n.append(s);var a=$('<div class="sinfo"></div>'),l=$("<a></a>");l.attr({href:t.template_url}),l.html(t.name),a.append(l);var c=$('<div class="stype"></div>');if("video"==t.media_type?c.html("Video"):c.html("Image"),a.append(c),$.cookie("search_debug")&&t.score){var u=$('<div class="score"></div>');c.html(t.score),a.append(u)}if(t.teaser_view_count){var d=$('<span class="sviews"></span>').html(formatNumberWithCommas(t.teaser_view_count)+" views");a.append(d)}n.append(a),i.append(n)}),$(".searchResults .query strong").html($("#search-input").val().replace(/[^a-zA-Z0-9]+/g," ")),0==results.length&&$(".searchResults .items").append($("<h2>Sorry, your search returned no results.</h2>")),$(".searchResults").fadeIn(),Search.generatePagination(e.response),document.searching=!1,$("#sclose").removeClass("loading")},onBirthdayComplete:function(e){JJ.birthdaySearch.handle(e)},submit:function(e){if(e||(e=0),1!=document.searching){var t=$("#search-input").val(),i=Search.keywordRedirections[t];return Analytics.trackSearch(t,"SITE-SEARCH"),document.searching=!0,$("#sclose").addClass("loading"),i?(trackSearchTerm(t),document.location=i,!1):($.ajax({dataType:"jsonp",jsonp:"json.wrf",url:$("input[name=search_server]").val()+"/select",data:{q:t,fl:"id,template_type_id,description,template_url,thumbnail_src,name,media_type,teaser_view_count,score,template_personalize_url,short_name,meta_description,tags,category,channel,access",qf:"meta_description tags^1 name^100 access^10 name_fuzzy^10 name_phonetic^1 category^10 channel^10 description",sort:"score desc, teaser_view_count desc","q.op":"OR",mm:0,wt:"json",defType:"edismax",rows:6,tie:"0.0",start:e*Search.pageSize},success:Search.onComplete,error:function(){document.searching=!1,$("#sclose").removeClass("loading"),$(".searchResults #search-error").remove(),$(".searchResults").prepend("<h2 id='search-error'>There was an error loading search results. Please try again later.</h2>"),$(".searchResults").fadeIn()}}),trackSearchTerm(t),!1)}},generatePagination:function(e){var t=parseInt(e.numFound/Search.pageSize);if(e.numFound%Search.pageSize>0&&t++,t>Search.maxPages&&(t=Search.maxPages),1!=t){var i=e.start/Search.pageSize,n=document.createElement("div");$(n).addClass("searchPaginator");var s=document.createElement("div");$(s).addClass("pages");var o=document.createElement("div");$(o).addClass("pagesInner");for(var r=0;t>r;r++){var a=r;if(i==a){var l=document.createElement("span");l.innerHTML=a+1,o.appendChild(l)}else{var c=document.createElement("a");c.page=a,c.href="#",$(c).click(function(){return Search.submit(this.page),!1}),c.innerHTML=a+1,o.appendChild(c)}}$(s).append(o),$(n).append(s),$(".searchResults").append(n);var u=i+1;t>u&&(next=$('<a class="next" href="#">Next</a>'),next.click(function(){return Search.submit(u),!1}),$(n).append(next));var d=i-1;d>=0&&t>d&&(prev=$('<a class="prev" href="#">Prev</a>'),prev.click(function(){return Search.submit(d),!1}),$(n).prepend(prev));var h=30,p=t*h,f=t*h;$(".searchPaginator").css("width",p+2*h),$(".searchPaginator .pages").css("width",p),$(".searchPaginator .pagesInner").css("width",f)}},closeResults:function(){getUrlParameters().search_q||($("#search-input").val(""),$(".searchResults").hide("slow"))}};$(document).ready(function(){$("#searchForm form").submit(function(){return Search.submit(),!1}),$("#search-submit").click(function(){return Search.submit(),!1}),$("html").hasClass("ie")&&(""==$("#search-input").val()&&$("#search-input").val($("#search-input").attr("placeholder")),$("#search-input").focus(function(){$(this).val()==$(this).attr("placeholder")&&$(this).val("")}).blur(function(){(""==$(this).val()||$(this).val()==$(this).attr("placeholder"))&&$(this).val($(this).attr("placeholder"))}));var e=!1,t=!1;$(".searchResults").hover(function(){e=!0},function(){e=!1}),$("#searchForm").hover(function(){t=!0},function(){t=!1}),$("body").mouseup(function(){e||t||Search.closeResults()});var i=getUrlParameters().search_q;if(i){$("#search-input").val(i);var n=parseInt(getUrlParameters().page);n>0&&n--,Search.submit(n)}});var TemplateListing={generate_template_table_rows:function(e,t,i){i=i||!1;var n=$(t);if(null!=n){for(var s=["even_row","odd_row"],o=0,r=e.length;r>o;o++)tpl=e[o],tpl_id=tpl.id,row_elem=new Element("tr"),row_elem.className=s[o%2],this.add_table_cell_to_row("tpl_"+tpl_id+"_id_cell","template_id_cell",row_elem),1==i&&this.add_table_cell_to_row("tpl_"+tpl_id+"_add_to_category_cell","template_add_to_category_cell",row_elem),this.add_table_cell_to_row("template_"+tpl_id+"_thumbnail_container","template_thumbnail_cell thumbnail_container",row_elem,!0),this.add_table_cell_to_row("tpl_"+tpl_id+"_name_cell","template_name_cell",row_elem),this.add_table_cell_to_row("tpl_"+tpl_id+"_short_name_cell","template_short_name_cell",row_elem,!0),this.add_table_cell_to_row("tpl_"+tpl_id+"_tt_name_cell","template_type_cell",row_elem),this.add_table_cell_to_row("tpl_"+tpl_id+"_is_sy_cell","template_is_sy_cell",row_elem,!0),this.add_table_cell_to_row("tpl_"+tpl_id+"_status_cell","template_status_cell",row_elem),this.add_table_cell_to_row("tpl_"+tpl_id+"_actions_cell","template_actions_cell",row_elem),this.add_table_cell_to_row("tpl_"+tpl_id+"_is_premium_cell","template_is_premium_cell",row_elem),n.appendChild(row_elem);$("tl_loading_notifier").innerHTML="LOADING TEMPLATES INTO TABLE. Please wait."}},add_table_cell_to_row:function(e,t,i,n){n=n||!1,td_elem=new Element("td"),1==n&&(td_elem.style.display="none"),td_elem.className=t,td_elem.id=e,i.appendChild(td_elem)},generate_id_column:function(e){for(var t=0,i=e.length;i>t;t++){tpl=e[t],tpl_id=tpl.id;var n=$("tpl_"+tpl_id+"_id_cell");null!=n&&(n.innerHTML="",n.innerHTML+=tpl_id)}num_jobs_done+=1},generate_add_to_category_links:function(e){for(var t=0,i=e.length;i>t;t++){tpl=e[t],tpl_id=tpl.id;var n=$("tpl_NaN");null!=n&&(n.innerHTML="",n.innerHTML+='<a href="/admin/categories/add_template/'+tpl_id+'">Add</a>')}num_jobs_done+=1},generate_linked_names:function(e){for(var t=0,i=e.length;i>t;t++){tpl=e[t],tpl_id=tpl.id;var n=e[t].name,s=e[t].short_name,o=$("tpl_"+tpl_id+"_name_cell");null!=o&&(o.innerHTML="",o.innerHTML+='<a href="/sendables/'+tpl_id+"/"+s+'">'+n+"</a>")}num_jobs_done+=1},generate_short_name_column:function(e){for(var t=0,i=e.length;i>t;t++){tpl=e[t],tpl_id=tpl.id;var n=e[t].short_name;try{var s=$("tpl_"+tpl_id+"_short_name_cell");null!=s&&(s.innerHTML="",s.innerHTML+=n)}catch(o){}}num_jobs_done+=1},generate_template_type_column:function(e){for(var t=0,i=e.length;i>t;t++){tpl=e[t],tpl_id=tpl.id;var n=e[t].tt_name,s=$("tpl_"+tpl_id+"_tt_name_cell");null!=s&&(s.innerHTML="",s.innerHTML+=n)}num_jobs_done+=1},generate_sy_boolean_column:function(e){for(var t=0,i=e.length;i>t;t++){tpl=e[t],tpl_id=tpl.id;var n=$("tpl_"+tpl_id+"_is_sy_cell"),s=e[t].is_sy;if(null==n)return;n.innerHTML="",n.innerHTML=1==s?"Yes":"No"}num_jobs_done+=1},generate_status_options:function(e,t){t=t||"";for(var i=0,n=e.length;n>i;i++){tpl=e[i],tpl_id=tpl.id;var s=$("tpl_"+tpl_id+"_status_cell"),o=e[i].status;null!=s&&(s.innerHTML="",s.innerHTML+=this.generate_status_option(tpl_id,o,"Draft","draft",t),s.innerHTML+=this.generate_status_option(tpl_id,o,"Testing","testing",t),s.innerHTML+=this.generate_status_option(tpl_id,o,"Live","live",t),s.innerHTML+=this.generate_status_option(tpl_id,o,"Hidden","hidden",t),"deleted"!=o&&(s.innerHTML+="Deleted"))}num_jobs_done+=1},generate_action_options:function(e){for(var t=0,i=e.length;i>t;t++){tpl=e[t],tpl_id=tpl.id;var n=$("tpl_"+tpl_id+"_actions_cell");null!=n&&(n.innerHTML="",n.innerHTML+='<a href="/admin/templates/show/'+tpl_id+'">Show</a> / <a href="/admin/templates/edit/'+tpl_id+'">Edit</a> / <a href="/admin/templates/delete/'+tpl_id+'" onclick="return confirm(\'Are you sure?\');">Delete</a>')}num_jobs_done+=1},generate_status_option:function(e,t,i,n,s){return t==n?i+" ":s&&""!=s?'<a href="/admin/templates/'+n+"/"+e+"/?"+s+'">'+i+"</a>"+" ":'<a href="/admin/templates/'+n+"/"+e+'">'+i+"</a>"+" "},generate_premium_checkbox_form_tags:function(e){for(var t=0,i=e.length;i>t;t++){tpl=e[t],tpl_id=tpl.id;var n=$("tpl_"+tpl_id+"_is_premium_cell"),s=e[t].premium;null!=n&&(n.innerHTML="",n.innerHTML+="<input "+(s?'checked="checked"':"")+' id="premium_template_ids[]" name="premium_template_ids[]" type="checkbox" value="'+tpl_id+'" />',n.innerHTML+='<input id="relevant_template_ids[]" name="relevant_template_ids[]" type="hidden" value="'+tpl_id+'" />')}num_jobs_done+=1},check_if_done:function(){8!=num_jobs_done?setTimeout("TemplateListing.check_if_done()",1):$("tl_loading_notifier").style.display="none"}},Optimizely={trackEvent:function(e){window.optimizely=window.optimizely||[],window.optimizely.push(["trackEvent",e])}},Analytics={VISITOR_LEVEL_CUSTOM_VAR:1,SESSION_LEVEL_CUSTOM_VAR:2,PAGE_LEVEL_CUSTOM_VAR:3,trackPageView:function(e){"undefined"==typeof e?(_gaq.push(["_trackPageview"]),Analytics.log("tracked default pageview")):(_gaq.push(["_trackPageview",unescape(e)]),Analytics.log("tracked pageview: "+e))},trackShare:function(e,t,i,n){page_path="/view/"+i,Analytics.trackSocial(e,t,n,page_path),Analytics.trackEvent("Share",e+" - "+t,n)},customVar:function(e,t,i,n){_gaq.push(["_setCustomVar",e,t,i,n]),Analytics.log("custom var '"+t+"' : '"+i+"'")},trackEvent:function(e,t,i,n,s){"undefined"==typeof n&&(n=0),"undefined"==typeof s&&(s=!1),_gaq.push(["_trackEvent",e,t,i,n,s]),Analytics.log("tracked event with category:"+e+", action:"+t+", label:"+i)},trackSocial:function(e,t,i,n){_gaq.push(["_trackSocial",e,t,i,n]),Analytics.log("tracked social:"+e+", action:"+t+", target:"+i+", pagePath:"+n)},trackPromo:function(e){Analytics.customVar(5,"Promo Source",e,2),Analytics.trackEvent("Promo","Click",e)},trackFBLoginSourceSuccess:function(e){Analytics.trackEvent("FB Login",e,"success"),Analytics.log("FB Login Success: "+e)},trackFBLoginSourceFailure:function(e){Analytics.trackEvent("FB Login",e,"failure"),Analytics.log("FB Login Failure: "+e)},trackSearch:function(e,t){e=$.trim(e).toLowerCase(),e=e.replace(/[^a-zA-Z 0-9\*]+/g,""),Analytics.trackEvent("Search",t,e),pageView="/search?search_q="+e+"&search_category="+t,Analytics.trackPageView(pageView),Analytics.log("tracked search: "+e)},log:function(e){"undefined"!=typeof $&&("alert"==$.cookie("debug_tracking_ga")?alert(e):$.cookie("debug_tracking_ga")&&log("\n======= Start Analytics =======\n"+e+"\n======= End Analytics =========\n\n"))},debug:function(e){"undefined"!=typeof $&&(0==e?$.cookie("debug_tracking_ga",null):$.cookie("debug_tracking_ga",e))}};if(//   Copyright (C) 2012 by Recurly, Inc.
//   The above copyright notice and this permission notice shall be included in
//   AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
function(e){"use strict";function t(e){function t(){}return t.prototype=e||this,new t}function i(e,t){return 1==e?t.substr(0,t.length-1):""+e+" "+t}function n(e,i){var n=x.locale.currencies[e]=t(x.locale.currency);for(var s in i)n[s]=i[s]}function s(t){var i=e("<select>");for(var n in t)if(t.hasOwnProperty(n)){var s=t[n];i.append("<option value="+n+">"+s+"</option>")}return i}function o(e){if(e=e||this,"string"==typeof e)return e.replace(/([a-z])([A-Z])/g,function(e,t,i){return t+"_"+i}).toLowerCase();for(var t in e)e.hasOwnProperty(t)}function r(e){return/^[0-9]+$/.test(e)}function a(t){var i=t.element,n=x.locale.errors[t.validation.errorKey],s=t.validation.validator,o=e('<div class="error">');o.text(n),o.appendTo(i.parent()),i.addClass("invalid"),i.bind("change keyup",function(e){s(i)&&(i.removeClass("invalid"),o.remove(),i.unbind(e))})}function l(e,t){var i=!1,n={field:function(e,t,n){return n=Array.prototype.slice.call(arguments,2),c(e,t,n,function(e){if(i||e.element.focus(),a(e),i=!0,x.settings.oneErrorPerForm)throw{stopPulling:!0}})}};try{e(n)}catch(s){if(!s.stopPulling)throw s}i||t()}function c(e,t,i,n){var s=e.find(t+" input");if(0==s.length&&(s=e.find(t+" select")),0==s.length)return void 0;for(var o=s.val(),r=0,a=i.length;a>r;++r){var l=i[r];if(!l.validator(s)&&(n({element:s,validation:l}),x.settings.oneErrorPerField))break}return o}function u(e,t){return{validator:e,errorKey:t||e.defaultErrorKey}}function d(e){var t=e.find(".server_errors");t.removeClass("any").addClass("none"),t.empty()}function h(t,i){var n=t.find(".server_errors");d(t);var s=i.length;if(s){n.removeClass("none").addClass("any");for(var o=0;s>o;++o){var r=e('<div class="error">');r.text(i[o]),n.append(r)}}}function p(e,t,i){(function n(t,i,s){if(t)for(var r in t)if(t.hasOwnProperty(r)&&i.hasOwnProperty(r)){var a=t[r],l=i[r],c=o(r),u=s?s+"."+c:c;if("string"==typeof l){var d=e.find(l);d.val(a).change()}else"object"==typeof l&&n(a,l,u)}})(t,i)}function f(t,i){i.collectPhone||t.find(".phone").remove(),i.collectCompany||t.find(".company_name").remove(),t.delegate(".placeholder","click",function(){e(this);var t=e(this).parent();t.find("input").focus()}),t.delegate("input","change keyup",function(){var t=e(this),i=e(this).parent();t.val().length>0?i.find(".placeholder").hide():i.find(".placeholder").show()}),t.delegate("input","focus",function(){e(this).parent().addClass("focus")}),t.delegate("input","blur",function(){e(this).parent().removeClass("focus")}),t.delegate("input","keydown",function(t){t.keyCode>=48&&90>=t.keyCode&&e(this).parent().find(".placeholder").hide()}),p(t,i,C)}function m(t,i){if(i.distinguishContactFromBillingInfo){var n=t.find(".contact_info .first_name input"),s=t.find(".contact_info .last_name input"),o=n.val(),r=s.val();t.find(".contact_info .first_name input").change(function(){var i=t.find(".billing_info .first_name input");i.val()==o&&i.val(e(this).val()).change(),o=n.val()}),t.find(".contact_info .last_name input").change(function(){var i=t.find(".billing_info .last_name input");i.val()==r&&i.val(e(this).val()).change(),r=s.val()})}else t.find(".billing_info .first_name, .billing_info .last_name").remove()}function g(t,i){function n(t,i){var n=p[t];if(i=e.trim(i.toUpperCase()),n.hasOwnProperty(i))return i;for(var s in n)if(n.hasOwnProperty(s)){var o=n[s];if(i==o.toUpperCase())return s}return!1}function o(e,t){var i=c.hasClass("select_mode");if("US"==e||"CA"==e){if(!i||f!=e){var o=c.find("input").val();if(void 0!=o&&""!=o&&(t=n(e,o),!t))return!1;c.addClass("select_mode"),c.children().detach(),h[e]=h[e]||s(p[e]),c.append(h[e]),t&&c.find("select").val(t)}}else i&&c.empty().append(d).removeClass("select_mode")}function r(e,t){var i=e.val();return t&&""!=t?i&&""!=i&&"-"!=i?!1:e.val(t).change():!1}function a(){if(y.val()==v){var t=!1;b.val()>_&&(t=!0),b.find("option").each(function(){_>=e(this).val()?e(this).attr("disabled",!0):(e(this).removeAttr("disabled"),t||(e(this).attr("selected",!0),t=!0))})}else b.find("option").removeAttr("disabled")}var l=t.find(".country select"),c=t.find(".state"),u=c.find("input"),d=c.children(),h={},p=x.states,f=l.val();if(u.bind("change keyup",function(){o(f)}),l.change(function(){var t=e(this).val();o(t),f=t}),i.enableGeoIP)e.ajax({url:x.settings.baseURL+"location",dataType:"jsonp",jsonp:"callback",success:function(e){e.country&&(r(l,e.country),o(e.country,e.state))}});else if(x.settings.country){var m=t.find(".country option[value="+x.settings.country+"]");m.length&&m.attr("selected",!0).change()}for(var g=new Date,v=g.getFullYear(),_=g.getMonth(),y=t.find(".year select"),b=t.find(".month select"),w=v;v+10>=w;++w){var k=e('<option name="'+w+'">'+w+"</option>");k.appendTo(y)}y.val(v+1),a(),y.change(a),"none"==i.addressRequirement?t.find(".address").remove():"zip"==i.addressRequirement?(t.find(".address").addClass("only_zip"),t.find(".address1, .address2, .city, .state").remove(),x.settings.VATPercent||t.find(".country").remove()):"zipstreet"==i.addressRequirement?(t.find(".address").addClass("only_zipstreet"),t.find(".city, .state").remove(),x.settings.VATPercent||t.find(".country").remove()):"full"==i.addressRequirement&&t.find(".address").addClass("full");var C=t.find(".accepted_cards");if(i.acceptedCards)for(var S=i.acceptedCards,T=S.length,w=0;T>w;++w){var E=S[w],A=e('<div class="card '+E+'">'),M=x.knownCards[E];M&&M.name&&A.text(M.name),C.append(A)}t.find(".card_number input").bind("change keyup",function(){var t=x.detectCardType(e(this).val());t?C.find(".card").each(function(){e(this).toggleClass("match",e(this).hasClass(t)),e(this).toggleClass("no_match",!e(this).hasClass(t))}):C.find(".card").removeClass("match no_match")})}function v(e,t,i,n){t.firstName=n.field(e,".contact_info .first_name",u(x.isNotEmpty)),t.lastName=n.field(e,".contact_info .last_name",u(x.isNotEmpty)),t.companyName=n.field(e,".contact_info .company_name"),t.email=n.field(e,".email",u(x.isNotEmpty),u(x.isValidEmail)),t.code=i.accountCode||i.account&&(i.account.code||i.account.accountCode)}function _(e,t,i,n){t.firstName=n.field(e,".billing_info .first_name",u(x.isNotEmpty)),t.lastName=n.field(e,".billing_info .last_name",u(x.isNotEmpty)),t.number=n.field(e,".card_number",u(x.isNotEmpty),u(x.isValidCC)),t.cvv=n.field(e,".cvv",u(x.isNotEmpty),u(x.isValidCVV)),t.month=n.field(e,".month"),t.year=n.field(e,".year"),t.phone=n.field(e,".phone"),t.address1=n.field(e,".address1",u(x.isNotEmpty)),t.address2=n.field(e,".address2"),t.city=n.field(e,".city",u(x.isNotEmpty)),t.state=n.field(e,".state",u(x.isNotEmptyState)),t.zip=n.field(e,".zip",u(x.isNotEmpty)),t.country=n.field(e,".country",u(x.isNotEmpty))}function y(e,t,i,n){var s=n.field(e,".plan .quantity",u(x.isValidQuantity));t.quantity=s||1}function b(e,t){t.field(e,".accept_tos",u(x.isChecked))}function w(e,t){if(t.termsOfServiceURL||t.privacyPolicyURL){var i=e.find(".accept_tos").html(x.dom.terms_of_service);t.termsOfServiceURL&&t.privacyPolicyURL||i.find("span.and").remove(),t.termsOfServiceURL?i.find("a.tos_link").attr("href",t.termsOfServiceURL):i.find("a.tos_link").remove(),t.privacyPolicyURL?i.find("a.pp_link").attr("href",t.privacyPolicyURL):i.find("a.pp_link").remove()}else e.find(".accept_tos").remove()}var x={};x.settings={enableGeoIP:!0,acceptedCards:["visa","mastercard","discover","american_express"],oneErrorPerField:!0},x.version="2.1.3",x.dom={},x.Error={toString:function(){return"RecurlyJS Error: "+this.message}},x.raiseError=function(e){var i=t(x.Error);throw i.message=e,i},x.config=function(t){if(e.extend(!0,x.settings,t),!t.baseURL){x.settings.baseURL="https://api.recurly.com/jsonp/";var i=x.settings.subdomain||x.raiseError("company subdomain not configured");x.settings.baseURL+=i+"/"}},(x.Cost=function(e){this._cents=e||0}).prototype={toString:function(){return x.formatCurrency(this.dollars())},cents:function(e){return void 0===e?this._cents:new x.Cost(e)},dollars:function(e){return void 0===e?this._cents/100:new x.Cost(100*e)},mult:function(e){return new x.Cost(this._cents*e)},add:function(e){return e.cents&&(e=e.cents()),new x.Cost(this._cents+e)},sub:function(e){return e.cents&&(e=e.cents()),new x.Cost(this._cents-e)}},x.Cost.FREE=new x.Cost(0),(x.TimePeriod=function(e,t){this.length=e,this.unit=t}).prototype={toString:function(){return""+i(this.length,this.unit)},toDate:function(){var e=new Date;switch(this.unit){case"month":e.setMonth(e.getMonth()+this.length);break;case"day":e.setDay(e.getDay()+this.length)}return e},clone:function(){return new x.TimePeriod(this.length,this.unit)}},(x.RecurringCost=function(e,t){this.cost=e,this.interval=t}).prototype={toString:function(){return""+this.cost+" every "+this.interval},clone:function(){return new x.TimePeriod(this.length,this.unit)}},x.RecurringCost.FREE=new x.RecurringCost(0,null),(x.RecurringCostStage=function(e,t){this.recurringCost=e,this.duration=t}).prototype={toString:function(){this.recurringCost.toString()+" for "+this.duration.toString()}},x.locale={},x.locale.errors={emptyField:"Required field",missingFullAddress:"Please enter your full address.",invalidEmail:"Invalid",invalidCC:"Invalid",invalidCVV:"Invalid",invalidCoupon:"Invalid",cardDeclined:"Transaction declined",acceptTOS:"Please accept the Terms of Service.",invalidQuantity:"Invalid quantity"},x.locale.currencies={},x.locale.currency={format:"%u%n",separator:".",delimiter:",",precision:2},n("USD",{symbol:"$"}),n("AUD",{symbol:"$"}),n("CAD",{symbol:"$"}),n("EUR",{symbol:"€"}),n("GBP",{symbol:"£"}),n("CZK",{symbol:"K"}),n("DKK",{symbol:"kr"}),n("HUF",{symbol:"Ft"}),n("JPY",{symbol:"¥"}),n("NOK",{symbol:"kr"}),n("NZD",{symbol:"$"}),n("PLN",{symbol:"z"}),n("SGD",{symbol:"$"}),n("SEK",{symbol:"kr"}),n("CHF",{symbol:"Fr"}),n("ZAR",{symbol:"R"}),x.settings.locale=x.locale,x.knownCards={visa:{prefixes:[4],name:"Visa"},mastercard:{prefixes:[51,52,53,54,55],name:"MasterCard"},american_express:{prefixes:[34,37],name:"American Express"},discover:{prefixes:[6011,62,64,65],name:"Discover"},diners_club:{prefixes:[305,36,38],name:"Diners Club"},carte_blanche:{prefixes:[300,301,302,303,304,305]},jcb:{prefixes:[35],name:"JCB"},enroute:{prefixes:[2014,2149],name:"EnRoute"},maestro:{prefixes:[5018,5020,5038,6304,6759,6761],name:"Maestro"},laser:{prefixes:[6304,6706,6771,6709],name:"Laser"}},x.detectCardType=function(e){e=e.replace(/\D/g,"");var t=x.knownCards;for(var i in t)if(t.hasOwnProperty(i))for(var n=t[i],s=0,o=n.prefixes.length;o>s;++s)if(n.prefixes.hasOwnProperty(s)){var r=n.prefixes[s];if(new RegExp("^"+r.toString()).test(e))return i}return!1},x.formatCurrency=function(e,t){function i(e){for(var t=new RegExp("(-?[0-9]+)([0-9]{3})");t.test(e);)e=e.replace(t,"$1"+s.delimiter+"$2");return e}if(0>e){e=-e;var n=!0}else var n=!1;t=t||x.settings.currency||x.raiseError("currency not configured");var s=x.locale.currency,o=x.locale.currencies[t],r=e.toFixed(o.precision);"."!=s.separator&&(r=r.replace(/\./g,s.separator)),r=i(r);var a=s.format;return a=a.replace(/%u/g,o.symbol),a=a.replace(/%n/g,r),r=a,n&&(r="-"+r),r};var k=["AT","BE","BG","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SK","SI","ES","SE","GB"];x.isCountryInEU=function(t){return-1!==e.inArray(t,k)},x.isVATNumberApplicable=function(e){return x.settings.VATPercent?(x.settings.country||x.raiseError("you must configure a country for VAT to work"),x.isCountryInEU(x.settings.country)||x.raiseError("you cannot charge VAT outside of the EU"),x.isCountryInEU(e)?!0:!1):!1},x.isVATChargeApplicable=function(e,t){if(!x.isVATNumberApplicable(e))return!1;var i=x.settings.country;return i==e||!t},x.flattenErrors=function(e,t){var i=[],t=t||"";if("string"==typeof e||"number"==typeof e||"boolean"==typeof e)return"base"==t?[e]:[""+t+" "+e];for(var n in e)if(e.hasOwnProperty(n)){t=parseInt(n).toString()==n?t:n;for(var s=x.flattenErrors(e[n],t),o=0,r=s.length;r>o;++o)i.push(s[o])}return i},x.getToken=function(e){var t=e.token||"INVALIDTOKEN";return t},x.postResult=function(t,i){var n=x.getToken(i),s=e("<form />").hide();s.attr("action",t).attr("method","POST").attr("enctype","application/x-www-form-urlencoded"),e('<input type="hidden" />').attr({name:"recurly_token",value:n}).appendTo(s),e("body").append(s),s.submit()},x.enforce=function(e){return{enforced:e,hidden:!1,hide:function(){return this.hidden=!0,this}}},x.ajax=function(t){return t.data=e.extend({js_version:x.version},t.data),e.ajax(t)},(x.isValidCC=function(e){var t=e.val();if(t=t.replace(/\D/g,""),""==t)return!1;for(var i=0,n=0,s=!1,o=t.length-1;o>=0;o--){var r=t.charAt(o),n=parseInt(r,10);s&&(n*=2)>9&&(n-=9),i+=n,s=!s}return 0==i%10}).defaultErrorKey="invalidCC",(x.isValidEmail=function(e){var t=e.val();return/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i.test(t)}).defaultErrorKey="invalidEmail",(x.isValidCVV=function(e){var t=e.val();return(3==t.length||4==t.length)&&r(t)}).defaultErrorKey="invalidCVV",(x.isNotEmpty=function(e){var t=e.val();return!e.is("select")||"-"!=t&&"--"!=t?!!t:!1}).defaultErrorKey="emptyField",(x.isNotEmptyState=function(e){var t=e.val();return!e.is("select")||"-"!=t&&"--"!=t?!0:!1}).defaultErrorKey="emptyField",(x.isChecked=function(e){return e.is(":checked")}).defaultErrorKey="acceptTOS",(x.isValidQuantity=function(e){return/^[0-9]*$/.test(e.val())}).defaultErrorKey="invalidQuantity",x.Plan={create:t,fromJSON:function(e){var t=this.create();if(t.name=e.name,t.code=e.plan_code,t.currency=e.currency,t.cost=new x.Cost(e.unit_amount_in_cents),t.displayQuantity=e.display_quantity,t.interval=new x.TimePeriod(e.plan_interval_length,e.plan_interval_unit),e.trial_interval_length&&(t.trial=new x.TimePeriod(e.trial_interval_length,e.trial_interval_unit)),e.setup_fee_in_cents&&(t.setupFee=new x.Cost(e.setup_fee_in_cents)),e.vat_percentage&&(x.settings.VATPercent=parseFloat(e.vat_percentage)),e.merchant_country&&(x.settings.country=e.merchant_country),t.addOns=[],e.add_ons)for(var i=e.add_ons.length,n=0;i>n;++n){var s=e.add_ons[n];t.addOns.push(x.AddOn.fromJSON(s))}return t},get:function(t,i,n){e.ajax({url:x.settings.baseURL+"plans/"+t+"?currency="+i,dataType:"jsonp",jsonp:"callback",timeout:1e4,success:function(e){var t=x.Plan.fromJSON(e);n(t)}})},createSubscription:function(){var e=t(x.Subscription);return e.plan=t(this),e.plan.quantity=1,e.addOns=[],e}},x.AddOn={fromJSON:function(e){var i=t(x.AddOn);return i.name=e.name,i.code=e.add_on_code,i.cost=new x.Cost(e.default_unit_amount_in_cents),i.displayQuantity=e.display_quantity,i},toJSON:function(){return{name:this.name,add_on_code:this.code,default_unit_amount_in_cents:this.default_unit_amount_in_cents}}},x.Account={create:t,toJSON:function(){return{first_name:this.firstName,last_name:this.lastName,company_name:this.companyName,account_code:this.code,email:this.email}}},x.BillingInfo={create:t,toJSON:function(){return{first_name:this.firstName,last_name:this.lastName,month:this.month,year:this.year,number:this.number,verification_value:this.cvv,address1:this.address1,address2:this.address2,city:this.city,state:this.state,zip:this.zip,country:this.country,phone:this.phone,vat_number:this.vatNumber}},save:function(t){var i={billing_info:this.toJSON(),signature:t.signature};t.distinguishContactFromBillingInfo||(i.account={account_code:t.accountCode,first_name:this.firstName,last_name:this.lastName}),x.ajax({url:x.settings.baseURL+"accounts/"+t.accountCode+"/billing_info/update",data:i,dataType:"jsonp",jsonp:"callback",timeout:6e4,success:function(e){e.success&&t.success?t.success(e.success):e.errors&&t.error&&t.error(x.flattenErrors(e.errors))},error:function(){t.error&&t.error(["Unknown error processing transaction. Please try again later."])},complete:t.complete||e.noop})}},x.Subscription={create:t,plan:x.Plan,addOns:[],calculateTotals:function(){var e={stages:{}};e.plan=this.plan.cost.mult(this.plan.quantity),e.allAddOns=new x.Cost(0),e.addOns={};for(var t=this.addOns.length,i=0;t>i;++i){var n=this.addOns[i],s=n.cost.mult(n.quantity);e.addOns[n.code]=s,e.allAddOns=e.allAddOns.add(s)}if(e.stages.recurring=e.plan.add(e.allAddOns),e.stages.now=e.plan.add(e.allAddOns),this.plan.trial&&(e.stages.now=x.Cost.FREE),this.plan.setupFee&&(e.stages.now=e.stages.now.add(this.plan.setupFee)),this.coupon){var o,r=e.stages.now;o=this.coupon.discountFixed?this.coupon.discountFixed:r.sub(this.plan.setupFee||0).mult(this.coupon.discountRatio);var a=r.sub(o);0>a.cents()&&(a=x.Cost.FREE),e.coupon=a.sub(r),e.stages.now=a}return this.billingInfo&&x.isVATChargeApplicable(this.billingInfo.country,this.billingInfo.vatNumber)&&(e.vat=e.stages.now.mult(x.settings.VATPercent/100),e.stages.now=e.stages.now.add(e.vat)),e},redeemAddOn:function(e){var t=e.createRedemption();return this.addOns.push(t),t},removeAddOn:function(e){for(var t=this.addOns,i=t.length,n=0;i>n;++n)if(t[n].code==e)return t.splice(n,1)},findAddOnByCode:function(e){for(var t=this.addOns.length,i=0;t>i;++i)if(this.addOns[i].code==e)return this.addOns[i];return!1},toJSON:function(){for(var e={plan_code:this.plan.code,quantity:this.plan.quantity,currency:this.plan.currency,coupon_code:this.coupon?this.coupon.code:void 0,add_ons:[]},t=0,i=this.addOns.length,n=e.add_ons,s=this.addOns;i>t;++t)n.push({add_on_code:s[t].code,quantity:s[t].quantity});return e},save:function(e){var t={subscription:this.toJSON(),account:this.account.toJSON(),billing_info:this.billingInfo.toJSON(),signature:e.signature};x.ajax({url:x.settings.baseURL+"subscribe",data:t,dataType:"jsonp",jsonp:"callback",timeout:6e4,success:function(t){if(t.success&&e.success)e.success(t.success);else if(t.errors&&e.error){var i=t.errors.error_code;delete t.errors.error_code,e.error(x.flattenErrors(t.errors),i)}},error:function(){e.error&&e.error(["Unknown error processing transaction. Please try again later."])},complete:e.complete})}},x.AddOn.createRedemption=function(e){var i=t(this);return i.quantity=e||1,i},x.Coupon={fromJSON:function(e){var i=t(x.Coupon);return e.discount_in_cents?i.discountFixed=new x.Cost(e.discount_in_cents):e.discount_percent&&(i.discountRatio=e.discount_percent/100),i.description=e.description,i},toJSON:function(){}},x.Subscription.getCoupon=function(e,t,i){x.settings.baseURL||x.raiseError("Company subdomain not configured");var n=void 0!==x.settings.currency?"?currency="+x.settings.currency:"";return x.ajax({url:x.settings.baseURL+"plans/"+this.plan.code+"/coupons/"+e+n,dataType:"jsonp",jsonp:"callback",timeout:1e4,success:function(n){if(n.valid){var s=x.Coupon.fromJSON(n);s.code=e,t(s)}else i()},error:function(){i()}})},x.Transaction={create:t,save:function(t){var i={account:this.account?this.account.toJSON():void 0,billing_info:this.billingInfo.toJSON(),signature:t.signature};x.ajax({url:x.settings.baseURL+"transactions/create",data:i,dataType:"jsonp",jsonp:"callback",timeout:6e4,success:function(e){e.success&&t.success?t.success(e.success):e.errors&&t.error&&t.error(x.flattenErrors(e.errors))},error:function(){t.error&&t.error(["Unknown error processing transaction. Please try again later."])},complete:t.complete||e.noop})}},x.UserError={};var C={account:{firstName:".contact_info > .full_name > .first_name > input",lastName:".contact_info > .full_name > .last_name > input",email:".contact_info > .email > input",phone:".contact_info > .phone > input",companyName:".contact_info > .company_name > input"},billingInfo:{firstName:".billing_info > .credit_card > .first_name > input",lastName:".billing_info > .credit_card > .last_name > input",address1:".billing_info > .address > .address1 > input",address2:".billing_info > .address > .address2 > input",country:".billing_info > .address > .country > select",city:".billing_info > .address > .city > input",state:".billing_info > .address > .state_zip > .state > input",zip:".billing_info > .address > .state_zip > .zip > input",vatNumber:".billing_info > .vat_number > input",cardNumber:".billing_info  .card_number > input",CVV:".billing_info  .cvv > input"},subscription:{couponCode:".subscription > .coupon > .coupon_code > input"}};x.buildBillingInfoUpdateForm=function(i){var n={addressRequirement:"full",distinguishContactFromBillingInfo:!0};i=e.extend(t(x.settings),n,i),i.accountCode||x.raiseError("accountCode missing"),i.signature||x.raiseError("signature missing");var s=x.BillingInfo.create(),o=e(x.dom.update_billing_info_form);o.find(".billing_info").html(x.dom.billing_info_fields),f(o,i),g(o,i),o.submit(function(e){e.preventDefault(),d(o),o.find(".error").remove(),o.find(".invalid").removeClass("invalid"),l(function(e){_(o,s,i,e)},function(){o.addClass("submitting"),o.find("button.submit").attr("disabled",!0).text("Please Wait"),s.save({signature:i.signature,distinguishContactFromBillingInfo:i.distinguishContactFromBillingInfo,accountCode:i.accountCode,success:function(e){if(i.successHandler&&i.successHandler(x.getToken(e)),i.successURL){var t=i.successURL;x.postResult(t,e,i)}},error:function(e){i.onError&&i.onError(e)||h(o,e)},complete:function(){o.removeClass("submitting"),o.find("button.submit").removeAttr("disabled").text("Update")}})})}),i.beforeInject&&i.beforeInject(o.get(0)),e(function(){var t=e(i.target);t.html(o),i.afterInject&&i.afterInject(o.get(0))})},x.buildTransactionForm=function(i){var n={addressRequirement:"full",distinguishContactFromBillingInfo:!0,collectContactInfo:!0};i=e.extend(t(x.settings),n,i),i.collectContactInfo||i.accountCode||x.raiseError("collectContactInfo is false, but no accountCode provided"),i.signature||x.raiseError("signature missing");var s=x.BillingInfo.create(),o=x.Account.create(),r=x.Transaction.create();r.account=o,r.billingInfo=s,r.currency=i.currency,r.cost=new x.Cost(i.amountInCents);var a=e(x.dom.one_time_transaction_form);a.find(".billing_info").html(x.dom.billing_info_fields),i.collectContactInfo?a.find(".contact_info").html(x.dom.contact_info_fields):a.find(".contact_info").remove(),f(a,i),m(a,i),g(a,i),w(a,i),a.submit(function(e){e.preventDefault(),d(a),a.find(".error").remove(),a.find(".invalid").removeClass("invalid"),l(function(e){v(a,o,i,e),_(a,s,i,e),b(a,e)},function(){a.addClass("submitting"),a.find("button.submit").attr("disabled",!0).text("Please Wait"),r.save({signature:i.signature,accountCode:i.accountCode,success:function(e){if(i.successHandler&&i.successHandler(x.getToken(e)),i.successURL){var t=i.successURL;x.postResult(t,e,i)}},error:function(e){i.onError&&i.onError(e)||h(a,e)},complete:function(){a.removeClass("submitting"),a.find("button.submit").removeAttr("disabled").text("Pay")}})})}),i.beforeInject&&i.beforeInject(a.get(0)),e(function(){var t=e(i.target);t.html(a),i.afterInject&&i.afterInject(a.get(0))})},x.buildSubscriptionForm=function(i){function n(t){function n(){var t=a.calculateTotals();o.find(".plan .recurring_cost .cost").text(""+t.plan),o.find(".due_now .cost").text(""+t.stages.now),o.find(".coupon .discount").text(""+(t.coupon||"")),o.find(".vat .cost").text(""+(t.vat||"")),o.find(".add_ons .add_on").each(function(){var i=e(this).data("add_on");if(e(this).hasClass("selected")){var n=t.addOns[i.code];e(this).find(".cost").text("+ "+n)}else e(this).find(".cost").text("+ "+i.cost)})}function s(){var e=C.find("input").val();if(e!=S){if(S=e,!e)return C.removeClass("invalid").removeClass("valid"),C.find(".description").text(""),a.coupon=void 0,n(),void 0;C.addClass("checking"),a.getCoupon(e,function(e){C.removeClass("checking"),a.coupon=e,C.removeClass("invalid").addClass("valid"),C.find(".description").text(e.description),n()},function(){a.coupon=void 0,C.removeClass("checking"),C.removeClass("valid").addClass("invalid"),C.find(".description").text(x.locale.errors.invalidCoupon),n()})}}function r(){var e=o.find(".country select").val(),t=x.isVATNumberApplicable(e);E.toggleClass("applicable",t),E.toggleClass("inapplicable",!t);var i=A.val(),n=x.isVATChargeApplicable(e,i);T.toggleClass("applicable",n),T.toggleClass("inapplicable",!n)}i.filterPlan&&(t=i.filterPlan(t)||t);var a=t.createSubscription(),c=x.Account.create(),u=x.BillingInfo.create();a.account=c,a.billingInfo=u,i.filterSubscription&&(a=i.filterSubscription(a)||a),t.displayQuantity||o.find(".plan .quantity").remove(),t.setupFee?(o.find(".subscription").addClass("with_setup_fee"),o.find(".plan .setup_fee .cost").text(""+t.setupFee)):o.find(".plan .setup_fee").remove(),t.trial?(o.find(".subscription").addClass("with_trial"),o.find(".plan .free_trial").text("First "+t.trial+" free")):o.find(".plan .free_trial").remove(),o.find(".plan .quantity input").bind("change keyup",function(){a.plan.quantity=parseInt(e(this).val(),10)||1,n()}),o.find(".plan .name").text(t.name),o.find(".plan .recurring_cost .cost").text(""+t.cost),o.find(".plan .recurring_cost .interval").text("every "+t.interval);var p=o.find(".add_ons");if(i.enableAddOns){var f=t.addOns.length;if(f){p.removeClass("none").addClass("any");for(var m=0;f>m;++m){var g=t.addOns[m],w="add_on add_on_"+g.code+(m%2?" even":" odd");0==m&&(w+=" first"),m==f-1&&(w+=" last");var k=e('<div class="'+w+'">'+'<div class="name">'+g.name+"</div>"+'<div class="field quantity">'+'<div class="placeholder">Qty</div>'+'<input type="text">'+"</div>"+'<div class="cost"/>'+"</div>");g.displayQuantity||k.find(".quantity").remove(),k.data("add_on",g),k.appendTo(p)}p.delegate(".quantity input","change keyup",function(){var t=e(this).closest(".add_on"),i=t.data("add_on"),s=parseInt(e(this).val(),10)||1;a.findAddOnByCode(i.code).quantity=s,n()}),p.bind("selectstart",function(t){e(t.target).is(".add_on")&&t.preventDefault()}),p.delegate(".add_on","click",function(t){if(!e(t.target).closest(".quantity").length){var i=!e(this).hasClass("selected");e(this).toggleClass("selected",i);var s=e(this).data("add_on");if(i){var o=a.redeemAddOn(s),r=e(this).find(".quantity input");o.quantity=parseInt(r.val(),10)||1,r.focus()}else a.removeAddOn(s.code);n()}})}}else p.remove();var C=o.find(".coupon"),S=null;i.enableCoupons?(C.find("input").bind("keyup change",function(){}),C.find("input").keypress(function(e){13==e.charCode&&(e.preventDefault(),s())}),C.find(".check").click(function(){s()}),C.find("input").blur(function(){C.find(".check").click()})):C.remove();var T=o.find(".vat"),E=o.find(".vat_number"),A=E.find("input");T.find(".title").text("VAT at "+x.settings.VATPercent+"%"),o.find(".country select").change(function(){u.country=e(this).val(),n(),r()}).change(),A.bind("keyup change",function(){u.vatNumber=e(this).val(),n(),r()}),o.submit(function(e){e.preventDefault(),d(o),o.find(".error").remove(),o.find(".invalid").removeClass("invalid"),l(function(e){y(o,a.plan,i,e),v(o,c,i,e),_(o,u,i,e),b(o,e)},function(){o.addClass("submitting"),o.find("button.submit").attr("disabled",!0).text("Please Wait"),a.save({signature:i.signature,success:function(e){if(i.successHandler&&i.successHandler(x.getToken(e)),i.successURL){var t=i.successURL;x.postResult(t,e,i)}},error:function(e){i.onError&&i.onError(e)||h(o,e)},complete:function(){o.removeClass("submitting"),o.find("button.submit").removeAttr("disabled").text("Subscribe")}})})}),n(),i.beforeInject&&i.beforeInject(o.get(0)),e(function(){var t=e(i.target);t.html(o),i.afterInject&&i.afterInject(o.get(0))})}var s={enableAddOns:!0,enableCoupons:!0,addressRequirement:"full",distinguishContactFromBillingInfo:!1};i=e.extend(t(x.settings),s,i),i.signature||x.raiseError("signature missing");var o=e(x.dom.subscribe_form);o.find(".contact_info").html(x.dom.contact_info_fields),o.find(".billing_info").html(x.dom.billing_info_fields),i.planCode?x.Plan.get(i.planCode,i.currency,n):i.plan&&n(i.plan),f(o,i),m(o,i),g(o,i),w(o,i)},x.states={},x.states.US={"-":"Select State","--":"------------",AK:"Alaska",AL:"Alabama",AP:"Armed Forces Pacific",AR:"Arkansas",AS:"American Samoa",AZ:"Arizona",CA:"California",CO:"Colorado",CT:"Connecticut",DC:"District of Columbia",DE:"Delaware",FL:"Florida",FM:"Federated States of Micronesia",GA:"Georgia",GU:"Guam",HI:"Hawaii",IA:"Iowa",ID:"Idaho",IL:"Illinois",IN:"Indiana",KS:"Kansas",KY:"Kentucky",LA:"Louisiana",MA:"Massachusetts",MD:"Maryland",ME:"Maine",MH:"Marshall Islands",MI:"Michigan",MN:"Minnesota",MO:"Missouri",MP:"Northern Mariana Islands",MS:"Mississippi",MT:"Montana",NC:"North Carolina",ND:"North Dakota",NE:"Nebraska",NH:"New Hampshire",NJ:"New Jersey",NM:"New Mexico",NV:"Nevada",NY:"New York",OH:"Ohio",OK:"Oklahoma",OR:"Oregon",PA:"Pennsylvania",PR:"Puerto Rico",PW:"Palau",RI:"Rhode Island",SC:"South Carolina",SD:"South Dakota",TN:"Tennessee",TX:"Texas",UT:"Utah",VA:"Virginia",VI:"Virgin Islands",VT:"Vermont",WA:"Washington",WV:"West Virginia",WI:"Wisconsin",WY:"Wyoming"},x.states.CA={"-":"Select State","--":"------------",AB:"Alberta",BC:"British Columbia",MB:"Manitoba",NB:"New Brunswick",NL:"Newfoundland",NS:"Nova Scotia",NU:"Nunavut",ON:"Ontario",PE:"Prince Edward Island",QC:"Quebec",SK:"Saskatchewan",NT:"Northwest Territories",YT:"Yukon Territory",AA:"Armed Forces Americas",AE:"Armed Forces Europe, Middle East, &amp; Canada"},x.dom.contact_info_fields='<div class="title">Contact Info</div><div class="full_name"><div class="field first_name"><div class="placeholder">First Name </div><input type="text"/></div><div class="field last_name"><div class="placeholder">Last Name </div><input type="text"/></div></div><div class="field email"><div class="placeholder">Email </div><input type="text"/></div><div class="field phone"><div class="placeholder">Phone Number</div><input type="text"/></div><div class="field company_name"><div class="placeholder">Company/Organization Name</div><input type="text"/></div>',x.dom.billing_info_fields='<div class="title">Billing Info</div><div class="accepted_cards"></div><div class="credit_card"><div class="field first_name"><div class="placeholder">First Name </div><input type="text"/></div><div class="field last_name"><div class="placeholder">Last Name </div><input type="text"/></div><div class="card_cvv"><div class="field card_number"><div class="placeholder">Credit Card Number  </div><input type="text"/></div><div class="field cvv"><div class="placeholder">CVV </div><input type="text"/></div></div><div class="field expires"><div class="title">Expires </div><div class="month"><select><option value="1">01 - January</option><option value="2">02 - February</option><option value="3">03 - March</option><option value="4">04 - April</option><option value="5">05 - May</option><option value="6">06 - June</option><option value="7">07 - July</option><option value="8">08 - August</option><option value="9">09 - September</option><option value="10">10 - October</option><option value="11">11 - November</option><option value="12">12 - December</option></select></div><div class="year"><select></select></div></div></div><div class="address"><div class="field address1"><div class="placeholder">Address</div><input type="text"/></div><div class="field address2"><div class="placeholder">Apt/Suite</div><input type="text"/></div><div class="field city"><div class="placeholder">City</div><input type="text"/></div><div class="state_zip"><div class="field state"><div class="placeholder">State/Province</div><input type="text"/></div><div class="field zip"><div class="placeholder">Zip/Postal</div><input type="text"/></div></div><div class="field country"><select><option value="-">Select Country</option><option value="-">--------------</option><option value="AF">Afghanistan</option><option value="AL">Albania</option><option value="DZ">Algeria</option><option value="AS">American Samoa</option><option value="AD">Andorra</option><option value="AO">Angola</option><option value="AI">Anguilla</option><option value="AQ">Antarctica</option><option value="AG">Antigua and Barbuda</option><option value="AR">Argentina</option><option value="AM">Armenia</option><option value="AW">Aruba</option><option value="AC">Ascension Island</option><option value="AU">Australia</option><option value="AT">Austria</option><option value="AZ">Azerbaijan</option><option value="BS">Bahamas</option><option value="BH">Bahrain</option><option value="BD">Bangladesh</option><option value="BB">Barbados</option><option value="BE">Belgium</option><option value="BZ">Belize</option><option value="BJ">Benin</option><option value="BM">Bermuda</option><option value="BT">Bhutan</option><option value="BO">Bolivia</option><option value="BA">Bosnia and Herzegovina</option><option value="BW">Botswana</option><option value="BV">Bouvet Island</option><option value="BR">Brazil</option><option value="BQ">British Antarctic Territory</option><option value="IO">British Indian Ocean Territory</option><option value="VG">British Virgin Islands</option><option value="BN">Brunei</option><option value="BG">Bulgaria</option><option value="BF">Burkina Faso</option><option value="BI">Burundi</option><option value="KH">Cambodia</option><option value="CM">Cameroon</option><option value="CA">Canada</option><option value="IC">Canary Islands</option><option value="CT">Canton and Enderbury Islands</option><option value="CV">Cape Verde</option><option value="KY">Cayman Islands</option><option value="CF">Central African Republic</option><option value="EA">Ceuta and Melilla</option><option value="TD">Chad</option><option value="CL">Chile</option><option value="CN">China</option><option value="CX">Christmas Island</option><option value="CP">Clipperton Island</option><option value="CC">Cocos [Keeling] Islands</option><option value="CO">Colombia</option><option value="KM">Comoros</option><option value="CD">Congo [DRC]</option><option value="CK">Cook Islands</option><option value="CR">Costa Rica</option><option value="HR">Croatia</option><option value="CU">Cuba</option><option value="CY">Cyprus</option><option value="CZ">Czech Republic</option><option value="DK">Denmark</option><option value="DG">Diego Garcia</option><option value="DJ">Djibouti</option><option value="DM">Dominica</option><option value="DO">Dominican Republic</option><option value="NQ">Dronning Maud Land</option><option value="DD">East Germany</option><option value="TL">East Timor</option><option value="EC">Ecuador</option><option value="EG">Egypt</option><option value="SV">El Salvador</option><option value="EE">Estonia</option><option value="ET">Ethiopia</option><option value="EU">European Union</option><option value="FK">Falkland Islands [Islas Malvinas]</option><option value="FO">Faroe Islands</option><option value="FJ">Fiji</option><option value="FI">Finland</option><option value="FR">France</option><option value="GF">French Guiana</option><option value="PF">French Polynesia</option><option value="TF">French Southern Territories</option><option value="FQ">French Southern and Antarctic Territories</option><option value="GA">Gabon</option><option value="GM">Gambia</option><option value="GE">Georgia</option><option value="DE">Germany</option><option value="GH">Ghana</option><option value="GI">Gibraltar</option><option value="GR">Greece</option><option value="GL">Greenland</option><option value="GD">Grenada</option><option value="GP">Guadeloupe</option><option value="GU">Guam</option><option value="GT">Guatemala</option><option value="GG">Guernsey</option><option value="GW">Guinea-Bissau</option><option value="GY">Guyana</option><option value="HT">Haiti</option><option value="HM">Heard Island and McDonald Islands</option><option value="HN">Honduras</option><option value="HK">Hong Kong</option><option value="HU">Hungary</option><option value="IS">Iceland</option><option value="IN">India</option><option value="ID">Indonesia</option><option value="IE">Ireland</option><option value="IM">Isle of Man</option><option value="IL">Israel</option><option value="IT">Italy</option><option value="JM">Jamaica</option><option value="JP">Japan</option><option value="JE">Jersey</option><option value="JT">Johnston Island</option><option value="JO">Jordan</option><option value="KZ">Kazakhstan</option><option value="KE">Kenya</option><option value="KI">Kiribati</option><option value="KW">Kuwait</option><option value="KG">Kyrgyzstan</option><option value="LA">Laos</option><option value="LV">Latvia</option><option value="LS">Lesotho</option><option value="LY">Libya</option><option value="LI">Liechtenstein</option><option value="LT">Lithuania</option><option value="LU">Luxembourg</option><option value="MO">Macau</option><option value="MK">Macedonia [FYROM]</option><option value="MG">Madagascar</option><option value="MW">Malawi</option><option value="MY">Malaysia</option><option value="MV">Maldives</option><option value="ML">Mali</option><option value="MT">Malta</option><option value="MH">Marshall Islands</option><option value="MQ">Martinique</option><option value="MR">Mauritania</option><option value="MU">Mauritius</option><option value="YT">Mayotte</option><option value="FX">Metropolitan France</option><option value="MX">Mexico</option><option value="FM">Micronesia</option><option value="MI">Midway Islands</option><option value="MD">Moldova</option><option value="MC">Monaco</option><option value="MN">Mongolia</option><option value="ME">Montenegro</option><option value="MS">Montserrat</option><option value="MA">Morocco</option><option value="MZ">Mozambique</option><option value="NA">Namibia</option><option value="NR">Nauru</option><option value="NP">Nepal</option><option value="NL">Netherlands</option><option value="AN">Netherlands Antilles</option><option value="NT">Neutral Zone</option><option value="NC">New Caledonia</option><option value="NZ">New Zealand</option><option value="NI">Nicaragua</option><option value="NE">Niger</option><option value="NG">Nigeria</option><option value="NU">Niue</option><option value="NF">Norfolk Island</option><option value="VD">North Vietnam</option><option value="MP">Northern Mariana Islands</option><option value="NO">Norway</option><option value="OM">Oman</option><option value="QO">Outlying Oceania</option><option value="PC">Pacific Islands Trust Territory</option><option value="PK">Pakistan</option><option value="PW">Palau</option><option value="PS">Palestinian Territories</option><option value="PA">Panama</option><option value="PZ">Panama Canal Zone</option><option value="PY">Paraguay</option><option value="YD">People\'s Democratic Republic of Yemen</option><option value="PE">Peru</option><option value="PH">Philippines</option><option value="PN">Pitcairn Islands</option><option value="PL">Poland</option><option value="PT">Portugal</option><option value="PR">Puerto Rico</option><option value="QA">Qatar</option><option value="RO">Romania</option><option value="RU">Russia</option><option value="RW">Rwanda</option><option value="RE">Réunion</option><option value="BL">Saint Barthélemy</option><option value="SH">Saint Helena</option><option value="KN">Saint Kitts and Nevis</option><option value="LC">Saint Lucia</option><option value="MF">Saint Martin</option><option value="PM">Saint Pierre and Miquelon</option><option value="VC">Saint Vincent and the Grenadines</option><option value="WS">Samoa</option><option value="SM">San Marino</option><option value="SA">Saudi Arabia</option><option value="SN">Senegal</option><option value="RS">Serbia</option><option value="CS">Serbia and Montenegro</option><option value="SC">Seychelles</option><option value="SL">Sierra Leone</option><option value="SG">Singapore</option><option value="SK">Slovakia</option><option value="SI">Slovenia</option><option value="SB">Solomon Islands</option><option value="ZA">South Africa</option><option value="GS">South Georgia and the South Sandwich Islands</option><option value="KR">South Korea</option><option value="ES">Spain</option><option value="LK">Sri Lanka</option><option value="SR">Suriname</option><option value="SJ">Svalbard and Jan Mayen</option><option value="SZ">Swaziland</option><option value="SE">Sweden</option><option value="CH">Switzerland</option><option value="ST">São Tomé and Príncipe</option><option value="TW">Taiwan</option><option value="TJ">Tajikistan</option><option value="TZ">Tanzania</option><option value="TH">Thailand</option><option value="TG">Togo</option><option value="TK">Tokelau</option><option value="TO">Tonga</option><option value="TT">Trinidad and Tobago</option><option value="TA">Tristan da Cunha</option><option value="TN">Tunisia</option><option value="TR">Turkey</option><option value="TM">Turkmenistan</option><option value="TC">Turks and Caicos Islands</option><option value="TV">Tuvalu</option><option value="UM">U.S. Minor Outlying Islands</option><option value="PU">U.S. Miscellaneous Pacific Islands</option><option value="VI">U.S. Virgin Islands</option><option value="UG">Uganda</option><option value="UA">Ukraine</option><option value="AE">United Arab Emirates</option><option value="GB">United Kingdom</option><option value="US">United States</option><option value="UY">Uruguay</option><option value="UZ">Uzbekistan</option><option value="VU">Vanuatu</option><option value="VA">Vatican City</option><option value="VE">Venezuela</option><option value="VN">Vietnam</option><option value="WK">Wake Island</option><option value="WF">Wallis and Futuna</option><option value="EH">Western Sahara</option><option value="YE">Yemen</option><option value="ZM">Zambia</option><option value="AX">Åland Islands</option></select></div></div><div class="field vat_number"><div class="placeholder">VAT Number</div><input type="text"/></div>',x.dom.subscribe_form='<form class="recurly subscribe"><!--[if lt IE 7]><div class="iefail"><div class="chromeframe"><p class="blast">Your browser is not supported by Recurly.js.</p><p><a href="http://browsehappy.com/">Upgrade to a different browser</a></p><p>or</p><p><a href="http://www.google.com/chromeframe/?redirect=true">install Google Chrome Frame</a></p><p>to use this site.</p></div></div><![endif]--><div class="subscription"><div class="plan"><div class="name"></div><div class="field quantity"><div class="placeholder">Qty</div><input type="text"/></div><div class="recurring_cost"><div class="cost"></div><div class="interval"></div></div><div class="free_trial"></div><div class="setup_fee"><div class="title">Setup Fee</div><div class="cost"></div></div></div><div class="add_ons none"></div><div class="coupon"><div class="coupon_code field"><div class="placeholder">Coupon Code</div><input type="text" class="coupon_code"/></div><div class="check"></div><div class="description"></div><div class="discount"></div></div><div class="vat"><div class="title">VAT</div><div class="cost"></div></div></div><div class="due_now"><div class="title">Order Total</div><div class="cost"></div></div><div class="server_errors none"></div><div class="contact_info"></div><div class="billing_info"></div><div class="accept_tos"></div><div class="footer"><button type="submit" class="submit">Subscribe</button></div></form>',x.dom.update_billing_info_form='<form class="recurly update_billing_info"><div class="server_errors none"></div><div class="billing_info"></div><div class="footer"><button type="submit" class="submit">Update</button></div></form>',x.dom.one_time_transaction_form='<form class="recurly update_billing_info"><div class="server_errors none"></div><div class="contact_info"></div><div class="billing_info"></div><div class="accept_tos"></div><div class="footer"><button type="submit" class="submit">Pay</button></div></form>',x.dom.terms_of_service='<input id="tos_check" type="checkbox"/><label id="accept_tos" for="tos_check">I accept the <a target="_blank" class="tos_link">Terms of Service</a><span class="and"> and </span><a target="_blank" class="pp_link">Privacy Policy</a></label>',window.Recurly=x
}(jQuery),function outer(e,t,i){function n(i){if(t[i])return t[i].exports;if(e[i])return s(i,n);throw new Error('cannot find module "'+i+'"')}function s(n,s){var o=t[n]={exports:{}},r=e[n],a=r[2],l=r[0];return l.call(o.exports,function(t){var i=e[n][1][t];return s(i?i:t)},o,o.exports,outer,e,t,i),a&&(t[a]=t[n]),t[n].exports}var o=function(){return this}();for(var r in i)i[r]?o[i[r]]=n(r):n(r);return n.duo=!0,n.cache=t,n.modules=e,n}({1:[function(e,t){"use strict";function i(e){return this instanceof i?(this.configure(e),this.billingAgreementId=null,this.consent=void 0,this.widgets={},this._status=this.status(),this.setBillingAgreementId=r(this,this.setBillingAgreementId),this.initWallet=r(this,this.initWallet),this.initConsent=r(this,this.initConsent),this.setConsent=r(this,this.setConsent),this.error=r(this,this.error),this.init=r(this,this.init),"window.OffAmazonPayments"in window?this.init():(document.write('<script src="https://static-na.payments-amazon.com/OffAmazonPayments/us'+(this.config.production?"":"/sandbox")+"/js/Widgets.js?sellerId="+this.config.sellerId+'"></script>'),window.onAmazonLoginReady=this.init),this):new i(e)}function n(e){return e+="",e+(isNaN(parseInt(e.charAt(e.length-1),10))?"":"px")}function s(e){return e.dimensions?{size:e.dimensions}:{designMode:"responsive"}}var o=e("component/emitter"),r=e("component/bind");t.exports=i,o(i.prototype),i.prototype.version="1.0.3",i.prototype.configure=function(e){if("object"!=typeof e)throw new Error("opts must be provided as an object.");if(!e.sellerId)throw new Error("opts.sellerId is required.");if(!e.clientId)throw new Error("opts.clientId is required.");if(!e.button)throw new Error("opts.button is required.");if(!e.wallet)throw new Error("opts.wallet is required.");if(!e.consent)throw new Error("opts.consent is required.");"string"==typeof e.button&&(e.button={id:e.button}),"string"==typeof e.wallet&&(e.wallet={id:e.wallet}),"string"==typeof e.consent&&(e.consent={id:e.consent}),"string"==typeof e.addressBook&&(e.addressBook={id:e.addressBook}),e.button.type="small"===e.button.type?"Pay":"PwA",e.button.color=e.button.color||"Gold",(e.wallet.width||e.wallet.height)&&(e.wallet.dimensions={width:n(e.wallet.width||400),height:n(e.wallet.height||260)}),(e.consent.width||e.consent.height)&&(e.consent.dimensions={width:n(e.consent.width||400),height:n(e.consent.height||140)}),e.addressBook&&(e.addressBook.width||e.addressBook.height)&&(e.addressBook.dimensions={width:n(e.addressBook.width||400),height:n(e.addressBook.height||260)}),e.production="boolean"==typeof e.production?e.production:!1,e.openedClass=e.openedClass||"open",this.config=e},i.prototype.init=function(){function e(){window.OffAmazonPayments.Button&&(clearTimeout(i),t.initButton())}window.amazon.Login.setClientId(this.config.clientId);var t=this,i=setInterval(e,200)},i.prototype.status=function(){var e=this.billingAgreementId,t=this.consent,i={};return e||(i.error="Billing agreement ID has not been set."),void 0!==t&&(i.consent=t),void 0===t?i.error="Billing consent not yet given.":t||(i.error="Billing consent not given."),i.error||(i.id=e),i},i.prototype.check=function(){var e=this.status();JSON.stringify(e)!==JSON.stringify(this._status)&&(this._status=e,this.emit("change",e))},i.prototype.initButton=function(){var e=this,t=this.config.button.type,i=this.config.button.color;this.widgets.button=new window.OffAmazonPayments.Button(this.config.button.id,this.config.sellerId,{type:t,color:i,authorization:function(){var t={scope:"profile payments:widget payments:shipping_address",popup:!0};window.amazon.Login.authorize(t,function(t){return t.error?e.error(t.error):(e.emit("login"),e.initAddressBook(),void 0)})},onError:this.error})},i.prototype.initAddressBook=function(){var e=this;if(!this.config.addressBook)return this.initWallet();var t={agreementType:"BillingAgreement",sellerId:this.config.sellerId,onReady:function(t){e.emit("ready.addressBook"),e.setBillingAgreementId(t)},onAddressSelect:this.initWallet,design:s(this.config.addressBook),onError:this.error};this.widgets.addressBook=new window.OffAmazonPayments.Widgets.AddressBook(t),this.widgets.addressBook.bind(this.config.addressBook.id),this.opened(this.config.addressBook.id)},i.prototype.initWallet=function(){var e=this,t={amazonBillingAgreementId:this.billingAgreementId,sellerId:this.config.sellerId,design:s(this.config.wallet),onReady:function(t){e.emit("ready.wallet"),e.billingAgreementId||e.setBillingAgreementId(t)},onPaymentSelect:function(){e.initConsent(),e.check()},onError:this.error};this.billingAgreementId||(t.agreementType="BillingAgreement"),this.widgets.wallet=new window.OffAmazonPayments.Widgets.Wallet(t),this.widgets.wallet.bind(this.config.wallet.id),this.opened(this.config.wallet.id)},i.prototype.initConsent=function(){var e=this,t={amazonBillingAgreementId:this.billingAgreementId,sellerId:this.config.sellerId,design:s(this.config.consent),onReady:function(t){e.emit("ready.consent"),e.setConsent(t)},onConsent:this.setConsent,onError:this.error};this.widgets.consent=new window.OffAmazonPayments.Widgets.Consent(t),this.widgets.consent.bind(this.config.consent.id),this.opened(this.config.consent.id)},i.prototype.setBillingAgreementId=function(e){this.billingAgreementId=e.getAmazonBillingAgreementId(),this.check()},i.prototype.setConsent=function(e){"undefined"!=typeof e.getConsentStatus&&(this.consent="true"===e.getConsentStatus(),this.check())},i.prototype.opened=function(e){var t=document.getElementById(e);t&&(t.className=t.className+" "+this.config.openedClass)},i.prototype.error=function(e){var t={code:e.getErrorCode(),message:e.getErrorMessage()};console&&(Error.captureStackTrace&&Error.captureStackTrace(t,this.error),console.error(t)),this.emit("error",t)}},{"component/emitter":2,"component/bind":3}],2:[function(e,t){function i(e){return e?n(e):void 0}function n(e){for(var t in i.prototype)e[t]=i.prototype[t];return e}t.exports=i,i.prototype.on=i.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks[e]=this._callbacks[e]||[]).push(t),this},i.prototype.once=function(e,t){function i(){n.off(e,i),t.apply(this,arguments)}var n=this;return this._callbacks=this._callbacks||{},i.fn=t,this.on(e,i),this},i.prototype.off=i.prototype.removeListener=i.prototype.removeAllListeners=i.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var i=this._callbacks[e];if(!i)return this;if(1==arguments.length)return delete this._callbacks[e],this;for(var n,s=0;i.length>s;s++)if(n=i[s],n===t||n.fn===t){i.splice(s,1);break}return this},i.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),i=this._callbacks[e];if(i){i=i.slice(0);for(var n=0,s=i.length;s>n;++n)i[n].apply(this,t)}return this},i.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks[e]||[]},i.prototype.hasListeners=function(e){return!!this.listeners(e).length}},{}],3:[function(e,t){var i=[].slice;t.exports=function(e,t){if("string"==typeof t&&(t=e[t]),"function"!=typeof t)throw new Error("bind() requires a function");var n=i.call(arguments,2);return function(){return t.apply(e,n.concat(i.call(arguments)))}}},{}]},{},{1:"PayWithAmazon"}),JJLogin={_loginRedirectLocation:null,_signupRedirectLocation:null,registrationInProgress:!1,init:function(){$(document).on("click","[data-component='facebook-login']",function(e){e.preventDefault();var t=$(e.currentTarget),i=t.data("source")||"Unknown Login Source",n=t.data("reload")||JJLogin._currentPageRequiresRefresh();JJFB.login_with_perms(JJFB.perms.default_required,i,function(){$(".login-modal").is(":visible")&&JJModal.hideModal(),n?JJFB.reloadPage():JJFB.updateAccountStatus()})}),$(document).on("click",".JIBJAB-REGISTER",function(e){e.preventDefault(),JJModal.showSignupModal()}),$(document).on("click",".JIBJAB-LOGIN",function(e){e.preventDefault(),JJModal.showLoginModal()}),$(document).on("click",".JIBJAB-LOGIN-WITH-EMAIL",function(e){e.preventDefault(),JJModal.showLoginModalWithEmail()}),$(document).on("submit","form.AJAX-LOGIN",function(e){e.preventDefault();var t=$(e.target),i=t.data("source")||"Unknown Login Source",n=JJLogin._loginRedirectLocation,s=t.find("input[name='login_name']"),o=t.find("input[name='login_password']");return url_params=getUrlParameters(),url_params.after&&(n=decodeURIComponent(url_params.after)),s.removeClass("error"),o.removeClass("error"),t.find(".errorMessage").text(""),loginError=function(e){Analytics.trackEvent("JJ Login",i,"failure"),t.find(".errorMessage").text(e)},s.val()||o.val()?s.val()?o.val()?(JJLogin._submitForm({form:t,success:function(){Analytics.trackEvent("JJ Login",i,"success"),n&&"undefined"!==n?window.location=n:JJLogin._onLoginPage()?window.location=t.attr("action"):window.location.reload()},error:function(e){s.addClass("error"),o.addClass("error"),"jjlogin_to_fb"==e.prompt_user?($('#modal-login a[data-action="modal-close"]').click(),PromptUser.init({title:"Important Note!",message:"This email address is associated with a Facebook Connect Account.  Please login with Facebook or create a password so you login by email.",left_button:"Facebook",right_button:"Create Password",on_left_click:function(){JJFB.login_with_perms(JJFB.perms.default_required,"prompt_user",function(){$(".login-modal").is(":visible")&&JJModal.hideModal(),JJLogin._currentPageRequiresRefresh()?JJFB.reloadPage():JJFB.updateAccountStatus()})},on_right_click:function(){PromptUser.init({title:"",message:"An email has been sent to "+e.email+" with instructions on how to create a password.",left_button:null,right_button:"Okay",on_left_click:function(){},on_right_click:function(){}}),$.post("/user/forgot_password",{login_name:e.email})}})):loginError(e.global_errors[0])}}),void 0):(o.addClass("error"),loginError("Password is a required field."),void 0):(s.addClass("error"),loginError("Email address is a required field."),void 0):(s.addClass("error"),o.addClass("error"),loginError("Email address and password are required fields."),void 0)}),$(document).on("submit","form.AJAX-SIGNUP",function(e){e.preventDefault();var t=$(e.target),i=t.find("[name='profile[email]']"),n=i.val(),s=$.cookie("registration_source")||t.data("source")||"Unknown Registration Source",o=JJLogin._signupRedirectLocation,r=t.find("input[type='submit']");return r.attr("disabled","disabled"),url_params=getUrlParameters(),url_params.after&&(o=decodeURIComponent(url_params.after)),invalidEmail=function(){Analytics.trackEvent("Registration - failed",s,"JJ reg failure - invalid email"),i.addClass("error"),t.find(".errorMessage").html("Please enter a valid email address")},validEmail=function(){JJLogin._submitForm({form:t,success:function(){Analytics.trackEvent("Registration",s,"JJ reg success"),Optimizely.trackEvent("Registration"),o&&"undefined"!==o?window.location=o:JJLogin._onLoginPage()?window.location=t.attr("action"):window.location.reload()},error:function(e){var i=[];$.each(e.field_errors,function(e,n){t.find("[name='profile["+e+"]']").addClass("error"),i.push(n)}),t.find(".errorMessage").html(i.join("<br/>")),$("div[id=modal-signup]").is(":visible")?(t.find("#email_in_use_error").addClass("JIBJAB-LOGIN-WITH-EMAIL"),t.find("#email_in_use_error").attr("data-flow","")):(t.find("#email_in_use_error").removeClass("JIBJAB-LOGIN-WITH-EMAIL"),t.find("#email_in_use_error").attr("data-flow","show-login-with-email")),Analytics.trackEvent("Registration - failed",s,"JJ reg failure - "+i.join(", "))}})},JJLogin._quickValidateEmail(n)?(validEmail(),void 0):(invalidEmail(),r.removeAttr("disabled"),void 0)})},_onLoginPage:function(){return"user"==SiteConfig.controller&&["register","login"].indexOf(SiteConfig.action)>=0},_currentPageRequiresRefresh:function(){return!0},_quickValidateEmail:function(e){var t=/\S+@\S+\.\S+/;return t.test(e)},_leadspendValidateEmail:function(e,t,i,n){var s=n.find("input[type='submit']");s.attr("disabled","disabled"),LeadSpend.validate(e,4,function(e){switch(e.result){case"unknown":case"verified":$.isFunction(t)&&t();break;default:s.removeAttr("disabled"),$.isFunction(t)&&i()}})},_submitForm:function(e){if(!JJLogin.registrationInProgress){JJLogin.registrationInProgress=!0;var t=$(e.form),i=e.success,n=e.error,s=t.find("input[type='submit']"),o=t.find(".errorMessage"),r=t.attr("action");s.attr("disabled","disabled"),t.find(".error").removeClass("error"),o.text(""),$.ajax(r,{type:"POST",data:t.serialize(),dataType:"jsonp",jsonp:"jsonpLoginCallback",complete:function(){JJLogin.registrationInProgress=!1},success:function(e,t,o){e.success?$.isFunction(i)&&i(e,t,o):$.isFunction(n)&&(s.removeAttr("disabled"),n(e,t,o))},error:function(){o.text("An unknown error occurred while logging in."),s.removeAttr("disabled"),JJLogin.registrationInProgress=!1}})}}},JJLogin.init(),JJLoginFlow={init:function(){$(document).on("click","[data-flow='show-reg']",function(e){e.preventDefault(),JJLoginFlow.showRegisterUnit()}),$(document).on("click","[data-flow='show-login']",function(e){e.preventDefault(),JJLoginFlow.showLoginUnit()}),$(document).on("click","[data-flow='show-login-with-email']",function(e){e.preventDefault(),JJLoginFlow.showLoginWithEmailUnit()}),$(document).on("click","[data-flow='show-signup']",function(e){e.preventDefault(),JJLoginFlow.showSignupUnit()}),$(document).on("click","[data-flow='show-back']",function(e){e.preventDefault(),JJLoginFlow.showPreviousUnit()})},previousUnit:$(),visibleUnit:function(){return $(".login-flow:visible")},_switchToUnit:function(e){this.visibleUnit(),$(e)},showRegisterUnit:function(){var e=$("#flow-register.login-flow"),t=this.visibleUnit();t.fadeOut("fast",function(){e.fadeIn()}),this.previousUnit=t},showLoginUnit:function(){var e=$("#flow-login.login-flow"),t=this.visibleUnit();t.fadeOut("fast",function(){e.fadeIn()}),this.previousUnit=t},showLoginWithEmailUnit:function(){var e=$("#flow-login.login-flow"),t=this.visibleUnit(),i=$("#flow-signup input[type=email]").val();t.fadeOut("fast",function(){e.fadeIn()}),this.previousUnit=t,e.find("input[name=login_name]").val(i)},showSignupUnit:function(){var e=$("#flow-signup.login-flow"),t=this.visibleUnit();t.fadeOut("fast",function(){e.fadeIn()}),this.previousUnit=t},showPreviousUnit:function(){var e=this.previousUnit,t=this.visibleUnit();e.is("*")||(e=$("#flow-register.login-flow")),t.fadeOut("fast",function(){e.fadeIn()}),this.previousUnit=t}},$(function(){JJLoginFlow.init()}),JJModal.showLoginModal=function(e){e&&"undefined"!==e&&(JJLogin._loginRedirectLocation=e),this.showModal($("#modal-login"),{replace:$(".login-modal").is(":visible")})},JJModal.showLoginModalWithEmail=function(e){e&&"undefined"!==e&&(JJLogin._loginRedirectLocation=e);var t=$("div#modal-signup input[type=email]").val();this.showModal($("#modal-login"),{replace:$(".login-modal").is(":visible")}),$("#modal-login input[name=login_name]").val(t)},JJModal.showSignupModal=function(e){e&&"undefined"!==e&&(JJLogin._signupRedirectLocation=e),this.showModal($("#modal-signup"),{replace:$(".login-modal").is(":visible")})},$(document).on("click","a[href*='/logout']",function(e){e.preventDefault();var t=$(e.target),i=t.attr("href");JJFB.logout(i)}),JJModal.showFbCvpModal=function(e){e&&"undefined"!==e&&(JJLogin._loginRedirectLocation=e),this.showModal($("#modal-fb-cvp"),{replace:$(".login-modal").is(":visible")})},function(){function e(t){var i=e.resolve(t),n=e.modules[i];if(!n)throw new Error('failed to require "'+t+'"');return n.exports||(n.exports={},n.call(n.exports,n,n.exports,e.relative(i))),n.exports}function t(){for(var e=(new i).getTime();l.length&&100>(new i).getTime()-e;)l.shift()();o=l.length?n(t,0):null}e.modules={},e.resolve=function(t){var i=t,n=t+".js",s=t+"/index.js";return e.modules[n]&&n||e.modules[s]&&s||i},e.register=function(t,i){e.modules[t]=i},e.relative=function(t){return function(i){if("."!=i.charAt(0))return e(i);var n=t.split("/"),s=i.split("/");n.pop();for(var o=0;s.length>o;o++){var r=s[o];".."==r?n.pop():"."!=r&&n.push(r)}return e(n.join("/"))}},e.register("browser/debug.js",function(e){e.exports=function(){return function(){}}}),e.register("browser/diff.js",function(e){var t=function(){function e(e){return{newPos:e.newPos,components:e.components.slice(0)}}function t(e){for(var t=[],i=0;e.length>i;i++)e[i]&&t.push(e[i]);return t}function i(e){var t=e;return t=t.replace(/&/g,"&amp;"),t=t.replace(/</g,"&lt;"),t=t.replace(/>/g,"&gt;"),t=t.replace(/"/g,"&quot;")}var n=function(e){this.ignoreWhitespace=e};n.prototype={diff:function(t,i){if(i==t)return[{value:i}];if(!i)return[{value:t,removed:!0}];if(!t)return[{value:i,added:!0}];i=this.tokenize(i),t=this.tokenize(t);var n=i.length,s=t.length,o=n+s,r=[{newPos:-1,components:[]}],a=this.extractCommon(r[0],i,t,0);if(r[0].newPos+1>=n&&a+1>=s)return r[0].components;for(var l=1;o>=l;l++)for(var c=-1*l;l>=c;c+=2){var u,d=r[c-1],h=r[c+1];a=(h?h.newPos:0)-c,d&&(r[c-1]=void 0);var p=d&&n>d.newPos+1,f=h&&a>=0&&s>a;if(p||f){!p||f&&d.newPos<h.newPos?(u=e(h),this.pushComponent(u.components,t[a],void 0,!0)):(u=e(d),u.newPos++,this.pushComponent(u.components,i[u.newPos],!0,void 0));var a=this.extractCommon(u,i,t,c);if(u.newPos+1>=n&&a+1>=s)return u.components;r[c]=u}else r[c]=void 0}},pushComponent:function(e,t,i,n){var s=e[e.length-1];s&&s.added===i&&s.removed===n?e[e.length-1]={value:this.join(s.value,t),added:i,removed:n}:e.push({value:t,added:i,removed:n})},extractCommon:function(e,t,i,n){for(var s=t.length,o=i.length,r=e.newPos,a=r-n;s>r+1&&o>a+1&&this.equals(t[r+1],i[a+1]);)r++,a++,this.pushComponent(e.components,t[r],void 0,void 0);return e.newPos=r,a},equals:function(e,t){var i=/\S/;return!this.ignoreWhitespace||i.test(e)||i.test(t)?e==t:!0},join:function(e,t){return e+t},tokenize:function(e){return e}};var s=new n,o=new n(!0);o.tokenize=function(e){return t(e.split(/(\s+|\b)/))};var r=new n(!0);r.tokenize=function(e){return t(e.split(/([{}:;,]|\s+)/))};var a=new n;return a.tokenize=function(e){return e.split(/^/m)},{diffChars:function(e,t){return s.diff(e,t)},diffWords:function(e,t){return o.diff(e,t)},diffLines:function(e,t){return a.diff(e,t)},diffCss:function(e,t){return r.diff(e,t)},createPatch:function(e,t,i,n,s){function o(e){return e.map(function(e){return" "+e})}function r(e,t,i){var n=c[c.length-2],s=t===c.length-2,o=t===c.length-3&&(i.added===!n.added||i.removed===!n.removed);/\n$/.test(i.value)||!s&&!o||e.push("\\ No newline at end of file")}var l=[];l.push("Index: "+e),l.push("==================================================================="),l.push("--- "+e+("undefined"==typeof n?"":"	"+n)),l.push("+++ "+e+("undefined"==typeof s?"":"	"+s));var c=a.diff(t,i);c[c.length-1].value||c.pop(),c.push({value:"",lines:[]});for(var u=0,d=0,h=[],p=1,f=1,m=0;c.length>m;m++){var g=c[m],v=g.lines||g.value.replace(/\n$/,"").split("\n");if(g.lines=v,g.added||g.removed){if(!u){var _=c[m-1];u=p,d=f,_&&(h=o(_.lines.slice(-4)),u-=h.length,d-=h.length)}h.push.apply(h,v.map(function(e){return(g.added?"+":"-")+e})),r(h,m,g),g.added?f+=v.length:p+=v.length}else{if(u)if(8>=v.length&&c.length-2>m)h.push.apply(h,o(v));else{var y=Math.min(v.length,4);l.push("@@ -"+u+","+(p-u+y)+" +"+d+","+(f-d+y)+" @@"),l.push.apply(l,h),l.push.apply(l,o(v.slice(0,y))),4>=v.length&&r(l,m,g),u=0,d=0,h=[]}p+=v.length,f+=v.length}}return l.join("\n")+"\n"},convertChangesToXML:function(e){for(var t=[],n=0;e.length>n;n++){var s=e[n];s.added?t.push("<ins>"):s.removed&&t.push("<del>"),t.push(i(s.value)),s.added?t.push("</ins>"):s.removed&&t.push("</del>")}return t.join("")}}}();"undefined"!=typeof e&&(e.exports=t)}),e.register("browser/events.js",function(e,t){function i(e){return"[object Array]"=={}.toString.call(e)}function n(){}t.EventEmitter=n,n.prototype.on=function(e,t){return this.$events||(this.$events={}),this.$events[e]?i(this.$events[e])?this.$events[e].push(t):this.$events[e]=[this.$events[e],t]:this.$events[e]=t,this},n.prototype.addListener=n.prototype.on,n.prototype.once=function(e,t){function i(){n.removeListener(e,i),t.apply(this,arguments)}var n=this;return i.listener=t,this.on(e,i),this},n.prototype.removeListener=function(e,t){if(this.$events&&this.$events[e]){var n=this.$events[e];if(i(n)){for(var s=-1,o=0,r=n.length;r>o;o++)if(n[o]===t||n[o].listener&&n[o].listener===t){s=o;break}if(0>s)return this;n.splice(s,1),n.length||delete this.$events[e]}else(n===t||n.listener&&n.listener===t)&&delete this.$events[e]}return this},n.prototype.removeAllListeners=function(e){return void 0===e?(this.$events={},this):(this.$events&&this.$events[e]&&(this.$events[e]=null),this)},n.prototype.listeners=function(e){return this.$events||(this.$events={}),this.$events[e]||(this.$events[e]=[]),i(this.$events[e])||(this.$events[e]=[this.$events[e]]),this.$events[e]},n.prototype.emit=function(e){if(!this.$events)return!1;var t=this.$events[e];if(!t)return!1;var n=[].slice.call(arguments,1);if("function"==typeof t)t.apply(this,n);else{if(!i(t))return!1;for(var s=t.slice(),o=0,r=s.length;r>o;o++)s[o].apply(this,n)}return!0}}),e.register("browser/fs.js",function(){}),e.register("browser/path.js",function(){}),e.register("browser/progress.js",function(e){function t(){this.percent=0,this.size(0),this.fontSize(11),this.font("helvetica, arial, sans-serif")}e.exports=t,t.prototype.size=function(e){return this._size=e,this},t.prototype.text=function(e){return this._text=e,this},t.prototype.fontSize=function(e){return this._fontSize=e,this},t.prototype.font=function(e){return this._font=e,this},t.prototype.update=function(e){return this.percent=e,this},t.prototype.draw=function(e){var t=Math.min(this.percent,100),i=this._size,n=i/2,s=n,o=n,r=n-1,a=this._fontSize;e.font=a+"px "+this._font;var l=2*Math.PI*(t/100);e.clearRect(0,0,i,i),e.strokeStyle="#9f9f9f",e.beginPath(),e.arc(s,o,r,0,l,!1),e.stroke(),e.strokeStyle="#eee",e.beginPath(),e.arc(s,o,r-1,0,l,!0),e.stroke();var c=this._text||(0|t)+"%",u=e.measureText(c).width;return e.fillText(c,s-u/2+1,o+a/2-1),this}}),e.register("browser/tty.js",function(e,t){t.isatty=function(){return!0},t.getWindowSize=function(){return[window.innerHeight,window.innerWidth]}}),e.register("context.js",function(e){function t(){}e.exports=t,t.prototype.runnable=function(e){return 0==arguments.length?this._runnable:(this.test=this._runnable=e,this)},t.prototype.timeout=function(e){return this.runnable().timeout(e),this},t.prototype.slow=function(e){return this.runnable().slow(e),this},t.prototype.inspect=function(){return JSON.stringify(this,function(e,t){return"_runnable"!=e&&"test"!=e?t:void 0},2)}}),e.register("hook.js",function(e,t,i){function n(e,t){o.call(this,e,t),this.type="hook"}function s(){}var o=i("./runnable");e.exports=n,s.prototype=o.prototype,n.prototype=new s,n.prototype.constructor=n,n.prototype.error=function(e){if(0==arguments.length){var e=this._error;return this._error=null,e}this._error=e}}),e.register("interfaces/bdd.js",function(e,t,i){var n=i("../suite"),s=i("../test");e.exports=function(e){var t=[e];e.on("pre-require",function(e,i,o){e.before=function(e){t[0].beforeAll(e)},e.after=function(e){t[0].afterAll(e)},e.beforeEach=function(e){t[0].beforeEach(e)},e.afterEach=function(e){t[0].afterEach(e)},e.describe=e.context=function(e,i){var s=n.create(t[0],e);return t.unshift(s),i.call(s),t.shift(),s},e.xdescribe=e.xcontext=e.describe.skip=function(e,i){var s=n.create(t[0],e);s.pending=!0,t.unshift(s),i.call(s),t.shift()},e.describe.only=function(t,i){var n=e.describe(t,i);o.grep(n.fullTitle())},e.it=e.specify=function(e,i){var n=t[0];if(n.pending)var i=null;var o=new s(e,i);return n.addTest(o),o},e.it.only=function(t,i){var n=e.it(t,i);o.grep(n.fullTitle())},e.xit=e.xspecify=e.it.skip=function(t){e.it(t)}})}}),e.register("interfaces/exports.js",function(e,t,i){var n=i("../suite"),s=i("../test");e.exports=function(e){function t(e){var o;for(var r in e)if("function"==typeof e[r]){var a=e[r];switch(r){case"before":i[0].beforeAll(a);break;case"after":i[0].afterAll(a);break;case"beforeEach":i[0].beforeEach(a);break;case"afterEach":i[0].afterEach(a);break;default:i[0].addTest(new s(r,a))}}else{var o=n.create(i[0],r);i.unshift(o),t(e[r]),i.shift()}}var i=[e];e.on("require",t)}}),e.register("interfaces/index.js",function(e,t,i){t.bdd=i("./bdd"),t.tdd=i("./tdd"),t.qunit=i("./qunit"),t.exports=i("./exports")}),e.register("interfaces/qunit.js",function(e,t,i){var n=i("../suite"),s=i("../test");e.exports=function(e){var t=[e];e.on("pre-require",function(e,i,o){e.before=function(e){t[0].beforeAll(e)},e.after=function(e){t[0].afterAll(e)},e.beforeEach=function(e){t[0].beforeEach(e)},e.afterEach=function(e){t[0].afterEach(e)},e.suite=function(e){t.length>1&&t.shift();var i=n.create(t[0],e);return t.unshift(i),i},e.suite.only=function(t,i){var n=e.suite(t,i);o.grep(n.fullTitle())},e.test=function(e,i){var n=new s(e,i);return t[0].addTest(n),n},e.test.only=function(t,i){var n=e.test(t,i);o.grep(n.fullTitle())},e.test.skip=function(t){e.test(t)}})}}),e.register("interfaces/tdd.js",function(e,t,i){var n=i("../suite"),s=i("../test");e.exports=function(e){var t=[e];e.on("pre-require",function(e,i,o){e.setup=function(e){t[0].beforeEach(e)},e.teardown=function(e){t[0].afterEach(e)},e.suiteSetup=function(e){t[0].beforeAll(e)},e.suiteTeardown=function(e){t[0].afterAll(e)},e.suite=function(e,i){var s=n.create(t[0],e);return t.unshift(s),i.call(s),t.shift(),s},e.suite.only=function(t,i){var n=e.suite(t,i);o.grep(n.fullTitle())},e.test=function(e,i){var n=new s(e,i);return t[0].addTest(n),n},e.test.only=function(t,i){var n=e.test(t,i);o.grep(n.fullTitle())},e.test.skip=function(t){e.test(t)}})}}),e.register("mocha.js",function(e,t,i){function n(e){return __dirname+"/../images/"+e+".png"}function s(e){e=e||{},this.files=[],this.options=e,this.grep(e.grep),this.suite=new t.Suite("",new t.Context),this.ui(e.ui),this.bail(e.bail),this.reporter(e.reporter),e.timeout&&this.timeout(e.timeout),e.slow&&this.slow(e.slow)}/*!
 * mocha
 * Copyright(c) 2011 TJ Holowaychuk <tj@vision-media.ca>
 * MIT Licensed
 */
var o=i("browser/path"),r=i("./utils");t=e.exports=s,t.utils=r,t.interfaces=i("./interfaces"),t.reporters=i("./reporters"),t.Runnable=i("./runnable"),t.Context=i("./context"),t.Runner=i("./runner"),t.Suite=i("./suite"),t.Hook=i("./hook"),t.Test=i("./test"),s.prototype.bail=function(e){return 0==arguments.length&&(e=!0),this.suite.bail(e),this},s.prototype.addFile=function(e){return this.files.push(e),this},s.prototype.reporter=function(e){if("function"==typeof e)this._reporter=e;else{e=e||"dot";try{this._reporter=i("./reporters/"+e)}catch(t){this._reporter=i(e)}if(!this._reporter)throw new Error('invalid reporter "'+e+'"')}return this},s.prototype.ui=function(e){if(e=e||"bdd",this._ui=t.interfaces[e],!this._ui)throw new Error('invalid interface "'+e+'"');return this._ui=this._ui(this.suite),this},s.prototype.loadFiles=function(e){var t=this,n=this.suite,s=this.files.length;this.files.forEach(function(r){r=o.resolve(r),n.emit("pre-require",global,r,t),n.emit("require",i(r),r,t),n.emit("post-require",global,r,t),--s||e&&e()})},s.prototype._growl=function(e,t){var s=i("growl");e.on("end",function(){var i=t.stats;if(i.failures){var o=i.failures+" of "+e.total+" tests failed";s(o,{name:"mocha",title:"Failed",image:n("error")})}else s(i.passes+" tests passed in "+i.duration+"ms",{name:"mocha",title:"Passed",image:n("ok")})})},s.prototype.grep=function(e){return this.options.grep="string"==typeof e?new RegExp(r.escapeRegexp(e)):e,this},s.prototype.invert=function(){return this.options.invert=!0,this},s.prototype.ignoreLeaks=function(){return this.options.ignoreLeaks=!0,this},s.prototype.checkLeaks=function(){return this.options.ignoreLeaks=!1,this},s.prototype.growl=function(){return this.options.growl=!0,this},s.prototype.globals=function(e){return this.options.globals=(this.options.globals||[]).concat(e),this},s.prototype.timeout=function(e){return this.suite.timeout(e),this},s.prototype.slow=function(e){return this.suite.slow(e),this},s.prototype.asyncOnly=function(){return this.options.asyncOnly=!0,this},s.prototype.run=function(e){this.files.length&&this.loadFiles();var i=this.suite,n=this.options,s=new t.Runner(i),o=new this._reporter(s);return s.ignoreLeaks=!1!==n.ignoreLeaks,s.asyncOnly=n.asyncOnly,n.grep&&s.grep(n.grep,n.invert),n.globals&&s.globals(n.globals),n.growl&&this._growl(s,o),s.run(e)}}),e.register("ms.js",function(e){function t(e){var t=/^((?:\d+)?\.?\d+) *(ms|seconds?|s|minutes?|m|hours?|h|days?|d|years?|y)?$/i.exec(e);if(t){var i=parseFloat(t[1]),n=(t[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"y":return 315576e5*i;case"days":case"day":case"d":return 864e5*i;case"hours":case"hour":case"h":return 36e5*i;case"minutes":case"minute":case"m":return 6e4*i;case"seconds":case"second":case"s":return 1e3*i;case"ms":return i}}}function i(e){return e==r?Math.round(e/r)+" day":e>r?Math.round(e/r)+" days":e==o?Math.round(e/o)+" hour":e>o?Math.round(e/o)+" hours":e==s?Math.round(e/s)+" minute":e>s?Math.round(e/s)+" minutes":e==n?Math.round(e/n)+" second":e>n?Math.round(e/n)+" seconds":e+" ms"}var n=1e3,s=60*n,o=60*s,r=24*o;e.exports=function(e){return"string"==typeof e?t(e):i(e)}}),e.register("reporters/base.js",function(e,t,i){function n(e){var t=this.stats={suites:0,tests:0,passes:0,pending:0,failures:0},i=this.failures=[];e&&(this.runner=e,e.stats=t,e.on("start",function(){t.start=new d}),e.on("suite",function(e){t.suites=t.suites||0,e.root||t.suites++}),e.on("test end",function(){t.tests=t.tests||0,t.tests++}),e.on("pass",function(e){t.passes=t.passes||0;var i=e.slow()/2;e.speed=e.duration>e.slow()?"slow":e.duration>i?"medium":"fast",t.passes++}),e.on("fail",function(e,n){t.failures=t.failures||0,t.failures++,e.err=n,i.push(e)}),e.on("end",function(){t.end=new d,t.duration=new d-t.start}),e.on("pending",function(){t.pending++}))}function o(e,t){return e=String(e),Array(t-e.length+1).join(" ")+e}function r(e,t,i){return c["diff"+t](e.actual,e.expected).map(function(e){return i&&(e.value=e.value.replace(/\t/g,"<tab>").replace(/\r/g,"<CR>").replace(/\n/g,"<LF>\n")),e.added?a("diff added",e.value):e.removed?a("diff removed",e.value):e.value}).join("")}function a(e,t){return t.split("\n").map(function(t){return p(e,t)}).join("\n")}var l=i("browser/tty"),c=i("browser/diff"),u=i("../ms"),d=global.Date;global.setTimeout,global.setInterval,global.clearTimeout,global.clearInterval;var h=l.isatty(1)&&l.isatty(2);t=e.exports=n,t.useColors=h,t.colors={pass:90,fail:31,"bright pass":92,"bright fail":91,"bright yellow":93,pending:36,suite:0,"error title":0,"error message":31,"error stack":90,checkmark:32,fast:90,medium:33,slow:31,green:32,light:90,"diff gutter":90,"diff added":42,"diff removed":41},t.symbols={ok:"✓",err:"✖",dot:"․"},"win32"==s.platform&&(t.symbols.ok="√",t.symbols.err="×",t.symbols.dot=".");var p=t.color=function(e,i){return t.useColors?"["+t.colors[e]+"m"+i+"[0m":i};t.window={width:h?s.stdout.getWindowSize?s.stdout.getWindowSize(1)[0]:l.getWindowSize()[1]:75},t.cursor={hide:function(){s.stdout.write("[?25l")},show:function(){s.stdout.write("[?25h")},deleteLine:function(){s.stdout.write("[2K")},beginningOfLine:function(){s.stdout.write("[0G")},CR:function(){t.cursor.deleteLine(),t.cursor.beginningOfLine()}},t.list=function(e){console.error(),e.forEach(function(e,t){var i=p("error title","  %s) %s:\n")+p("error message","     %s")+p("error stack","\n%s\n"),n=e.err,s=n.message||"",a=n.stack||s,l=a.indexOf(s)+s.length,c=a.slice(0,l),u=n.actual,d=n.expected,h=!0;if(n.showDiff&&(h=!1,n.actual=u=JSON.stringify(u,null,2),n.expected=d=JSON.stringify(d,null,2)),"string"==typeof u&&"string"==typeof d){c=r(n,"Words",h);var f=c.split("\n");if(f.length>4){var m=String(f.length).length;c=f.map(function(e,t){return o(++t,m)+" |"+" "+e}).join("\n")}c="\n"+p("diff removed","actual")+" "+p("diff added","expected")+"\n\n"+c+"\n",c=c.replace(/^/gm,"      "),i=p("error title","  %s) %s:\n%s")+p("error stack","\n%s\n")}a=a.slice(l?l+1:l).replace(/^/gm,"  "),console.error(i,t+1,e.fullTitle(),c,a)})},n.prototype.epilogue=function(){function e(e){return 1==e?"test":"tests"}var i,s=this.stats;return console.log(),s.failures?(i=p("bright fail","  "+t.symbols.err)+p("fail"," %d of %d %s failed")+p("light",":"),console.error(i,s.failures,this.runner.total,e(this.runner.total)),n.list(this.failures),console.error(),void 0):(i=p("bright pass"," ")+p("green"," %d %s complete")+p("light"," (%s)"),console.log(i,s.tests||0,e(s.tests),u(s.duration)),s.pending&&(i=p("pending"," ")+p("pending"," %d %s pending"),console.log(i,s.pending,e(s.pending))),console.log(),void 0)}}),e.register("reporters/doc.js",function(e,t,i){function n(e){function t(){return Array(i).join("  ")}s.call(this,e);var i=(this.stats,e.total,2);e.on("suite",function(e){e.root||(++i,console.log('%s<section class="suite">',t()),++i,console.log("%s<h1>%s</h1>",t(),o.escape(e.title)),console.log("%s<dl>",t()))}),e.on("suite end",function(e){e.root||(console.log("%s</dl>",t()),--i,console.log("%s</section>",t()),--i)}),e.on("pass",function(e){console.log("%s  <dt>%s</dt>",t(),o.escape(e.title));var i=o.escape(o.clean(e.fn.toString()));console.log("%s  <dd><pre><code>%s</code></pre></dd>",t(),i)})}var s=i("./base"),o=i("../utils");t=e.exports=n}),e.register("reporters/dot.js",function(e,t,i){function n(e){r.call(this,e);var t=this,i=(this.stats,0|.75*r.window.width),n=0;e.on("start",function(){s.stdout.write("\n  ")}),e.on("pending",function(){s.stdout.write(a("pending",r.symbols.dot))}),e.on("pass",function(e){0==++n%i&&s.stdout.write("\n  "),"slow"==e.speed?s.stdout.write(a("bright yellow",r.symbols.dot)):s.stdout.write(a(e.speed,r.symbols.dot))}),e.on("fail",function(){0==++n%i&&s.stdout.write("\n  "),s.stdout.write(a("fail",r.symbols.dot))}),e.on("end",function(){console.log(),t.epilogue()})}function o(){}var r=i("./base"),a=r.color;t=e.exports=n,o.prototype=r.prototype,n.prototype=new o,n.prototype.constructor=n}),e.register("reporters/html-cov.js",function(e,t,i){function n(e){var t=i("jade"),n=__dirname+"/templates/coverage.jade",l=a.readFileSync(n,"utf8"),c=t.compile(l,{filename:n}),u=this;r.call(this,e,!1),e.on("end",function(){s.stdout.write(c({cov:u.cov,coverageClass:o}))})}function o(e){return e>=75?"high":e>=50?"medium":e>=25?"low":"terrible"}var r=i("./json-cov"),a=i("browser/fs");t=e.exports=n}),e.register("reporters/html.js",function(e,t,i){function n(e,t){u.call(this,e);var i,n,g=this.stats,v=(e.total,o(m)),_=v.getElementsByTagName("li"),y=_[1].getElementsByTagName("em")[0],b=_[1].getElementsByTagName("a")[0],w=_[2].getElementsByTagName("em")[0],x=_[2].getElementsByTagName("a")[0],k=_[3].getElementsByTagName("em")[0],C=v.getElementsByTagName("canvas")[0],S=o('<ul id="mocha-report"></ul>'),T=[S];if(t=t||document.getElementById("mocha"),C.getContext){var E=window.devicePixelRatio||1;C.style.width=C.width,C.style.height=C.height,C.width*=E,C.height*=E,n=C.getContext("2d"),n.scale(E,E),i=new h}return t?(c(b,"click",function(){a();var e=/pass/.test(S.className)?"":" pass";S.className=S.className.replace(/fail|pass/g,"")+e,S.className.trim()&&r("test pass")}),c(x,"click",function(){a();var e=/fail/.test(S.className)?"":" fail";S.className=S.className.replace(/fail|pass/g,"")+e,S.className.trim()&&r("test fail")}),t.appendChild(v),t.appendChild(S),i&&i.size(40),e.on("suite",function(e){if(!e.root){var t="?grep="+encodeURIComponent(e.fullTitle()),i=o('<li class="suite"><h1><a href="%s">%s</a></h1></li>',t,p(e.title));T[0].appendChild(i),T.unshift(document.createElement("ul")),i.appendChild(T[0])}}),e.on("suite end",function(e){e.root||T.shift()}),e.on("fail",function(t){"hook"==t.type&&e.emit("test end",t)}),e.on("test end",function(e){var t=0|100*(g.tests/this.total);i&&i.update(t).draw(n);var s=new f-g.start;if(l(y,g.passes),l(w,g.failures),l(k,(s/1e3).toFixed(2)),"passed"==e.state)var r=o('<li class="test pass %e"><h2>%e<span class="duration">%ems</span> <a href="?grep=%e" class="replay">‣</a></h2></li>',e.speed,e.title,e.duration,encodeURIComponent(e.fullTitle()));else if(e.pending)var r=o('<li class="test pass pending"><h2>%e</h2></li>',e.title);else{var r=o('<li class="test fail"><h2>%e <a href="?grep=%e" class="replay">‣</a></h2></li>',e.title,encodeURIComponent(e.fullTitle())),a=e.err.stack||e.err.toString();~a.indexOf(e.err.message)||(a=e.err.message+"\n"+a),"[object Error]"==a&&(a=e.err.message),!e.err.stack&&e.err.sourceURL&&void 0!==e.err.line&&(a+="\n("+e.err.sourceURL+":"+e.err.line+")"),r.appendChild(o('<pre class="error">%e</pre>',a))}if(!e.pending){var u=r.getElementsByTagName("h2")[0];c(u,"click",function(){h.style.display="none"==h.style.display?"block":"none"});var h=o("<pre><code>%e</code></pre>",d.clean(e.fn.toString()));r.appendChild(h),h.style.display="none"}T[0]&&T[0].appendChild(r)}),void 0):s("#mocha div missing, add it to your document")}function s(e){document.body.appendChild(o('<div id="mocha-error">%s</div>',e))}function o(e){var t=arguments,i=document.createElement("div"),n=1;return i.innerHTML=e.replace(/%([se])/g,function(e,i){switch(i){case"s":return String(t[n++]);case"e":return p(t[n++])}}),i.firstChild}function r(e){for(var t=document.getElementsByClassName("suite"),i=0;t.length>i;i++){var n=t[i].getElementsByClassName(e);0==n.length&&(t[i].className+=" hidden")}}function a(){for(var e=document.getElementsByClassName("suite hidden"),t=0;e.length>t;++t)e[t].className=e[t].className.replace("suite hidden","suite")}function l(e,t){e.textContent?e.textContent=t:e.innerText=t}function c(e,t,i){e.addEventListener?e.addEventListener(t,i,!1):e.attachEvent("on"+t,i)}var u=i("./base"),d=i("../utils"),h=i("../browser/progress"),p=d.escape,f=global.Date;global.setTimeout,global.setInterval,global.clearTimeout,global.clearInterval,t=e.exports=n;var m='<ul id="mocha-stats"><li class="progress"><canvas width="40" height="40"></canvas></li><li class="passes"><a href="#">passes:</a> <em>0</em></li><li class="failures"><a href="#">failures:</a> <em>0</em></li><li class="duration">duration: <em>0</em>s</li></ul>'}),e.register("reporters/index.js",function(e,t,i){t.Base=i("./base"),t.Dot=i("./dot"),t.Doc=i("./doc"),t.TAP=i("./tap"),t.JSON=i("./json"),t.HTML=i("./html"),t.List=i("./list"),t.Min=i("./min"),t.Spec=i("./spec"),t.Nyan=i("./nyan"),t.XUnit=i("./xunit"),t.Markdown=i("./markdown"),t.Progress=i("./progress"),t.Landing=i("./landing"),t.JSONCov=i("./json-cov"),t.HTMLCov=i("./html-cov"),t.JSONStream=i("./json-stream"),t.Teamcity=i("./teamcity")}),e.register("reporters/json-cov.js",function(e,t,i){function n(e,t){var i=this,t=1==arguments.length?!0:t;l.call(this,e);var n=[],r=[],c=[];e.on("test end",function(e){n.push(e)}),e.on("pass",function(e){c.push(e)}),e.on("fail",function(e){r.push(e)}),e.on("end",function(){var e=global._$jscoverage||{},l=i.cov=o(e);l.stats=i.stats,l.tests=n.map(a),l.failures=r.map(a),l.passes=c.map(a),t&&s.stdout.write(JSON.stringify(l,null,2))})}function o(e){var t={instrumentation:"node-jscoverage",sloc:0,hits:0,misses:0,coverage:0,files:[]};for(var i in e){var n=r(i,e[i]);t.files.push(n),t.hits+=n.hits,t.misses+=n.misses,t.sloc+=n.sloc}return t.files.sort(function(e,t){return e.filename.localeCompare(t.filename)}),t.sloc>0&&(t.coverage=100*(t.hits/t.sloc)),t}function r(e,t){var i={filename:e,coverage:0,hits:0,misses:0,sloc:0,source:{}};return t.source.forEach(function(e,n){n++,0===t[n]?(i.misses++,i.sloc++):void 0!==t[n]&&(i.hits++,i.sloc++),i.source[n]={source:e,coverage:void 0===t[n]?"":t[n]}}),i.coverage=100*(i.hits/i.sloc),i}function a(e){return{title:e.title,fullTitle:e.fullTitle(),duration:e.duration}}var l=i("./base");t=e.exports=n}),e.register("reporters/json-stream.js",function(e,t,i){function n(e){r.call(this,e);var t=this,i=(this.stats,e.total);e.on("start",function(){console.log(JSON.stringify(["start",{total:i}]))}),e.on("pass",function(e){console.log(JSON.stringify(["pass",o(e)]))}),e.on("fail",function(e){console.log(JSON.stringify(["fail",o(e)]))}),e.on("end",function(){s.stdout.write(JSON.stringify(["end",t.stats]))})}function o(e){return{title:e.title,fullTitle:e.fullTitle(),duration:e.duration}}var r=i("./base");r.color,t=e.exports=n}),e.register("reporters/json.js",function(e,t,i){function n(e){var t=this;r.call(this,e);var i=[],n=[],a=[];e.on("test end",function(e){i.push(e)}),e.on("pass",function(e){a.push(e)}),e.on("fail",function(e){n.push(e)}),e.on("end",function(){var e={stats:t.stats,tests:i.map(o),failures:n.map(o),passes:a.map(o)};s.stdout.write(JSON.stringify(e,null,2))})}function o(e){return{title:e.title,fullTitle:e.fullTitle(),duration:e.duration}}var r=i("./base");r.cursor,r.color,t=e.exports=n}),e.register("reporters/landing.js",function(e,t,i){function n(e){function t(){var e=Array(n).join("-");return"  "+l("runway",e)}r.call(this,e);var i=this,n=(this.stats,0|.75*r.window.width),o=e.total,c=s.stdout,u=l("plane","✈"),d=-1,h=0;e.on("start",function(){c.write("\n  "),a.hide()}),e.on("test end",function(e){var i=-1==d?0|n*++h/o:d;"failed"==e.state&&(u=l("plane crash","✈"),d=i),c.write("[4F\n\n"),c.write(t()),c.write("\n  "),c.write(l("runway",Array(i).join("⋅"))),c.write(u),c.write(l("runway",Array(n-i).join("⋅")+"\n")),c.write(t()),c.write("[0m")}),e.on("end",function(){a.show(),console.log(),i.epilogue()})}function o(){}var r=i("./base"),a=r.cursor,l=r.color;t=e.exports=n,r.colors.plane=0,r.colors["plane crash"]=31,r.colors.runway=90,o.prototype=r.prototype,n.prototype=new o,n.prototype.constructor=n}),e.register("reporters/list.js",function(e,t,i){function n(e){r.call(this,e);var t=this,i=(this.stats,0);e.on("start",function(){console.log()}),e.on("test",function(e){s.stdout.write(l("pass","    "+e.fullTitle()+": "))}),e.on("pending",function(e){var t=l("checkmark","  -")+l("pending"," %s");console.log(t,e.fullTitle())}),e.on("pass",function(e){var t=l("checkmark","  "+r.symbols.dot)+l("pass"," %s: ")+l(e.speed,"%dms");a.CR(),console.log(t,e.fullTitle(),e.duration)}),e.on("fail",function(e){a.CR(),console.log(l("fail","  %d) %s"),++i,e.fullTitle())}),e.on("end",t.epilogue.bind(t))}function o(){}var r=i("./base"),a=r.cursor,l=r.color;t=e.exports=n,o.prototype=r.prototype,n.prototype=new o,n.prototype.constructor=n}),e.register("reporters/markdown.js",function(e,t,i){function n(e){function t(e){return Array(l).join("#")+" "+e}function i(e,t){var n=t;return t=t[e.title]=t[e.title]||{suite:e},e.suites.forEach(function(e){i(e,t)}),n}function n(e,t){++t;var i,s="";for(var o in e)"suite"!=o&&(o&&(i=" - ["+o+"](#"+r.slug(e[o].suite.fullTitle())+")\n"),o&&(s+=Array(t).join("  ")+i),s+=n(e[o],t));return--t,s}function a(e){var t=i(e,{});return n(t,0)}o.call(this,e);var l=(this.stats,0),c="";a(e.suite),e.on("suite",function(e){++l;var i=r.slug(e.fullTitle());c+='<a name="'+i+'"></a>'+"\n",c+=t(e.title)+"\n"}),e.on("suite end",function(){--l}),e.on("pass",function(e){var t=r.clean(e.fn.toString());c+=e.title+".\n",c+="\n```js\n",c+=t+"\n",c+="```\n\n"}),e.on("end",function(){s.stdout.write("# TOC\n"),s.stdout.write(a(e.suite)),s.stdout.write(c)})}var o=i("./base"),r=i("../utils");t=e.exports=n}),e.register("reporters/min.js",function(e,t,i){function n(e){r.call(this,e),e.on("start",function(){s.stdout.write("[2J"),s.stdout.write("[1;3H")}),e.on("end",this.epilogue.bind(this))}function o(){}var r=i("./base");t=e.exports=n,o.prototype=r.prototype,n.prototype=new o,n.prototype.constructor=n}),e.register("reporters/nyan.js",function(e,t,i){function n(e){a.call(this,e);var t=this,i=(this.stats,0|.75*a.window.width),n=(this.rainbowColors=t.generateColors(),this.colorIndex=0,this.numberOfLines=4,this.trajectories=[[],[],[],[]],this.nyanCatWidth=11);this.trajectoryWidthMax=i-n,this.scoreboardWidth=5,this.tick=0,e.on("start",function(){a.cursor.hide(),t.draw("start")}),e.on("pending",function(){t.draw("pending")}),e.on("pass",function(){t.draw("pass")}),e.on("fail",function(){t.draw("fail")}),e.on("end",function(){a.cursor.show();for(var e=0;t.numberOfLines>e;e++)o("\n");t.epilogue()})}function o(e){s.stdout.write(e)}function r(){}var a=i("./base");a.color,t=e.exports=n,n.prototype.draw=function(e){this.appendRainbow(),this.drawScoreboard(),this.drawRainbow(),this.drawNyanCat(e),this.tick=!this.tick},n.prototype.drawScoreboard=function(){function e(e,t){o(" "),o("["+e+"m"+t+"[0m"),o("\n")}var t=this.stats,i=a.colors;e(i.green,t.passes),e(i.fail,t.failures),e(i.pending,t.pending),o("\n"),this.cursorUp(this.numberOfLines)},n.prototype.appendRainbow=function(){for(var e=this.tick?"_":"-",t=this.rainbowify(e),i=0;this.numberOfLines>i;i++){var n=this.trajectories[i];n.length>=this.trajectoryWidthMax&&n.shift(),n.push(t)}},n.prototype.drawRainbow=function(){var e=this;this.trajectories.forEach(function(t){o("["+e.scoreboardWidth+"C"),o(t.join("")),o("\n")}),this.cursorUp(this.numberOfLines)},n.prototype.drawNyanCat=function(e){var t=this,i=this.scoreboardWidth+this.trajectories[0].length,n="["+i+"C",s="";o(n),o("_,------,"),o("\n"),o(n),s=t.tick?"  ":"   ",o("_|"+s+"/\\_/\\ "),o("\n"),o(n),s=t.tick?"_":"__";var r,a=t.tick?"~":"^";switch(e){case"pass":r="( ^ .^)";break;case"fail":r="( o .o)";break;default:r="( - .-)"}o(a+"|"+s+r+" "),o("\n"),o(n),s=t.tick?" ":"  ",o(s+'""  "" '),o("\n"),this.cursorUp(this.numberOfLines)},n.prototype.cursorUp=function(e){o("["+e+"A")},n.prototype.cursorDown=function(e){o("["+e+"B")},n.prototype.generateColors=function(){for(var e=[],t=0;42>t;t++){var i=Math.floor(Math.PI/3),n=t*(1/6),s=Math.floor(3*Math.sin(n)+3),o=Math.floor(3*Math.sin(n+2*i)+3),r=Math.floor(3*Math.sin(n+4*i)+3);e.push(36*s+6*o+r+16)}return e},n.prototype.rainbowify=function(e){var t=this.rainbowColors[this.colorIndex%this.rainbowColors.length];return this.colorIndex+=1,"[38;5;"+t+"m"+e+"[0m"},r.prototype=a.prototype,n.prototype=new r,n.prototype.constructor=n}),e.register("reporters/progress.js",function(e,t,i){function n(e,t){r.call(this,e);var i=this,t=t||{},n=(this.stats,0|.5*r.window.width),o=e.total,c=0;Math.max,t.open=t.open||"[",t.complete=t.complete||"▬",t.incomplete=t.incomplete||r.symbols.dot,t.close=t.close||"]",t.verbose=!1,e.on("start",function(){console.log(),a.hide()}),e.on("test end",function(){c++;var e=c/o,i=0|n*e,r=n-i;a.CR(),s.stdout.write("[J"),s.stdout.write(l("progress","  "+t.open)),s.stdout.write(Array(i).join(t.complete)),s.stdout.write(Array(r).join(t.incomplete)),s.stdout.write(l("progress",t.close)),t.verbose&&s.stdout.write(l("progress"," "+c+" of "+o))}),e.on("end",function(){a.show(),console.log(),i.epilogue()})}function o(){}var r=i("./base"),a=r.cursor,l=r.color;t=e.exports=n,r.colors.progress=90,o.prototype=r.prototype,n.prototype=new o,n.prototype.constructor=n}),e.register("reporters/spec.js",function(e,t,i){function n(e){function t(){return Array(n).join("  ")}r.call(this,e);var i=this,n=(this.stats,0),o=0;e.on("start",function(){console.log()}),e.on("suite",function(e){++n,console.log(l("suite","%s%s"),t(),e.title)}),e.on("suite end",function(){--n,1==n&&console.log()}),e.on("test",function(e){s.stdout.write(t()+l("pass","  ◦ "+e.title+": "))}),e.on("pending",function(e){var i=t()+l("pending","  - %s");console.log(i,e.title)}),e.on("pass",function(e){if("fast"==e.speed){var i=t()+l("checkmark","  "+r.symbols.ok)+l("pass"," %s ");a.CR(),console.log(i,e.title)}else{var i=t()+l("checkmark","  "+r.symbols.ok)+l("pass"," %s ")+l(e.speed,"(%dms)");a.CR(),console.log(i,e.title,e.duration)}}),e.on("fail",function(e){a.CR(),console.log(t()+l("fail","  %d) %s"),++o,e.title)}),e.on("end",i.epilogue.bind(i))}function o(){}var r=i("./base"),a=r.cursor,l=r.color;t=e.exports=n,o.prototype=r.prototype,n.prototype=new o,n.prototype.constructor=n}),e.register("reporters/tap.js",function(e,t,i){function n(e){o.call(this,e);var t=(this.stats,1),i=0,n=0;e.on("start",function(){var t=e.grepTotal(e.suite);console.log("%d..%d",1,t)}),e.on("test end",function(){++t}),e.on("pending",function(e){console.log("ok %d %s # SKIP -",t,s(e))}),e.on("pass",function(e){i++,console.log("ok %d %s",t,s(e))}),e.on("fail",function(e,i){n++,console.log("not ok %d %s",t,s(e)),i.stack&&console.log(i.stack.replace(/^/gm,"  "))}),e.on("end",function(){console.log("# tests "+(i+n)),console.log("# pass "+i),console.log("# fail "+n)})}function s(e){return e.fullTitle().replace(/#/g,"")}var o=i("./base");o.cursor,o.color,t=e.exports=n}),e.register("reporters/teamcity.js",function(e,t,i){function n(e){o.call(this,e);var t=this.stats;e.on("start",function(){console.log("##teamcity[testSuiteStarted name='mocha.suite']")}),e.on("test",function(e){console.log("##teamcity[testStarted name='"+s(e.fullTitle())+"']")}),e.on("fail",function(e,t){console.log("##teamcity[testFailed name='"+s(e.fullTitle())+"' message='"+s(t.message)+"']")}),e.on("pending",function(e){console.log("##teamcity[testIgnored name='"+s(e.fullTitle())+"' message='pending']")}),e.on("test end",function(e){console.log("##teamcity[testFinished name='"+s(e.fullTitle())+"' duration='"+e.duration+"']")}),e.on("end",function(){console.log("##teamcity[testSuiteFinished name='mocha.suite' duration='"+t.duration+"']")})}function s(e){return e.replace(/\|/g,"||").replace(/\n/g,"|n").replace(/\r/g,"|r").replace(/\[/g,"|[").replace(/\]/g,"|]").replace(/\u0085/g,"|x").replace(/\u2028/g,"|l").replace(/\u2029/g,"|p").replace(/'/g,"|'")}var o=i("./base");t=e.exports=n}),e.register("reporters/xunit.js",function(e,t,i){function n(e){l.call(this,e);var t=this.stats,i=[];e.on("pass",function(e){i.push(e)}),e.on("fail",function(e){i.push(e)}),e.on("end",function(){console.log(r("testsuite",{name:"Mocha Tests",tests:t.tests,failures:t.failures,errors:t.failures,skip:t.tests-t.failures-t.passes,timestamp:(new d).toUTCString(),time:t.duration/1e3},!1)),i.forEach(o),console.log("</testsuite>")})}function s(){}function o(e){var t={classname:e.parent.fullTitle(),name:e.title,time:e.duration/1e3};if("failed"==e.state){var i=e.err;t.message=u(i.message),console.log(r("testcase",t,!1,r("failure",t,!1,a(i.stack))))}else e.pending?console.log(r("testcase",t,!1,r("skipped",{},!0))):console.log(r("testcase",t,!0))}function r(e,t,i,n){var s,o=i?"/>":">",r=[];for(var a in t)r.push(a+'="'+u(t[a])+'"');return s="<"+e+(r.length?" "+r.join(" "):"")+o,n&&(s+=n+"</"+e+o),s}function a(e){return"<![CDATA["+u(e)+"]]>"}var l=i("./base"),c=i("../utils"),u=c.escape,d=global.Date;global.setTimeout,global.setInterval,global.clearTimeout,global.clearInterval,t=e.exports=n,s.prototype=l.prototype,n.prototype=new s,n.prototype.constructor=n}),e.register("runnable.js",function(e,t,i){function n(e,t){this.title=e,this.fn=t,this.async=t&&t.length,this.sync=!this.async,this._timeout=2e3,this._slow=75,this.timedOut=!1}function s(){}var o=i("browser/events").EventEmitter,r=i("browser/debug")("mocha:runnable"),a=i("./ms"),l=global.Date,c=global.setTimeout,u=(global.setInterval,global.clearTimeout);global.clearInterval;var d=Object.prototype.toString;e.exports=n,s.prototype=o.prototype,n.prototype=new s,n.prototype.constructor=n,n.prototype.timeout=function(e){return 0==arguments.length?this._timeout:("string"==typeof e&&(e=a(e)),r("timeout %d",e),this._timeout=e,this.timer&&this.resetTimeout(),this)},n.prototype.slow=function(e){return 0===arguments.length?this._slow:("string"==typeof e&&(e=a(e)),r("timeout %d",e),this._slow=e,this)},n.prototype.fullTitle=function(){return this.parent.fullTitle()+" "+this.title},n.prototype.clearTimeout=function(){u(this.timer)},n.prototype.inspect=function(){return JSON.stringify(this,function(e,t){return"_"!=e[0]?"parent"==e?"#<Suite>":"ctx"==e?"#<Context>":t:void 0},2)},n.prototype.resetTimeout=function(){var e=this,t=this.timeout();this.clearTimeout(),t&&(this.timer=c(function(){e.callback(new Error("timeout of "+t+"ms exceeded")),e.timedOut=!0},t))},n.prototype.run=function(e){function t(e){s||(s=!0,o.emit("error",e||new Error("done() called multiple times")))}function i(i){if(!o.timedOut){if(n)return t(i);o.clearTimeout(),o.duration=new l-a,n=!0,e(i)}}var n,s,o=this,r=this.timeout(),a=new l,u=this.ctx;if(u&&u.runnable(this),this.async&&r&&(this.timer=c(function(){i(new Error("timeout of "+r+"ms exceeded")),o.timedOut=!0},r)),this.callback=i,this.async)try{this.fn.call(u,function(e){return e instanceof Error||"[object Error]"===d.call(e)?i(e):null!=e?i(new Error("done() invoked with non-Error: "+e)):(i(),void 0)})}catch(h){i(h)}else{if(this.asyncOnly)return i(new Error("--async-only option in use without declaring `done()`"));try{this.pending||this.fn.call(u),this.duration=new l-a,e()}catch(h){e(h)}}}}),e.register("runner.js",function(e,t,i){function n(e){var t=this;this._globals=[],this.suite=e,this.total=e.total(),this.failures=0,this.on("test end",function(e){t.checkGlobals(e)}),this.on("hook end",function(e){t.checkGlobals(e)}),this.grep(/.*/),this.globals(this.globalProps().concat(["errno"]))}function o(){}function r(e,t){return u(t,function(t){if(/^d+/.test(t))return!1;var i=u(e,function(e){return~e.indexOf("*")?0==t.indexOf(e.split("*")[0]):/^mocha-/.test(t)?!0:t==e});return 0==i.length&&(!global.navigator||"onerror"!==t)})}var a=i("browser/events").EventEmitter,l=i("browser/debug")("mocha:runner"),c=(i("./test"),i("./utils")),u=c.filter;c.keys;var d=["setTimeout","clearTimeout","setInterval","clearInterval","XMLHttpRequest","Date"];e.exports=n,n.immediately=global.setImmediate||s.nextTick,o.prototype=a.prototype,n.prototype=new o,n.prototype.constructor=n,n.prototype.grep=function(e,t){return l("grep %s",e),this._grep=e,this._invert=t,this.total=this.grepTotal(this.suite),this},n.prototype.grepTotal=function(e){var t=this,i=0;return e.eachTest(function(e){var n=t._grep.test(e.fullTitle());t._invert&&(n=!n),n&&i++}),i},n.prototype.globalProps=function(){for(var e=c.keys(global),t=0;d.length>t;++t)~c.indexOf(e,d[t])||e.push(d[t]);return e},n.prototype.globals=function(e){return 0==arguments.length?this._globals:(l("globals %j",e),c.forEach(e,function(e){this._globals.push(e)},this),this)},n.prototype.checkGlobals=function(e){if(!this.ignoreLeaks){var t,i=this._globals,n=this.globalProps(),o=s.kill;o&&1==i.length-n.length||2!=i.length-n.length&&(t=r(i,n),this._globals=this._globals.concat(t),t.length>1?this.fail(e,new Error("global leaks detected: "+t.join(", "))):t.length&&this.fail(e,new Error("global leak detected: "+t[0])))}},n.prototype.fail=function(e,t){++this.failures,e.state="failed","string"==typeof t&&(t=new Error('the string "'+t+'" was thrown, throw an Error :)')),this.emit("fail",e,t)},n.prototype.failHook=function(e,t){this.fail(e,t),this.emit("end")},n.prototype.hook=function(e,t){function i(e){var n=o[e];return n?(r.currentRunnable=n,r.emit("hook",n),n.on("error",function(e){r.failHook(n,e)}),n.run(function(t){n.removeAllListeners("error");var s=n.error();return s&&r.fail(r.test,s),t?r.failHook(n,t):(r.emit("hook end",n),i(++e),void 0)}),void 0):t()}var s=this.suite,o=s["_"+e],r=this;n.immediately(function(){i(0)})},n.prototype.hooks=function(e,t,i){function n(r){return s.suite=r,r?(s.hook(e,function(e){return e?(s.suite=o,i(e)):(n(t.pop()),void 0)}),void 0):(s.suite=o,i())}var s=this,o=this.suite;n(t.pop())},n.prototype.hookUp=function(e,t){var i=[this.suite].concat(this.parents()).reverse();this.hooks(e,i,t)},n.prototype.hookDown=function(e,t){var i=[this.suite].concat(this.parents());this.hooks(e,i,t)},n.prototype.parents=function(){for(var e=this.suite,t=[];e=e.parent;)t.push(e);return t},n.prototype.runTest=function(e){var t=this.test,i=this;this.asyncOnly&&(t.asyncOnly=!0);try{t.on("error",function(e){i.fail(t,e)}),t.run(e)}catch(n){e(n)}},n.prototype.runTests=function(e,t){function i(){if(s.failures&&e._bail)return t();if(n=o.shift(),!n)return t();var r=s._grep.test(n.fullTitle());return s._invert&&(r=!r),r?n.pending?(s.emit("pending",n),s.emit("test end",n),i()):(s.emit("test",s.test=n),s.hookDown("beforeEach",function(){s.currentRunnable=s.test,s.runTest(function(e){return n=s.test,e?(s.fail(n,e),s.emit("test end",n),s.hookUp("afterEach",i)):(n.state="passed",s.emit("pass",n),s.emit("test end",n),s.hookUp("afterEach",i),void 0)})}),void 0):i()}var n,s=this,o=e.tests.slice();this.next=i,i()},n.prototype.runSuite=function(e,t){function i(){var t=e.suites[r++];return t?(o.runSuite(t,i),void 0):n()}function n(){o.suite=e,o.hook("afterAll",function(){o.emit("suite end",e),t()})}var s=this.grepTotal(e),o=this,r=0;return l("run suite %s",e.fullTitle()),s?(this.emit("suite",this.suite=e),this.hook("beforeAll",function(){o.runTests(e,i)}),void 0):t()},n.prototype.uncaught=function(e){l("uncaught exception %s",e.message);var t=this.currentRunnable;if(t&&"failed"!=t.state)return t.clearTimeout(),e.uncaught=!0,this.fail(t,e),"test"==t.type?(this.emit("test end",t),this.hookUp("afterEach",this.next),void 0):(this.emit("end"),void 0)},n.prototype.run=function(e){function t(e){i.uncaught(e)}var i=this,e=e||function(){};return l("start"),this.on("end",function(){l("end"),s.removeListener("uncaughtException",t),e(i.failures)}),this.emit("start"),this.runSuite(this.suite,function(){l("finished running"),i.emit("end")}),s.on("uncaughtException",t),this}}),e.register("suite.js",function(e,t,i){function n(e,t){this.title=e,this.ctx=t,this.suites=[],this.tests=[],this.pending=!1,this._beforeEach=[],this._beforeAll=[],this._afterEach=[],this._afterAll=[],this.root=!e,this._timeout=2e3,this._slow=75,this._bail=!1}function s(){}var o=i("browser/events").EventEmitter,r=i("browser/debug")("mocha:suite"),a=i("./ms"),l=i("./utils"),c=i("./hook");t=e.exports=n,t.create=function(e,t){var i=new n(t,e.ctx);return i.parent=e,e.pending&&(i.pending=!0),t=i.fullTitle(),e.addSuite(i),i},s.prototype=o.prototype,n.prototype=new s,n.prototype.constructor=n,n.prototype.clone=function(){var e=new n(this.title);return r("clone"),e.ctx=this.ctx,e.timeout(this.timeout()),e.slow(this.slow()),e.bail(this.bail()),e},n.prototype.timeout=function(e){return 0==arguments.length?this._timeout:("string"==typeof e&&(e=a(e)),r("timeout %d",e),this._timeout=parseInt(e,10),this)},n.prototype.slow=function(e){return 0===arguments.length?this._slow:("string"==typeof e&&(e=a(e)),r("slow %d",e),this._slow=e,this)},n.prototype.bail=function(e){return 0==arguments.length?this._bail:(r("bail %s",e),this._bail=e,this)},n.prototype.beforeAll=function(e){if(this.pending)return this;var t=new c('"before all" hook',e);return t.parent=this,t.timeout(this.timeout()),t.slow(this.slow()),t.ctx=this.ctx,this._beforeAll.push(t),this.emit("beforeAll",t),this},n.prototype.afterAll=function(e){if(this.pending)return this;var t=new c('"after all" hook',e);return t.parent=this,t.timeout(this.timeout()),t.slow(this.slow()),t.ctx=this.ctx,this._afterAll.push(t),this.emit("afterAll",t),this},n.prototype.beforeEach=function(e){if(this.pending)return this;var t=new c('"before each" hook',e);return t.parent=this,t.timeout(this.timeout()),t.slow(this.slow()),t.ctx=this.ctx,this._beforeEach.push(t),this.emit("beforeEach",t),this
},n.prototype.afterEach=function(e){if(this.pending)return this;var t=new c('"after each" hook',e);return t.parent=this,t.timeout(this.timeout()),t.slow(this.slow()),t.ctx=this.ctx,this._afterEach.push(t),this.emit("afterEach",t),this},n.prototype.addSuite=function(e){return e.parent=this,e.timeout(this.timeout()),e.slow(this.slow()),e.bail(this.bail()),this.suites.push(e),this.emit("suite",e),this},n.prototype.addTest=function(e){return e.parent=this,e.timeout(this.timeout()),e.slow(this.slow()),e.ctx=this.ctx,this.tests.push(e),this.emit("test",e),this},n.prototype.fullTitle=function(){if(this.parent){var e=this.parent.fullTitle();if(e)return e+" "+this.title}return this.title},n.prototype.total=function(){return l.reduce(this.suites,function(e,t){return e+t.total()},0)+this.tests.length},n.prototype.eachTest=function(e){return l.forEach(this.tests,e),l.forEach(this.suites,function(t){t.eachTest(e)}),this}}),e.register("test.js",function(e,t,i){function n(e,t){o.call(this,e,t),this.pending=!t,this.type="test"}function s(){}var o=i("./runnable");e.exports=n,s.prototype=o.prototype,n.prototype=new s,n.prototype.constructor=n}),e.register("utils.js",function(e,t,i){function n(e){return!~c.indexOf(e)}function s(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\/\/(.*)/gm,'<span class="comment">//$1</span>').replace(/('.*?')/gm,'<span class="string">$1</span>').replace(/(\d+\.\d+)/gm,'<span class="number">$1</span>').replace(/(\d+)/gm,'<span class="number">$1</span>').replace(/\bnew *(\w+)/gm,'<span class="keyword">new</span> <span class="init">$1</span>').replace(/\b(function|new|throw|return|var|if|else)\b/gm,'<span class="keyword">$1</span>')}var o=i("browser/fs"),r=i("browser/path"),a=r.join,l=i("browser/debug")("mocha:watch"),c=["node_modules",".git"];t.escape=function(e){return String(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},t.forEach=function(e,t,i){for(var n=0,s=e.length;s>n;n++)t.call(i,e[n],n)},t.indexOf=function(e,t,i){for(var n=i||0,s=e.length;s>n;n++)if(e[n]===t)return n;return-1},t.reduce=function(e,t,i){for(var n=i,s=0,o=e.length;o>s;s++)n=t(n,e[s],s,e);return n},t.filter=function(e,t){for(var i=[],n=0,s=e.length;s>n;n++){var o=e[n];t(o,n,e)&&i.push(o)}return i},t.keys=Object.keys||function(e){var t=[],i=Object.prototype.hasOwnProperty;for(var n in e)i.call(e,n)&&t.push(n);return t},t.watch=function(e,t){var i={interval:100};e.forEach(function(e){l("file %s",e),o.watchFile(e,i,function(i,n){n.mtime<i.mtime&&t(e)})})},t.files=function(e,i){return i=i||[],o.readdirSync(e).filter(n).forEach(function(n){n=a(e,n),o.statSync(n).isDirectory()?t.files(n,i):n.match(/\.(js|coffee)$/)&&i.push(n)}),i},t.slug=function(e){return e.toLowerCase().replace(/ +/g,"-").replace(/[^-\w]/g,"")},t.clean=function(e){e=e.replace(/^function *\(.*\) *{/,"").replace(/\s+\}$/,"");var i=e.match(/^\n?( *)/)[1].length,n=new RegExp("^ {"+i+"}","gm");return e=e.replace(n,""),t.trim(e)},t.escapeRegexp=function(e){return e.replace(/[-\\^$*+?.()|[\]{}]/g,"\\$&")},t.trim=function(e){return e.replace(/^\s+|\s+$/g,"")},t.parseQuery=function(e){return t.reduce(e.replace("?","").split("&"),function(e,t){var i=t.indexOf("="),n=t.slice(0,i),s=t.slice(++i);return e[n]=decodeURIComponent(s),e},{})},t.highlightTags=function(e){for(var t=document.getElementsByTagName(e),i=0,n=t.length;n>i;++i)t[i].innerHTML=s(t[i].innerHTML)}});var i=window.Date,n=window.setTimeout;window.setInterval,window.clearTimeout,window.clearInterval;var s={};s.exit=function(){},s.stdout={},global=window,s.removeListener=function(e){"uncaughtException"==e&&(window.onerror=null)},s.on=function(e,t){"uncaughtException"==e&&(window.onerror=function(e,i,n){t(new Error(e+" ("+i+":"+n+")"))})};var o,r=window.Mocha=e("mocha"),a=window.mocha=new r({reporter:"html"}),l=[];r.Runner.immediately=function(e){l.push(e),o||(o=n(t,0))},a.ui=function(e){return r.prototype.ui.call(this,e),this.suite.emit("pre-require",window,null,this),this},a.setup=function(e){"string"==typeof e&&(e={ui:e});for(var t in e)this[t](e[t]);return this},a.run=function(e){a.options,a.globals("location");var t=r.utils.parseQuery(window.location.search||"");return t.grep&&a.grep(t.grep),t.invert&&a.invert(),r.prototype.run.call(a,function(){r.utils.highlightTags("code"),e&&e()})}}(),"undefined"==typeof BrowserDetect)var BrowserDetect=function(){function e(){var e=!!(navigator.mimeTypes["application/x-shockwave-flash"]||window.ActiveXObject&&new ActiveXObject("ShockwaveFlash.ShockwaveFlash")),t=navigator.userAgent.toLowerCase(),i=-1!=t.indexOf("mac"),n=-1!=t.indexOf("linux"),s=-1!=t.indexOf("windows"),o=-1!=t.indexOf("iphone"),r=-1!=t.indexOf("ipad"),a=-1!=t.indexOf("android"),l=-1!=t.indexOf("windows phone"),c=-1!=t.indexOf("bb version")||-1!=t.indexOf("blackberry")||-1!=t.indexOf("rim tablet os"),u=-1!=t.indexOf("chrome"),d=!u&&-1!=t.indexOf("safari"),h=-1!=t.indexOf("firefox"),p=t.indexOf("msie"),f="",m="0123456789. ";if(p>=0){for(var g=p+5;t.length>g;g++){var v=t.charAt(g);if(-1==m.indexOf(v))break;" "!=v&&(f+=v.toString())}f=Math.floor(parseInt(f)),p=!0}else f=0,p=!1;this.hasFlashPlugin=function(){return e},this.userAgent=function(){return t},this.isMac=function(){return i},this.isLinux=function(){return n},this.isWindows=function(){return s},this.isIPhone=function(){return o},this.isIPad=function(){return r},this.isAndroid=function(){return a},this.isWinPhone=function(){return l},this.isBlackberry=function(){return c},this.isMobileBrowser=function(){return o||r||a||l||c},this.isChrome=function(){return u},this.isSafari=function(){return d},this.isFirefox=function(){return h},this.isIE=function(e){return p&&"undefined"!=typeof e?0==Math.floor(Math.abs(parseInt(e)-f)):p},this.versionIE=function(){return f},this.async_init=function(e,t,i,n){"undefined"==typeof i&&(i=20),"undefined"==typeof n&&(n=500);var s=0,o=function(){var r=t();r?e():i>s?(window.setTimeout(o,n),s++):(assert(r),e())};window.setTimeout(o,n)}}var t=null;return new function(){this.test=function(){return null==t&&(t=new e,t.constructor=null),t}}}();var ClientStorage=function(){function e(e){e||(e={});var t=null,i=365,n="/",s=null,o=!1,r=!1,a={};if(this.setCookie=function(e,t,i){this.delCookie(e);var r=new Date;r.setTime(r.getTime()+1e3*60*60*24*i);var a="; expires="+r.toGMTString();return a+="; path="+n,s&&(a+="; domain="+s),o&&(a+="; Secure"),document.cookie=e+"="+encodeURIComponent(t)+a,t},this.getCookie=function(e){for(var t=e+"=",i=document.cookie.split(";"),n=0;i.length>n;n++){var s=i[n].trim();if(console.log(t),console.log(s),console.log("---"),0==s.indexOf(t))return decodeURIComponent(s.substring(t.length,s.length))}return""},this.delCookie=function(e){var t=new Date;t.setTime(t.getTime()-1e3);var i="; expires="+t.toGMTString();i+="; path="+n,s&&(i+="; domain="+s),o&&(i+="; Secure"),document.cookie=e+"="+i},"expire_days"in e&&(i=e.expire_days),"path"in e&&(n=e.path),"domain"in e&&(s=e.domain),"secure"in e&&(o=e.secure),"expire_days"in e&&(i=e.expire_days),"force_cookie"in e&&(r=e.force_cookie),!r)try{t=window.localStorage}catch(l){t=null}var c=this;window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(e,n,s){if(a[n]=s,0==n.indexOf("debug"))if(null==t||r)try{c.setCookie(n,s,i)}catch(o){}else t[n]=s}),this.passesWeirdLocalStorageBug=function(){var e=!0;if(null==t)return!1;try{window.localStorage.setItem("jibjab_test","jj"),window.localStorage.removeItem("jibjab_test")}catch(i){e=!1}return e},this.supportsLocalStorage=function(){return null!=t&&this.passesWeirdLocalStorageBug()},this.set=function(e,n){var s=n;return this.supportsLocalStorage()?t[e]=n:this.setCookie(e,n,i),s},this.get=function(e){var i=null;return i=this.supportsLocalStorage()?t[e]:this.getCookie(e)},this.del=function(e){this.supportsLocalStorage()?t.removeItem(e):this.delCookie(e)},this.get_param=function(e){return a[e]},this.debug_log=function(e){var t=this.get("debug_log");if(null!=t&&(t=parseInt(t)),1==t)try{console.log(e)}catch(i){}}}var t=null;return new function(){this.storage=function(i){return i||(i={}),(null==t||i.force)&&(t=new e(i),t.constructor=null),t}}}(),PromptUser={title:"",message:"",left_button:"Cancel",right_button:"OK",on_left_click:null,on_right_click:null,on_close:null,init:function(e){var t=this;"undefined"!=typeof e.title&&(t.title=e.title),"undefined"!=typeof e.message&&(t.message=e.message),"undefined"!=typeof e.left_button&&(t.left_button=e.left_button),"undefined"!=typeof e.right_button&&(t.right_button=e.right_button),t.on_left_click=e.on_left_click?e.on_left_click:null,t.on_right_click=e.on_right_click?e.on_right_click:null,t.on_close=e.on_close?e.on_close:null,t.positionModal();var i=$("#prompt-user-modal"),n=$("#prompt-user-close"),s=$("#prompt-user-button-left"),o=$("#prompt-user-button-right");i.find(".prompt-user-title").html(t.title),i.find(".prompt-user-message").html(t.message),n.unbind("click").click(function(){t.closeModal(t.on_close)}),null==t.left_button?s.addClass("hidden"):(s.removeClass("hidden"),s.html(t.left_button).unbind("click").click(function(){t.closeModal(t.on_left_click)})),null==t.right_button?o.addClass("hidden"):(s.removeClass("hidden"),o.html(t.right_button).unbind("click").click(function(){t.closeModal(t.on_right_click)})),$(window).resize(this.repositionModal),$(window).scroll(this.repositionModal)},closeModal:function(e){return $("#prompt-user-close").animate({opacity:"0.0"},{complete:function(){$(this).css({display:"none"})},duration:200}),$("#prompt-user-modal").animate({opacity:"0.0"},{complete:function(){$(this).css({display:"none"});try{e&&e()}catch(t){}},duration:200}),!1},positionClose:function(){var e=$("#prompt-user-modal"),t=$("#prompt-user-close"),i=$(document).width(),n=parseInt(e.css("left"))+parseInt(e.css("width"))+parseInt(e.css("padding-left"))+parseInt(e.css("padding-right"))-t.width()/2,s=$(window).scrollTop()+40;return 656>=i&&(n-=44),t.css({display:"block",left:n+"px",top:s+"px","z-index":"1001"}).animate({opacity:"1.0"}),!1},positionModal:function(){var e=$("#prompt-user-modal");$("#prompt-user-close");var t=($(document).width()-e.width()-parseInt(e.css("padding-left"))-parseInt(e.css("padding-right")))/2,i=$(window).scrollTop()+70;return e.css({top:i+"px",left:t+"px","z-index":"1000"}),e.css({display:"block"}).animate({opacity:"1.0"}),this.positionClose(),!1},repositionModal:function(){var e=$("#prompt-user-modal"),t=$("#prompt-user-close"),i=($(document).width()-e.width()-parseInt(e.css("padding-left"))-parseInt(e.css("padding-right")))/2,n=$(window).scrollTop()+70;e.css({"z-index":"1000",top:n+"px",left:i+"px"});var s=$(document).width(),o=parseInt(e.css("left"))+parseInt(e.css("width"))+parseInt(e.css("padding-left"))+parseInt(e.css("padding-right"))-t.width()/2,r=$(window).scrollTop()+40;return 656>=s&&(o-=44),t.css({"z-index":"1001",left:o+"px",top:r+"px"}),!1}};$(document).ready(function(){function e(){var e=(window.navigator||{userAgent:""}).userAgent;return e.match(/Version\/5.+Safari/)?!0:document.all&&document.documentMode&&8===document.documentMode?!0:!1}var t=($(window),$("[data-component='carousel']")),i={autoScroll:!0,scrollInterval:5e3,scrollSpeed:500,transitions:!1};1>t.length||(e()||$.support.transform&&(i.transitions=!0),t.each(function(){var e=$(this),t=e.find(">ul"),n=t.find(">li");n.first().clone().appendTo(t),n=t.find(">li");var s=100/n.length,o=0,r=$.extend({},i,e.data("options"));t.width(n.length+"00%"),n.width(s+"%"),t.css("opacity","1");var a,l;r.transitions?(a=function(){if(-o>n.length-1)t.css("transform","translate3d(0,0,0)"),t.animate({fakeTransform:0},0),o=-1;else if(o>0){var e=-(100-s);t.css("transform","translate3d("+e+"%,0,0)"),t.animate({fakeTransform:e+"%"},0),o=-(n.length-2)}},l=function(e){t.animate({fakeTransform:e*s},{duration:r.scrollSpeed,step:function(e){t.css("transform","translate3d("+e+"%,0,0)")}})}):(a=function(){-o>n.length-1?(t.css("left",0),o=-1):o>0&&(t.css("left",-(n.length-1)+"00%"),o=-(n.length-2))},l=function(e){t.animate({left:e+"00%"},r.scrollSpeed)});var c=function(e){switch(e){case"left":case!0:case 1:o++;break;default:o--}a(),d(),l(o)},u=function(){return Math.abs(-o%(n.length-1))},d=function(){var t=e.find(".dot"),i=u(),n=t.get(i);t.removeClass("active"),n&&$(n).addClass("active")},h=$("[data-action='carousel-scroll'][data-carousel='"+e.attr("id")+"']");if(h.on("click",function(e){e.preventDefault(),c(e.target.dataset.direction)}),r.autoScroll){var p=function(){c(-1)},f=function(){p(),m(r.scrollInterval)},m=function(e){scrollTimer=setTimeout(f,e)},g=function(){clearTimeout(scrollTimer)};m(2*r.scrollInterval),h.on("click",function(){g(),m(1e4)}),e.one("carousel.stopScroll",function(){clearTimeout(timeout)})}}))}),$(document).ready(function(){if(!("ontouchstart"in window)){var e=$(window);$("[data-component='parallax-scroller']").each(function(){var t=$(this),i=t.offset(),n=i.top,s=t.data("offsetY"),o=null,r=t.data("speed");e.on("scroll",function(){e.scrollTop()+e.height()>n&&n+t.outerHeight()>e.scrollTop()&&t.is(":visible")&&(o=-(e.scrollTop()/r),s&&(o+=s),t.css("backgroundPosition","50% "+o+"px"))})})}}),jQuery(function(){$.support.localStorage="undefined"!=typeof Storage&&void 0!==localStorage,$.support.transform=function(){var e="transform WebkitTransform MozTransform OTransform msTransform".split(" "),t=document.createElement("div");for(idx=null,idx=0;e.length>idx;idx++)if(void 0!==t.style[e[idx]])return!0;return!1}()}),jQuery(function(e){if(e.support.localStorage){var t=window.localStorage;e("input.sticky:checkbox").each(function(){var i=e(this),n=i.attr("name"),s="stickybox/"+n,o=t[s];void 0!==o&&i.prop("checked","true"==o),i.on("change",function(i){var o=i.target.checked;t[s]=o.toString(),e("input.sticky:checkbox[name="+n+"]").prop("checked",o)})})}}),$(function(){function e(e,t){for(var i=0;t.length>i;i++){var n=t[i];if(0>e.indexOf(n))return!1}return!0}function t(t){var n=t.data("activators");if(!n)return!1;for(var s=n.split(/ +OR +/),o=0;s.length>o;o++){var r=s[o],a=r.split(/ +/);if(r&&e(i,a))return!0}return!1}var i=document.body.className.split(/ +/);$("ul.activator").find(">li[data-activators]").each(function(){var e=$(this);t(e)&&e.addClass("active")})}),$(function(){var e=function(t){this.stage=new createjs.Stage(t),this.$canvas=$(t),this.queue=new createjs.LoadQueue(!1),this.heads=e.headData,e.isDisabled?this.disablePie():this.init()};e.isDisabled=1==window.disablePie,e.headData=null,e.maxHeads=0,e.loadedImageCounter=0,e.shuffleHeads=function(e){for(var t,i,n=e.length;0!==n;)i=Math.floor(Math.random()*n),n-=1,t=e[n],e[n]=e[i],e[i]=t;return e},e.preloadHeads=function(){e.headData=USER_HEADS_DATA,e.maxHeads=10>e.headData.length?e.headData.length:10;for(var t=new Array,i=400/134,n=0;e.maxHeads>n;n++){var s=new Image;s.crossOrigin="Anonymous",s.src=e.headData[n].head,s.headData=e.headData[n],s.scaleFactor=i,s.onload=function(){e.loadedImageCounter++},t.push(s)}e.headData=t},e.headsReady=function(){return e.loadedImageCounter==e.maxHeads},e.prototype.disablePie=function(){var e=this.$canvas.attr("data-thumbnail-url");e&&"null"!=e&&this.$canvas.parent().css("background-image","url("+e+")"),this.$canvas.remove()},e.prototype.init=function(){this.$canvas.css("display","none");var e=[],t=this.$canvas.data("backgroundImage"),i=this.$canvas.data("maskBackground");t&&"null"!=t&&e.push({id:"background",src:t}),i&&"null"!=i&&e.push({id:"maskBackground",src:i}),this.queue.loadManifest(e),this.queue.addEventListener("complete",$.proxy(this.composite,this))},e.prototype.composite=function(){var e=new createjs.Bitmap(this.queue.getResult("background")),t=this.stage,i=this.$canvas,n=new createjs.Bitmap(this.queue.getResult("maskBackground"));t.addChild(n),this.setHeads(),t.addChild(e),t.update(),i.fadeIn()},e.prototype.randomizeHeads=function(){this.heads=e.shuffleHeads(this.heads)},e.prototype.setHeads=function(){this.$canvas.data("disableRandomizedHeads")||this.randomizeHeads();for(var e=this.heads,t=this.$canvas.data("headConfig"),i=0;t.length>i;i++){var n=e[i%e.length];config=t[i];var s=new createjs.Bitmap(n);s.set({regX:n.headData.jaw_center_x/n.scaleFactor,regY:n.headData.jaw_center_y/n.scaleFactor,x:config.x,y:config.y,rotation:config.rotation,scaleX:3*config.scale,scaleY:3*config.scale}),config.grayscale&&(s.filters=[new createjs.ColorMatrixFilter(new createjs.ColorMatrix(0,0,-100,0))],s.cache(0,0,s.image.width,s.image.height,1)),this.stage.addChildAt(s,1)}};var t=function(e){if(!e)return!1;try{var t=e.parents(".featured_template");if(t.length>0)return!0;var i=$(window).height(),n=$(document).scrollTop(),s=n+1.5*i,o=e.offset().top,r=o+e.height();return o>=n&&s>=o||r>=n&&s>=r}catch(a){}return!1};$(document).ready(function(){BrowserDetect.test().async_init(function(){var i=$("body").attr("data-pie-enabled");"true"==i||"1"==i||"yes"==i?(e.preloadHeads(),window.setInterval(function(){$('.thumbnail-image-holder canvas[data-rendered="false"]').each(function(){if(t($(this))&&e.headsReady()){var i=this;$(i).attr("data-rendered","true"),new e(i)}})},500)):window.setInterval(function(){$('.thumbnail-image-holder canvas[data-rendered="false"]').each(function(){if(t($(this))){var e=$(this),i=e.attr("data-thumbnail-url");i&&(e.parent().css("background-image","url("+i+")"),e.remove())}})},500)},function(){var e=$("body").attr("data-pie-enabled");return null!=e},1e6,500)})});var JIBJAB=JIBJAB||{};JIBJAB.flash={},JIBJAB.flash.Helper=function(e,t){function i(e){console.log(o,e)}function n(i,n,s,o){e.Analytics!==t&&Analytics.trackEvent(i,n,s,o)}function s(i){e.Analytics!==t&&Analytics.trackPage(i)}var o="[JIBJAB.flash.Helper]";return{logError:i,trackEvent:n,trackPage:s}}(window),JIBJAB.flash.Player=function(e){function t(){var t=-1!=navigator.appName.indexOf("Microsoft");return t?e[a]:document[a]}function i(e){console.log(r,"setVolume",e)}function n(){return console.log(r,"getVolume"),1}function s(){console.log(r,"pauseVideo")}function o(){console.log(r,"resumeVideo")}var r="[JIBJAB.flash.Player]",a="jibjab-flash-video-player";return{getElement:t,setVolume:i,getVolume:n,pauseVideo:s,resumeVideo:o}}(window),JIBJAB.flash.Casting=function(e){function t(){var t=-1!=navigator.appName.indexOf("Microsoft");return t?e[d]:document[d]}function i(){return d}function n(){var e="JibJab Flash Casting";JJFB.login_with_perms(JJFB.perms.default_required,e,function(){ClientStorage.storage().set("open_flash_fb","1"),$(".login-modal").is(":visible")&&JJModal.hideModal(),JJFB.reloadPage()})}function s(){UserConfig.facebook_connected?m?o(h.READY,m):FB.api("/me",{fields:"id,name,picture"},function(e){o(h.READY,m=e)}):n()}function o(e,i){console.log(u,"cbInitComplete",e,i),t()[p.CB_FB_READY](e,i)}function r(){g?l(f.LOAD_MYSELF_AND_FRIENDS,g):FB.api("/me/friends",{fields:"id,name,picture"},function(e){l(f.LOAD_MYSELF_AND_FRIENDS,g=e)})}function a(e){FB.api("/"+e,{fields:"albums{photos{picture,source},cover_photo,name,count}"},function(e){l(f.LOAD_FRIEND_ALBUMS,e.albums)})}function l(e,i){console.log(u,"cbApiResponse",e,i),t()[p.CB_FB_API_RESPONSE](e,i)}function c(){return UserConfig.facebook_connected}var u="[JIBJAB.flash.Casting]",d="jibjab-flash-casting-client",h={LIB_NOT_READY:"statusLibNotReady",READY:"statusUserReady"},p={CB_FB_READY:"JIBJAB.flash.Casting.onFBReady",CB_FB_API_RESPONSE:"JIBJAB.flash.Casting.onFBAPIResponse"},f={LOAD_MYSELF_AND_FRIENDS:"loadMyselfAndFriends",LOAD_FRIEND_ALBUMS:"loadFriendAlbums"},m=null,g=null;return{getElement:t,getName:i,isFacebookReady:c,browseFacebookPhoto:s,cbFbInitComplete:o,loadMyselfAndFriends:r,loadUserAlbum:a}}(window),function(e){var t={},n={mode:"horizontal",slideSelector:"",infiniteLoop:!0,hideControlOnEnd:!1,speed:500,easing:null,slideMargin:0,startSlide:0,randomStart:!1,captions:!1,ticker:!1,tickerHover:!1,adaptiveHeight:!1,adaptiveHeightSpeed:500,video:!1,useCSS:!0,preloadImages:"visible",responsive:!0,slideZIndex:50,wrapperClass:"bx-wrapper",touchEnabled:!0,swipeThreshold:50,oneToOneTouch:!0,preventDefaultSwipeX:!0,preventDefaultSwipeY:!1,pager:!0,pagerType:"full",pagerShortSeparator:" / ",pagerSelector:null,buildPager:null,pagerCustom:null,controls:!0,nextText:"Next",prevText:"Prev",nextSelector:null,prevSelector:null,autoControls:!1,startText:"Start",stopText:"Stop",autoControlsCombine:!1,autoControlsSelector:null,auto:!1,pause:4e3,autoStart:!0,autoDirection:"next",autoHover:!1,autoDelay:0,autoSlideForOnePage:!1,minSlides:1,maxSlides:1,moveSlides:0,slideWidth:0,onSliderLoad:function(){},onSlideBefore:function(){},onSlideAfter:function(){},onSlideNext:function(){},onSlidePrev:function(){},onSliderResize:function(){}};e.fn.bxSlider=function(s){if(0==this.length)return this;if(this.length>1)return this.each(function(){e(this).bxSlider(s)}),this;var o={},r=this;t.el=this;var a=e(window).width(),l=e(window).height(),c=function(){o.settings=e.extend({},n,s),o.settings.slideWidth=parseInt(o.settings.slideWidth),o.children=r.children(o.settings.slideSelector),o.children.length<o.settings.minSlides&&(o.settings.minSlides=o.children.length),o.children.length<o.settings.maxSlides&&(o.settings.maxSlides=o.children.length),o.settings.randomStart&&(o.settings.startSlide=Math.floor(Math.random()*o.children.length)),o.active={index:o.settings.startSlide},o.carousel=o.settings.minSlides>1||o.settings.maxSlides>1,o.carousel&&(o.settings.preloadImages="all"),o.minThreshold=o.settings.minSlides*o.settings.slideWidth+(o.settings.minSlides-1)*o.settings.slideMargin,o.maxThreshold=o.settings.maxSlides*o.settings.slideWidth+(o.settings.maxSlides-1)*o.settings.slideMargin,o.working=!1,o.controls={},o.interval=null,o.animProp="vertical"==o.settings.mode?"top":"left",o.usingCSS=o.settings.useCSS&&"fade"!=o.settings.mode&&function(){var e=document.createElement("div"),t=["WebkitPerspective","MozPerspective","OPerspective","msPerspective"];for(var i in t)if(void 0!==e.style[t[i]])return o.cssPrefix=t[i].replace("Perspective","").toLowerCase(),o.animProp="-"+o.cssPrefix+"-transform",!0;return!1}(),"vertical"==o.settings.mode&&(o.settings.maxSlides=o.settings.minSlides),r.data("origStyle",r.attr("style")),r.children(o.settings.slideSelector).each(function(){e(this).data("origStyle",e(this).attr("style"))}),u()},u=function(){r.wrap('<div class="'+o.settings.wrapperClass+'"><div class="bx-viewport"></div></div>'),o.viewport=r.parent(),o.loader=e('<div class="bx-loading" />'),o.viewport.prepend(o.loader),r.css({width:"horizontal"==o.settings.mode?100*o.children.length+215+"%":"auto",position:"relative"}),o.usingCSS&&o.settings.easing?r.css("-"+o.cssPrefix+"-transition-timing-function",o.settings.easing):o.settings.easing||(o.settings.easing="swing"),g(),o.viewport.css({width:"100%",overflow:"hidden",position:"relative"}),o.viewport.parent().css({maxWidth:f()}),o.settings.pager||o.viewport.parent().css({margin:"0 auto 0px"}),o.children.css({"float":"horizontal"==o.settings.mode?"left":"none",listStyle:"none",position:"relative"}),o.children.css("width",m()),"horizontal"==o.settings.mode&&o.settings.slideMargin>0&&o.children.css("marginRight",o.settings.slideMargin),"vertical"==o.settings.mode&&o.settings.slideMargin>0&&o.children.css("marginBottom",o.settings.slideMargin),"fade"==o.settings.mode&&(o.children.css({position:"absolute",zIndex:0,display:"none"}),o.children.eq(o.settings.startSlide).css({zIndex:o.settings.slideZIndex,display:"block"})),o.controls.el=e('<div class="bx-controls" />'),o.settings.captions&&S(),o.active.last=o.settings.startSlide==v()-1,o.settings.video&&r.fitVids();var t=o.children.eq(o.settings.startSlide);"all"==o.settings.preloadImages&&(t=o.children),o.settings.ticker?o.settings.pager=!1:(o.settings.pager&&x(),o.settings.controls&&k(),o.settings.auto&&o.settings.autoControls&&C(),(o.settings.controls||o.settings.autoControls||o.settings.pager)&&o.viewport.after(o.controls.el)),d(t,h)},d=function(t,i){var n=t.find("img, iframe").length;if(0==n)return i(),void 0;var s=0;t.find("img, iframe").each(function(){e(this).one("load",function(){++s==n&&i()}).each(function(){this.complete&&e(this).load()})})},h=function(){if(o.settings.infiniteLoop&&"fade"!=o.settings.mode&&!o.settings.ticker){var t="vertical"==o.settings.mode?o.settings.minSlides:o.settings.maxSlides,i=o.children.slice(0,t).clone().addClass("bx-clone"),n=o.children.slice(-t).clone().addClass("bx-clone");r.append(i).prepend(n)}o.loader.remove(),y(),"vertical"==o.settings.mode&&(o.settings.adaptiveHeight=!0),o.viewport.height(p()),r.redrawSlider(),o.settings.onSliderLoad(o.active.index),o.initialized=!0,o.settings.responsive&&e(window).bind("resize",V),o.settings.auto&&o.settings.autoStart&&(v()>1||o.settings.autoSlideForOnePage)&&$(),o.settings.ticker&&P(),o.settings.pager&&D(o.settings.startSlide),o.settings.controls&&N(),o.settings.touchEnabled&&!o.settings.ticker&&L()},p=function(){var t=0,n=e();if("vertical"==o.settings.mode||o.settings.adaptiveHeight)if(o.carousel){var s=1==o.settings.moveSlides?o.active.index:o.active.index*_();for(n=o.children.eq(s),i=1;o.settings.maxSlides-1>=i;i++)n=s+i>=o.children.length?n.add(o.children.eq(i-1)):n.add(o.children.eq(s+i))}else n=o.children.eq(o.active.index);else n=o.children;return"vertical"==o.settings.mode?(n.each(function(){t+=e(this).outerHeight()}),o.settings.slideMargin>0&&(t+=o.settings.slideMargin*(o.settings.minSlides-1))):t=Math.max.apply(Math,n.map(function(){return e(this).outerHeight(!1)}).get()),"border-box"==o.viewport.css("box-sizing")?t+=parseFloat(o.viewport.css("padding-top"))+parseFloat(o.viewport.css("padding-bottom"))+parseFloat(o.viewport.css("border-top-width"))+parseFloat(o.viewport.css("border-bottom-width")):"padding-box"==o.viewport.css("box-sizing")&&(t+=parseFloat(o.viewport.css("padding-top"))+parseFloat(o.viewport.css("padding-bottom"))),t},f=function(){var e="100%";return o.settings.slideWidth>0&&(e="horizontal"==o.settings.mode?o.settings.maxSlides*o.settings.slideWidth+(o.settings.maxSlides-1)*o.settings.slideMargin:o.settings.slideWidth),e},m=function(){var e=o.settings.slideWidth,t=o.viewport.width();return 0==o.settings.slideWidth||o.settings.slideWidth>t&&!o.carousel||"vertical"==o.settings.mode?e=t:o.settings.maxSlides>1&&"horizontal"==o.settings.mode&&(t>o.maxThreshold||o.minThreshold>t&&(e=(t-o.settings.slideMargin*(o.settings.minSlides-1))/o.settings.minSlides)),e},g=function(){var e=1;if("horizontal"==o.settings.mode&&o.settings.slideWidth>0)if(o.viewport.width()<o.minThreshold)e=o.settings.minSlides;else if(o.viewport.width()>o.maxThreshold)e=o.settings.maxSlides;else{var t=o.children.first().width()+o.settings.slideMargin;e=Math.floor((o.viewport.width()+o.settings.slideMargin)/t)}else"vertical"==o.settings.mode&&(e=o.settings.minSlides);return e},v=function(){var e=0;if(o.settings.moveSlides>0)if(o.settings.infiniteLoop)e=Math.ceil(o.children.length/_());else for(var t=0,i=0;o.children.length>t;)++e,t=i+g(),i+=o.settings.moveSlides<=g()?o.settings.moveSlides:g();else e=Math.ceil(o.children.length/g());return e},_=function(){return o.settings.moveSlides>0&&o.settings.moveSlides<=g()?o.settings.moveSlides:g()},y=function(){if(o.children.length>o.settings.maxSlides&&o.active.last&&!o.settings.infiniteLoop){if("horizontal"==o.settings.mode){var e=o.children.last(),t=e.position();b(-(t.left-(o.viewport.width()-e.outerWidth())),"reset",0)}else if("vertical"==o.settings.mode){var i=o.children.length-o.settings.minSlides,t=o.children.eq(i).position();b(-t.top,"reset",0)}}else{var t=o.children.eq(o.active.index*_()).position();o.active.index==v()-1&&(o.active.last=!0),void 0!=t&&("horizontal"==o.settings.mode?b(-t.left,"reset",0):"vertical"==o.settings.mode&&b(-t.top,"reset",0))}},b=function(e,t,i,n){if(o.usingCSS){var s="vertical"==o.settings.mode?"translate3d(0, "+e+"px, 0)":"translate3d("+e+"px, 0, 0)";r.css("-"+o.cssPrefix+"-transition-duration",i/1e3+"s"),"slide"==t?(r.css(o.animProp,s),r.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){r.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),j()})):"reset"==t?r.css(o.animProp,s):"ticker"==t&&(r.css("-"+o.cssPrefix+"-transition-timing-function","linear"),r.css(o.animProp,s),r.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){r.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),b(n.resetValue,"reset",0),O()}))}else{var a={};a[o.animProp]=e,"slide"==t?r.animate(a,i,o.settings.easing,function(){j()}):"reset"==t?r.css(o.animProp,e):"ticker"==t&&r.animate(a,speed,"linear",function(){b(n.resetValue,"reset",0),O()})}},w=function(){for(var t="",i=v(),n=0;i>n;n++){var s="";o.settings.buildPager&&e.isFunction(o.settings.buildPager)?(s=o.settings.buildPager(n),o.pagerEl.addClass("bx-custom-pager")):(s=n+1,o.pagerEl.addClass("bx-default-pager")),t+='<div class="bx-pager-item"><a href="" data-slide-index="'+n+'" class="bx-pager-link">'+s+"</a></div>"}o.pagerEl.html(t)},x=function(){o.settings.pagerCustom?o.pagerEl=e(o.settings.pagerCustom):(o.pagerEl=e('<div class="bx-pager" />'),o.settings.pagerSelector?e(o.settings.pagerSelector).html(o.pagerEl):o.controls.el.addClass("bx-has-pager").append(o.pagerEl),w()),o.pagerEl.on("click","a",I)},k=function(){o.controls.next=e('<a class="bx-next" href="">'+o.settings.nextText+"</a>"),o.controls.prev=e('<a class="bx-prev" href="">'+o.settings.prevText+"</a>"),o.controls.next.bind("click",T),o.controls.prev.bind("click",E),o.settings.nextSelector&&e(o.settings.nextSelector).append(o.controls.next),o.settings.prevSelector&&e(o.settings.prevSelector).append(o.controls.prev),o.settings.nextSelector||o.settings.prevSelector||(o.controls.directionEl=e('<div class="bx-controls-direction" />'),o.controls.directionEl.append(o.controls.prev).append(o.controls.next),o.controls.el.addClass("bx-has-controls-direction").append(o.controls.directionEl))},C=function(){o.controls.start=e('<div class="bx-controls-auto-item"><a class="bx-start" href="">'+o.settings.startText+"</a></div>"),o.controls.stop=e('<div class="bx-controls-auto-item"><a class="bx-stop" href="">'+o.settings.stopText+"</a></div>"),o.controls.autoEl=e('<div class="bx-controls-auto" />'),o.controls.autoEl.on("click",".bx-start",A),o.controls.autoEl.on("click",".bx-stop",M),o.settings.autoControlsCombine?o.controls.autoEl.append(o.controls.start):o.controls.autoEl.append(o.controls.start).append(o.controls.stop),o.settings.autoControlsSelector?e(o.settings.autoControlsSelector).html(o.controls.autoEl):o.controls.el.addClass("bx-has-controls-auto").append(o.controls.autoEl),F(o.settings.autoStart?"stop":"start")},S=function(){o.children.each(function(){var t=e(this).find("img:first").attr("title");void 0!=t&&(""+t).length&&e(this).append('<div class="bx-caption"><span>'+t+"</span></div>")})},T=function(e){o.settings.auto&&r.stopAuto(),r.goToNextSlide(),e.preventDefault()},E=function(e){o.settings.auto&&r.stopAuto(),r.goToPrevSlide(),e.preventDefault()},A=function(e){r.startAuto(),e.preventDefault()},M=function(e){r.stopAuto(),e.preventDefault()},I=function(t){o.settings.auto&&r.stopAuto();var i=e(t.currentTarget);if(void 0!==i.attr("data-slide-index")){var n=parseInt(i.attr("data-slide-index"));n!=o.active.index&&r.goToSlide(n),t.preventDefault()}},D=function(t){var i=o.children.length;return"short"==o.settings.pagerType?(o.settings.maxSlides>1&&(i=Math.ceil(o.children.length/o.settings.maxSlides)),o.pagerEl.html(t+1+o.settings.pagerShortSeparator+i),void 0):(o.pagerEl.find("a").removeClass("active"),o.pagerEl.each(function(i,n){e(n).find("a").eq(t).addClass("active")}),void 0)},j=function(){if(o.settings.infiniteLoop){var e="";0==o.active.index?e=o.children.eq(0).position():o.active.index==v()-1&&o.carousel?e=o.children.eq((v()-1)*_()).position():o.active.index==o.children.length-1&&(e=o.children.eq(o.children.length-1).position()),e&&("horizontal"==o.settings.mode?b(-e.left,"reset",0):"vertical"==o.settings.mode&&b(-e.top,"reset",0))}o.working=!1,o.settings.onSlideAfter(o.children.eq(o.active.index),o.oldIndex,o.active.index)},F=function(e){o.settings.autoControlsCombine?o.controls.autoEl.html(o.controls[e]):(o.controls.autoEl.find("a").removeClass("active"),o.controls.autoEl.find("a:not(.bx-"+e+")").addClass("active"))},N=function(){1==v()?(o.controls.prev.addClass("disabled"),o.controls.next.addClass("disabled")):!o.settings.infiniteLoop&&o.settings.hideControlOnEnd&&(0==o.active.index?(o.controls.prev.addClass("disabled"),o.controls.next.removeClass("disabled")):o.active.index==v()-1?(o.controls.next.addClass("disabled"),o.controls.prev.removeClass("disabled")):(o.controls.prev.removeClass("disabled"),o.controls.next.removeClass("disabled")))},$=function(){o.settings.autoDelay>0?setTimeout(r.startAuto,o.settings.autoDelay):r.startAuto(),o.settings.autoHover&&r.hover(function(){o.interval&&(r.stopAuto(!0),o.autoPaused=!0)
},function(){o.autoPaused&&(r.startAuto(!0),o.autoPaused=null)})},P=function(){var t=0;if("next"==o.settings.autoDirection)r.append(o.children.clone().addClass("bx-clone"));else{r.prepend(o.children.clone().addClass("bx-clone"));var i=o.children.first().position();t="horizontal"==o.settings.mode?-i.left:-i.top}b(t,"reset",0),o.settings.pager=!1,o.settings.controls=!1,o.settings.autoControls=!1,o.settings.tickerHover&&!o.usingCSS&&o.viewport.hover(function(){r.stop()},function(){var t=0;o.children.each(function(){t+="horizontal"==o.settings.mode?e(this).outerWidth(!0):e(this).outerHeight(!0)});var i=o.settings.speed/t,n="horizontal"==o.settings.mode?"left":"top",s=i*(t-Math.abs(parseInt(r.css(n))));O(s)}),O()},O=function(e){speed=e?e:o.settings.speed;var t={left:0,top:0},i={left:0,top:0};"next"==o.settings.autoDirection?t=r.find(".bx-clone").first().position():i=o.children.first().position();var n="horizontal"==o.settings.mode?-t.left:-t.top,s="horizontal"==o.settings.mode?-i.left:-i.top,a={resetValue:s};b(n,"ticker",speed,a)},L=function(){o.touch={start:{x:0,y:0},end:{x:0,y:0}},o.viewport.bind("touchstart",B)},B=function(e){if(o.working)e.preventDefault();else{o.touch.originalPos=r.position();var t=e.originalEvent;o.touch.start.x=t.changedTouches[0].pageX,o.touch.start.y=t.changedTouches[0].pageY,o.viewport.bind("touchmove",H),o.viewport.bind("touchend",R)}},H=function(e){var t=e.originalEvent,i=Math.abs(t.changedTouches[0].pageX-o.touch.start.x),n=Math.abs(t.changedTouches[0].pageY-o.touch.start.y);if(3*i>n&&o.settings.preventDefaultSwipeX?e.preventDefault():3*n>i&&o.settings.preventDefaultSwipeY&&e.preventDefault(),"fade"!=o.settings.mode&&o.settings.oneToOneTouch){var s=0;if("horizontal"==o.settings.mode){var r=t.changedTouches[0].pageX-o.touch.start.x;s=o.touch.originalPos.left+r}else{var r=t.changedTouches[0].pageY-o.touch.start.y;s=o.touch.originalPos.top+r}b(s,"reset",0)}},R=function(e){o.viewport.unbind("touchmove",H);var t=e.originalEvent,i=0;if(o.touch.end.x=t.changedTouches[0].pageX,o.touch.end.y=t.changedTouches[0].pageY,"fade"==o.settings.mode){var n=Math.abs(o.touch.start.x-o.touch.end.x);n>=o.settings.swipeThreshold&&(o.touch.start.x>o.touch.end.x?r.goToNextSlide():r.goToPrevSlide(),r.stopAuto())}else{var n=0;"horizontal"==o.settings.mode?(n=o.touch.end.x-o.touch.start.x,i=o.touch.originalPos.left):(n=o.touch.end.y-o.touch.start.y,i=o.touch.originalPos.top),!o.settings.infiniteLoop&&(0==o.active.index&&n>0||o.active.last&&0>n)?b(i,"reset",200):Math.abs(n)>=o.settings.swipeThreshold?(0>n?r.goToNextSlide():r.goToPrevSlide(),r.stopAuto()):b(i,"reset",200)}o.viewport.unbind("touchend",R)},V=function(){if(o.initialized){var t=e(window).width(),i=e(window).height();(a!=t||l!=i)&&(a=t,l=i,r.redrawSlider(),o.settings.onSliderResize.call(r,o.active.index))}};return r.goToSlide=function(t,i){if(!o.working&&o.active.index!=t)if(o.working=!0,o.oldIndex=o.active.index,o.active.index=0>t?v()-1:t>=v()?0:t,o.settings.onSlideBefore(o.children.eq(o.active.index),o.oldIndex,o.active.index),"next"==i?o.settings.onSlideNext(o.children.eq(o.active.index),o.oldIndex,o.active.index):"prev"==i&&o.settings.onSlidePrev(o.children.eq(o.active.index),o.oldIndex,o.active.index),o.active.last=o.active.index>=v()-1,o.settings.pager&&D(o.active.index),o.settings.controls&&N(),"fade"==o.settings.mode)o.settings.adaptiveHeight&&o.viewport.height()!=p()&&o.viewport.animate({height:p()},o.settings.adaptiveHeightSpeed),o.children.filter(":visible").fadeOut(o.settings.speed).css({zIndex:0}),o.children.eq(o.active.index).css("zIndex",o.settings.slideZIndex+1).fadeIn(o.settings.speed,function(){e(this).css("zIndex",o.settings.slideZIndex),j()});else{o.settings.adaptiveHeight&&o.viewport.height()!=p()&&o.viewport.animate({height:p()},o.settings.adaptiveHeightSpeed);var n=0,s={left:0,top:0};if(!o.settings.infiniteLoop&&o.carousel&&o.active.last)if("horizontal"==o.settings.mode){var a=o.children.eq(o.children.length-1);s=a.position(),n=o.viewport.width()-a.outerWidth()}else{var l=o.children.length-o.settings.minSlides;s=o.children.eq(l).position()}else if(o.carousel&&o.active.last&&"prev"==i){var c=1==o.settings.moveSlides?o.settings.maxSlides-_():(v()-1)*_()-(o.children.length-o.settings.maxSlides),a=r.children(".bx-clone").eq(c);s=a.position()}else if("next"==i&&0==o.active.index)s=r.find("> .bx-clone").eq(o.settings.maxSlides).position(),o.active.last=!1;else if(t>=0){var u=t*_();s=o.children.eq(u).position()}if("undefined"!=typeof s){var d="horizontal"==o.settings.mode?-(s.left-n):-s.top;b(d,"slide",o.settings.speed)}}},r.goToNextSlide=function(){if(o.settings.infiniteLoop||!o.active.last){var e=parseInt(o.active.index)+1;r.goToSlide(e,"next")}},r.goToPrevSlide=function(){if(o.settings.infiniteLoop||0!=o.active.index){var e=parseInt(o.active.index)-1;r.goToSlide(e,"prev")}},r.startAuto=function(e){o.interval||(o.interval=setInterval(function(){"next"==o.settings.autoDirection?r.goToNextSlide():r.goToPrevSlide()},o.settings.pause),o.settings.autoControls&&1!=e&&F("stop"))},r.stopAuto=function(e){o.interval&&(clearInterval(o.interval),o.interval=null,o.settings.autoControls&&1!=e&&F("start"))},r.getCurrentSlide=function(){return o.active.index},r.getCurrentSlideElement=function(){return o.children.eq(o.active.index)},r.getSlideCount=function(){return o.children.length},r.redrawSlider=function(){o.children.add(r.find(".bx-clone")).width(m()),o.viewport.css("height",p()),o.settings.ticker||y(),o.active.last&&(o.active.index=v()-1),o.active.index>=v()&&(o.active.last=!0),o.settings.pager&&!o.settings.pagerCustom&&(w(),D(o.active.index))},r.destroySlider=function(){o.initialized&&(o.initialized=!1,e(".bx-clone",this).remove(),o.children.each(function(){void 0!=e(this).data("origStyle")?e(this).attr("style",e(this).data("origStyle")):e(this).removeAttr("style")}),void 0!=e(this).data("origStyle")?this.attr("style",e(this).data("origStyle")):e(this).removeAttr("style"),e(this).unwrap().unwrap(),o.controls.el&&o.controls.el.remove(),o.controls.next&&o.controls.next.remove(),o.controls.prev&&o.controls.prev.remove(),o.pagerEl&&o.settings.controls&&o.pagerEl.remove(),e(".bx-caption",this).remove(),o.controls.autoEl&&o.controls.autoEl.remove(),clearInterval(o.interval),o.settings.responsive&&e(window).unbind("resize",V))},r.reloadSlider=function(e){void 0!=e&&(s=e),r.destroySlider(),c()},c(),this}}(jQuery),$(function(){var e=function(e,t){this._x=Math.random()*e,this._y=Math.random()*t,this._r=4*Math.random()+1};e.color="rgba(255, 255, 255, 0.8)",e.angle=0,e.globalUpdate=function(){e.angle+=.005},e.prototype={draw:function(e){e.moveTo(this._x,this._y),e.arc(this._x,this._y,this._r,0,2*Math.PI,!0)},updatePosition:function(t,i){this._x+=Math.cos(e.angle),this._y+=(Math.sin(e.angle)+1+this._r)/3,(this._x>t+5||-5>this._x||this._y>i)&&(Math.random()>.2?(this._x=Math.random()*t,this._y=-10):Math.cos(e.angle)>0?(this._x=-5,this._y=Math.random()*i):(this._x=t+5,this._y=Math.random()*i))}};var t=function(e,t){this._x=Math.random()*e,this._y=Math.random()*t,this._sBase=.6*Math.random()+.2,this._sMax=2*this._sBase,this._sStep=.01,this._sCurrent=this._sBase};t.color="rgba(255, 207, 207, 0.8)",t.globalUpdate=function(){},t.prototype={draw:function(e){var t=2*Math.PI/30,i=this._incrementScale();e.moveTo(this._x,this._y);for(var n=0;2*Math.PI>n;n+=t)e.lineTo(this._x+16*i*Math.pow(Math.sin(n),3),this._y+i*(-13*Math.cos(n)+5*Math.cos(2*n)+2*Math.cos(3*n)+Math.cos(4*n)))},updatePosition:function(e,t){this._y-=this._sCurrent,-10>this._y&&(this._x=Math.random()*e,this._y=t)},_incrementScale:function(){return this._sCurrent+=this._sStep,this._sCurrent>this._sMax?(this._sCurrent=this._sMax,this._sStep*=-1):this._sCurrent<this._sBase&&(this._sCurrent=this._sBase,this._sStep*=-1),this._sCurrent}};var i=function(e,t){this._x=Math.random()*e,this._y=Math.random()*t,this._scale=.75*Math.random()+.5,this._tilt=Math.random()*Math.PI/2+Math.PI/4,this._tiltStep=Math.PI/120};i.color="rgba(59, 132, 33, 0.8)",i.minTilt=Math.PI/4,i.maxTilt=3*Math.PI/4,i.globalUpdate=function(){},i.prototype={draw:function(e){var t=2*Math.PI/60;this._adjustTilt(),e.moveTo(this._x,this._y);for(var i=0;2*Math.PI>i;i+=t)e.lineTo(this._x+20*this._scale*(Math.sin(2*(i+this._tilt))+.25*Math.sin(6*(i+this._tilt)))*Math.cos(i),this._y+20*this._scale*(Math.sin(2*(i+this._tilt))+.25*Math.sin(6*(i+this._tilt)))*Math.sin(i));var n=Math.PI/2-this._tilt;e.moveTo(this._x,this._y),e.lineTo(this._x+this._scale*(-1*Math.cos(n)-22*Math.sin(n)),this._y+this._scale*(22*Math.cos(n)-1*Math.sin(n))),e.lineTo(this._x+this._scale*(1*Math.cos(n)-22*Math.sin(n)),this._y+this._scale*(22*Math.cos(n)+1*Math.sin(n))),e.lineTo(this._x,this._y)},updatePosition:function(e,t){this._y+=this._scale,this._y>t+10*this._scale&&(this._x=Math.random()*e,this._y=-10*this._scale)},_adjustTilt:function(){this._tilt+=this._tiltStep,this._tilt>=i.maxTilt?(this._tilt=i.maxTilt,this._tiltStep*=-1):this._tilt<=i.minTilt&&(this._tilt=i.minTilt,this._tiltStep*=-1)}};var n=function(e,t,i){e&&t&&(this._canvas=e,this._context=e.getContext("2d"),this._particleCount=i?i:25,this._particles=[],this._shapeTemplate=t,this._init())};n.prototype={_init:function(){this._setDimensions(),this._createParticles(),this._perFrameActions();var e=this;window.addEventListener("resize",function(){e._setDimensions()})},_perFrameActions:function(){this._draw(),this._shapeTemplate.globalUpdate();var e=this;window.requestAnimationFrame(function(){e._perFrameActions()})},_setDimensions:function(){this._canvas.width=this._canvas.offsetWidth,this._canvas.height=this._canvas.offsetHeight},_createParticles:function(){for(var e=0;this._particleCount>e;e++)this._particles.push(new this._shapeTemplate(this._canvas.width,this._canvas.height))},_draw:function(){0>=this._canvas.height&&this._setDimensions(),this._context.clearRect(0,0,this._canvas.width,this._canvas.height),this._context.fillStyle=this._shapeTemplate.color,this._context.beginPath();for(var e=0;this._particleCount>e;e++)this._particles[e].draw(this._context),this._particles[e].updatePosition(this._canvas.width,this._canvas.height);this._context.fill()}};var s,o,r,a=document.getElementById("hero-unit-effect");a&&"function"==typeof window.requestAnimationFrame&&(s=a.getAttribute("data-holiday"),"valentines"==s||"valentines_day"==s?(o=t,r=15):"christmas"==s||"holidays"==s?(o=e,r=25):"st_patricks_day"==s&&(o=i,r=12),o&&new n(a,o,r))}),function(e){for(var t=0,i=["ms","moz","webkit","o"],n=0;i.length>n&&!e.requestAnimationFrame;++n)e.requestAnimationFrame=e[i[n]+"RequestAnimationFrame"],e.cancelAnimationFrame=e[i[n]+"CancelAnimationFrame"]||e[i[n]+"CancelRequestAnimationFrame"];e.requestAnimationFrame||(e.requestAnimationFrame=function(i){var n=(new Date).getTime(),s=Math.max(0,16-(n-t)),o=e.setTimeout(function(){i(n+s)},s);return t=n+s,o}),e.cancelAnimationFrame||(e.cancelAnimationFrame=function(e){clearTimeout(e)})}(window);