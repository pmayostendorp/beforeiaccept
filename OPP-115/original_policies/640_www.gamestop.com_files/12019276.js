(function(){var chan={utilities:{}};
(function(c,b){var a=b.utilities;a.referrer=c.document.referrer;a.addScriptNode=function(a){var e=c.document.createElement("script");e.type="text/javascript";e.async=!0;e.src=a;a=c.document.getElementsByTagName("script")[0];a.parentNode.insertBefore(e,a)};a.getUrlParameter=function(a){for(var e=c.location.search.substring(1).split("&"),b=0;b<e.length;b++){var d=e[b].split("=");if(d[0]==a)return d[1]}return""};a.pageUrl=function(){return c.document.location.toString()};a.pageReferrer=function(){return a.referrer};
a.checkPageReferrerOverride=function(){var g=c.location.search.substring(1).split(/xoverride=/i);1<g.length&&(a.referrer=decodeURIComponent(g[1]))};a.pageHostname=function(){return c.document.location.hostname};a.isArray=function(g){return"array"==a.typeOf(g)};a.typeOf=function(a){var e=typeof a;if("object"==e)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return e;var b=Object.prototype.toString.call(a);if("[object Window]"==b)return"object";if("[object Array]"==b||"number"==typeof a.length&&
"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==b||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==e&&"undefined"==typeof a.call)return"object";return e}})(window,chan);chan.cookies={};
(function(c,b){var a=b.cookies;a.expire=30;a.cookieDomain=void 0;a.stripWhitespace=function(a){return!a?a:a.replace(/^\s+|\s+$/g,"")};a.detectDomain=function(){var g=b.utilities.pageHostname();a.cookieDomain=g||null;if(g&&g.match(/[a-zA-Z]+/)&&g.match(/\./))for(var g=g.split("."),e=g.length-2;0<=e;){var f="."+g.slice(e).join(".");a.setCookie("__ca_test__","ok",null,f);var d=a.getCookie("__ca_test__");a.deleteCookie("__ca_test__",f);if("ok"===d){a.cookieDomain=f||null;break}e--}};a.getDomain=function(){void 0===
a.cookieDomain&&a.detectDomain();return a.cookieDomain||null};a.getCookie=function(b){for(var e=c.document.cookie.split(";"),f=0;f<e.length;f++){var d=e[f].split("="),n=a.stripWhitespace(d[0]),d=a.stripWhitespace(d[1]);if(n===b)return d}return null};a.setCookie=function(b,e,f,d){e||(e="");d||(d=a.getDomain());b=[b,"=",e,"; path=/;"];d&&(b.push(" domain="),b.push(d),b.push(";"));f&&(b.push(" expires="),b.push(f.toGMTString()),b.push(";"));c.document.cookie=b.join("")};a.deleteCookie=function(b,e){a.setCookie(b,
null,new Date(0),e)}})(window,chan);chan.logging={};(function(c,b){var a=b.logging;a.logToConsole=!1;a.verbos=!0;a.debug=function(b){a.verbos&&a.info(b)};a.info=function(b){!0===a.logToConsole&&c.console&&c.console.log&&c.console.log(b)};a.error=function(b){a.info(b)};a.warning=a.error})(window,chan);chan.pixel={};
(function(c,b){var a=b.pixel;a.url="https://tracking2.channeladvisor.com";a.welcomeTarget="https://tracking2.channeladvisor.com/welcome_fp.asp";a.thankyouTarget="https://tracking2.channeladvisor.com/thankyou_fp.asp";a.addNode=function(a,e,f,d){a=[a,"?SMCID=",e,"&CAID=",encodeURIComponent(f),"&x=",encodeURIComponent(b.utilities.pageReferrer()),"&t=",(new Date).getTime()];d&&a.push(d);b.utilities.addScriptNode(a.join(""))};a.welcome=function(g,e,f){var d="";f&&(d="&CAWELAID="+f);a.addNode(a.welcomeTarget,g,e,d);b.user.save()};a.thankyou=function(g,
e,f){if(f){var d=[],n=",",c=[],h;for(h in f)if("string"===typeof h){var j=f[h];h=h.toLowerCase();if("eventtypeid"===h)d.push("&EventTypeID=",encodeURIComponent(j));else if("orderid"===h)d.push("&OrderID=",encodeURIComponent(j));else if("revenue"===h)d.push("&oVal=",encodeURIComponent(j));else if("currencycode"===h)d.push("&CurrencyID=",encodeURIComponent(j));else if("products"===h){if(b.utilities.isArray(j))for(var r in j){var m=j[r],p="",q=1,k;for(k in m)"string"===typeof k&&"sku"===k.toLowerCase()?
p=m[k]:"string"===typeof k&&"quantity"===k.toLowerCase()&&(q=m[k]);if(""!=p&&0<q)for(m=1;m<=q;m++)c.push(p)}}else"productseparator"===h&&(n=j)}c.length&&d.push("&ProductID=",encodeURIComponent(c.join(n)));a.addNode(a.thankyouTarget,g,e,d.join(""));b.user.save()}else b.logging.warning(g,"Attempting to track null order.")}})(window,chan);chan.user={};(function(c,b){var a=b.user;a.cookieKey="_caid";a.profileId="12019276";a.userId="0";a.save=function(){var c=new Date;c.setDate(c.getDate()+b.cookies.expire);b.cookies.setCookie(a.cookieKey,a.userId,c)};a.generateId=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0;return("x"==a?b:b&3|8).toString(16)})}})(window,chan);chan.main={};
(function(c,b){var a=b.main;a.events=[];a.userSaved=!1;a.init=function(){var e=!1;b.logging.debug("Initializing with profile "+b.user.profileId+".");b.utilities.checkPageReferrerOverride();b.user.userId=b.cookies.getCookie(b.user.cookieKey);if(!b.user.userId||32>b.user.userId.length)b.user.userId=b.user.generateId(),b.user.save(),e=!0;a.userSaved=!0;a.maybeSendWelcomePixel(e);a.initEventCollections()};a.getAdId=function(){for(var a=[b.utilities.pageUrl(),b.utilities.pageReferrer()],f=0;f<a.length;f++){var d=
a[f],c=d&&d.match(/[?&]CA_6C15C=(\d+)/i);if(c||(c=d&&d.match(/[?&]catargetid=(\d+)/i))||(c=d&&d.match(/[?&]cawelaid=(\d+)/i))||(c=d&&d.match(/[?&]casitelinkaid=(\d+)/i)))return c[1]}return 1<a.length&&(c=(d=decodeURIComponent(a[1]))&&d.match(/click.asp\?aid=(\d+)/i))?c[1]:""};a.getWelcomeAdId=function(){var a=b.utilities.pageUrl(),c=a&&a.match(/[?&]CA_6C15C=(\d+)/i);return c||(c=a&&a.match(/[?&]catargetid=(\d+)/i))||(c=a&&a.match(/[?&]cawelaid=(\d+)/i))?c[1]:(c=a&&a.match(/[?&]casitelinkaid=(\d+)/i))?
c[1]:""};a.maybeSendWelcomePixel=function(c){var f=a.getWelcomeAdId(),d=b.cookies.getCookie("_cavisit")||"",g="",l=d.split("|");2==l.length?(d=parseInt(l[0],16),g=l[1]):d=0;var l=(new Date).getTime(),h=new Date;h.setHours(h.getHours()+1);var j=f;""==j&&(j=g);return c||36E5<l-d||""!=f?(b.cookies.setCookie("_cavisit",[l.toString(16),j].join("|"),h),b.pixel.welcome(b.user.profileId,b.user.userId,f),!0):!1};a.processEvent=function(c){return!a.userSaved?(b.logging.error("Process event called before initialization."),
!1):!b.utilities.isArray(c)||2>c.length||"string"!==b.utilities.typeOf(c[0])||"object"!==b.utilities.typeOf(c[1])?(b.logging.error("Process event parameter needs to be an array of [string, object]."),!1):"order"===c[0].toLowerCase()?(b.pixel.thankyou(b.user.profileId,b.user.userId,c[1]),!0):!1};a.initEventCollections=function(){c._caq=c._caq||[];b.utilities.isArray(c._caq)||(c._caq=[]);var e=c._caq;a.events.push=function(b){for(var c=0;c<arguments.length;c++){var e=arguments[c];e&&a.processEvent(e)}return Array.prototype.push.apply(this,
arguments)};e.push=function(b){for(var c=0;c<arguments.length;c++)a.events.push(arguments[c]);return this.length};for(var f=0;f<e.length;f++)a.events.push(e[f]);e.length=0};try{a.init()}catch(g){b.logging.error("Exception during init "+g)}})(window,chan);})();
