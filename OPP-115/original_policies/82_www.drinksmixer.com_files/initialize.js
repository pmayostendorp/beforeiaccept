/** vim: et:ts=4:sw=4:sts=4
 * @license RequireJS 2.1.10 Copyright (c) 2010-2014, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/requirejs for details
 */

/**
 * @license RequireJS domReady 2.0.1 Copyright (c) 2010-2012, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/requirejs/domReady for details
 */

//     Underscore.js 1.6.0
//     http://underscorejs.org
//     (c) 2009-2014 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
//     Underscore may be freely distributed under the MIT license.

//     (c) 2010-2014 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
//     Backbone may be freely distributed under the MIT license.
//     For all details and documentation:
//     http://backbonejs.org

/*
 * jQuery Hotkeys Plugin
 * Copyright 2010, John Resig
 * Dual licensed under the MIT or GPL Version 2 licenses.
 *
 * Based upon the plugin by Tzury Bar Yochay:
 * http://github.com/tzuryby/hotkeys
 *
 * Original idea by:
 * Binny V A, http://www.openjs.com/scripts/events/keyboard_shortcuts/
*/

// Appular
// version : 4.0.0
// author : Adam Draper
// license : MIT
// https://github.com/adamwdraper/Appular

/*!
 * enquire.js v2.1.0 - Awesome Media Queries in JavaScript
 * Copyright (c) 2014 Nick Williams - http://wicky.nillia.ms/enquire.js
 * License: MIT (http://www.opensource.org/licenses/mit-license.php)
 */

/**
 * @preserve FastClick: polyfill to remove click delays on browsers with touch UIs.
 *
 * @version 1.0.3
 * @codingstandard ftlabs-jsv2
 * @copyright The Financial Times Limited [All Rights Reserved]
 * @license MIT License (see LICENSE.txt)
 */

/*! jQuery plugin for Hammer.JS - v1.1.3 - 2014-05-20
 * http://eightmedia.github.com/hammer.js
 *
 * Copyright (c) 2014 Jorik Tangelder <j.tangelder@gmail.com>;
 * Licensed under the MIT license */

// Backbone.Stickit v0.8.0, MIT Licensed
// Copyright (c) 2012 The New York Times, CMS Group, Matthew DeLambo <delambo@gmail.com>

/*!
* ZeroClipboard
* The ZeroClipboard library provides an easy way to copy text to the clipboard using an invisible Adobe Flash movie and a JavaScript interface.
* Copyright (c) 2014 Jon Rohan, James M. Greene
* Licensed MIT
* http://zeroclipboard.org/
* v1.3.5
*/

/**
 * @license RequireJS text 2.0.10 Copyright (c) 2010-2012, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/requirejs/text for details
 */

function FastClick(e,t){"use strict";function r(e,t){return function(){return e.apply(t,arguments)}}var n;t=t||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=t.touchBoundary||10,this.layer=e,this.tapDelay=t.tapDelay||200;if(FastClick.notNeeded(e))return;var i=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],s=this;for(var o=0,u=i.length;o<u;o++)s[i[o]]=r(s[i[o]],s);deviceIsAndroid&&(e.addEventListener("mouseover",this.onMouse,!0),e.addEventListener("mousedown",this.onMouse,!0),e.addEventListener("mouseup",this.onMouse,!0)),e.addEventListener("click",this.onClick,!0),e.addEventListener("touchstart",this.onTouchStart,!1),e.addEventListener("touchmove",this.onTouchMove,!1),e.addEventListener("touchend",this.onTouchEnd,!1),e.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(e.removeEventListener=function(t,n,r){var i=Node.prototype.removeEventListener;t==="click"?i.call(e,t,n.hijacked||n,r):i.call(e,t,n,r)},e.addEventListener=function(t,n,r){var i=Node.prototype.addEventListener;t==="click"?i.call(e,t,n.hijacked||(n.hijacked=function(e){e.propagationStopped||n(e)}),r):i.call(e,t,n,r)}),typeof e.onclick=="function"&&(n=e.onclick,e.addEventListener("click",function(e){n(e)},!1),e.onclick=null)}var requirejs,require,define;(function(global){function isFunction(e){return ostring.call(e)==="[object Function]"}function isArray(e){return ostring.call(e)==="[object Array]"}function each(e,t){if(e){var n;for(n=0;n<e.length;n+=1)if(e[n]&&t(e[n],n,e))break}}function eachReverse(e,t){if(e){var n;for(n=e.length-1;n>-1;n-=1)if(e[n]&&t(e[n],n,e))break}}function hasProp(e,t){return hasOwn.call(e,t)}function getOwn(e,t){return hasProp(e,t)&&e[t]}function eachProp(e,t){var n;for(n in e)if(hasProp(e,n)&&t(e[n],n))break}function mixin(e,t,n,r){return t&&eachProp(t,function(t,i){if(n||!hasProp(e,i))r&&typeof t=="object"&&t&&!isArray(t)&&!isFunction(t)&&!(t instanceof RegExp)?(e[i]||(e[i]={}),mixin(e[i],t,n,r)):e[i]=t}),e}function bind(e,t){return function(){return t.apply(e,arguments)}}function scripts(){return document.getElementsByTagName("script")}function defaultOnError(e){throw e}function getGlobal(e){if(!e)return e;var t=global;return each(e.split("."),function(e){t=t[e]}),t}function makeError(e,t,n,r){var i=new Error(t+"\nhttp://requirejs.org/docs/errors.html#"+e);return i.requireType=e,i.requireModules=r,n&&(i.originalError=n),i}function newContext(e){function m(e){var t,n,r=e.length;for(t=0;t<r;t++){n=e[t];if(n===".")e.splice(t,1),t-=1;else if(n===".."){if(t===1&&(e[2]===".."||e[0]===".."))break;t>0&&(e.splice(t-1,2),t-=2)}}}function g(e,t,n){var r,i,s,u,a,f,l,c,h,p,d,v=t&&t.split("/"),g=v,y=o.map,b=y&&y["*"];e&&e.charAt(0)==="."&&(t?(g=v.slice(0,v.length-1),e=e.split("/"),l=e.length-1,o.nodeIdCompat&&jsSuffixRegExp.test(e[l])&&(e[l]=e[l].replace(jsSuffixRegExp,"")),e=g.concat(e),m(e),e=e.join("/")):e.indexOf("./")===0&&(e=e.substring(2)));if(n&&y&&(v||b)){s=e.split("/");e:for(u=s.length;u>0;u-=1){f=s.slice(0,u).join("/");if(v)for(a=v.length;a>0;a-=1){i=getOwn(y,v.slice(0,a).join("/"));if(i){i=getOwn(i,f);if(i){c=i,h=u;break e}}}!p&&b&&getOwn(b,f)&&(p=getOwn(b,f),d=u)}!c&&p&&(c=p,h=d),c&&(s.splice(0,h,c),e=s.join("/"))}return r=getOwn(o.pkgs,e),r?r:e}function y(e){isBrowser&&each(scripts(),function(t){if(t.getAttribute("data-requiremodule")===e&&t.getAttribute("data-requirecontext")===r.contextName)return t.parentNode.removeChild(t),!0})}function b(e){var t=getOwn(o.paths,e);if(t&&isArray(t)&&t.length>1)return t.shift(),r.require.undef(e),r.require([e]),!0}function w(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function E(e,t,n,i){var s,o,u,a,f=null,l=t?t.name:null,h=e,p=!0,m="";return e||(p=!1,e="_@r"+(d+=1)),a=w(e),f=a[0],e=a[1],f&&(f=g(f,l,i),o=getOwn(c,f)),e&&(f?o&&o.normalize?m=o.normalize(e,function(e){return g(e,l,i)}):m=g(e,l,i):(m=g(e,l,i),a=w(m),f=a[0],m=a[1],n=!0,s=r.nameToUrl(m))),u=f&&!o&&!n?"_unnormalized"+(v+=1):"",{prefix:f,name:m,parentMap:t,unnormalized:!!u,url:s,originalName:h,isDefine:p,id:(f?f+"!"+m:m)+u}}function S(e){var t=e.id,n=getOwn(u,t);return n||(n=u[t]=new r.Module(e)),n}function x(e,t,n){var r=e.id,i=getOwn(u,r);hasProp(c,r)&&(!i||i.defineEmitComplete)?t==="defined"&&n(c[r]):(i=S(e),i.error&&t==="error"?n(i.error):i.on(t,n))}function T(e,t){var n=e.requireModules,r=!1;t?t(e):(each(n,function(t){var n=getOwn(u,t);n&&(n.error=e,n.events.error&&(r=!0,n.emit("error",e)))}),r||req.onError(e))}function N(){globalDefQueue.length&&(apsp.apply(l,[l.length,0].concat(globalDefQueue)),globalDefQueue=[])}function C(e){delete u[e],delete a[e]}function k(e,t,n){var r=e.map.id;e.error?e.emit("error",e.error):(t[r]=!0,each(e.depMaps,function(r,i){var s=r.id,o=getOwn(u,s);o&&!e.depMatched[i]&&!n[s]&&(getOwn(t,s)?(e.defineDep(i,c[s]),e.check()):k(o,t,n))}),n[r]=!0)}function L(){var e,n,i=o.waitSeconds*1e3,u=i&&r.startTime+i<(new Date).getTime(),f=[],l=[],c=!1,h=!0;if(t)return;t=!0,eachProp(a,function(e){var t=e.map,r=t.id;if(!e.enabled)return;t.isDefine||l.push(e);if(!e.error)if(!e.inited&&u)b(r)?(n=!0,c=!0):(f.push(r),y(r));else if(!e.inited&&e.fetched&&t.isDefine){c=!0;if(!t.prefix)return h=!1}});if(u&&f.length)return e=makeError("timeout","Load timeout for modules: "+f,null,f),e.contextName=r.contextName,T(e);h&&each(l,function(e){k(e,{},{})}),(!u||n)&&c&&(isBrowser||isWebWorker)&&!s&&(s=setTimeout(function(){s=0,L()},50)),t=!1}function A(e){hasProp(c,e[0])||S(E(e[0],null,!0)).init(e[1],e[2])}function O(e,t,n,r){e.detachEvent&&!isOpera?r&&e.detachEvent(r,t):e.removeEventListener(n,t,!1)}function M(e){var t=e.currentTarget||e.srcElement;return O(t,r.onScriptLoad,"load","onreadystatechange"),O(t,r.onScriptError,"error"),{node:t,id:t&&t.getAttribute("data-requiremodule")}}function _(){var e;N();while(l.length){e=l.shift();if(e[0]===null)return T(makeError("mismatch","Mismatched anonymous define() module: "+e[e.length-1]));A(e)}}var t,n,r,i,s,o={waitSeconds:7,baseUrl:"./",paths:{},bundles:{},pkgs:{},shim:{},config:{}},u={},a={},f={},l=[],c={},h={},p={},d=1,v=1;return i={require:function(e){return e.require?e.require:e.require=r.makeRequire(e.map)},exports:function(e){e.usingExports=!0;if(e.map.isDefine)return e.exports?e.exports:e.exports=c[e.map.id]={}},module:function(e){return e.module?e.module:e.module={id:e.map.id,uri:e.map.url,config:function(){return getOwn(o.config,e.map.id)||{}},exports:i.exports(e)}}},n=function(e){this.events=getOwn(f,e.id)||{},this.map=e,this.shim=getOwn(o.shim,e.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0},n.prototype={init:function(e,t,n,r){r=r||{};if(this.inited)return;this.factory=t,n?this.on("error",n):this.events.error&&(n=bind(this,function(e){this.emit("error",e)})),this.depMaps=e&&e.slice(0),this.errback=n,this.inited=!0,this.ignore=r.ignore,r.enabled||this.enabled?this.enable():this.check()},defineDep:function(e,t){this.depMatched[e]||(this.depMatched[e]=!0,this.depCount-=1,this.depExports[e]=t)},fetch:function(){if(this.fetched)return;this.fetched=!0,r.startTime=(new Date).getTime();var e=this.map;if(!this.shim)return e.prefix?this.callPlugin():this.load();r.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],bind(this,function(){return e.prefix?this.callPlugin():this.load()}))},load:function(){var e=this.map.url;h[e]||(h[e]=!0,r.load(this.map.id,e))},check:function(){if(!this.enabled||this.enabling)return;var e,t,n=this.map.id,i=this.depExports,s=this.exports,o=this.factory;if(!this.inited)this.fetch();else if(this.error)this.emit("error",this.error);else if(!this.defining){this.defining=!0;if(this.depCount<1&&!this.defined){if(isFunction(o)){if(this.events.error&&this.map.isDefine||req.onError!==defaultOnError)try{s=r.execCb(n,o,i,s)}catch(u){e=u}else s=r.execCb(n,o,i,s);this.map.isDefine&&s===undefined&&(t=this.module,t?s=t.exports:this.usingExports&&(s=this.exports));if(e)return e.requireMap=this.map,e.requireModules=this.map.isDefine?[this.map.id]:null,e.requireType=this.map.isDefine?"define":"require",T(this.error=e)}else s=o;this.exports=s,this.map.isDefine&&!this.ignore&&(c[n]=s,req.onResourceLoad&&req.onResourceLoad(r,this.map,this.depMaps)),C(n),this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}},callPlugin:function(){var e=this.map,t=e.id,n=E(e.prefix);this.depMaps.push(n),x(n,"defined",bind(this,function(n){var i,s,a,f=getOwn(p,this.map.id),l=this.map.name,c=this.map.parentMap?this.map.parentMap.name:null,h=r.makeRequire(e.parentMap,{enableBuildCallback:!0});if(this.map.unnormalized){n.normalize&&(l=n.normalize(l,function(e){return g(e,c,!0)})||""),s=E(e.prefix+"!"+l,this.map.parentMap),x(s,"defined",bind(this,function(e){this.init([],function(){return e},null,{enabled:!0,ignore:!0})})),a=getOwn(u,s.id),a&&(this.depMaps.push(s),this.events.error&&a.on("error",bind(this,function(e){this.emit("error",e)})),a.enable());return}if(f){this.map.url=r.nameToUrl(f),this.load();return}i=bind(this,function(e){this.init([],function(){return e},null,{enabled:!0})}),i.error=bind(this,function(e){this.inited=!0,this.error=e,e.requireModules=[t],eachProp(u,function(e){e.map.id.indexOf(t+"_unnormalized")===0&&C(e.map.id)}),T(e)}),i.fromText=bind(this,function(n,s){var u=e.name,a=E(u),f=useInteractive;s&&(n=s),f&&(useInteractive=!1),S(a),hasProp(o.config,t)&&(o.config[u]=o.config[t]);try{req.exec(n)}catch(l){return T(makeError("fromtexteval","fromText eval for "+t+" failed: "+l,l,[t]))}f&&(useInteractive=!0),this.depMaps.push(a),r.completeLoad(u),h([u],i)}),n.load(e.name,h,i,o)})),r.enable(n,this),this.pluginMaps[n.id]=n},enable:function(){a[this.map.id]=this,this.enabled=!0,this.enabling=!0,each(this.depMaps,bind(this,function(e,t){var n,s,o;if(typeof e=="string"){e=E(e,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[t]=e,o=getOwn(i,e.id);if(o){this.depExports[t]=o(this);return}this.depCount+=1,x(e,"defined",bind(this,function(e){this.defineDep(t,e),this.check()})),this.errback&&x(e,"error",bind(this,this.errback))}n=e.id,s=u[n],!hasProp(i,n)&&s&&!s.enabled&&r.enable(e,this)})),eachProp(this.pluginMaps,bind(this,function(e){var t=getOwn(u,e.id);t&&!t.enabled&&r.enable(e,this)})),this.enabling=!1,this.check()},on:function(e,t){var n=this.events[e];n||(n=this.events[e]=[]),n.push(t)},emit:function(e,t){each(this.events[e],function(e){e(t)}),e==="error"&&delete this.events[e]}},r={config:o,contextName:e,registry:u,defined:c,urlFetched:h,defQueue:l,Module:n,makeModuleMap:E,nextTick:req.nextTick,onError:T,configure:function(e){e.baseUrl&&e.baseUrl.charAt(e.baseUrl.length-1)!=="/"&&(e.baseUrl+="/");var t=o.shim,n={paths:!0,bundles:!0,config:!0,map:!0};eachProp(e,function(e,t){n[t]?(o[t]||(o[t]={}),mixin(o[t],e,!0,!0)):o[t]=e}),e.bundles&&eachProp(e.bundles,function(e,t){each(e,function(e){e!==t&&(p[e]=t)})}),e.shim&&(eachProp(e.shim,function(e,n){isArray(e)&&(e={deps:e}),(e.exports||e.init)&&!e.exportsFn&&(e.exportsFn=r.makeShimExports(e)),t[n]=e}),o.shim=t),e.packages&&each(e.packages,function(e){var t,n;e=typeof e=="string"?{name:e}:e,n=e.name,t=e.location,t&&(o.paths[n]=e.location),o.pkgs[n]=e.name+"/"+(e.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")}),eachProp(u,function(e,t){!e.inited&&!e.map.unnormalized&&(e.map=E(t))}),(e.deps||e.callback)&&r.require(e.deps||[],e.callback)},makeShimExports:function(e){function t(){var t;return e.init&&(t=e.init.apply(global,arguments)),t||e.exports&&getGlobal(e.exports)}return t},makeRequire:function(t,n){function s(o,a,f){var l,h,p;return n.enableBuildCallback&&a&&isFunction(a)&&(a.__requireJsBuild=!0),typeof o=="string"?isFunction(a)?T(makeError("requireargs","Invalid require call"),f):t&&hasProp(i,o)?i[o](u[t.id]):req.get?req.get(r,o,t,s):(h=E(o,t,!1,!0),l=h.id,hasProp(c,l)?c[l]:T(makeError("notloaded",'Module name "'+l+'" has not been loaded yet for context: '+e+(t?"":". Use require([])")))):(_(),r.nextTick(function(){_(),p=S(E(null,t)),p.skipMap=n.skipMap,p.init(o,a,f,{enabled:!0}),L()}),s)}return n=n||{},mixin(s,{isBrowser:isBrowser,toUrl:function(e){var n,i=e.lastIndexOf("."),s=e.split("/")[0],o=s==="."||s==="..";return i!==-1&&(!o||i>1)&&(n=e.substring(i,e.length),e=e.substring(0,i)),r.nameToUrl(g(e,t&&t.id,!0),n,!0)},defined:function(e){return hasProp(c,E(e,t,!1,!0).id)},specified:function(e){return e=E(e,t,!1,!0).id,hasProp(c,e)||hasProp(u,e)}}),t||(s.undef=function(e){N();var n=E(e,t,!0),r=getOwn(u,e);y(e),delete c[e],delete h[n.url],delete f[e],eachReverse(l,function(t,n){t[0]===e&&l.splice(n,1)}),r&&(r.events.defined&&(f[e]=r.events),C(e))}),s},enable:function(e){var t=getOwn(u,e.id);t&&S(e).enable()},completeLoad:function(e){var t,n,r,i=getOwn(o.shim,e)||{},s=i.exports;N();while(l.length){n=l.shift();if(n[0]===null){n[0]=e;if(t)break;t=!0}else n[0]===e&&(t=!0);A(n)}r=getOwn(u,e);if(!t&&!hasProp(c,e)&&r&&!r.inited){if(o.enforceDefine&&(!s||!getGlobal(s))){if(b(e))return;return T(makeError("nodefine","No define call for "+e,null,[e]))}A([e,i.deps||[],i.exportsFn])}L()},nameToUrl:function(e,t,n){var i,s,u,a,f,l,c,h=getOwn(o.pkgs,e);h&&(e=h),c=getOwn(p,e);if(c)return r.nameToUrl(c,t,n);if(req.jsExtRegExp.test(e))f=e+(t||"");else{i=o.paths,s=e.split("/");for(u=s.length;u>0;u-=1){a=s.slice(0,u).join("/"),l=getOwn(i,a);if(l){isArray(l)&&(l=l[0]),s.splice(0,u,l);break}}f=s.join("/"),f+=t||(/^data\:|\?/.test(f)||n?"":".js"),f=(f.charAt(0)==="/"||f.match(/^[\w\+\.\-]+:/)?"":o.baseUrl)+f}return o.urlArgs?f+((f.indexOf("?")===-1?"?":"&")+o.urlArgs):f},load:function(e,t){req.load(r,e,t)},execCb:function(e,t,n,r){return t.apply(r,n)},onScriptLoad:function(e){if(e.type==="load"||readyRegExp.test((e.currentTarget||e.srcElement).readyState)){interactiveScript=null;var t=M(e);r.completeLoad(t.id)}},onScriptError:function(e){var t=M(e);if(!b(t.id))return T(makeError("scripterror","Script error for: "+t.id,e,[t.id]))}},r.require=r.makeRequire(),r}function getInteractiveScript(){return interactiveScript&&interactiveScript.readyState==="interactive"?interactiveScript:(eachReverse(scripts(),function(e){if(e.readyState==="interactive")return interactiveScript=e}),interactiveScript)}var req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version="2.1.10",commentRegExp=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/mg,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,ap=Array.prototype,apsp=ap.splice,isBrowser=typeof window!="undefined"&&typeof navigator!="undefined"&&!!window.document,isWebWorker=!isBrowser&&typeof importScripts!="undefined",readyRegExp=isBrowser&&navigator.platform==="PLAYSTATION 3"?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera=typeof opera!="undefined"&&opera.toString()==="[object Opera]",contexts={},cfg={},globalDefQueue=[],useInteractive=!1;if(typeof define!="undefined")return;if(typeof requirejs!="undefined"){if(isFunction(requirejs))return;cfg=requirejs,requirejs=undefined}typeof require!="undefined"&&!isFunction(require)&&(cfg=require,require=undefined),req=requirejs=function(e,t,n,r){var i,s,o=defContextName;return!isArray(e)&&typeof e!="string"&&(s=e,isArray(t)?(e=t,t=n,n=r):e=[]),s&&s.context&&(o=s.context),i=getOwn(contexts,o),i||(i=contexts[o]=req.s.newContext(o)),s&&i.configure(s),i.require(e,t,n)},req.config=function(e){return req(e)},req.nextTick=typeof setTimeout!="undefined"?function(e){setTimeout(e,4)}:function(e){e()},require||(require=req),req.version=version,req.jsExtRegExp=/^\/|:|\?|\.js$/,req.isBrowser=isBrowser,s=req.s={contexts:contexts,newContext:newContext},req({}),each(["toUrl","undef","defined","specified"],function(e){req[e]=function(){var t=contexts[defContextName];return t.require[e].apply(t,arguments)}}),isBrowser&&(head=s.head=document.getElementsByTagName("head")[0],baseElement=document.getElementsByTagName("base")[0],baseElement&&(head=s.head=baseElement.parentNode)),req.onError=defaultOnError,req.createNode=function(e,t,n){var r=e.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");return r.type=e.scriptType||"text/javascript",r.charset="utf-8",r.async=!0,r},req.load=function(e,t,n){var r=e&&e.config||{},i;if(isBrowser)return i=req.createNode(r,t,n),i.setAttribute("data-requirecontext",e.contextName),i.setAttribute("data-requiremodule",t),i.attachEvent&&!(i.attachEvent.toString&&i.attachEvent.toString().indexOf("[native code")<0)&&!isOpera?(useInteractive=!0,i.attachEvent("onreadystatechange",e.onScriptLoad)):(i.addEventListener("load",e.onScriptLoad,!1),i.addEventListener("error",e.onScriptError,!1)),i.src=n,currentlyAddingScript=i,baseElement?head.insertBefore(i,baseElement):head.appendChild(i),currentlyAddingScript=null,i;if(isWebWorker)try{importScripts(n),e.completeLoad(t)}catch(s){e.onError(makeError("importscripts","importScripts failed for "+t+" at "+n,s,[t]))}},isBrowser&&!cfg.skipDataMain&&eachReverse(scripts(),function(e){head||(head=e.parentNode),dataMain=e.getAttribute("data-main");if(dataMain)return mainScript=dataMain,cfg.baseUrl||(src=mainScript.split("/"),mainScript=src.pop(),subPath=src.length?src.join("/")+"/":"./",cfg.baseUrl=subPath),mainScript=mainScript.replace(jsSuffixRegExp,""),req.jsExtRegExp.test(mainScript)&&(mainScript=dataMain),cfg.deps=cfg.deps?cfg.deps.concat(mainScript):[mainScript],!0}),define=function(e,t,n){var r,i;typeof e!="string"&&(n=t,t=e,e=null),isArray(t)||(n=t,t=null),!t&&isFunction(n)&&(t=[],n.length&&(n.toString().replace(commentRegExp,"").replace(cjsRequireRegExp,function(e,n){t.push(n)}),t=(n.length===1?["require"]:["require","exports","module"]).concat(t))),useInteractive&&(r=currentlyAddingScript||getInteractiveScript(),r&&(e||(e=r.getAttribute("data-requiremodule")),i=contexts[r.getAttribute("data-requirecontext")])),(i?i.defQueue:globalDefQueue).push([e,t,n])},define.amd={jQuery:!0},req.exec=function(text){return eval(text)},req(cfg)})(this),define("libraries/require/require-2.1.10",function(){}),define("domReady",[],function(){"use strict";function u(e){var t;for(t=0;t<e.length;t+=1)e[t](s)}function a(){var e=o;i&&e.length&&(o=[],u(e))}function f(){i||(i=!0,n&&clearInterval(n),a())}function c(e){return i?e(s):o.push(e),c}var e,t,n,r=typeof window!="undefined"&&window.document,i=!r,s=r?document:null,o=[];if(r){if(document.addEventListener)document.addEventListener("DOMContentLoaded",f,!1),window.addEventListener("load",f,!1);else if(window.attachEvent){window.attachEvent("onload",f),t=document.createElement("div");try{e=window.frameElement===null}catch(l){}t.doScroll&&e&&window.external&&(n=setInterval(function(){try{t.doScroll(),f()}catch(e){}},30))}!document.attachEvent&&document.readyState!=="loading"?f():document.readyState==="complete"&&f()}return c.version="2.0.1",c.load=function(e,t,n,r){r.isBuild?n(null):c(n)},c}),function(){var e=this,t=e._,n={},r=Array.prototype,i=Object.prototype,s=Function.prototype,o=r.push,u=r.slice,a=r.concat,f=i.toString,l=i.hasOwnProperty,c=r.forEach,h=r.map,p=r.reduce,d=r.reduceRight,v=r.filter,m=r.every,g=r.some,y=r.indexOf,b=r.lastIndexOf,w=Array.isArray,E=Object.keys,S=s.bind,x=function(e){if(e instanceof x)return e;if(!(this instanceof x))return new x(e);this._wrapped=e};typeof exports!="undefined"?(typeof module!="undefined"&&module.exports&&(exports=module.exports=x),exports._=x):e._=x,x.VERSION="1.6.0";var T=x.each=x.forEach=function(e,t,r){if(e==null)return e;if(c&&e.forEach===c)e.forEach(t,r);else if(e.length===+e.length){for(var i=0,s=e.length;i<s;i++)if(t.call(r,e[i],i,e)===n)return}else{var o=x.keys(e);for(var i=0,s=o.length;i<s;i++)if(t.call(r,e[o[i]],o[i],e)===n)return}return e};x.map=x.collect=function(e,t,n){var r=[];return e==null?r:h&&e.map===h?e.map(t,n):(T(e,function(e,i,s){r.push(t.call(n,e,i,s))}),r)};var N="Reduce of empty array with no initial value";x.reduce=x.foldl=x.inject=function(e,t,n,r){var i=arguments.length>2;e==null&&(e=[]);if(p&&e.reduce===p)return r&&(t=x.bind(t,r)),i?e.reduce(t,n):e.reduce(t);T(e,function(e,s,o){i?n=t.call(r,n,e,s,o):(n=e,i=!0)});if(!i)throw new TypeError(N);return n},x.reduceRight=x.foldr=function(e,t,n,r){var i=arguments.length>2;e==null&&(e=[]);if(d&&e.reduceRight===d)return r&&(t=x.bind(t,r)),i?e.reduceRight(t,n):e.reduceRight(t);var s=e.length;if(s!==+s){var o=x.keys(e);s=o.length}T(e,function(u,a,f){a=o?o[--s]:--s,i?n=t.call(r,n,e[a],a,f):(n=e[a],i=!0)});if(!i)throw new TypeError(N);return n},x.find=x.detect=function(e,t,n){var r;return C(e,function(e,i,s){if(t.call(n,e,i,s))return r=e,!0}),r},x.filter=x.select=function(e,t,n){var r=[];return e==null?r:v&&e.filter===v?e.filter(t,n):(T(e,function(e,i,s){t.call(n,e,i,s)&&r.push(e)}),r)},x.reject=function(e,t,n){return x.filter(e,function(e,r,i){return!t.call(n,e,r,i)},n)},x.every=x.all=function(e,t,r){t||(t=x.identity);var i=!0;return e==null?i:m&&e.every===m?e.every(t,r):(T(e,function(e,s,o){if(!(i=i&&t.call(r,e,s,o)))return n}),!!i)};var C=x.some=x.any=function(e,t,r){t||(t=x.identity);var i=!1;return e==null?i:g&&e.some===g?e.some(t,r):(T(e,function(e,s,o){if(i||(i=t.call(r,e,s,o)))return n}),!!i)};x.contains=x.include=function(e,t){return e==null?!1:y&&e.indexOf===y?e.indexOf(t)!=-1:C(e,function(e){return e===t})},x.invoke=function(e,t){var n=u.call(arguments,2),r=x.isFunction(t);return x.map(e,function(e){return(r?t:e[t]).apply(e,n)})},x.pluck=function(e,t){return x.map(e,x.property(t))},x.where=function(e,t){return x.filter(e,x.matches(t))},x.findWhere=function(e,t){return x.find(e,x.matches(t))},x.max=function(e,t,n){if(!t&&x.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.max.apply(Math,e);var r=-Infinity,i=-Infinity;return T(e,function(e,s,o){var u=t?t.call(n,e,s,o):e;u>i&&(r=e,i=u)}),r},x.min=function(e,t,n){if(!t&&x.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.min.apply(Math,e);var r=Infinity,i=Infinity;return T(e,function(e,s,o){var u=t?t.call(n,e,s,o):e;u<i&&(r=e,i=u)}),r},x.shuffle=function(e){var t,n=0,r=[];return T(e,function(e){t=x.random(n++),r[n-1]=r[t],r[t]=e}),r},x.sample=function(e,t,n){return t==null||n?(e.length!==+e.length&&(e=x.values(e)),e[x.random(e.length-1)]):x.shuffle(e).slice(0,Math.max(0,t))};var k=function(e){return e==null?x.identity:x.isFunction(e)?e:x.property(e)};x.sortBy=function(e,t,n){return t=k(t),x.pluck(x.map(e,function(e,r,i){return{value:e,index:r,criteria:t.call(n,e,r,i)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||n===void 0)return 1;if(n<r||r===void 0)return-1}return e.index-t.index}),"value")};var L=function(e){return function(t,n,r){var i={};return n=k(n),T(t,function(s,o){var u=n.call(r,s,o,t);e(i,u,s)}),i}};x.groupBy=L(function(e,t,n){x.has(e,t)?e[t].push(n):e[t]=[n]}),x.indexBy=L(function(e,t,n){e[t]=n}),x.countBy=L(function(e,t){x.has(e,t)?e[t]++:e[t]=1}),x.sortedIndex=function(e,t,n,r){n=k(n);var i=n.call(r,t),s=0,o=e.length;while(s<o){var u=s+o>>>1;n.call(r,e[u])<i?s=u+1:o=u}return s},x.toArray=function(e){return e?x.isArray(e)?u.call(e):e.length===+e.length?x.map(e,x.identity):x.values(e):[]},x.size=function(e){return e==null?0:e.length===+e.length?e.length:x.keys(e).length},x.first=x.head=x.take=function(e,t,n){return e==null?void 0:t==null||n?e[0]:t<0?[]:u.call(e,0,t)},x.initial=function(e,t,n){return u.call(e,0,e.length-(t==null||n?1:t))},x.last=function(e,t,n){return e==null?void 0:t==null||n?e[e.length-1]:u.call(e,Math.max(e.length-t,0))},x.rest=x.tail=x.drop=function(e,t,n){return u.call(e,t==null||n?1:t)},x.compact=function(e){return x.filter(e,x.identity)};var A=function(e,t,n){return t&&x.every(e,x.isArray)?a.apply(n,e):(T(e,function(e){x.isArray(e)||x.isArguments(e)?t?o.apply(n,e):A(e,t,n):n.push(e)}),n)};x.flatten=function(e,t){return A(e,t,[])},x.without=function(e){return x.difference(e,u.call(arguments,1))},x.partition=function(e,t,n){t=k(t);var r=[],i=[];return T(e,function(e){(t.call(n,e)?r:i).push(e)}),[r,i]},x.uniq=x.unique=function(e,t,n,r){x.isFunction(t)&&(r=n,n=t,t=!1);var i=n?x.map(e,n,r):e,s=[],o=[];return T(i,function(n,r){if(t?!r||o[o.length-1]!==n:!x.contains(o,n))o.push(n),s.push(e[r])}),s},x.union=function(){return x.uniq(x.flatten(arguments,!0))},x.intersection=function(e){var t=u.call(arguments,1);return x.filter(x.uniq(e),function(e){return x.every(t,function(t){return x.contains(t,e)})})},x.difference=function(e){var t=a.apply(r,u.call(arguments,1));return x.filter(e,function(e){return!x.contains(t,e)})},x.zip=function(){var e=x.max(x.pluck(arguments,"length").concat(0)),t=new Array(e);for(var n=0;n<e;n++)t[n]=x.pluck(arguments,""+n);return t},x.object=function(e,t){if(e==null)return{};var n={};for(var r=0,i=e.length;r<i;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},x.indexOf=function(e,t,n){if(e==null)return-1;var r=0,i=e.length;if(n){if(typeof n!="number")return r=x.sortedIndex(e,t),e[r]===t?r:-1;r=n<0?Math.max(0,i+n):n}if(y&&e.indexOf===y)return e.indexOf(t,n);for(;r<i;r++)if(e[r]===t)return r;return-1},x.lastIndexOf=function(e,t,n){if(e==null)return-1;var r=n!=null;if(b&&e.lastIndexOf===b)return r?e.lastIndexOf(t,n):e.lastIndexOf(t);var i=r?n:e.length;while(i--)if(e[i]===t)return i;return-1},x.range=function(e,t,n){arguments.length<=1&&(t=e||0,e=0),n=arguments[2]||1;var r=Math.max(Math.ceil((t-e)/n),0),i=0,s=new Array(r);while(i<r)s[i++]=e,e+=n;return s};var O=function(){};x.bind=function(e,t){var n,r;if(S&&e.bind===S)return S.apply(e,u.call(arguments,1));if(!x.isFunction(e))throw new TypeError;return n=u.call(arguments,2),r=function(){if(this instanceof r){O.prototype=e.prototype;var i=new O;O.prototype=null;var s=e.apply(i,n.concat(u.call(arguments)));return Object(s)===s?s:i}return e.apply(t,n.concat(u.call(arguments)))}},x.partial=function(e){var t=u.call(arguments,1);return function(){var n=0,r=t.slice();for(var i=0,s=r.length;i<s;i++)r[i]===x&&(r[i]=arguments[n++]);while(n<arguments.length)r.push(arguments[n++]);return e.apply(this,r)}},x.bindAll=function(e){var t=u.call(arguments,1);if(t.length===0)throw new Error("bindAll must be passed function names");return T(t,function(t){e[t]=x.bind(e[t],e)}),e},x.memoize=function(e,t){var n={};return t||(t=x.identity),function(){var r=t.apply(this,arguments);return x.has(n,r)?n[r]:n[r]=e.apply(this,arguments)}},x.delay=function(e,t){var n=u.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},x.defer=function(e){return x.delay.apply(x,[e,1].concat(u.call(arguments,1)))},x.throttle=function(e,t,n){var r,i,s,o=null,u=0;n||(n={});var a=function(){u=n.leading===!1?0:x.now(),o=null,s=e.apply(r,i),r=i=null};return function(){var f=x.now();!u&&n.leading===!1&&(u=f);var l=t-(f-u);return r=this,i=arguments,l<=0?(clearTimeout(o),o=null,u=f,s=e.apply(r,i),r=i=null):!o&&n.trailing!==!1&&(o=setTimeout(a,l)),s}},x.debounce=function(e,t,n){var r,i,s,o,u,a=function(){var f=x.now()-o;f<t?r=setTimeout(a,t-f):(r=null,n||(u=e.apply(s,i),s=i=null))};return function(){s=this,i=arguments,o=x.now();var f=n&&!r;return r||(r=setTimeout(a,t)),f&&(u=e.apply(s,i),s=i=null),u}},x.once=function(e){var t=!1,n;return function(){return t?n:(t=!0,n=e.apply(this,arguments),e=null,n)}},x.wrap=function(e,t){return x.partial(t,e)},x.compose=function(){var e=arguments;return function(){var t=arguments;for(var n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},x.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},x.keys=function(e){if(!x.isObject(e))return[];if(E)return E(e);var t=[];for(var n in e)x.has(e,n)&&t.push(n);return t},x.values=function(e){var t=x.keys(e),n=t.length,r=new Array(n);for(var i=0;i<n;i++)r[i]=e[t[i]];return r},x.pairs=function(e){var t=x.keys(e),n=t.length,r=new Array(n);for(var i=0;i<n;i++)r[i]=[t[i],e[t[i]]];return r},x.invert=function(e){var t={},n=x.keys(e);for(var r=0,i=n.length;r<i;r++)t[e[n[r]]]=n[r];return t},x.functions=x.methods=function(e){var t=[];for(var n in e)x.isFunction(e[n])&&t.push(n);return t.sort()},x.extend=function(e){return T(u.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e},x.pick=function(e){var t={},n=a.apply(r,u.call(arguments,1));return T(n,function(n){n in e&&(t[n]=e[n])}),t},x.omit=function(e){var t={},n=a.apply(r,u.call(arguments,1));for(var i in e)x.contains(n,i)||(t[i]=e[i]);return t},x.defaults=function(e){return T(u.call(arguments,1),function(t){if(t)for(var n in t)e[n]===void 0&&(e[n]=t[n])}),e},x.clone=function(e){return x.isObject(e)?x.isArray(e)?e.slice():x.extend({},e):e},x.tap=function(e,t){return t(e),e};var M=function(e,t,n,r){if(e===t)return e!==0||1/e==1/t;if(e==null||t==null)return e===t;e instanceof x&&(e=e._wrapped),t instanceof x&&(t=t._wrapped);var i=f.call(e);if(i!=f.call(t))return!1;switch(i){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:e==0?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if(typeof e!="object"||typeof t!="object")return!1;var s=n.length;while(s--)if(n[s]==e)return r[s]==t;var o=e.constructor,u=t.constructor;if(o!==u&&!(x.isFunction(o)&&o instanceof o&&x.isFunction(u)&&u instanceof u)&&"constructor"in e&&"constructor"in t)return!1;n.push(e),r.push(t);var a=0,l=!0;if(i=="[object Array]"){a=e.length,l=a==t.length;if(l)while(a--)if(!(l=M(e[a],t[a],n,r)))break}else{for(var c in e)if(x.has(e,c)){a++;if(!(l=x.has(t,c)&&M(e[c],t[c],n,r)))break}if(l){for(c in t)if(x.has(t,c)&&!(a--))break;l=!a}}return n.pop(),r.pop(),l};x.isEqual=function(e,t){return M(e,t,[],[])},x.isEmpty=function(e){if(e==null)return!0;if(x.isArray(e)||x.isString(e))return e.length===0;for(var t in e)if(x.has(e,t))return!1;return!0},x.isElement=function(e){return!!e&&e.nodeType===1},x.isArray=w||function(e){return f.call(e)=="[object Array]"},x.isObject=function(e){return e===Object(e)},T(["Arguments","Function","String","Number","Date","RegExp"],function(e){x["is"+e]=function(t){return f.call(t)=="[object "+e+"]"}}),x.isArguments(arguments)||(x.isArguments=function(e){return!!e&&!!x.has(e,"callee")}),typeof /./!="function"&&(x.isFunction=function(e){return typeof e=="function"}),x.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},x.isNaN=function(e){return x.isNumber(e)&&e!=+e},x.isBoolean=function(e){return e===!0||e===!1||f.call(e)=="[object Boolean]"},x.isNull=function(e){return e===null},x.isUndefined=function(e){return e===void 0},x.has=function(e,t){return l.call(e,t)},x.noConflict=function(){return e._=t,this},x.identity=function(e){return e},x.constant=function(e){return function(){return e}},x.property=function(e){return function(t){return t[e]}},x.matches=function(e){return function(t){if(t===e)return!0;for(var n in e)if(e[n]!==t[n])return!1;return!0}},x.times=function(e,t,n){var r=Array(Math.max(0,e));for(var i=0;i<e;i++)r[i]=t.call(n,i);return r},x.random=function(e,t){return t==null&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},x.now=Date.now||function(){return(new Date).getTime()};var _={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};_.unescape=x.invert(_.escape);var D={escape:new RegExp("["+x.keys(_.escape).join("")+"]","g"),unescape:new RegExp("("+x.keys(_.unescape).join("|")+")","g")};x.each(["escape","unescape"],function(e){x[e]=function(t){return t==null?"":(""+t).replace(D[e],function(t){return _[e][t]})}}),x.result=function(e,t){if(e==null)return void 0;var n=e[t];return x.isFunction(n)?n.call(e):n},x.mixin=function(e){T(x.functions(e),function(t){var n=x[t]=e[t];x.prototype[t]=function(){var e=[this._wrapped];return o.apply(e,arguments),F.call(this,n.apply(x,e))}})};var P=0;x.uniqueId=function(e){var t=++P+"";return e?e+t:t},x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var H=/(.)^/,B={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},j=/\\|'|\r|\n|\t|\u2028|\u2029/g;x.template=function(e,t,n){var r;n=x.defaults({},n,x.templateSettings);var i=new RegExp([(n.escape||H).source,(n.interpolate||H).source,(n.evaluate||H).source].join("|")+"|$","g"),s=0,o="__p+='";e.replace(i,function(t,n,r,i,u){return o+=e.slice(s,u).replace(j,function(e){return"\\"+B[e]}),n&&(o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),r&&(o+="'+\n((__t=("+r+"))==null?'':__t)+\n'"),i&&(o+="';\n"+i+"\n__p+='"),s=u+t.length,t}),o+="';\n",n.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{r=new Function(n.variable||"obj","_",o)}catch(u){throw u.source=o,u}if(t)return r(t,x);var a=function(e){return r.call(this,e,x)};return a.source="function("+(n.variable||"obj")+"){\n"+o+"}",a},x.chain=function(e){return x(e).chain()};var F=function(e){return this._chain?x(e).chain():e};x.mixin(x),T(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=r[e];x.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),(e=="shift"||e=="splice")&&n.length===0&&delete n[0],F.call(this,n)}}),T(["concat","join","slice"],function(e){var t=r[e];x.prototype[e]=function(){return F.call(this,t.apply(this._wrapped,arguments))}}),x.extend(x.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}}),typeof define=="function"&&define.amd&&define("underscore",[],function(){return x})}.call(this),function(e,t){if(typeof define=="function"&&define.amd)define("backbone",["underscore","jquery","exports"],function(n,r,i){e.Backbone=t(e,i,n,r)});else if(typeof exports!="undefined"){var n=require("underscore");t(e,exports,n)}else e.Backbone=t(e,{},e._,e.jQuery||e.Zepto||e.ender||e.$)}(this,function(e,t,n,r){var i=e.Backbone,s=[],o=s.push,u=s.slice,a=s.splice;t.VERSION="1.1.2",t.$=r,t.noConflict=function(){return e.Backbone=i,this},t.emulateHTTP=!1,t.emulateJSON=!1;var f=t.Events={on:function(e,t,n){if(!c(this,"on",e,[t,n])||!t)return this;this._events||(this._events={});var r=this._events[e]||(this._events[e]=[]);return r.push({callback:t,context:n,ctx:n||this}),this},once:function(e,t,r){if(!c(this,"once",e,[t,r])||!t)return this;var i=this,s=n.once(function(){i.off(e,s),t.apply(this,arguments)});return s._callback=t,this.on(e,s,r)},off:function(e,t,r){var i,s,o,u,a,f,l,h;if(!this._events||!c(this,"off",e,[t,r]))return this;if(!e&&!t&&!r)return this._events=void 0,this;u=e?[e]:n.keys(this._events);for(a=0,f=u.length;a<f;a++){e=u[a];if(o=this._events[e]){this._events[e]=i=[];if(t||r)for(l=0,h=o.length;l<h;l++)s=o[l],(t&&t!==s.callback&&t!==s.callback._callback||r&&r!==s.context)&&i.push(s);i.length||delete this._events[e]}}return this},trigger:function(e){if(!this._events)return this;var t=u.call(arguments,1);if(!c(this,"trigger",e,t))return this;var n=this._events[e],r=this._events.all;return n&&h(n,t),r&&h(r,arguments),this},stopListening:function(e,t,r){var i=this._listeningTo;if(!i)return this;var s=!t&&!r;!r&&typeof t=="object"&&(r=this),e&&((i={})[e._listenId]=e);for(var o in i)e=i[o],e.off(t,r,this),(s||n.isEmpty(e._events))&&delete this._listeningTo[o];return this}},l=/\s+/,c=function(e,t,n,r){if(!n)return!0;if(typeof n=="object"){for(var i in n)e[t].apply(e,[i,n[i]].concat(r));return!1}if(l.test(n)){var s=n.split(l);for(var o=0,u=s.length;o<u;o++)e[t].apply(e,[s[o]].concat(r));return!1}return!0},h=function(e,t){var n,r=-1,i=e.length,s=t[0],o=t[1],u=t[2];switch(t.length){case 0:while(++r<i)(n=e[r]).callback.call(n.ctx);return;case 1:while(++r<i)(n=e[r]).callback.call(n.ctx,s);return;case 2:while(++r<i)(n=e[r]).callback.call(n.ctx,s,o);return;case 3:while(++r<i)(n=e[r]).callback.call(n.ctx,s,o,u);return;default:while(++r<i)(n=e[r]).callback.apply(n.ctx,t);return}},p={listenTo:"on",listenToOnce:"once"};n.each(p,function(e,t){f[t]=function(t,r,i){var s=this._listeningTo||(this._listeningTo={}),o=t._listenId||(t._listenId=n.uniqueId("l"));return s[o]=t,!i&&typeof r=="object"&&(i=this),t[e](r,i,this),this}}),f.bind=f.on,f.unbind=f.off,n.extend(t,f);var d=t.Model=function(e,t){var r=e||{};t||(t={}),this.cid=n.uniqueId("c"),this.attributes={},t.collection&&(this.collection=t.collection),t.parse&&(r=this.parse(r,t)||{}),r=n.defaults({},r,n.result(this,"defaults")),this.set(r,t),this.changed={},this.initialize.apply(this,arguments)};n.extend(d.prototype,f,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(e){return n.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return n.escape(this.get(e))},has:function(e){return this.get(e)!=null},set:function(e,t,r){var i,s,o,u,a,f,l,c;if(e==null)return this;typeof e=="object"?(s=e,r=t):(s={})[e]=t,r||(r={});if(!this._validate(s,r))return!1;o=r.unset,a=r.silent,u=[],f=this._changing,this._changing=!0,f||(this._previousAttributes=n.clone(this.attributes),this.changed={}),c=this.attributes,l=this._previousAttributes,this.idAttribute in s&&(this.id=s[this.idAttribute]);for(i in s)t=s[i],n.isEqual(c[i],t)||u.push(i),n.isEqual(l[i],t)?delete this.changed[i]:this.changed[i]=t,o?delete c[i]:c[i]=t;if(!a){u.length&&(this._pending=r);for(var h=0,p=u.length;h<p;h++)this.trigger("change:"+u[h],this,c[u[h]],r)}if(f)return this;if(!a)while(this._pending)r=this._pending,this._pending=!1,this.trigger("change",this,r);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,n.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var r in this.attributes)t[r]=void 0;return this.set(t,n.extend({},e,{unset:!0}))},hasChanged:function(e){return e==null?!n.isEmpty(this.changed):n.has(this.changed,e)},changedAttributes:function(e){if(!e)return this.hasChanged()?n.clone(this.changed):!1;var t,r=!1,i=this._changing?this._previousAttributes:this.attributes;for(var s in e){if(n.isEqual(i[s],t=e[s]))continue;(r||(r={}))[s]=t}return r},previous:function(e){return e==null||!this._previousAttributes?null:this._previousAttributes[e]},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(e){e=e?n.clone(e):{},e.parse===void 0&&(e.parse=!0);var t=this,r=e.success;return e.success=function(n){if(!t.set(t.parse(n,e),e))return!1;r&&r(t,n,e),t.trigger("sync",t,n,e)},I(this,e),this.sync("read",this,e)},save:function(e,t,r){var i,s,o,u=this.attributes;e==null||typeof e=="object"?(i=e,r=t):(i={})[e]=t,r=n.extend({validate:!0},r);if(i&&!r.wait){if(!this.set(i,r))return!1}else if(!this._validate(i,r))return!1;i&&r.wait&&(this.attributes=n.extend({},u,i)),r.parse===void 0&&(r.parse=!0);var a=this,f=r.success;return r.success=function(e){a.attributes=u;var t=a.parse(e,r);r.wait&&(t=n.extend(i||{},t));if(n.isObject(t)&&!a.set(t,r))return!1;f&&f(a,e,r),a.trigger("sync",a,e,r)},I(this,r),s=this.isNew()?"create":r.patch?"patch":"update",s==="patch"&&(r.attrs=i),o=this.sync(s,this,r),i&&r.wait&&(this.attributes=u),o},destroy:function(e){e=e?n.clone(e):{};var t=this,r=e.success,i=function(){t.trigger("destroy",t,t.collection,e)};e.success=function(n){(e.wait||t.isNew())&&i(),r&&r(t,n,e),t.isNew()||t.trigger("sync",t,n,e)};if(this.isNew())return e.success(),!1;I(this,e);var s=this.sync("delete",this,e);return e.wait||i(),s},url:function(){var e=n.result(this,"urlRoot")||n.result(this.collection,"url")||F();return this.isNew()?e:e.replace(/([^\/])$/,"$1/")+encodeURIComponent(this.id)},parse:function(e,t){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(e){return this._validate({},n.extend(e||{},{validate:!0}))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=n.extend({},this.attributes,e);var r=this.validationError=this.validate(e,t)||null;return r?(this.trigger("invalid",this,r,n.extend(t,{validationError:r})),!1):!0}});var v=["keys","values","pairs","invert","pick","omit"];n.each(v,function(e){d.prototype[e]=function(){var t=u.call(arguments);return t.unshift(this.attributes),n[e].apply(n,t)}});var m=t.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),t.comparator!==void 0&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,n.extend({silent:!0},t))},g={add:!0,remove:!0,merge:!0},y={add:!0,remove:!1};n.extend(m.prototype,f,{model:d,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return t.sync.apply(this,arguments)},add:function(e,t){return this.set(e,n.extend({merge:!1},t,y))},remove:function(e,t){var r=!n.isArray(e);e=r?[e]:n.clone(e),t||(t={});var i,s,o,u;for(i=0,s=e.length;i<s;i++){u=e[i]=this.get(e[i]);if(!u)continue;delete this._byId[u.id],delete this._byId[u.cid],o=this.indexOf(u),this.models.splice(o,1),this.length--,t.silent||(t.index=o,u.trigger("remove",u,this,t)),this._removeReference(u,t)}return r?e[0]:e},set:function(e,t){t=n.defaults({},t,g),t.parse&&(e=this.parse(e,t));var r=!n.isArray(e);e=r?e?[e]:[]:n.clone(e);var i,s,o,u,a,f,l,c=t.at,h=this.model,p=this.comparator&&c==null&&t.sort!==!1,v=n.isString(this.comparator)?this.comparator:null,m=[],y=[],b={},w=t.add,E=t.merge,S=t.remove,x=!p&&w&&S?[]:!1;for(i=0,s=e.length;i<s;i++){a=e[i]||{},a instanceof d?o=u=a:o=a[h.prototype.idAttribute||"id"];if(f=this.get(o))S&&(b[f.cid]=!0),E&&(a=a===u?u.attributes:a,t.parse&&(a=f.parse(a,t)),f.set(a,t),p&&!l&&f.hasChanged(v)&&(l=!0)),e[i]=f;else if(w){u=e[i]=this._prepareModel(a,t);if(!u)continue;m.push(u),this._addReference(u,t)}u=f||u,x&&(u.isNew()||!b[u.id])&&x.push(u),b[u.id]=!0}if(S){for(i=0,s=this.length;i<s;++i)b[(u=this.models[i]).cid]||y.push(u);y.length&&this.remove(y,t)}if(m.length||x&&x.length){p&&(l=!0),this.length+=m.length;if(c!=null)for(i=0,s=m.length;i<s;i++)this.models.splice(c+i,0,m[i]);else{x&&(this.models.length=0);var T=x||m;for(i=0,s=T.length;i<s;i++)this.models.push(T[i])}}l&&this.sort({silent:!0});if(!t.silent){for(i=0,s=m.length;i<s;i++)(u=m[i]).trigger("add",u,this,t);(l||x&&x.length)&&this.trigger("sort",this,t)}return r?e[0]:e},reset:function(e,t){t||(t={});for(var r=0,i=this.models.length;r<i;r++)this._removeReference(this.models[r],t);return t.previousModels=this.models,this._reset(),e=this.add(e,n.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),e},push:function(e,t){return this.add(e,n.extend({at:this.length},t))},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e),t},unshift:function(e,t){return this.add(e,n.extend({at:0},t))},shift:function(e){var t=this.at(0);return this.remove(t,e),t},slice:function(){return u.apply(this.models,arguments)},get:function(e){return e==null?void 0:this._byId[e]||this._byId[e.id]||this._byId[e.cid]},at:function(e){return this.models[e]},where:function(e,t){return n.isEmpty(e)?t?void 0:[]:this[t?"find":"filter"](function(t){for(var n in e)if(e[n]!==t.get(n))return!1;return!0})},findWhere:function(e){return this.where(e,!0)},sort:function(e){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return e||(e={}),n.isString(this.comparator)||this.comparator.length===1?this.models=this.sortBy(this.comparator,this):this.models.sort(n.bind(this.comparator,this)),e.silent||this.trigger("sort",this,e),this},pluck:function(e){return n.invoke(this.models,"get",e)},fetch:function(e){e=e?n.clone(e):{},e.parse===void 0&&(e.parse=!0);var t=e.success,r=this;return e.success=function(n){var i=e.reset?"reset":"set";r[i](n,e),t&&t(r,n,e),r.trigger("sync",r,n,e)},I(this,e),this.sync("read",this,e)},create:function(e,t){t=t?n.clone(t):{};if(!(e=this._prepareModel(e,t)))return!1;t.wait||this.add(e,t);var r=this,i=t.success;return t.success=function(e,n){t.wait&&r.add(e,t),i&&i(e,n,t)},e.save(null,t),e},parse:function(e,t){return e},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(e instanceof d)return e;t=t?n.clone(t):{},t.collection=this;var r=new this.model(e,t);return r.validationError?(this.trigger("invalid",this,r.validationError,t),!1):r},_addReference:function(e,t){this._byId[e.cid]=e,e.id!=null&&(this._byId[e.id]=e),e.collection||(e.collection=this),e.on("all",this._onModelEvent,this)},_removeReference:function(e,t){this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,r){if((e==="add"||e==="remove")&&n!==this)return;e==="destroy"&&this.remove(t,r),t&&e==="change:"+t.idAttribute&&(delete this._byId[t.previous(t.idAttribute)],t.id!=null&&(this._byId[t.id]=t)),this.trigger.apply(this,arguments)}});var b=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain","sample"];n.each(b,function(e){m.prototype[e]=function(){var t=u.call(arguments);return t.unshift(this.models),n[e].apply(n,t)}});var w=["groupBy","countBy","sortBy","indexBy"];n.each(w,function(e){m.prototype[e]=function(t,r){var i=n.isFunction(t)?t:function(e){return e.get(t)};return n[e](this.models,i,r)}});var E=t.View=function(e){this.cid=n.uniqueId("view"),e||(e={}),n.extend(this,n.pick(e,x)),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},S=/^(\S+)\s*(.*)$/,x=["model","collection","el","id","attributes","className","tagName","events"];n.extend(E.prototype,f,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(e,n){return this.$el&&this.undelegateEvents(),this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0],n!==!1&&this.delegateEvents(),this},delegateEvents:function(e){if(!e&&!(e=n.result(this,"events")))return this;this.undelegateEvents();for(var t in e){var r=e[t];n.isFunction(r)||(r=this[e[t]]);if(!r)continue;var i=t.match(S),s=i[1],o=i[2];r=n.bind(r,this),s+=".delegateEvents"+this.cid,o===""?this.$el.on(s,r):this.$el.on(s,o,r)}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_ensureElement:function(){if(!this.el){var e=n.extend({},n.result(this,"attributes"));this.id&&(e.id=n.result(this,"id")),this.className&&(e["class"]=n.result(this,"className"));var r=t.$("<"+n.result(this,"tagName")+">").attr(e);this.setElement(r,!1)}else this.setElement(n.result(this,"el"),!1)}}),t.sync=function(e,r,i){var s=N[e];n.defaults(i||(i={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var o={type:s,dataType:"json"};i.url||(o.url=n.result(r,"url")||F()),i.data==null&&r&&(e==="create"||e==="update"||e==="patch")&&(o.contentType="application/json",o.data=JSON.stringify(i.attrs||r.toJSON(i))),i.emulateJSON&&(o.contentType="application/x-www-form-urlencoded",o.data=o.data?{model:o.data}:{});if(i.emulateHTTP&&(s==="PUT"||s==="DELETE"||s==="PATCH")){o.type="POST",i.emulateJSON&&(o.data._method=s);var u=i.beforeSend;i.beforeSend=function(e){e.setRequestHeader("X-HTTP-Method-Override",s);if(u)return u.apply(this,arguments)}}o.type!=="GET"&&!i.emulateJSON&&(o.processData=!1),o.type==="PATCH"&&T&&(o.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var a=i.xhr=t.ajax(n.extend(o,i));return r.trigger("request",r,a,i),a};var T=typeof window!="undefined"&&!!window.ActiveXObject&&(!window.XMLHttpRequest||!(new XMLHttpRequest).dispatchEvent),N={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var C=t.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},k=/\((.*?)\)/g,L=/(\(\?)?:\w+/g,A=/\*\w+/g,O=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(C.prototype,f,{initialize:function(){},route:function(e,r,i){n.isRegExp(e)||(e=this._routeToRegExp(e)),n.isFunction(r)&&(i=r,r=""),i||(i=this[r]);var s=this;return t.history.route(e,function(n){var o=s._extractParameters(e,n);s.execute(i,o),s.trigger.apply(s,["route:"+r].concat(o)),s.trigger("route",r,o),t.history.trigger("route",s,r,o)}),this},execute:function(e,t){e&&e.apply(this,t)},navigate:function(e,n){return t.history.navigate(e,n),this},_bindRoutes:function(){if(!this.routes)return;this.routes=n.result(this,"routes");var e,t=n.keys(this.routes);while((e=t.pop())!=null)this.route(e,this.routes[e])},_routeToRegExp:function(e){return e=e.replace(O,"\\$&").replace(k,"(?:$1)?").replace(L,function(e,t){return t?e:"([^/?]+)"}).replace(A,"([^?]*?)"),new RegExp("^"+e+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(e,t){var r=e.exec(t).slice(1);return n.map(r,function(e,t){return t===r.length-1?e||null:e?decodeURIComponent(e):null})}});var M=t.History=function(){this.handlers=[],n.bindAll(this,"checkUrl"),typeof window!="undefined"&&(this.location=window.location,this.history=window.history)},_=/^[#\/]|\s+$/g,D=/^\/+|\/+$/g,P=/msie [\w.]+/,H=/\/$/,B=/#.*$/;M.started=!1,n.extend(M.prototype,f,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root},getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getFragment:function(e,t){if(e==null)if(this._hasPushState||!this._wantsHashChange||t){e=decodeURI(this.location.pathname+this.location.search);var n=this.root.replace(H,"");e.indexOf(n)||(e=e.slice(n.length))}else e=this.getHash();return e.replace(_,"")},start:function(e){if(M.started)throw new Error("Backbone.history has already been started");M.started=!0,this.options=n.extend({root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var r=this.getFragment(),i=document.documentMode,s=P.exec(navigator.userAgent.toLowerCase())&&(!i||i<=7);this.root=("/"+this.root+"/").replace(D,"/");if(s&&this._wantsHashChange){var o=t.$('<iframe src="javascript:0" tabindex="-1">');this.iframe=o.hide().appendTo("body")[0].contentWindow,this.navigate(r)}this._hasPushState?t.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!s?t.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=r;var u=this.location;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot())return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+"#"+this.fragment),!0;this._hasPushState&&this.atRoot()&&u.hash&&(this.fragment=this.getHash().replace(_,""),this.history.replaceState({},document.title,this.root+this.fragment))}if(!this.options.silent)return this.loadUrl()},stop:function(){t.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),M.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();t===this.fragment&&this.iframe&&(t=this.getFragment(this.getHash(this.iframe)));if(t===this.fragment)return!1;this.iframe&&this.navigate(t),this.loadUrl()},loadUrl:function(e){return e=this.fragment=this.getFragment(e),n.any(this.handlers,function(t){if(t.route.test(e))return t.callback(e),!0})},navigate:function(e,t){if(!M.started)return!1;if(!t||t===!0)t={trigger:!!t};var n=this.root+(e=this.getFragment(e||""));e=e.replace(B,"");if(this.fragment===e)return;this.fragment=e,e===""&&n!=="/"&&(n=n.slice(0,-1));if(this._hasPushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getFragment(this.getHash(this.iframe))&&(t.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,e,t.replace))}if(t.trigger)return this.loadUrl(e)},_updateHash:function(e,t,n){if(n){var r=e.href.replace(/(javascript:|#).*$/,"");e.replace(r+"#"+t)}else e.hash="#"+t}}),t.history=new M;var j=function(e,t){var r=this,i;e&&n.has(e,"constructor")?i=e.constructor:i=function(){return r.apply(this,arguments)},n.extend(i,r,t);var s=function(){this.constructor=i};return s.prototype=r.prototype,i.prototype=new s,e&&n.extend(i.prototype,e),i.__super__=r.prototype,i};d.extend=m.extend=C.extend=E.extend=M.extend=j;var F=function(){throw new Error('A "url" property or function must be specified')},I=function(e,t){var n=t.error;t.error=function(r){n&&n(e,r,t),e.trigger("error",e,r,t)}};return t}),function(e){typeof define=="function"&&define.amd?define("libraries/jquery/plugins/hotkeys",["jquery"],e):e(jQuery)}(function(e){function t(t){typeof t.data=="string"&&(t.data={keys:t.data});if(!t.data||!t.data.keys||typeof t.data.keys!="string")return;var n=t.handler,r=t.data.keys.toLowerCase().split(" "),i=["text","password","number","email","url","range","date","month","week","time","datetime","datetime-local","search","color","tel"];t.handler=function(t){if(this!==t.target&&(/textarea|select/i.test(t.target.nodeName)||e.inArray(t.target.type,i)>-1))return;var s=e.hotkeys.specialKeys[t.keyCode],o=String.fromCharCode(t.which).toLowerCase(),u="",a={};e.each(["alt","ctrl","meta","shift"],function(e,n){t[n+"Key"]&&s!==n&&(u+=n+"+")}),u=u.replace("alt+ctrl+meta+shift","hyper"),s&&(a[u+s]=!0),o&&(a[u+o]=!0,a[u+e.hotkeys.shiftNums[o]]=!0,u==="shift+"&&(a[e.hotkeys.shiftNums[o]]=!0));for(var f=0,l=r.length;f<l;f++)if(a[r[f]])return n.apply(this,arguments)}}e.hotkeys={version:"0.8",specialKeys:{8:"backspace",9:"tab",10:"return",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",59:";",61:"=",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},shiftNums:{"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":": ","'":'"',",":"<",".":">","/":"?","\\":"|"}},e.each(["keydown","keyup","keypress"],function(){e.event.special[this]={add:t}})}),define("libraries/appular/extensions/backbone/backbone",["jquery","underscore","backbone","libraries/jquery/plugins/hotkeys"],function(e,t,n,r){var i=/^(\S+)\s*(.*)$/;if(!e.hotkeys)throw new Error("Error: You have not included the jQuery Hotkeys dependency!");n.Model=function(e){return e.extend({config:{},fetch:function(t){return this.fixture&&this.config.useFixtures&&(this.url=this.fixture),e.prototype.fetch.apply(this,arguments)}})}(n.Model),n.Collection=function(e){return e.extend({config:{},fetch:function(t){return this.fixture&&this.config.useFixtures&&(this.url=this.fixture),e.prototype.fetch.apply(this,arguments)}})}(n.Collection),n.View=function(r){var s=["model","collection","el","id","attributes","className","tagName","events","app"];return r.extend({config:{},listeners:{},constructor:function(i){this.views={},this.plugins={},this.options=this.options||{},i=i||{},i.model&&(this.model=i.model),i.app&&(this.app=i.app),typeof this.model=="function"?this.model=new this.model:this.model=new n.Model,this.model.options=this.model.options||{},t.extend(this.options,t.omit(i,s)),t.extend(this.model.options,t.omit(i,s)),t.each(this.listeners,function(e,n){var r=n.split(" "),i,s=t.isFunction(e)?e:this[e];i=r[0]==="app"||r[0]==="model"||r[0]==="collection"?r.shift():null;if(i){if(!this[i])throw new Error("Property does not exist.");this.listenTo(this[i],r.join(" "),s)}else this.on(r.join(" "),s)},this),this.$body=e("body"),r.apply(this,arguments)},initialize:function(e){return this.$el.hasClass("not-initialized")&&this.$el.removeClass("not-initialized"),this.$el.data("not-initialized")!==undefined&&this.$el.removeAttr("data-not-initialized"),self},delegateEvents:function(n){if(!n&&!(n=t.result(this,"events")))return this;this.undelegateEvents();for(var r in n){var s=n[r];t.isFunction(s)||(s=this[n[r]]);if(!s)continue;var o=r.match(i),u=o[1],a=o[2],f=t.bind(s,this);u+=".delegateEvents"+this.cid;var l=/(.*)\[(.*)\]/,c=u.match(l),h=null;c&&(u=c[1],h=c[2]);if(!a)c?e(document).bind(u,h,f):this.$el.on(u,f);else if(c){var p=function(t,n,r,i){return function(){e(this).find(t).length>0&&i.apply(null,arguments)}}(a,u,h,s);e(document).bind(u,h,p)}else this.$el.on(u,a,f)}return this}})}(n.View)}),define("libraries/appular/extensions/app/model",["backbone"],function(e){var t=e.Model.extend({defaults:{id:"",value:"",alias:"",addToHistory:!0,addToUrl:!0,loadFromCookie:!1},toggle:function(){this.set("value",!this.get("value"))}});return t}),define("utilities/cookies/utility",["underscore"],function(e){return{get:function(e){var t=decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null;return t&&t.match(/^\{.*\}$/)&&(t=JSON.parse(t)),t},set:function(t,n,r,i,s,o){if(!t||/^(?:expires|max\-age|path|domain|secure)$/i.test(t))return!1;var u="";if(r)switch(r.constructor){case Number:u=r===Infinity?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+r;break;case String:u="; expires="+r;break;case Date:u="; expires="+r.toUTCString()}return e.isObject(n)&&(n=JSON.stringify(n)),document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(n)+u+(s?"; domain="+s:"")+(i?"; path="+i:"")+(o?"; secure":""),!0},expire:function(e,t,n){return!e||!this.has(e)?!1:(document.cookie=encodeURIComponent(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(n?"; domain="+n:"")+(t?"; path="+t:""),!0)},has:function(e){return(new RegExp("(?:^|;\\s*)"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=")).test(document.cookie)},isEnabled:function(){this.set("cookiesIsEnabledTest","1");var e=this.get("cookiesIsEnabledTest")==="1"?!0:!1;return this.expire("cookiesIsEnabledTest"),e}}}),define("libraries/appular/extensions/app/collection",["jquery","underscore","backbone","./model","utilities/cookies/utility"],function(e,t,n,r,i){var s=n.Collection.extend({model:r,initialize:function(){t.bindAll(this,"load"),this.on("add",function(e){e.on("change:value",function(){this.trigger("change:"+e.get("id"),e,e.get("id"))},this)},this)},load:function(e){t.each(e,function(e){var n=e.id,r=e.value,i=this.get(n);i||(i=t.find(this.models,function(e){return e.get("alias")===n})),i&&i.set({value:r},{silent:!0})},this),t.each(this.models,function(e){e.get("loadFromCookie")&&e.set({value:i.get(e.get("alias")?e.get("alias"):e.get("id"))},{silent:!0})},this),n.trigger("appular:params:initialized")},getValue:function(e){var t=this.get(e),n;return t&&(n=t.get("value")),n},setValue:function(e,t,n){var r=this.get(e);return n=n||{},r.get("loadFromCookie")&&i.set(r.get("alias")?r.get("alias"):e,t),this.get(e).set({value:t},n)}});return s}),define("libraries/appular/extensions/app/router",["jquery","underscore","backbone"],function(e,t,n){var r=n.Router.extend({settings:{hash:{useBang:!1,paramSeparator:"&",keyValSeparator:"=",arraySeparator:"|"},loadFrom:"hash"},initialize:function(e){this.collection=e.collection,this.collection.on("change",function(e){this.navigateHash(!e.get("addToHistory"))},this)},routes:{"*data":"action"},action:function(e){var n=[];e&&(this.settings.hash.useBang&&e.charAt(0)==="!"&&(e=e.substr(1)),t.each(e.split(this.settings.hash.paramSeparator),function(e){var t=e.split(this.settings.hash.keyValSeparator)[0],r=e.split(this.settings.hash.keyValSeparator)[1];r&&(r.indexOf(this.settings.hash.arraySeparator)!==-1&&(r=r.split(this.settings.hash.arraySeparator)),n.push({id:t,value:r}))},this)),this.collection.load(n)},navigateHash:function(e){var n=[],r="",i;this.collection.each(function(e){e.get("addToUrl")&&(i=e.get("value"),t.isArray(i)&&(i=i.join(this.settings.hash.arraySeparator)),i&&n.push((e.get("alias")?e.get("alias"):e.get("id"))+this.settings.hash.keyValSeparator+i))},this),this.settings.hash.useBang&&(r+="!"),t.isEmpty(n)||(r+=n.join(this.settings.hash.paramSeparator)),this.navigate(r,{trigger:!1,replace:e})}});return r}),define("libraries/appular/extensions/app/app",["underscore","backbone","./collection","./router","../backbone/backbone"],function(e,t,n,r){t.App=function(t){var i=["model","collection","el","id","attributes","className","tagName","events"];return t.extend({params:{},collection:new n,router:{},constructor:function(n){var s=[],o=e.omit(n,i);e.each(this.params,function(t,n){var r={id:n};e.isString(t)&&(r.value=t),e.isObject(t)&&(r=e.extend(r,t)),o[n]&&(r.value=o[n]),s.push(r)},this),this.collection.add(s),this.collection.on("all",function(){var e=Array.prototype.slice.call(arguments),t=e.shift();t!=="change:value"&&this.trigger(t,e[0],e[1])},this),this.router=new r({collection:this.collection}),t.apply(this,arguments)},get:function(e,t){return t?this.collection.get(e):this.collection.getValue(e)},set:function(e,t,n){return this.collection.setValue(e,t,n)},toggle:function(e){this.collection.setValue(e,!this.collection.get("value"))}})}(t.View)}),define("appular",["module","jquery","underscore","backbone","libraries/appular/extensions/backbone/backbone","libraries/appular/extensions/app/app"],function(e,t,n,r){var i={};return i.version="4.0.0",i.app="",i.components={},i.config=e.config(),i.log=function(){var t={Library:"FC913A",App:"00A8C6",Component:"40C0CB",Event:"8FBE00"},n=Array.prototype.slice.call(arguments);e.config().env==="develop"&&window.console&&console.log("%c"+n.join(" : "),"color: #"+t[n[0]])},i.require={},i.require.app=function(e,s){var o="apps/"+e+"/app";s=s||{},n.extend(s,{el:t("body")}),require([o],function(t){i.log("App",e,o),i.app=new t(s),r.trigger("appular:app:required",i.app)})},i.require.component=function(e,t){var n="components/"+e+"/component";t=t||{},t.app=i.app,require([n],function(s){i.log("Component",e,n),i.components[e]=new s(t),r.trigger("appular:component:required",i.components[e])})},n.extend(r.App.prototype,{config:i.config}),n.extend(r.View.prototype,{config:i.config}),n.extend(r.Collection.prototype,{config:i.config}),n.extend(r.Model.prototype,{config:i.config}),n.templateSettings={evaluate:/\{\{#([\s\S]+?)\}\}/g,interpolate:/\{\{\{([\s\S]+?)\}\}\}/g,escape:/\{\{[^#\{]([\s\S]+?)[^\}]\}\}/g},i}),function(e,t,n){var r=window.matchMedia;typeof module!="undefined"&&module.exports?module.exports=n(r):typeof define=="function"&&define.amd?define("enquire",[],function(){return t[e]=n(r)}):t[e]=n(r)}("enquire",this,function(e){"use strict";function t(e,t){var n=0,r=e.length,i;for(n;n<r;n++){i=t(e[n],n);if(i===!1)break}}function n(e){return Object.prototype.toString.apply(e)==="[object Array]"}function r(e){return typeof e=="function"}function i(e){this.options=e,!e.deferSetup&&this.setup()}function s(t,n){this.query=t,this.isUnconditional=n,this.handlers=[],this.mql=e(t);var r=this;this.listener=function(e){r.mql=e,r.assess()},this.mql.addListener(this.listener)}function o(){if(!e)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!e("only all").matches}return i.prototype={setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(e){return this.options===e||this.options.match===e}},s.prototype={addHandler:function(e){var t=new i(e);this.handlers.push(t),this.matches()&&t.on()},removeHandler:function(e){var n=this.handlers;t(n,function(t,r){if(t.equals(e))return t.destroy(),!n.splice(r,1)})},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){t(this.handlers,function(e){e.destroy()}),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var e=this.matches()?"on":"off";t(this.handlers,function(t){t[e]()})}},o.prototype={register:function(e,i,o){var u=this.queries,a=o&&this.browserIsIncapable;return u[e]||(u[e]=new s(e,a)),r(i)&&(i={match:i}),n(i)||(i=[i]),t(i,function(t){u[e].addHandler(t)}),this},unregister:function(e,t){var n=this.queries[e];return n&&(t?n.removeHandler(t):(n.clear(),delete this.queries[e])),this}},new o});var deviceIsAndroid=navigator.userAgent.indexOf("Android")>0,deviceIsIOS=/iP(ad|hone|od)/.test(navigator.userAgent),deviceIsIOS4=deviceIsIOS&&/OS 4_\d(_\d)?/.test(navigator.userAgent),deviceIsIOSWithBadTarget=deviceIsIOS&&/OS ([6-9]|\d{2})_\d/.test(navigator.userAgent),deviceIsBlackBerry10=navigator.userAgent.indexOf("BB10")>0;FastClick.prototype.needsClick=function(e){"use strict";switch(e.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(e.disabled)return!0;break;case"input":if(deviceIsIOS&&e.type==="file"||e.disabled)return!0;break;case"label":case"video":return!0}return/\bneedsclick\b/.test(e.className)},FastClick.prototype.needsFocus=function(e){"use strict";switch(e.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!deviceIsAndroid;case"input":switch(e.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!e.disabled&&!e.readOnly;default:return/\bneedsfocus\b/.test(e.className)}},FastClick.prototype.sendClick=function(e,t){"use strict";var n,r;document.activeElement&&document.activeElement!==e&&document.activeElement.blur(),r=t.changedTouches[0],n=document.createEvent("MouseEvents"),n.initMouseEvent(this.determineEventType(e),!0,!0,window,1,r.screenX,r.screenY,r.clientX,r.clientY,!1,!1,!1,!1,0,null),n.forwardedTouchEvent=!0,e.dispatchEvent(n)},FastClick.prototype.determineEventType=function(e){"use strict";return deviceIsAndroid&&e.tagName.toLowerCase()==="select"?"mousedown":"click"},FastClick.prototype.focus=function(e){"use strict";var t;deviceIsIOS&&e.setSelectionRange&&e.type.indexOf("date")!==0&&e.type!=="time"?(t=e.value.length,e.setSelectionRange(t,t)):e.focus()},FastClick.prototype.updateScrollParent=function(e){"use strict";var t,n;t=e.fastClickScrollParent;if(!t||!t.contains(e)){n=e;do{if(n.scrollHeight>n.offsetHeight){t=n,e.fastClickScrollParent=n;break}n=n.parentElement}while(n)}t&&(t.fastClickLastScrollTop=t.scrollTop)},FastClick.prototype.getTargetElementFromEventTarget=function(e){"use strict";return e.nodeType===Node.TEXT_NODE?e.parentNode:e},FastClick.prototype.onTouchStart=function(e){"use strict";var t,n,r;if(e.targetTouches.length>1)return!0;t=this.getTargetElementFromEventTarget(e.target),n=e.targetTouches[0];if(t.hasClass()=="gig-composebox-textarea"&&t.isContentEditable)return!0;if(deviceIsIOS){r=window.getSelection();if(r.rangeCount&&!r.isCollapsed)return!0;if(!deviceIsIOS4){if(n.identifier&&n.identifier===this.lastTouchIdentifier)return e.preventDefault(),!1;this.lastTouchIdentifier=n.identifier,this.updateScrollParent(t)}}return this.trackingClick=!0,this.trackingClickStart=e.timeStamp,this.targetElement=t,this.touchStartX=n.pageX,this.touchStartY=n.pageY,e.timeStamp-this.lastClickTime<this.tapDelay&&e.preventDefault(),!0},FastClick.prototype.touchHasMoved=function(e){"use strict";var t=e.changedTouches[0],n=this.touchBoundary;return Math.abs(t.pageX-this.touchStartX)>n||Math.abs(t.pageY-this.touchStartY)>n?!0:!1},FastClick.prototype.onTouchMove=function(e){"use strict";if(!this.trackingClick)return!0;if(this.targetElement!==this.getTargetElementFromEventTarget(e.target)||this.touchHasMoved(e))this.trackingClick=!1,this.targetElement=null;return!0},FastClick.prototype.findControl=function(e){"use strict";return e.control!==undefined?e.control:e.htmlFor?document.getElementById(e.htmlFor):e.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},FastClick.prototype.onTouchEnd=function(e){"use strict";var t,n,r,i,s,o=this.targetElement;if(!this.trackingClick)return!0;if(e.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;this.cancelNextClick=!1,this.lastClickTime=e.timeStamp,n=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,deviceIsIOSWithBadTarget&&(s=e.changedTouches[0],o=document.elementFromPoint(s.pageX-window.pageXOffset,s.pageY-window.pageYOffset)||o,o.fastClickScrollParent=this.targetElement.fastClickScrollParent),r=o.tagName.toLowerCase();if(r==="label"){t=this.findControl(o);if(t){this.focus(o);if(deviceIsAndroid)return!1;o=t}}else if(this.needsFocus(o)){if(e.timeStamp-n>100||deviceIsIOS&&window.top!==window&&r==="input")return this.targetElement=null,!1;this.focus(o),this.sendClick(o,e);if(!deviceIsIOS||r!=="select")this.targetElement=null,e.preventDefault();return!1}if(deviceIsIOS&&!deviceIsIOS4){i=o.fastClickScrollParent;if(i&&i.fastClickLastScrollTop!==i.scrollTop)return!0}return this.needsClick(o)||(e.preventDefault(),this.sendClick(o,e)),!1},FastClick.prototype.onTouchCancel=function(){"use strict";this.trackingClick=!1,this.targetElement=null},FastClick.prototype.onMouse=function(e){"use strict";return this.targetElement?e.forwardedTouchEvent?!0:e.cancelable?!this.needsClick(this.targetElement)||this.cancelNextClick?(e.stopImmediatePropagation?e.stopImmediatePropagation():e.propagationStopped=!0,e.stopPropagation(),e.preventDefault(),!1):!0:!0:!0},FastClick.prototype.onClick=function(e){"use strict";var t;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):e.target.type==="submit"&&e.detail===0?!0:(t=this.onMouse(e),t||(this.targetElement=null),t)},FastClick.prototype.destroy=function(){"use strict";var e=this.layer;deviceIsAndroid&&(e.removeEventListener("mouseover",this.onMouse,!0),e.removeEventListener("mousedown",this.onMouse,!0),e.removeEventListener("mouseup",this.onMouse,!0)),e.removeEventListener("click",this.onClick,!0),e.removeEventListener("touchstart",this.onTouchStart,!1),e.removeEventListener("touchmove",this.onTouchMove,!1),e.removeEventListener("touchend",this.onTouchEnd,!1),e.removeEventListener("touchcancel",this.onTouchCancel,!1)},FastClick.notNeeded=function(e){"use strict";var t,n,r;if(typeof window.ontouchstart=="undefined")return!0;n=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1];if(n){if(!deviceIsAndroid)return!0;t=document.querySelector("meta[name=viewport]");if(t){if(t.content.indexOf("user-scalable=no")!==-1)return!0;if(n>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(deviceIsBlackBerry10){r=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/);if(r[1]>=10&&r[2]>=3){t=document.querySelector("meta[name=viewport]");if(t){if(t.content.indexOf("user-scalable=no")!==-1)return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}}}return e.style.msTouchAction==="none"?!0:!1},FastClick.attach=function(e,t){"use strict";return new FastClick(e,t)},typeof define=="function"&&typeof define.amd=="object"&&define.amd?define("fastclick",[],function(){"use strict";return FastClick}):typeof module!="undefined"&&module.exports?(module.exports=FastClick.attach,module.exports.FastClick=FastClick):window.FastClick=FastClick,define("initialize",["domReady","jquery","underscore","backbone","appular","enquire","fastclick"],function(e,t,n,r,i,s,o){function u(){var e=t("body").data("appularApp"),u={},a=t("[data-appular-component]").not("[data-appular-lazy]"),f=t("[data-appular-lazy]"),l=function(e){n.each(e,function(e){var r=t(e),s=r.data("appularComponent"),o={el:r};n.each(r.data(),function(e,t){t!=="appularComponent"&&t!=="appularLazy"&&(o[t]=e)}),i.require.component(s,o)})},c=function(){i.log("Event","Components Rendered"),r.trigger("appular:components:rendered",i.app)},h;r.on("appular:params:initialized",function(){i.app.render()}),r.on("appular:app:required",function(){r.history.start({root:window.location.pathname})}),r.on("appular:component:required",function(e){e.render(),h()}),r.on("appular:app:rendered",function(){var e=a.length;i.log("Event","App Rendered"),f.each(function(n,r){var i=t(r),o=i.data("appularLazy")||"960px",u="screen and (min-width: "+o+")";window.matchMedia(u).matches&&e++,s.register(u,{setup:function(){l(i)},deferSetup:!0})}),h=n.after(e,n.once(c)),l(a)}),n.each(t("body").data(),function(e,t){t!=="appularApp"&&(u[t]=e)}),i.log("Library","Appular","v"+i.version),i.log("Library","jQuery","v"+t().jquery),i.log("Library","Backbone","v"+r.VERSION),i.log("Library","Underscore","v"+n.VERSION),t(function(){i.log("Library","FastClick","Attaching FastClick for touch devices"),o.attach(document.body)});if(!e)throw new Error("Appular : No app found");i.require.app(e,u)}e(u)}),window.Modernizr=function(e,t,n){function L(e){f.cssText=e}function A(e,t){return L(p.join(e+";")+(t||""))}function O(e,t){return typeof e===t}function M(e,t){return!!~(""+e).indexOf(t)}function _(e,t){for(var r in e){var i=e[r];if(!M(i,"-")&&f[i]!==n)return t=="pfx"?i:!0}return!1}function D(e,t,r){for(var i in e){var s=t[e[i]];if(s!==n)return r===!1?e[i]:O(s,"function")?s.bind(r||t):s}return!1}function P(e,t,n){var r=e.charAt(0).toUpperCase()+e.slice(1),i=(e+" "+v.join(r+" ")+r).split(" ");return O(t,"string")||O(t,"undefined")?_(i,t):(i=(e+" "+m.join(r+" ")+r).split(" "),D(i,t,n))}function H(){i.input=function(n){for(var r=0,i=n.length;r<i;r++)w[n[r]]=n[r]in l;return w.list&&(w.list=!!t.createElement("datalist")&&!!e.HTMLDataListElement),w}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),i.inputtypes=function(e){for(var r=0,i,s,u,a=e.length;r<a;r++)l.setAttribute("type",s=e[r]),i=l.type!=="text",i&&(l.value=c,l.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(s)&&l.style.WebkitAppearance!==n?(o.appendChild(l),u=t.defaultView,i=u.getComputedStyle&&u.getComputedStyle(l,null).WebkitAppearance!=="textfield"&&l.offsetHeight!==0,o.removeChild(l)):/^(search|tel)$/.test(s)||(/^(url|email)$/.test(s)?i=l.checkValidity&&l.checkValidity()===!1:i=l.value!=c)),b[e[r]]=!!i;return b}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var r="2.8.2",i={},s=!0,o=t.documentElement,u="modernizr",a=t.createElement(u),f=a.style,l=t.createElement("input"),c=":)",h={}.toString,p=" -webkit- -moz- -o- -ms- ".split(" "),d="Webkit Moz O ms",v=d.split(" "),m=d.toLowerCase().split(" "),g={svg:"http://www.w3.org/2000/svg"},y={},b={},w={},E=[],S=E.slice,x,T=function(e,n,r,i){var s,a,f,l,c=t.createElement("div"),h=t.body,p=h||t.createElement("body");if(parseInt(r,10))while(r--)f=t.createElement("div"),f.id=i?i[r]:u+(r+1),c.appendChild(f);return s=["&#173;",'<style id="s',u,'">',e,"</style>"].join(""),c.id=u,(h?c:p).innerHTML+=s,p.appendChild(c),h||(p.style.background="",p.style.overflow="hidden",l=o.style.overflow,o.style.overflow="hidden",o.appendChild(p)),a=n(c,e),h?c.parentNode.removeChild(c):(p.parentNode.removeChild(p),o.style.overflow=l),!!a},N=function(){function r(r,i){i=i||t.createElement(e[r]||"div"),r="on"+r;var s=r in i;return s||(i.setAttribute||(i=t.createElement("div")),i.setAttribute&&i.removeAttribute&&(i.setAttribute(r,""),s=O(i[r],"function"),O(i[r],"undefined")||(i[r]=n),i.removeAttribute(r))),i=null,s}var e={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return r}(),C={}.hasOwnProperty,k;!O(C,"undefined")&&!O(C.call,"undefined")?k=function(e,t){return C.call(e,t)}:k=function(e,t){return t in e&&O(e.constructor.prototype[t],"undefined")},Function.prototype.bind||(Function.prototype.bind=function(t){var n=this;if(typeof n!="function")throw new TypeError;var r=S.call(arguments,1),i=function(){if(this instanceof i){var e=function(){};e.prototype=n.prototype;var s=new e,o=n.apply(s,r.concat(S.call(arguments)));return Object(o)===o?o:s}return n.apply(t,r.concat(S.call(arguments)))};return i}),y.flexbox=function(){return P("flexWrap")},y.canvas=function(){var e=t.createElement("canvas");return!!e.getContext&&!!e.getContext("2d")},y.canvastext=function(){return!!i.canvas&&!!O(t.createElement("canvas").getContext("2d").fillText,"function")},y.webgl=function(){return!!e.WebGLRenderingContext},y.touch=function(){var n;return"ontouchstart"in e||e.DocumentTouch&&t instanceof DocumentTouch?n=!0:T(["@media (",p.join("touch-enabled),("),u,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(e){n=e.offsetTop===9}),n},y.geolocation=function(){return"geolocation"in navigator},y.postmessage=function(){return!!e.postMessage},y.websqldatabase=function(){return!!e.openDatabase},y.indexedDB=function(){return!!P("indexedDB",e)},y.hashchange=function(){return N("hashchange",e)&&(t.documentMode===n||t.documentMode>7)},y.history=function(){return!!e.history&&!!history.pushState},y.draganddrop=function(){var e=t.createElement("div");return"draggable"in e||"ondragstart"in e&&"ondrop"in e},y.websockets=function(){return"WebSocket"in e||"MozWebSocket"in e},y.rgba=function(){return L("background-color:rgba(150,255,150,.5)"),M(f.backgroundColor,"rgba")},y.hsla=function(){return L("background-color:hsla(120,40%,100%,.5)"),M(f.backgroundColor,"rgba")||M(f.backgroundColor,"hsla")},y.multiplebgs=function(){return L("background:url(https://),url(https://),red url(https://)"),/(url\s*\(.*?){3}/.test(f.background)},y.backgroundsize=function(){return P("backgroundSize")},y.borderimage=function(){return P("borderImage")},y.borderradius=function(){return P("borderRadius")},y.boxshadow=function(){return P("boxShadow")},y.textshadow=function(){return t.createElement("div").style.textShadow===""},y.opacity=function(){return A("opacity:.55"),/^0.55$/.test(f.opacity)},y.cssanimations=function(){return P("animationName")},y.csscolumns=function(){return P("columnCount")},y.cssgradients=function(){var e="background-image:",t="gradient(linear,left top,right bottom,from(#9f9),to(white));",n="linear-gradient(left top,#9f9, white);";return L((e+"-webkit- ".split(" ").join(t+e)+p.join(n+e)).slice(0,-e.length)),M(f.backgroundImage,"gradient")},y.cssreflections=function(){return P("boxReflect")},y.csstransforms=function(){return!!P("transform")},y.csstransforms3d=function(){var e=!!P("perspective");return e&&"webkitPerspective"in o.style&&T("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(t,n){e=t.offsetLeft===9&&t.offsetHeight===3}),e},y.csstransitions=function(){return P("transition")},y.fontface=function(){var e;return T('@font-face {font-family:"font";src:url("https://")}',function(n,r){var i=t.getElementById("smodernizr"),s=i.sheet||i.styleSheet,o=s?s.cssRules&&s.cssRules[0]?s.cssRules[0].cssText:s.cssText||"":"";e=/src/i.test(o)&&o.indexOf(r.split(" ")[0])===0}),e},y.generatedcontent=function(){var e;return T(["#",u,"{font:0/0 a}#",u,':after{content:"',c,'";visibility:hidden;font:3px/1 a}'].join(""),function(t){e=t.offsetHeight>=3}),e},y.video=function(){var e=t.createElement("video"),n=!1;try{if(n=!!e.canPlayType)n=new Boolean(n),n.ogg=e.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),n.h264=e.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),n.webm=e.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,"")}catch(r){}return n},y.audio=function(){var e=t.createElement("audio"),n=!1;try{if(n=!!e.canPlayType)n=new Boolean(n),n.ogg=e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),n.mp3=e.canPlayType("audio/mpeg;").replace(/^no$/,""),n.wav=e.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),n.m4a=(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/aac;")).replace(/^no$/,"")}catch(r){}return n},y.localstorage=function(){try{return localStorage.setItem(u,u),localStorage.removeItem(u),!0}catch(e){return!1}},y.sessionstorage=function(){try{return sessionStorage.setItem(u,u),sessionStorage.removeItem(u),!0}catch(e){return!1}},y.webworkers=function(){return!!e.Worker},y.applicationcache=function(){return!!e.applicationCache},y.svg=function(){return!!t.createElementNS&&!!t.createElementNS(g.svg,"svg").createSVGRect},y.inlinesvg=function(){var e=t.createElement("div");return e.innerHTML="<svg/>",(e.firstChild&&e.firstChild.namespaceURI)==g.svg},y.smil=function(){return!!t.createElementNS&&/SVGAnimate/.test(h.call(t.createElementNS(g.svg,"animate")))},y.svgclippaths=function(){return!!t.createElementNS&&/SVGClipPath/.test(h.call(t.createElementNS(g.svg,"clipPath")))};for(var B in y)k(y,B)&&(x=B.toLowerCase(),i[x]=y[B](),E.push((i[x]?"":"no-")+x));return i.input||H(),i.addTest=function(e,t){if(typeof e=="object")for(var r in e)k(e,r)&&i.addTest(r,e[r]);else{e=e.toLowerCase();if(i[e]!==n)return i;t=typeof t=="function"?t():t,typeof s!="undefined"&&s&&(o.className+=" "+(t?"":"no-")+e),i[e]=t}return i},L(""),a=l=null,i._version=r,i._prefixes=p,i._domPrefixes=m,i._cssomPrefixes=v,i.hasEvent=N,i.testProp=function(e){return _([e])},i.testAllProps=P,i.testStyles=T,i.prefixed=function(e,t,n){return t?P(e,t,n):P(e,"pfx")},o.className=o.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(s?" js "+E.join(" "):""),i}(this,this.document),function(e,t,n){function r(e){return"[object Function]"==d.call(e)}function i(e){return"string"==typeof e}function s(){}function o(e){return!e||"loaded"==e||"complete"==e||"uninitialized"==e}function u(){var e=v.shift();m=1,e?e.t?h(function(){("c"==e.t?k.injectCss:k.injectJs)(e.s,0,e.a,e.x,e.e,1)},0):(e(),u()):m=0}function a(e,n,r,i,s,a,f){function l(t){if(!d&&o(c.readyState)&&(w.r=d=1,!m&&u(),c.onload=c.onreadystatechange=null,t)){"img"!=e&&h(function(){b.removeChild(c)},50);for(var r in T[n])T[n].hasOwnProperty(r)&&T[n][r].onload()}}var f=f||k.errorTimeout,c=t.createElement(e),d=0,g=0,w={t:r,s:n,e:s,a:a,x:f};1===T[n]&&(g=1,T[n]=[]),"object"==e?c.data=n:(c.src=n,c.type=e),c.width=c.height="0",c.onerror=c.onload=c.onreadystatechange=function(){l.call(this,g)},v.splice(i,0,w),"img"!=e&&(g||2===T[n]?(b.insertBefore(c,y?null:p),h(l,f)):T[n].push(c))}function f(e,t,n,r,s){return m=0,t=t||"j",i(e)?a("c"==t?E:w,e,t,this.i++,n,r,s):(v.splice(this.i++,0,e),1==v.length&&u()),this}function l(){var e=k;return e.loader={load:f,i:0},e}var c=t.documentElement,h=e.setTimeout,p=t.getElementsByTagName("script")[0],d={}.toString,v=[],m=0,g="MozAppearance"in c.style,y=g&&!!t.createRange().compareNode,b=y?c:p.parentNode,c=e.opera&&"[object Opera]"==d.call(e.opera),c=!!t.attachEvent&&!c,w=g?"object":c?"script":"img",E=c?"script":w,S=Array.isArray||function(e){return"[object Array]"==d.call(e)},x=[],T={},N={timeout:function(e,t){return t.length&&(e.timeout=t[0]),e}},C,k;k=function(e){function t(e){var e=e.split("!"),t=x.length,n=e.pop(),r=e.length,n={url:n,origUrl:n,prefixes:e},i,s,o;for(s=0;s<r;s++)o=e[s].split("="),(i=N[o.shift()])&&(n=i(n,o));for(s=0;s<t;s++)n=x[s](n);return n}function o(e,i,s,o,u){var a=t(e),f=a.autoCallback;a.url.split(".").pop().split("?").shift(),a.bypass||(i&&(i=r(i)?i:i[e]||i[o]||i[e.split("/").pop().split("?")[0]]),a.instead?a.instead(e,i,s,o,u):(T[a.url]?a.noexec=!0:T[a.url]=1,s.load(a.url,a.forceCSS||!a.forceJS&&"css"==a.url.split(".").pop().split("?").shift()?"c":n,a.noexec,a.attrs,a.timeout),(r(i)||r(f))&&s.load(function(){l(),i&&i(a.origUrl,u,o),f&&f(a.origUrl,u,o),T[a.url]=2})))}function u(e,t){function n(e,n){if(e){if(i(e))n||(f=function(){var e=[].slice.call(arguments);l.apply(this,e),c()}),o(e,f,t,0,u);else if(Object(e)===e)for(p in h=function(){var t=0,n;for(n in e)e.hasOwnProperty(n)&&t++;return t}(),e)e.hasOwnProperty(p)&&(!n&&!--h&&(r(f)?f=function(){var e=[].slice.call(arguments);l.apply(this,e),c()}:f[p]=function(e){return function(){var t=[].slice.call(arguments);e&&e.apply(this,t),c()}}(l[p])),o(e[p],f,t,p,u))}else!n&&c()}var u=!!e.test,a=e.load||e.both,f=e.callback||s,l=f,c=e.complete||s,h,p;n(u?e.yep:e.nope,!!a),a&&n(a)}var a,f,c=this.yepnope.loader;if(i(e))o(e,0,c,0);else if(S(e))for(a=0;a<e.length;a++)f=e[a],i(f)?o(f,0,c,0):S(f)?k(f):Object(f)===f&&u(f,c);else Object(e)===e&&u(e,c)},k.addPrefix=function(e,t){N[e]=t},k.addFilter=function(e){x.push(e)},k.errorTimeout=1e4,null==t.readyState&&t.addEventListener&&(t.readyState="loading",t.addEventListener("DOMContentLoaded",C=function(){t.removeEventListener("DOMContentLoaded",C,0),t.readyState="complete"},0)),e.yepnope=l(),e.yepnope.executeStack=u,e.yepnope.injectJs=function(e,n,r,i,a,f){var l=t.createElement("script"),c,d,i=i||k.errorTimeout;l.src=e;for(d in r)l.setAttribute(d,r[d]);n=f?u:n||s,l.onreadystatechange=l.onload=function(){!c&&o(l.readyState)&&(c=1,n(),l.onload=l.onreadystatechange=null)},h(function(){c||(c=1,n(1))},i),a?l.onload():p.parentNode.insertBefore(l,p)},e.yepnope.injectCss=function(e,n,r,i,o,a){var i=t.createElement("link"),f,n=a?u:n||s;i.href=e,i.rel="stylesheet",i.type="text/css";for(f in r)i.setAttribute(f,r[f]);o||(p.parentNode.insertBefore(i,p),h(n,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))},define("modernizr",function(e){return function(){var t,n;return t||e.Modernizr}}(this)),requirejs.onError=function(e){throw typeof NREUM!="undefined"&&(e.requireType==="timeout"&&NREUM.noticeError("Require.js Timeout Error: [modules] "+e.requireModules),NREUM.noticeError(e)),e},requirejs.config({waitSeconds:60,baseUrl:"/js/build",config:{appular:{env:"production",connect:skGlobal.connect,cake:skGlobal.cake,dfp:skGlobal.dfp}},paths:{jquery:["//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min","libraries/jquery/jquery-1.11.1"],moment:["//cdnjs.cloudflare.com/ajax/libs/moment.js/2.4.0/moment.min","libraries/moment/moment-2.4.0"],numeral:["//cdnjs.cloudflare.com/ajax/libs/numeral.js/1.5.2/numeral.min","libraries/numeral/numeral-1.5.2"],gigyaSocialize:"http://cdn.gigya.com/JS/socialize.js?apiKey=2_BOypdVSeG79n_x26BTAIN8KHA9uxOLqy_pUMSIv0yO_dLQH57kwSeqFwva7tMOOq",userVoice:"//widget.uservoice.com/rzwlFu2niGPrM1QQ9iKWvw"},shim:{modernizr:{exports:"Modernizr"},gigyaSocialize:{exports:"gigya"},userVoice:{exports:"UserVoice"}},deps:["jqueryFunctions","jqueryTouch","backboneStickit"],callback:function(){require(["initialize"])}}),define("libraries/require/configs/build",function(){}),define("jqueryFunctions",["jquery"],function(e){e.fn.toggleText=function(t,n){return this.each(function(){var r=e(this),i=r.text();i.indexOf(t)>-1?r.text(i.replace(t,n)):r.text(i.replace(n,t))})};var t,n=e();e.fn.sortable=function(r){var i=String(r);return r=e.extend({connectWith:!1},r),this.each(function(){if(/^enable|disable|destroy$/.test(i)){var s=e(this).children(e(this).data("items")).attr("draggable",i==="enable");i==="destroy"&&s.add(this).removeData("connectWith items").off("dragstart.h5s dragend.h5s selectstart.h5s dragover.h5s dragenter.h5s drop.h5s");return}var o,u,s=e(this).children(r.items),a=e("<"+(/^ul|ol$/i.test(this.tagName)?"li":"div")+' class="sortable-placeholder">');s.find(r.handle).mousedown(function(){o=!0}).mouseup(function(){o=!1}),e(this).data("items",r.items),n=n.add(a),r.connectWith&&e(r.connectWith).add(this).data("connectWith",r.connectWith),s.attr("draggable","true").on("dragstart.h5s",function(n){if(r.handle&&!o)return!1;o=!1;var i=n.originalEvent.dataTransfer;i.effectAllowed="move",i.setData("Text","dummy"),u=(t=e(this)).addClass("sortable-dragging").index()}).on("dragend.h5s",function(){if(!t)return;t.removeClass("sortable-dragging").show(),n.detach(),u!==t.index()&&t.parent().trigger("sortupdate",{item:t}),t=null}).not("a[href], img").on("selectstart.h5s",function(){return this.dragDrop&&this.dragDrop(),!1}).end().add([this,a]).on("dragover.h5s dragenter.h5s drop.h5s",function(i){return!s.is(t)&&r.connectWith!==e(t).parent().data("connectWith")?!0:i.type==="drop"?(i.stopPropagation(),n.filter(":visible").after(t),t.trigger("dragend.h5s"),!1):(i.preventDefault(),i.originalEvent.dataTransfer.dropEffect="move",s.is(this)?(r.forcePlaceholderSize&&a.height(t.outerHeight()),t.hide(),e(this)[a.index()<e(this).index()?"after":"before"](a),n.not(a).detach()):!n.is(this)&&!e(this).children(r.items).length&&(n.detach(),e(this).append(a)),!1)})})}}),function(e,t){"use strict";function m(){if(n.READY)return;y.determineEventTypes(),g.each(n.gestures,function(e){w.register(e)}),y.onTouch(n.DOCUMENT,h,w.detect),y.onTouch(n.DOCUMENT,p,w.detect),n.READY=!0}function E(e,n){Date.now||(Date.now=function(){return(new Date).getTime()}),e.utils.each(["on","off"],function(r){e.utils[r]=function(e,i,s){n(e)[r](i,function(e){var r=n.extend({},e.originalEvent,e);r.button===t&&(r.button=e.which-1),s.call(this,r)})}}),e.Instance.prototype.trigger=function(e,t){var r=n(this.element);return r.has(t.target).length&&(r=n(t.target)),r.trigger({type:e,gesture:t})},n.fn.hammer=function(t){return this.each(function(){var r=n(this),i=r.data("hammer");i?i&&t&&e.utils.extend(i.options,t):r.data("hammer",new e(this,t||{}))})}}var n=function S(e,t){return new S.Instance(e,t||{})};n.VERSION="1.1.3",n.defaults={behavior:{userSelect:"none",touchAction:"pan-y",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},n.DOCUMENT=document,n.HAS_POINTEREVENTS=navigator.pointerEnabled||navigator.msPointerEnabled,n.HAS_TOUCHEVENTS="ontouchstart"in e,n.IS_MOBILE=/mobile|tablet|ip(ad|hone|od)|android|silk/i.test(navigator.userAgent),n.NO_MOUSEEVENTS=n.HAS_TOUCHEVENTS&&n.IS_MOBILE||n.HAS_POINTEREVENTS,n.CALCULATE_INTERVAL=25;var r={},i=n.DIRECTION_DOWN="down",s=n.DIRECTION_LEFT="left",o=n.DIRECTION_UP="up",u=n.DIRECTION_RIGHT="right",a=n.POINTER_MOUSE="mouse",f=n.POINTER_TOUCH="touch",l=n.POINTER_PEN="pen",c=n.EVENT_START="start",h=n.EVENT_MOVE="move",p=n.EVENT_END="end",d=n.EVENT_RELEASE="release",v=n.EVENT_TOUCH="touch";n.READY=!1,n.plugins=n.plugins||{},n.gestures=n.gestures||{};var g=n.utils={extend:function(n,r,i){for(var s in r){if(!r.hasOwnProperty(s)||n[s]!==t&&i)continue;n[s]=r[s]}return n},on:function(t,n,r){t.addEventListener(n,r,!1)},off:function(t,n,r){t.removeEventListener(n,r,!1)},each:function(n,r,i){var s,o;if("forEach"in n)n.forEach(r,i);else if(n.length!==t){for(s=0,o=n.length;s<o;s++)if(r.call(i,n[s],s,n)===!1)return}else for(s in n)if(n.hasOwnProperty(s)&&r.call(i,n[s],s,n)===!1)return},inStr:function(t,n){return t.indexOf(n)>-1},inArray:function(t,n){if(t.indexOf){var r=t.indexOf(n);return r===-1?!1:r}for(var i=0,s=t.length;i<s;i++)if(t[i]===n)return i;return!1},toArray:function(t){return Array.prototype.slice.call(t,0)},hasParent:function(t,n){while(t){if(t==n)return!0;t=t.parentNode}return!1},getCenter:function(t){var n=[],r=[],i=[],s=[],o=Math.min,u=Math.max;return t.length===1?{pageX:t[0].pageX,pageY:t[0].pageY,clientX:t[0].clientX,clientY:t[0].clientY}:(g.each(t,function(e){n.push(e.pageX),r.push(e.pageY),i.push(e.clientX),s.push(e.clientY)}),{pageX:(o.apply(Math,n)+u.apply(Math,n))/2,pageY:(o.apply(Math,r)+u.apply(Math,r))/2,clientX:(o.apply(Math,i)+u.apply(Math,i))/2,clientY:(o.apply(Math,s)+u.apply(Math,s))/2})},getVelocity:function(t,n,r){return{x:Math.abs(n/t)||0,y:Math.abs(r/t)||0}},getAngle:function(t,n){var r=n.clientX-t.clientX,i=n.clientY-t.clientY;return Math.atan2(i,r)*180/Math.PI},getDirection:function(t,n){var r=Math.abs(t.clientX-n.clientX),a=Math.abs(t.clientY-n.clientY);return r>=a?t.clientX-n.clientX>0?s:u:t.clientY-n.clientY>0?o:i},getDistance:function(t,n){var r=n.clientX-t.clientX,i=n.clientY-t.clientY;return Math.sqrt(r*r+i*i)},getScale:function(t,n){return t.length>=2&&n.length>=2?this.getDistance(n[0],n[1])/this.getDistance(t[0],t[1]):1},getRotation:function(t,n){return t.length>=2&&n.length>=2?this.getAngle(n[1],n[0])-this.getAngle(t[1],t[0]):0},isVertical:function(t){return t==o||t==i},setPrefixedCss:function(t,n,r,i){var s=["","Webkit","Moz","O","ms"];n=g.toCamelCase(n);for(var o=0;o<s.length;o++){var u=n;s[o]&&(u=s[o]+u.slice(0,1).toUpperCase()+u.slice(1));if(u in t.style){t.style[u]=(i==null||i)&&r||"";break}}},toggleBehavior:function(t,n,r){if(!n||!t||!t.style)return;g.each(n,function(e,n){g.setPrefixedCss(t,n,e,r)});var i=r&&function(){return!1};n.userSelect=="none"&&(t.onselectstart=i),n.userDrag=="none"&&(t.ondragstart=i)},toCamelCase:function(t){return t.replace(/[_-]([a-z])/g,function(e){return e[1].toUpperCase()})}};n.Instance=function(e,t){var r=this;m(),this.element=e,this.enabled=!0,g.each(t,function(e,n){delete t[n],t[g.toCamelCase(n)]=e}),this.options=g.extend(g.extend({},n.defaults),t||{}),this.options.behavior&&g.toggleBehavior(this.element,this.options.behavior,!0),this.eventStartHandler=y.onTouch(e,c,function(e){r.enabled&&e.eventType==c?w.startDetect(r,e):e.eventType==v&&w.detect(e)}),this.eventHandlers=[]},n.Instance.prototype={on:function(t,n){var r=this;return y.on(r.element,t,n,function(e){r.eventHandlers.push({gesture:e,handler:n})}),r},off:function(t,n){var r=this;return y.off(r.element,t,n,function(e){var t=g.inArray({gesture:e,handler:n});t!==!1&&r.eventHandlers.splice(t,1)}),r},trigger:function(t,r){r||(r={});var i=n.DOCUMENT.createEvent("Event");i.initEvent(t,!0,!0),i.gesture=r;var s=this.element;return g.hasParent(r.target,s)&&(s=r.target),s.dispatchEvent(i),this},enable:function(t){return this.enabled=t,this},dispose:function(){var t,n;g.toggleBehavior(this.element,this.options.behavior,!1);for(t=-1;n=this.eventHandlers[++t];)g.off(this.element,n.gesture,n.handler);return this.eventHandlers=[],y.off(this.element,r[c],this.eventStartHandler),null}};var y=n.event={preventMouseEvents:!1,started:!1,shouldDetect:!1,on:function(t,n,r,i){var s=n.split(" ");g.each(s,function(e){g.on(t,e,r),i&&i(e)})},off:function(t,n,r,i){var s=n.split(" ");g.each(s,function(e){g.off(t,e,r),i&&i(e)})},onTouch:function(t,i,s){var o=this,u=function(r){var u=r.type.toLowerCase(),a=n.HAS_POINTEREVENTS,l=g.inStr(u,"mouse"),h;if(l&&o.preventMouseEvents)return;l&&i==c&&r.button===0?(o.preventMouseEvents=!1,o.shouldDetect=!0):a&&i==c?o.shouldDetect=r.buttons===1||b.matchType(f,r):!l&&i==c&&(o.preventMouseEvents=!0,o.shouldDetect=!0),a&&i!=p&&b.updatePointer(i,r),o.shouldDetect&&(h=o.doDetect.call(o,r,i,t,s)),h==p&&(o.preventMouseEvents=!1,o.shouldDetect=!1,b.reset()),a&&i==p&&b.updatePointer(i,r)};return this.on(t,r[i],u),u},doDetect:function(t,n,r,i){var s=this.getTouchList(t,n),o=s.length,u=n,a=s.trigger,f=o;n==c?a=v:n==p&&(a=d,f=s.length-(t.changedTouches?t.changedTouches.length:1)),f>0&&this.started&&(u=h),this.started=!0;var l=this.collectEventData(r,u,s,t);return n!=p&&i.call(w,l),a&&(l.changedLength=f,l.eventType=a,i.call(w,l),l.eventType=u,delete l.changedLength),u==p&&(i.call(w,l),this.started=!1),u},determineEventTypes:function(){var i;return n.HAS_POINTEREVENTS?e.PointerEvent?i=["pointerdown","pointermove","pointerup pointercancel lostpointercapture"]:i=["MSPointerDown","MSPointerMove","MSPointerUp MSPointerCancel MSLostPointerCapture"]:n.NO_MOUSEEVENTS?i=["touchstart","touchmove","touchend touchcancel"]:i=["touchstart mousedown","touchmove mousemove","touchend touchcancel mouseup"],r[c]=i[0],r[h]=i[1],r[p]=i[2],r},getTouchList:function(t,r){if(n.HAS_POINTEREVENTS)return b.getTouchList();if(t.touches){if(r==h)return t.touches;var i=[],s=[].concat(g.toArray(t.touches),g.toArray(t.changedTouches)),o=[];return g.each(s,function(e){g.inArray(i,e.identifier)===!1&&o.push(e),i.push(e.identifier)}),o}return t.identifier=1,[t]},collectEventData:function(t,n,r,i){var s=f;return g.inStr(i.type,"mouse")||b.matchType(a,i)?s=a:b.matchType(l,i)&&(s=l),{center:g.getCenter(r),timeStamp:Date.now(),target:i.target,touches:r,eventType:n,pointerType:s,srcEvent:i,preventDefault:function(){var e=this.srcEvent;e.preventManipulation&&e.preventManipulation(),e.preventDefault&&e.preventDefault()},stopPropagation:function(){this.srcEvent.stopPropagation()},stopDetect:function(){return w.stopDetect()}}}},b=n.PointerEvent={pointers:{},getTouchList:function(){var t=[];return g.each(this.pointers,function(e){t.push(e)}),t},updatePointer:function(t,n){t==p||t!=p&&n.buttons!==1?delete this.pointers[n.pointerId]:(n.identifier=n.pointerId,this.pointers[n.pointerId]=n)},matchType:function(t,n){if(!n.pointerType)return!1;var r=n.pointerType,i={};return i[a]=r===(n.MSPOINTER_TYPE_MOUSE||a),i[f]=r===(n.MSPOINTER_TYPE_TOUCH||f),i[l]=r===(n.MSPOINTER_TYPE_PEN||l),i[t]},reset:function(){this.pointers={}}},w=n.detection={gestures:[],current:null,previous:null,stopped:!1,startDetect:function(t,n){if(this.current)return;this.stopped=!1,this.current={inst:t,startEvent:g.extend({},n),lastEvent:!1,lastCalcEvent:!1,futureCalcEvent:!1,lastCalcData:{},name:""},this.detect(n)},detect:function(t){if(!this.current||this.stopped)return;t=this.extendEventData(t);var n=this.current.inst,r=n.options;return g.each(this.gestures,function(i){!this.stopped&&n.enabled&&r[i.name]&&i.handler.call(i,t,n)},this),this.current&&(this.current.lastEvent=t),t.eventType==p&&this.stopDetect(),t},stopDetect:function(){this.previous=g.extend({},this.current),this.current=null,this.stopped=!0},getCalculatedData:function(t,r,i,s,o){var u=this.current,a=!1,f=u.lastCalcEvent,l=u.lastCalcData;f&&t.timeStamp-f.timeStamp>n.CALCULATE_INTERVAL&&(r=f.center,i=t.timeStamp-f.timeStamp,s=t.center.clientX-f.center.clientX,o=t.center.clientY-f.center.clientY,a=!0);if(t.eventType==v||t.eventType==d)u.futureCalcEvent=t;if(!u.lastCalcEvent||a)l.velocity=g.getVelocity(i,s,o),l.angle=g.getAngle(r,t.center),l.direction=g.getDirection(r,t.center),u.lastCalcEvent=u.futureCalcEvent||t,u.futureCalcEvent=t;t.velocityX=l.velocity.x,t.velocityY=l.velocity.y,t.interimAngle=l.angle,t.interimDirection=l.direction},extendEventData:function(t){var n=this.current,r=n.startEvent,i=n.lastEvent||r;if(t.eventType==v||t.eventType==d)r.touches=[],g.each(t.touches,function(e){r.touches.push({clientX:e.clientX,clientY:e.clientY})});var s=t.timeStamp-r.timeStamp,o=t.center.clientX-r.center.clientX,u=t.center.clientY-r.center.clientY;return this.getCalculatedData(t,i.center,s,o,u),g.extend(t,{startEvent:r,deltaTime:s,deltaX:o,deltaY:u,distance:g.getDistance(r.center,t.center),angle:g.getAngle(r.center,t.center),direction:g.getDirection(r.center,t.center),scale:g.getScale(r.touches,t.touches),rotation:g.getRotation(r.touches,t.touches)}),t},register:function(r){var i=r.defaults||{};return i[r.name]===t&&(i[r.name]=!0),g.extend(n.defaults,i,!0),r.index=r.index||1e3,this.gestures.push(r),this.gestures.sort(function(e,t){return e.index<t.index?-1:e.index>t.index?1:0}),this.gestures}};(function(e){function r(n,r){var a=w.current;if(r.options.dragMaxTouches>0&&n.touches.length>r.options.dragMaxTouches)return;switch(n.eventType){case c:t=!1;break;case h:if(n.distance<r.options.dragMinDistance&&a.name!=e)return;var f=a.startEvent.center;if(a.name!=e){a.name=e;if(r.options.dragDistanceCorrection&&n.distance>0){var l=Math.abs(r.options.dragMinDistance/n.distance);f.pageX+=n.deltaX*l,f.pageY+=n.deltaY*l,f.clientX+=n.deltaX*l,f.clientY+=n.deltaY*l,n=w.extendEventData(n)}}if(a.lastEvent.dragLockToAxis||r.options.dragLockToAxis&&r.options.dragLockMinDistance<=n.distance)n.dragLockToAxis=!0;var v=a.lastEvent.direction;n.dragLockToAxis&&v!==n.direction&&(g.isVertical(v)?n.direction=n.deltaY<0?o:i:n.direction=n.deltaX<0?s:u),t||(r.trigger(e+"start",n),t=!0),r.trigger(e,n),r.trigger(e+n.direction,n);var m=g.isVertical(n.direction);(r.options.dragBlockVertical&&m||r.options.dragBlockHorizontal&&!m)&&n.preventDefault();break;case d:t&&n.changedLength<=r.options.dragMaxTouches&&(r.trigger(e+"end",n),t=!1);break;case p:t=!1}}var t=!1;n.gestures.Drag={name:e,index:50,handler:r,defaults:{dragMinDistance:10,dragDistanceCorrection:!0,dragMaxTouches:1,dragBlockHorizontal:!1,dragBlockVertical:!1,dragLockToAxis:!1,dragLockMinDistance:25}}})("drag"),n.gestures.Gesture={name:"gesture",index:1337,handler:function(t,n){n.trigger(this.name,t)}},function(e){function r(n,r){var i=r.options,s=w.current;switch(n.eventType){case c:clearTimeout(t),s.name=e,t=setTimeout(function(){s&&s.name==e&&r.trigger(e,n)},i.holdTimeout);break;case h:n.distance>i.holdThreshold&&clearTimeout(t);break;case d:clearTimeout(t)}}var t;n.gestures.Hold={name:e,index:10,defaults:{holdTimeout:500,holdThreshold:2},handler:r}}("hold"),n.gestures.Release={name:"release",index:Infinity,handler:function(t,n){t.eventType==d&&n.trigger(this.name,t)}},n.gestures.Swipe={name:"swipe",index:40,defaults:{swipeMinTouches:1,swipeMaxTouches:1,swipeVelocityX:.6,swipeVelocityY:.6},handler:function(t,n){if(t.eventType==d){var r=t.touches.length,i=n.options;if(r<i.swipeMinTouches||r>i.swipeMaxTouches)return;if(t.velocityX>i.swipeVelocityX||t.velocityY>i.swipeVelocityY)n.trigger(this.name,t),n.trigger(this.name+t.direction,t)}}},function(e){function r(n,r){var i=r.options,s=w.current,o=w.previous,u,a;switch(n.eventType){case c:t=!1;break;case h:t=t||n.distance>i.tapMaxDistance;break;case p:if(!g.inStr(n.srcEvent.type,"cancel")&&n.deltaTime<i.tapMaxTime&&!t){u=o&&o.lastEvent&&n.timeStamp-o.lastEvent.timeStamp,a=!1,o&&o.name==e&&u&&u<i.doubleTapInterval&&n.distance<i.doubleTapDistance&&(r.trigger("doubletap",n),a=!0);if(!a||i.tapAlways)s.name=e,r.trigger(s.name,n)}}}var t=!1;n.gestures.Tap={name:e,index:100,handler:r,defaults:{tapMaxTime:250,tapMaxDistance:10,tapAlways:!0,doubleTapDistance:20,doubleTapInterval:300}}}("tap"),n.gestures.Touch={name:"touch",index:-Infinity,defaults:{preventDefault:!1,preventMouse:!1},handler:function(t,n){if(n.options.preventMouse&&t.pointerType==a){t.stopDetect();return}n.options.preventDefault&&t.preventDefault(),t.eventType==v&&n.trigger("touch",t)}},function(e){function r(n,r){switch(n.eventType){case c:t=!1;break;case h:if(n.touches.length<2)return;var i=Math.abs(1-n.scale),s=Math.abs(n.rotation);if(i<r.options.transformMinScale&&s<r.options.transformMinRotation)return;w.current.name=e,t||(r.trigger(e+"start",n),t=!0),r.trigger(e,n),s>r.options.transformMinRotation&&r.trigger("rotate",n),i>r.options.transformMinScale&&(r.trigger("pinch",n),r.trigger("pinch"+(n.scale<1?"in":"out"),n));break;case d:t&&n.changedLength<2&&(r.trigger(e+"end",n),t=!1)}}var t=!1;n.gestures.Transform={name:e,index:45,defaults:{transformMinScale:.01,transformMinRotation:1},handler:r}}("transform"),e.Hammer=n,typeof module!="undefined"&&module.exports&&(module.exports=n),typeof define=="function"&&define.amd?define("jqueryTouch",["jquery"],function(t){return E(e.Hammer,t)}):E(e.Hammer,e.jQuery||e.Zepto)}(window),function(e){typeof define=="function"&&define.amd?define("backboneStickit",["underscore","backbone","exports"],e):typeof exports=="object"?e(require("underscore"),require("backbone"),exports):e(_,Backbone,{})}(function(e,t,n){n._handlers=[],n.addHandler=function(t){t=e.map(e.flatten([t]),function(t){return e.defaults({},t,{updateModel:!0,updateView:!0,updateMethod:"text"})}),this._handlers=this._handlers.concat(t)},n.ViewMixin={_modelBindings:null,unstickit:function(t,n){if(e.isObject(n)){e.each(n,function(e,n){this.unstickit(t,n)},this);return}var r=[],i=[],s=e.clone(this._modelBindings);e.each(s,function(e,s){if(t&&e.model!==t)return;if(n&&e.config.selector!=n)return;e.model.off(e.event,e.fn),i.push(e.config._destroy),r.push(e.model),delete this._modelBindings[s]},this),e.invoke(e.uniq(r),"trigger","stickit:unstuck",this.cid),e.each(e.uniq(i),function(e){e.call(this)},this),this._modelBindings=e.compact(this._modelBindings),this.$el.off(".stickit"+(t?"."+t.cid:""),n)},stickit:function(t,n){var r=t||this.model,i=n||e.result(this,"bindings")||{};this._modelBindings||(this._modelBindings=[]),this.addBinding(r,i);var s=this.remove;return s.stickitWrapped||(this.remove=function(){var e=this;return this.unstickit(),s&&(e=s.apply(this,arguments)),e}),this.remove.stickitWrapped=!0,this},addBinding:function(t,n,i){var v=t||this.model,m=".stickit."+v.cid,i=i||{};if(e.isObject(n)){var g=n;e.each(g,function(e,t){this.addBinding(v,t,e)},this);return}var y=n===":el"?this.$el:this.$(n);this.unstickit(v,n);if(!y.length)return;e.isString(i)&&(i={observe:i}),e.isFunction(i.observe)&&(i.observe=i.observe.call(this));var b=l(y,i),w=b.observe;b.selector=n,b.view=this;var E=b.bindId=e.uniqueId(),S=e.extend({stickitChange:b},b.setOptions);b._destroy=function(){s.call(this,b.destroy,y,v,b)},c(y,b,v,w),p(y,b,v,w),h(y,b,v,w);if(w){e.each(b.events,function(t){var i=t+m,u=function(e){var t=s.call(this,b.getVal,y,e,b,r.call(arguments,1)),n=o(b.updateModel,t,e,b);n&&a(v,w,t,S,b)},f=n===":el"?"":n;this.$el.on(i,f,e.bind(u,this))},this),e.each(e.flatten([w]),function(e){u(v,"change:"+e,b,function(e,t,n){var r=n&&n.stickitChange&&n.stickitChange.bindId;if(r!==E){var i=f(e,w,b);d(y,b,i,e)}})});var x=f(v,w,b);d(y,b,x,v,!0)}s.call(this,b.initialize,y,v,b)}},e.extend(t.View.prototype,n.ViewMixin);var r=[].slice,i=function(t,n){var r=(n||"").split("."),i=e.reduce(r,function(e,t){return e[t]},t);return i==null?t:i},s=function(t){t=e.isString(t)?i(this,t):t;if(t)return t.apply(this,r.call(arguments,1))},o=function(t,n,r){if(e.isBoolean(t))return t;if(e.isFunction(t)||e.isString(t)){var i=e.last(arguments).view;return s.apply(i,arguments)}return!1},u=function(e,t,n,r){var i=n.view;e.on(t,r,i),i._modelBindings.push({model:e,event:t,fn:r,config:n})},a=function(t,n,r,i,o){var u={},a=o.view;o.onSet&&(r=s.call(a,o.onSet,r,o)),o.set?s.call(a,o.set,n,r,i,o):(u[n]=r,e.isArray(n)&&e.isArray(r)&&(u=e.reduce(n,function(t,n,i){return t[n]=e.has(r,i)?r[i]:null,t},{})),t.set(u,i))},f=function(t,n,r){var i=r.view,o=function(e){return t[r.escape?"escape":"get"](e)},u=function(e){return e==null?"":e},a=e.isArray(n)?e.map(n,o):o(n);return r.onGet&&(a=s.call(i,r.onGet,a,r)),e.isArray(a)?e.map(a,u):u(a)},l=n.getConfiguration=function(t,r){var i=[{updateModel:!1,updateMethod:"text",update:function(e,t,n,r){e[r.updateMethod]&&e[r.updateMethod](t)},getVal:function(e,t,n){return e[n.updateMethod]()}}];i=i.concat(e.filter(n._handlers,function(e){return t.is(e.selector)})),i.push(r);var s=e.extend.apply(e,i);return e.has(s,"updateView")||(s.updateView=!s.visible),s},c=function(t,n,r,i){var s=["autofocus","autoplay","async","checked","controls","defer","disabled","hidden","indeterminate","loop","multiple","open","readonly","required","scoped","selected"],o=n.view;e.each(n.attributes||[],function(a){a=e.clone(a),a.view=o;var l="",c=a.observe||(a.observe=i),h=function(){var n=e.contains(s,a.name)?"prop":"attr",i=f(r,c,a);a.name==="class"?(t.removeClass(l).addClass(i),l=i):t[n](a.name,i)};e.each(e.flatten([c]),function(e){u(r,"change:"+e,n,h)}),h()})},h=function(t,n,r,i){e.each(n.classes||[],function(i,s){e.isString(i)&&(i={observe:i}),i.view=n.view;var o=i.observe,a=function(){var e=f(r,o,i);t.toggleClass(s,!!e)};e.each(e.flatten([o]),function(e){u(r,"change:"+e,n,a)}),a()})},p=function(t,n,r,i){if(n.visible==null)return;var o=n.view,a=function(){var u=n.visible,a=n.visibleFn,l=f(r,i,n),c=!!l;if(e.isFunction(u)||e.isString(u))c=!!s.call(o,u,l,n);a?s.call(o,a,t,c,n):t.toggle(c)};e.each(e.flatten([i]),function(e){u(r,"change:"+e,n,a)}),a()},d=function(e,t,n,r,i){var u=t.view;if(!o(t.updateView,n,t))return;s.call(u,t.update,e,n,r,t),i||s.call(u,t.afterUpdate,e,n,t)};return n.addHandler([{selector:'[contenteditable="true"]',updateMethod:"html",events:["input","change"]},{selector:"input",events:["propertychange","input","change"],update:function(e,t){e.val(t)},getVal:function(e){return e.val()}},{selector:"textarea",events:["propertychange","input","change"],update:function(e,t){e.val(t)},getVal:function(e){return e.val()}},{selector:'input[type="radio"]',events:["change"],update:function(e,t){e.filter('[value="'+t+'"]').prop("checked",!0)},getVal:function(e){return e.filter(":checked").val()}},{selector:'input[type="checkbox"]',events:["change"],update:function(n,r,i,s){if(n.length>1)r||(r=[]),n.each(function(n,i){var s=t.$(i),o=e.contains(r,s.val());s.prop("checked",o)});else{var o=e.isBoolean(r)?r:r===n.val();n.prop("checked",o)}},getVal:function(n){var r;if(n.length>1)r=e.reduce(n,function(e,n){var r=t.$(n);return r.prop("checked")&&e.push(r.val()),e},[]);else{r=n.prop("checked");var i=n.val();i!=="on"&&i!=null&&(r=r?n.val():null)}return r}},{selector:"select",events:["change"],update:function(n,r,o,u){var a,f=u.selectOptions,l=f&&f.collection||undefined,c=n.prop("multiple");if(!f){f={};var h=function(e){return e.map(function(){return{value:this.value,label:this.text}}).get()};n.find("optgroup").length?(l={opt_labels:[]},n.find("> option").length&&(l.opt_labels.push(undefined),e.each(n.find("> option"),function(e){l[undefined]=h(t.$(e))})),e.each(n.find("optgroup"),function(e){var n=t.$(e).attr("label");l.opt_labels.push(n),l[n]=h(t.$(e).find("option"))})):l=h(n.find("option"))}f.valuePath=f.valuePath||"value",f.labelPath=f.labelPath||"label";var p=function(n,r,s){e.each(n,function(n){var o=t.$("<option/>"),u=n,a=function(t,n){o.text(t),u=n,o.data("stickit_bind_val",u),!e.isArray(u)&&!e.isObject(u)&&o.val(u)},l,h;n==="__default__"?(l=f.defaultOption.label,h=f.defaultOption.value):(l=i(n,f.labelPath),h=i(n,f.valuePath)),a(l,h);var p=function(){return!c&&u!=null&&s!=null&&u===s?!0:e.isObject(s)&&e.isEqual(u,s)?!0:!1};p()?o.prop("selected",!0):c&&e.isArray(s)&&e.each(s,function(t){e.isObject(t)&&(t=i(t,f.valuePath)),(t===u||e.isObject(t)&&e.isEqual(u,t))&&o.prop("selected",!0)}),r.append(o)})};n.find("*").remove();if(e.isString(l)){var d=window;l.indexOf("this.")===0&&(d=this),l=l.replace(/^[a-z]*\.(.+)$/,"$1"),a=i(d,l)}else e.isFunction(l)?a=s.call(this,l,n,u):a=l;a instanceof t.Collection&&(a=a.toJSON()),f.defaultOption&&p(["__default__"],n);if(e.isArray(a))p(a,n,r);else if(a.opt_labels)e.each(a.opt_labels,function(e){var i=t.$("<optgroup/>").attr("label",e);p(a[e],i,r),n.append(i)});else{var v=[],m;for(var g in a)m={},m[f.valuePath]=g,m[f.labelPath]=a[g],v.push(m);v=e.sortBy(v,f.comparator||f.labelPath),p(v,n,r)}},getVal:function(n){var r=n.find("option:selected");return n.prop("multiple")?e.map(r,function(e){return t.$(e).data("stickit_bind_val")}):r.data("stickit_bind_val")}}]),t.Stickit=n,t.Stickit}),function(e,t){"use strict";function u(e,t){var n=0,r=e.length,i=[];for(;n<r;n++)i[n]=t(e[n],n);return i}function a(e){return e}function f(e,s){var o=this,l=t;s=s||{},e!==undefined&&(typeof e=="string"?(s.selector=e,e=undefined):typeof e.length=="undefined"&&(s=e,e=undefined)),this.imagesOffScreen=[],this.viewportHeight=l.documentElement.clientHeight,this.selector=s.selector||".delayed-image-load",this.className=s.className||"image-replace",this.gif=l.createElement("img"),this.gif.src="data:image/gif;base64,R0lGODlhEAAJAIAAAP///wAAACH5BAEAAAAALAAAAAAQAAkAAAIKhI+py+0Po5yUFQA7",this.gif.className=this.className,this.gif.alt="",this.scrollDelay=s.scrollDelay||250,this.onResize=s.hasOwnProperty("onResize")?s.onResize:!0,this.lazyload=s.hasOwnProperty("lazyload")?s.lazyload:!1,this.scrolled=!1,this.availablePixelRatios=s.availablePixelRatios||[1,2],this.availableWidths=s.availableWidths||n,this.onImagesReplaced=s.onImagesReplaced||function(){},this.widthsMap={},this.lazyLoadOffset=s.lazyLoadOffset||0,this.refreshPixelRatio(),this.widthInterpolator=s.widthInterpolator||a,this.gif.removeAttribute("height"),this.gif.removeAttribute("width"),typeof this.availableWidths!="function"&&(typeof this.availableWidths.length=="number"?this.widthsMap=f.createWidthsMap(this.availableWidths,this.widthInterpolator):(this.widthsMap=this.availableWidths,this.availableWidths=r(this.availableWidths)),this.availableWidths=this.availableWidths.sort(function(e,t){return e-t})),e?(this.divs=u(e,a),this.selector=null):this.divs=u(l.querySelectorAll(this.selector),a),this.changeDivsToEmptyImages(),i(function(){o.init()})}var n,r,i,s,o;i=e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||function(t){e.setTimeout(t,1e3/60)},o=function(){return Object.prototype.hasOwnProperty.call(t.createElement("img"),"naturalWidth")?function(e){return e.naturalWidth}:function(e){var n=t.createElement("img");return n.src=e.src,n.width}}(),s=function(){return t.addEventListener?function(t,n,r){return t.addEventListener(n,r,!1)}:function(t,n,r){return t.attachEvent("on"+n,r)}}(),n=[96,130,165,200,235,270,304,340,375,410,445,485,520,555,590,625,660,695,736],r=typeof Object.keys=="function"?Object.keys:function(e){var t=[],n;for(n in e)t.push(n);return t},f.prototype.scrollCheck=function(){this.scrolled&&(this.imagesOffScreen.length||e.clearInterval(this.interval),this.divs=this.imagesOffScreen.slice(0),this.imagesOffScreen.length=0,this.changeDivsToEmptyImages(),this.scrolled=!1)},f.prototype.init=function(){this.initialized=!0,this.checkImagesNeedReplacing(this.divs),this.onResize&&this.registerResizeEvent(),this.lazyload&&this.registerScrollEvent()},f.prototype.createGif=function(e){if(e.className.match(new RegExp("(^| )"+this.className+"( |$)")))return e;var t=e.getAttribute("data-class"),n=e.getAttribute("data-width"),r=this.gif.cloneNode(!1);return n&&(r.width=n,r.setAttribute("data-width",n)),r.className=(t?t+" ":"")+this.className,r.setAttribute("data-src",e.getAttribute("data-src")),r.setAttribute("data-height-ratio",e.getAttribute("data-height-ratio")),r.setAttribute("data-scale",e.getAttribute("data-scale")),r.setAttribute("alt",e.getAttribute("data-alt")||this.gif.alt),e.parentNode.replaceChild(r,e),r},f.prototype.changeDivsToEmptyImages=function(){var e=this;u(this.divs,function(t,n){e.lazyload?e.isThisElementOnScreen(t)?e.divs[n]=e.createGif(t):e.imagesOffScreen.push(t):e.divs[n]=e.createGif(t)}),this.initialized&&this.checkImagesNeedReplacing(this.divs)},f.prototype.isThisElementOnScreen=function(e){var t=f.getPageOffset()+this.lazyLoadOffset,n=0;if(e.offsetParent)do n+=e.offsetTop;while(e=e.offsetParent);return n<this.viewportHeight+t?!0:!1},f.prototype.checkImagesNeedReplacing=function(e){var t=this;this.isResizing||(this.isResizing=!0,this.refreshPixelRatio(),u(e,function(e){t.replaceImagesBasedOnScreenDimensions(e)}),this.isResizing=!1,this.onImagesReplaced(e))},f.prototype.replaceImagesBasedOnScreenDimensions=function(e){var t,n,r;r=o(e),t=typeof this.availableWidths=="function"?this.availableWidths(e):this.determineAppropriateResolution(e),e.width=t;if(e.src!==this.gif.src&&t<=r)return;n=this.changeImageSrcToUseNewImageDimensions(e.getAttribute("data-src"),t,e.getAttribute("data-height-ratio"),e.getAttribute("data-scale")),e.src=n},f.prototype.determineAppropriateResolution=function(e){return f.getClosestValue(e.getAttribute("data-width")||e.parentNode.clientWidth,this.availableWidths)},f.prototype.refreshPixelRatio=function(){this.devicePixelRatio=f.getClosestValue(f.getPixelRatio(),this.availablePixelRatios)},f.prototype.changeImageSrcToUseNewImageDimensions=function(e,t,n,r){var i=f.transforms.width(t,this.widthsMap);r!==null&&r!=="null"&&(i*=r);if(n){var s=Math.round(i*n);e=e.replace(/{height}/g,s)}return e.replace(/{width}/g,i).replace(/{pixel_ratio}/g,f.transforms.pixelRatio(this.devicePixelRatio))},f.getPixelRatio=function(n){return(n||e).devicePixelRatio||1},f.createWidthsMap=function(t,n){var r={},i=t.length;while(i--)r[t[i]]=n(t[i]);return r},f.transforms={pixelRatio:function(e){return e},width:function(e,t){return t[e]||e}},f.getClosestValue=function(t,n){var r=n.length,i=n[r-1];t=parseFloat(t,10);while(r--)t<=n[r]&&(i=n[r]);return i},f.prototype.registerResizeEvent=function(){var t=this;s(e,"resize",function(){t.checkImagesNeedReplacing(t.divs)})},f.prototype.registerScrollEvent=function(){var t=this;this.scrolled=!1,this.interval=e.setInterval(function(){t.scrollCheck()},t.scrollDelay),s(e,"scroll",function(){t.scrolled=!0})},f.getPageOffsetGenerator=function(r){return r?function(){return e.pageYOffset}:function(){return t.documentElement.scrollTop}},f.getPageOffset=f.getPageOffsetGenerator(Object.prototype.hasOwnProperty.call(e,"pageYOffset")),f.applyEach=u,typeof module=="object"&&typeof module.exports=="object"?module.exports=exports=f:typeof define=="function"&&define.amd?define("imager",[],function(){return f}):typeof e=="object"&&(e.Imager=f)}(window,document),function(e){"use strict";function P(e){return e.replace(/,/g,".").replace(/[^0-9\.]/g,"")}function H(e){return parseFloat(P(e))>=10}var t,n={bridge:null,version:"0.0.0",disabled:null,outdated:null,ready:null},r={},i=0,s={},o=0,u={},a=null,f=null,l=function(){var e,t,n,r,i="/flash/zero-clipboard.swf";if(!document.currentScript||!(r=document.currentScript.src)){var s=document.getElementsByTagName("script");if("readyState"in s[0]){for(e=s.length;e--;)if(s[e].readyState==="interactive"&&(r=s[e].src))break}else if(document.readyState==="loading")r=s[s.length-1].src;else{for(e=s.length;e--;){n=s[e].src;if(!n){t=null;break}n=n.split("#")[0].split("?")[0],n=n.slice(0,n.lastIndexOf("/")+1);if(t==null)t=n;else if(t!==n){t=null;break}}t!==null&&(r=t)}}return r&&(r=r.split("#")[0].split("?")[0],i=r.slice(0,r.lastIndexOf("/")+1)+i),i}(),c=function(){var e=/\-([a-z])/g,t=function(e,t){return t.toUpperCase()};return function(n){return n.replace(e,t)}}(),h=function(t,n){var r,i,s,o,u,a;e.getComputedStyle?r=e.getComputedStyle(t,null).getPropertyValue(n):(i=c(n),t.currentStyle?r=t.currentStyle[i]:r=t.style[i]);if(n==="cursor")if(!r||r==="auto"){s=t.tagName.toLowerCase();if(s==="a")return"pointer"}return r},p=function(t){t||(t=e.event);var n;this!==e?n=this:t.target?n=t.target:t.srcElement&&(n=t.srcElement),B.activate(n)},d=function(e,t,n){if(!e||e.nodeType!==1)return;e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)},v=function(e,t,n){if(!e||e.nodeType!==1)return;e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent&&e.detachEvent("on"+t,n)},m=function(e,t){if(!e||e.nodeType!==1)return e;if(e.classList)return e.classList.contains(t)||e.classList.add(t),e;if(t&&typeof t=="string"){var n=(t||"").split(/\s+/);if(e.nodeType===1)if(!e.className)e.className=t;else{var r=" "+e.className+" ",i=e.className;for(var s=0,o=n.length;s<o;s++)r.indexOf(" "+n[s]+" ")<0&&(i+=" "+n[s]);e.className=i.replace(/^\s+|\s+$/g,"")}}return e},g=function(e,t){if(!e||e.nodeType!==1)return e;if(e.classList)return e.classList.contains(t)&&e.classList.remove(t),e;if(t&&typeof t=="string"||t===undefined){var n=(t||"").split(/\s+/);if(e.nodeType===1&&e.className)if(t){var r=(" "+e.className+" ").replace(/[\n\t]/g," ");for(var i=0,s=n.length;i<s;i++)r=r.replace(" "+n[i]+" "," ");e.className=r.replace(/^\s+|\s+$/g,"")}else e.className=""}return e},y=function(){var e,t,n,r=1;return typeof document.body.getBoundingClientRect=="function"&&(e=document.body.getBoundingClientRect(),t=e.right-e.left,n=document.body.offsetWidth,r=Math.round(t/n*100)/100),r},b=function(t,n){var r={left:0,top:0,width:0,height:0,zIndex:N(n)-1};if(t.getBoundingClientRect){var i=t.getBoundingClientRect(),s,o,u;"pageXOffset"in e&&"pageYOffset"in e?(s=e.pageXOffset,o=e.pageYOffset):(u=y(),s=Math.round(document.documentElement.scrollLeft/u),o=Math.round(document.documentElement.scrollTop/u));var a=document.documentElement.clientLeft||0,f=document.documentElement.clientTop||0;r.left=i.left+s-a,r.top=i.top+o-f,r.width="width"in i?i.width:i.right-i.left,r.height="height"in i?i.height:i.bottom-i.top}return r},w=function(e,t){var n=t==null||t&&t.cacheBust===!0&&t.useNoCache===!0;return n?(e.indexOf("?")===-1?"?":"&")+"noCache="+(new Date).getTime():""},E=function(t){var n,r,i,s=[],o=[],u=[];t.trustedOrigins&&(typeof t.trustedOrigins=="string"?o.push(t.trustedOrigins):typeof t.trustedOrigins=="object"&&"length"in t.trustedOrigins&&(o=o.concat(t.trustedOrigins))),t.trustedDomains&&(typeof t.trustedDomains=="string"?o.push(t.trustedDomains):typeof t.trustedDomains=="object"&&"length"in t.trustedDomains&&(o=o.concat(t.trustedDomains)));if(o.length)for(n=0,r=o.length;n<r;n++)if(o.hasOwnProperty(n)&&o[n]&&typeof o[n]=="string"){i=L(o[n]);if(!i)continue;if(i==="*"){u=[i];break}u.push.apply(u,[i,"//"+i,e.location.protocol+"//"+i])}return u.length&&s.push("trustedOrigins="+encodeURIComponent(u.join(","))),typeof t.jsModuleId=="string"&&t.jsModuleId&&s.push("jsModuleId="+encodeURIComponent(t.jsModuleId)),s.join("&")},S=function(e,t,n){if(typeof t.indexOf=="function")return t.indexOf(e,n);var r,i=t.length;typeof n=="undefined"?n=0:n<0&&(n=i+n);for(r=n;r<i;r++)if(t.hasOwnProperty(r)&&t[r]===e)return r;return-1},x=function(e){if(typeof e=="string")throw new TypeError("ZeroClipboard doesn't accept query strings.");return e.length?e:[e]},T=function(t,n,r,i){i?e.setTimeout(function(){t.apply(n,r)},0):t.apply(n,r)},N=function(e){var t,n;return e&&(typeof e=="number"&&e>0?t=e:typeof e=="string"&&(n=parseInt(e,10))&&!isNaN(n)&&n>0&&(t=n)),t||(typeof I.zIndex=="number"&&I.zIndex>0?t=I.zIndex:typeof I.zIndex=="string"&&(n=parseInt(I.zIndex,10))&&!isNaN(n)&&n>0&&(t=n)),t||0},C=function(e,t){if(e&&t!==!1&&typeof console!="undefined"&&console&&(console.warn||console.log)){var n="`"+e+"` is deprecated. See docs for more info:\n"+"    https://github.com/zeroclipboard/zeroclipboard/blob/master/docs/instructions.md#deprecations";console.warn?console.warn(n):console.log(n)}},k=function(){var e,t,n,r,i,s,o=arguments[0]||{};for(e=1,t=arguments.length;e<t;e++)if((n=arguments[e])!=null)for(r in n)if(n.hasOwnProperty(r)){i=o[r],s=n[r];if(o===s)continue;s!==undefined&&(o[r]=s)}return o},L=function(e){if(e==null||e==="")return null;e=e.replace(/^\s+|\s+$/g,"");if(e==="")return null;var t=e.indexOf("//");e=t===-1?e:e.slice(t+2);var n=e.indexOf("/");return e=n===-1?e:t===-1||n===0?null:e.slice(0,n),e&&e.slice(-4).toLowerCase()===".swf"?null:e||null},A=function(){var e=function(e,t){var n,r,i;if(e!=null&&t[0]!=="*"){typeof e=="string"&&(e=[e]);if(typeof e=="object"&&"length"in e)for(n=0,r=e.length;n<r;n++)if(e.hasOwnProperty(n)){i=L(e[n]);if(i){if(i==="*"){t.length=0,t.push("*");break}S(i,t)===-1&&t.push(i)}}}},t={always:"always",samedomain:"sameDomain",never:"never"};return function(n,r){var i,s=r.allowScriptAccess;if(typeof s=="string"&&(i=s.toLowerCase())&&/^always|samedomain|never$/.test(i))return t[i];var o=L(r.moviePath);o===null&&(o=n);var u=[];e(r.trustedOrigins,u),e(r.trustedDomains,u);var a=u.length;if(a>0){if(a===1&&u[0]==="*")return"always";if(S(n,u)!==-1)return a===1&&n===o?"sameDomain":"always"}return"never"}}(),O=function(e){if(e==null)return[];if(Object.keys)return Object.keys(e);var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t},M=function(e){if(e)for(var t in e)e.hasOwnProperty(t)&&delete e[t];return e},_=function(){try{return document.activeElement}catch(e){}return null},D=function(){var e=!1;if(typeof n.disabled=="boolean")e=n.disabled===!1;else{if(typeof ActiveXObject=="function")try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash")&&(e=!0)}catch(t){}!e&&navigator.mimeTypes["application/x-shockwave-flash"]&&(e=!0)}return e},B=function(e,t){if(!(this instanceof B))return new B(e,t);this.id=""+i++,s[this.id]={instance:this,elements:[],handlers:{}},e&&this.clip(e),typeof t!="undefined"&&(C("new ZeroClipboard(elements, options)",I.debug),B.config(t)),this.options=B.config(),typeof n.disabled!="boolean"&&(n.disabled=!D()),n.disabled===!1&&n.outdated!==!0&&n.bridge===null&&(n.outdated=!1,n.ready=!1,q())};B.prototype.setText=function(e){return e&&e!==""&&(r["text/plain"]=e,n.ready===!0&&n.bridge&&typeof n.bridge.setText=="function"?n.bridge.setText(e):n.ready=!1),this},B.prototype.setSize=function(e,t){return n.ready===!0&&n.bridge&&typeof n.bridge.setSize=="function"?n.bridge.setSize(e,t):n.ready=!1,this};var j=function(e){n.ready===!0&&n.bridge&&typeof n.bridge.setHandCursor=="function"?n.bridge.setHandCursor(e):n.ready=!1};B.prototype.destroy=function(){this.unclip(),this.off(),delete s[this.id]};var F=function(){var e,t,n,r=[],i=O(s);for(e=0,t=i.length;e<t;e++)n=s[i[e]].instance,n&&n instanceof B&&r.push(n);return r};B.version="1.3.5";var I={swfPath:l,trustedDomains:e.location.host?[e.location.host]:[],cacheBust:!0,forceHandCursor:!1,zIndex:999999999,debug:!0,title:null,autoActivate:!0};B.config=function(e){typeof e=="object"&&e!==null&&k(I,e);if(typeof e=="string"&&e){if(I.hasOwnProperty(e))return I[e];return}var t={};for(var n in I)I.hasOwnProperty(n)&&(typeof I[n]=="object"&&I[n]!==null?"length"in I[n]?t[n]=I[n].slice(0):t[n]=k({},I[n]):t[n]=I[n]);return t},B.destroy=function(){B.deactivate();for(var e in s)if(s.hasOwnProperty(e)&&s[e]){var t=s[e].instance;t&&typeof t.destroy=="function"&&t.destroy()}var r=R(n.bridge);r&&r.parentNode&&(r.parentNode.removeChild(r),n.ready=null,n.bridge=null)},B.activate=function(e){t&&(g(t,I.hoverClass),g(t,I.activeClass)),t=e,m(e,I.hoverClass),U();var r=I.title||e.getAttribute("title");if(r){var i=R(n.bridge);i&&i.setAttribute("title",r)}var s=I.forceHandCursor===!0||h(e,"cursor")==="pointer";j(s)},B.deactivate=function(){var e=R(n.bridge);e&&(e.style.left="0px",e.style.top="-9999px",e.removeAttribute("title")),t&&(g(t,I.hoverClass),g(t,I.activeClass),t=null)};var q=function(){var t,r,i=document.getElementById("global-zeroclipboard-html-bridge");if(!i){var s=B.config();s.jsModuleId=typeof a=="string"&&a||typeof f=="string"&&f||null;var o=A(e.location.host,I),u=E(s),l=I.moviePath+w(I.moviePath,I),c='      <object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" id="global-zeroclipboard-flash-bridge" width="100%" height="100%">         <param name="movie" value="'+l+'"/>         <param name="allowScriptAccess" value="'+o+'"/>         <param name="scale" value="exactfit"/>         <param name="loop" value="false"/>         <param name="menu" value="false"/>         <param name="quality" value="best" />         <param name="bgcolor" value="#ffffff"/>         <param name="wmode" value="transparent"/>         <param name="flashvars" value="'+u+'"/>         <embed src="'+l+'"           loop="false" menu="false"           quality="best" bgcolor="#ffffff"           width="100%" height="100%"           name="global-zeroclipboard-flash-bridge"           allowScriptAccess="'+o+'"           allowFullScreen="false"           type="application/x-shockwave-flash"           wmode="transparent"           pluginspage="http://www.macromedia.com/go/getflashplayer"           flashvars="'+u+'"           scale="exactfit">         </embed>       </object>';i=document.createElement("div"),i.id="global-zeroclipboard-html-bridge",i.setAttribute("class","global-zeroclipboard-container"),i.style.position="absolute",i.style.left="0px",i.style.top="-9999px",i.style.width="15px",i.style.height="15px",i.style.zIndex=""+N(I.zIndex),document.body.appendChild(i),i.innerHTML=c}t=document["global-zeroclipboard-flash-bridge"],t&&(r=t.length)&&(t=t[r-1]),n.bridge=t||i.children[0].lastElementChild},R=function(e){var t=/^OBJECT|EMBED$/,n=e&&e.parentNode;while(n&&t.test(n.nodeName)&&n.parentNode)n=n.parentNode;return n||null},U=function(){if(t){var e=b(t,I.zIndex),r=R(n.bridge);r&&(r.style.top=e.top+"px",r.style.left=e.left+"px",r.style.width=e.width+"px",r.style.height=e.height+"px",r.style.zIndex=e.zIndex+1),n.ready===!0&&n.bridge&&typeof n.bridge.setSize=="function"?n.bridge.setSize(e.width,e.height):n.ready=!1}return this};B.prototype.on=function(e,t){var r,i,o,u={},a=s[this.id]&&s[this.id].handlers;if(typeof e=="string"&&e)o=e.toLowerCase().split(/\s+/);else if(typeof e=="object"&&e&&typeof t=="undefined")for(r in e)e.hasOwnProperty(r)&&typeof r=="string"&&r&&typeof e[r]=="function"&&this.on(r,e[r]);if(o&&o.length){for(r=0,i=o.length;r<i;r++)e=o[r].replace(/^on/,""),u[e]=!0,a[e]||(a[e]=[]),a[e].push(t);u.noflash&&n.disabled&&X.call(this,"noflash",{}),u.wrongflash&&n.outdated&&X.call(this,"wrongflash",{flashVersion:n.version}),u.load&&n.ready&&X.call(this,"load",{flashVersion:n.version})}return this},B.prototype.off=function(e,t){var n,r,i,o,u,a=s[this.id]&&s[this.id].handlers;if(arguments.length===0)o=O(a);else if(typeof e=="string"&&e)o=e.split(/\s+/);else if(typeof e=="object"&&e&&typeof t=="undefined")for(n in e)e.hasOwnProperty(n)&&typeof n=="string"&&n&&typeof e[n]=="function"&&this.off(n,e[n]);if(o&&o.length)for(n=0,r=o.length;n<r;n++){e=o[n].toLowerCase().replace(/^on/,""),u=a[e];if(u&&u.length)if(t){i=S(t,u);while(i!==-1)u.splice(i,1),i=S(t,u,i)}else a[e].length=0}return this},B.prototype.handlers=function(e){var t,n=null,r=s[this.id]&&s[this.id].handlers;if(r){if(typeof e=="string"&&e)return r[e]?r[e].slice(0):null;n={};for(t in r)r.hasOwnProperty(t)&&r[t]&&(n[t]=r[t].slice(0))}return n};var z=function(t,n,r,i){var o=s[this.id]&&s[this.id].handlers[t];if(o&&o.length){var u,a,f,l=n||this;for(u=0,a=o.length;u<a;u++)f=o[u],n=l,typeof f=="string"&&typeof e[f]=="function"&&(f=e[f]),typeof f=="object"&&f&&typeof f.handleEvent=="function"&&(n=f,f=f.handleEvent),typeof f=="function"&&T(f,n,r,i)}return this};B.prototype.clip=function(e){e=x(e);for(var t=0;t<e.length;t++)if(e.hasOwnProperty(t)&&e[t]&&e[t].nodeType===1){e[t].zcClippingId?S(this.id,u[e[t].zcClippingId])===-1&&u[e[t].zcClippingId].push(this.id):(e[t].zcClippingId="zcClippingId_"+o++,u[e[t].zcClippingId]=[this.id],I.autoActivate===!0&&d(e[t],"mouseover",p));var n=s[this.id].elements;S(e[t],n)===-1&&n.push(e[t])}return this},B.prototype.unclip=function(e){var t=s[this.id];if(t){var n=t.elements,r;typeof e=="undefined"?e=n.slice(0):e=x(e);for(var i=e.length;i--;)if(e.hasOwnProperty(i)&&e[i]&&e[i].nodeType===1){r=0;while((r=S(e[i],n,r))!==-1)n.splice(r,1);var o=u[e[i].zcClippingId];if(o){r=0;while((r=S(this.id,o,r))!==-1)o.splice(r,1);o.length===0&&(I.autoActivate===!0&&v(e[i],"mouseover",p),delete e[i].zcClippingId)}}}return this},B.prototype.elements=function(){var e=s[this.id];return e&&e.elements?e.elements.slice(0):[]};var W=function(e){var t,n,r,i,o,a=[];if(e&&e.nodeType===1&&(t=e.zcClippingId)&&u.hasOwnProperty(t)){n=u[t];if(n&&n.length)for(r=0,i=n.length;r<i;r++)o=s[n[r]].instance,o&&o instanceof B&&a.push(o)}return a};I.hoverClass="zeroclipboard-is-hover",I.activeClass="zeroclipboard-is-active",I.trustedOrigins=null,I.allowScriptAccess=null,I.useNoCache=!0,I.moviePath="/flash/zero-clipboard.swf",B.detectFlashSupport=function(){return C("ZeroClipboard.detectFlashSupport",I.debug),D()},B.dispatch=function(e,n){if(typeof e=="string"&&e){var r=e.toLowerCase().replace(/^on/,"");if(r){var i=t&&I.autoActivate===!0?W(t):F();for(var s=0,o=i.length;s<o;s++)X.call(i[s],r,n)}}},B.prototype.setHandCursor=function(e){return C("ZeroClipboard.prototype.setHandCursor",I.debug),e=typeof e=="boolean"?e:!!e,j(e),I.forceHandCursor=e,this},B.prototype.reposition=function(){return C("ZeroClipboard.prototype.reposition",I.debug),U()},B.prototype.receiveEvent=function(e,t){C("ZeroClipboard.prototype.receiveEvent",I.debug);if(typeof e=="string"&&e){var n=e.toLowerCase().replace(/^on/,"");n&&X.call(this,n,t)}},B.prototype.setCurrent=function(e){return C("ZeroClipboard.prototype.setCurrent",I.debug),B.activate(e),this},B.prototype.resetBridge=function(){return C("ZeroClipboard.prototype.resetBridge",I.debug),B.deactivate(),this},B.prototype.setTitle=function(e){C("ZeroClipboard.prototype.setTitle",I.debug),e=e||I.title||t&&t.getAttribute("title");if(e){var r=R(n.bridge);r&&r.setAttribute("title",e)}return this},B.setDefaults=function(e){C("ZeroClipboard.setDefaults",I.debug),B.config(e)},B.prototype.addEventListener=function(e,t){return C("ZeroClipboard.prototype.addEventListener",I.debug),this.on(e,t)},B.prototype.removeEventListener=function(e,t){return C("ZeroClipboard.prototype.removeEventListener",I.debug),this.off(e,t)},B.prototype.ready=function(){return C("ZeroClipboard.prototype.ready",I.debug),n.ready===!0};var X=function(e,i){e=e.toLowerCase().replace(/^on/,"");var s=i&&i.flashVersion&&P(i.flashVersion)||null,o=t,u=!0;switch(e){case"load":if(s){if(!H(s)){X.call(this,"onWrongFlash",{flashVersion:s});return}n.outdated=!1,n.ready=!0,n.version=s}break;case"wrongflash":s&&!H(s)&&(n.outdated=!0,n.ready=!1,n.version=s);break;case"mouseover":m(o,I.hoverClass);break;case"mouseout":I.autoActivate===!0&&B.deactivate();break;case"mousedown":m(o,I.activeClass);break;case"mouseup":g(o,I.activeClass);break;case"datarequested":if(o){var a=o.getAttribute("data-clipboard-target"),f=a?document.getElementById(a):null;if(f){var l=f.value||f.textContent||f.innerText;l&&this.setText(l)}else{var c=o.getAttribute("data-clipboard-text");c&&this.setText(c)}}u=!1;break;case"complete":M(r),o&&o!==_()&&o.focus&&o.focus()}var h=o,p=[this,i];return z.call(this,e,h,p,u)};typeof define=="function"&&define.amd?define("clipboard",["require","exports","module"],function(e,t,n){return a=n&&n.id||null,B}):typeof module=="object"&&module&&typeof module.exports=="object"&&module.exports&&typeof e.require=="function"?(f=module.id||null,module.exports=B):e.ZeroClipboard=B}(function(){return this}()),define("text",["module"],function(e){"use strict";var t,n,r,i,s,o=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],u=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,a=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,f=typeof location!="undefined"&&location.href,l=f&&location.protocol&&location.protocol.replace(/\:/,""),c=f&&location.hostname,h=f&&(location.port||undefined),p={},d=e.config&&e.config()||{};t={version:"2.0.10",strip:function(e){if(e){e=e.replace(u,"");var t=e.match(a);t&&(e=t[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:d.createXhr||function(){var e,t,n;if(typeof XMLHttpRequest!="undefined")return new XMLHttpRequest;if(typeof ActiveXObject!="undefined")for(t=0;t<3;t+=1){n=o[t];try{e=new ActiveXObject(n)}catch(r){}if(e){o=[n];break}}return e},parseName:function(e){var t,n,r,i=!1,s=e.indexOf("."),o=e.indexOf("./")===0||e.indexOf("../")===0;return s!==-1&&(!o||s>1)?(t=e.substring(0,s),n=e.substring(s+1,e.length)):t=e,r=n||t,s=r.indexOf("!"),s!==-1&&(i=r.substring(s+1)==="strip",r=r.substring(0,s),n?n=r:t=r),{moduleName:t,ext:n,strip:i}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,n,r,i){var s,o,u,a=t.xdRegExp.exec(e);return a?(s=a[2],o=a[3],o=o.split(":"),u=o[1],o=o[0],(!s||s===n)&&(!o||o.toLowerCase()===r.toLowerCase())&&(!u&&!o||u===i)):!0},finishLoad:function(e,n,r,i){r=n?t.strip(r):r,d.isBuild&&(p[e]=r),i(r)},load:function(e,n,r,i){if(i.isBuild&&!i.inlineText){r();return}d.isBuild=i.isBuild;var s=t.parseName(e),o=s.moduleName+(s.ext?"."+s.ext:""),u=n.toUrl(o),a=d.useXhr||t.useXhr;if(u.indexOf("empty:")===0){r();return}!f||a(u,l,c,h)?t.get(u,function(n){t.finishLoad(e,s.strip,n,r)},function(e){r.error&&r.error(e)}):n([o],function(e){t.finishLoad(s.moduleName+"."+s.ext,s.strip,e,r)})},write:function(e,n,r,i){if(p.hasOwnProperty(n)){var s=t.jsEscape(p[n]);r.asModule(e+"!"+n,"define(function () { return '"+s+"';});\n")}},writeFile:function(e,n,r,i,s){var o=t.parseName(n),u=o.ext?"."+o.ext:"",a=o.moduleName+u,f=r.toUrl(o.moduleName+u)+".js";t.load(a,r,function(n){var r=function(e){return i(f,e)};r.asModule=function(e,t){return i.asModule(e,f,t)},t.write(e,a,r,s)},s)}};if(d.env==="node"||!d.env&&typeof process!="undefined"&&process.versions&&!!process.versions.node&&!process.versions["node-webkit"])n=require.nodeRequire("fs"),t.get=function(e,t,r){try{var i=n.readFileSync(e,"utf8");i.indexOf("")===0&&(i=i.substring(1)),t(i)}catch(s){r(s)}};else if(d.env==="xhr"||!d.env&&t.createXhr())t.get=function(e,n,r,i){var s=t.createXhr(),o;s.open("GET",e,!0);if(i)for(o in i)i.hasOwnProperty(o)&&s.setRequestHeader(o.toLowerCase(),i[o]);d.onXhr&&d.onXhr(s,e),s.onreadystatechange=function(t){var i,o;s.readyState===4&&(i=s.status,i>399&&i<600?(o=new Error(e+" HTTP status: "+i),o.xhr=s,r(o)):n(s.responseText),d.onXhrComplete&&d.onXhrComplete(s,e))},s.send(null)};else if(d.env==="rhino"||!d.env&&typeof Packages!="undefined"&&typeof java!="undefined")t.get=function(e,t){var n,r,i="utf-8",s=new java.io.File(e),o=java.lang.System.getProperty("line.separator"),u=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(s),i)),a="";try{n=new java.lang.StringBuffer,r=u.readLine(),r&&r.length()&&r.charAt(0)===65279&&(r=r.substring(1)),r!==null&&n.append(r);while((r=u.readLine())!==null)n.append(o),n.append(r);a=String(n.toString())}finally{u.close()}t(a)};else if(d.env==="xpconnect"||!d.env&&typeof Components!="undefined"&&Components.classes&&Components.interfaces)r=Components.classes,i=Components.interfaces,Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),s="@mozilla.org/windows-registry-key;1"in r,t.get=function(e,t){var n,o,u,a={};s&&(e=e.replace(/\//g,"\\")),u=new FileUtils.File(e);try{n=r["@mozilla.org/network/file-input-stream;1"].createInstance(i.nsIFileInputStream),n.init(u,1,0,!1),o=r["@mozilla.org/intl/converter-input-stream;1"].createInstance(i.nsIConverterInputStream),o.init(n,"utf-8",n.available(),i.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),o.readString(n.available(),a),o.close(),n.close(),t(a.value)}catch(f){throw new Error((u&&u.path||"")+": "+f)}};return t}),define("template",["underscore"],function(e){return{load:function(t,n,r,i){n(["text!"+t],function(t){i.isBuild?r():r(e.template(t))})}}}),define("utilities/ads/slots",{mobile:{sizes:{extraSmall:[0,0]}},"presented-by":{sizes:{extraSmall:[180,50]}},leaderboard:{sizes:{medium:[[728,90],[728,160]],large:[[970,66],[970,90]],extraLarge:[[728,90],[970,66],[970,90],[970,250],[1e3,90],[1034,250],[1034,150],[1034,90]]}},homepageBottom:{sizes:{extraSmall:[[320,50],[300,50]],medium:[[728,90]],large:[[728,90],[970,90]]}},homepageMiddle:{sizes:{extraSmall:[[320,50],[300,50]],medium:[[728,90]],large:[[728,90],[970,90]]}},reskin:{sizes:{extraLarge:[0,0]}},interstitial:{sizes:{extraSmall:[0,0]}},"content-belt-2":{sizes:{extraSmall:[0,0]}},rightRailTopMobile:{sizes:{extraSmall:[[300,250]],medium:[[320,50],[300,50],[300,250]]}},rightRailTopDesktop:{sizes:{medium:[[300,250],[300,600],[300,1050]]}},rightRailSlideshowTopDesktop:{sizes:{medium:[[300,250]]}},rightRailTop:{sizes:{extraSmall:[[320,50],[300,50],[300,250]],large:[[300,250],[300,600],[300,1050]]}},rightRailBottom:{sizes:{large:[[300,250],[300,600]]}},slideshowOverlay:{sizes:{extraSmall:[[300,250]]}},slideshowLeaderboard:{sizes:{extraSmall:[[320,50],[300,250]],medium:[[728,90]],large:[[970,66],[970,90]],extraLarge:[[728,90],[970,66],[970,90],[1e3,90],[1034,90]]}},contentFlowDisplay:{sizes:{extraSmall:[[320,50],[300,50],[300,250]],medium:[[300,250]],large:[[300,250]],extraLarge:[[300,250]]}},"mini-syndi-top":{sizes:{extraSmall:[0,0]}},"mini-syndi-bottom":{sizes:{extraSmall:[0,0]}},"content-bridge":{sizes:{extraSmall:[0,0]}},adhesionBottom:{sizes:{extraSmall:[[320,50],[300,50]]}},adhesionSlideshow:{sizes:{extraSmall:[[320,50],[300,50]]}}}),define("utilities/ads/views/slot/view",["jquery","underscore","backbone"],function(e,t,n){var r=n.View.extend({listeners:{display:"display"},slot:null,pinPlaceholder:null,events:{},documentWidth:null,hasRendered:!1,isDisabled:!1,isWaitingForVisible:!1,enableDebug:!1,enableAdhesionAdAutoclose:!1,initialize:function(e){this.options=e||{},this.options.pinClose=!0,t.bindAll(this,"define","display","visibleScroll","pinScroll","onRenderEnded","disablePin","onRefresh")},render:function(){return this},define:function(){var t,n=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,r=!1,i,s;this.documentWidth=n,this.$window=e(window),this.options.showWhenVisible&&!this.options.becameVisible?(this.debug("Waiting on visible"),this.isWaitingForVisible=!0,this.$window.on("scroll.visibleScroll."+this.cid,this.visibleScroll)):(this.isWithinBreakpoint()?this.$el.data("dfpOopAdSlot")?(t=googletag.defineOutOfPageSlot(this.options.path,this.el.id).setTargeting("oop",this.$el.data("dfpOopAdSlot")),i="Out-of-page",s=this.$el.data("dfpOopAdSlot")):(t=googletag.defineSlot(this.options.path,this.defineSlotSizes(),this.el.id).defineSizeMapping(this.defineSizeMapping()),i="Slot",s=this.$el.data("dfpAdSlot")):this.isDisabled=!0,this.isWithinBreakpoint()&&this.options.showWhenVisible&&(i+=" - Lazy"),this.isDisabled||(this.$el.data("targetName")&&this.$el.data("targetValue")&&t.setTargeting(this.$el.data("targetName"),this.$el.data("targetValue")),this.slot=t,this.options.pin&&(r=!0),googletag.pubads().addEventListener("slotRenderEnded",this.onRenderEnded),this.options.listenForRefresh===!0&&this.options.adsUtil.on("ads:refresh:"+this.el.id,this.onRefresh)))},display:function(){!this.isDisabled&&!this.isWaitingForVisible?(this.slot.addService(googletag.pubads()),this.dfpDisplay()):(this.debug("Forced display trigger"),this.trigger("displayed")),this.$el.attr("data-displayed","displayed")},dfpDisplay:function(){var e=this;window.googletag.cmd.push(function(){googletag.display(e.el.id)})},defineSlotSizes:function(){var e,n,r=[];for(e in this.options.breakpoints)n=this.options.sizes[e],n&&(r=t.union(n));return r},isWithinBreakpoint:function(){var e,n,r,i,s,o=!1;if(!t.isUndefined(this.options)&&t.has(this.options,"breakpoints")){for(e in this.options.breakpoints){n=this.options.breakpoints[e],r=this.options.sizes[e];if(r&&this.documentWidth>n){o=!0;break}}this.options.breakpointLimit&&(i=this.options.breakpointLimit,this.documentWidth>i&&(o=!1)),this.options.breakpointMinimum&&(s=this.options.breakpointMinimum,this.documentWidth<s&&(o=!1))}else o=!0;return o},defineSizeMapping:function(){var e=googletag.sizeMapping(),t,n,r;for(t in this.options.breakpoints)n=this.options.sizes[t],r=this.options.breakpoints[t],n&&e.addSize([r,0],n);return e.build()},onRenderEnded:function(e){if(e.slot==this.slot){var t=this.$el.data("dfpOopAdSlot")||this.$el.data("dfpAdSlot"),n=e.isEmpty?"Render - Empty":"Render - Filled";this.hasRendered&&(n+=" - From Refresh",this.$el.css("visibility","visible"));if(this.options.pin){var r=this.options.pinHeightLimit,i=!1;r?e.size[1]<r&&(i=!0):i=!0,i&&(this.$window.on("scroll.pinScroll."+this.cid,this.pinScroll),this.pinScroll())}this.hasRendered=!0,window.location.pathname=="/pets-and-animals/articles/1033925/unique-female-dog-names"&&(s.prop51=window.location.pathname+" : "+"DFP Slot Rendering"+" : "+n+" : "+t,s.t())}},onRefresh:function(e){this.$el.css("visibility","hidden"),googletag.pubads().refresh([this.slot])},pinScroll:function(){var e=this.$el.offset();this.options.pin=="top"&&this.$window.scrollTop()+52>=e.top?(this.$window.off("scroll.pinScroll."+this.cid,this.pinScroll),this.enablePin()):this.options.pin=="bottom"&&this.$window.scrollTop()-e.top+this.$window.height()-this.$el.outerHeight()>0?(this.$window.off("scroll.pinScroll."+this.cid,this.pinScroll),this.enablePin()):this.options.pin=="instant"&&(this.$window.off("scroll.pinScroll."+this.cid,this.pinScroll),this.enablePin())},enablePin:function(){this.$el.addClass("pinned"),this.options.pinPlaceholder&&(this.pinPlaceholder=e("<div/>").addClass("pin-placeholder").height(this.$el.outerHeight()),this.$el.before(this.pinPlaceholder));if(this.options.pinClose){var n=e("<i/>").addClass("close");this.$el.append(n),this.$el.click(this.disablePin)}t.isNumber(this.options.pinTimeout)&&(this.$el.attr("id").match(/leaderboard/)||this.enableAdhesionAdAutoclose?(this.debug("Timeout set for pinned ad"),setTimeout(this.disablePin,this.options.pinTimeout)):this.debug("Timeout skipped for pinned ad"))},disablePin:function(){this.$el.removeClass("pinned"),this.options.pinPlaceholder&&this.pinPlaceholder.remove()},visibleScroll:function(){var e=this.$el.offset();this.$window.scrollTop()-e.top+this.$window.height()>0&&(this.debug("Slot became visible"),this.$window.off("scroll.visibleScroll."+this.cid,this.visibleScroll),this.isWaitingForVisible=!1,this.$el.removeAttr("data-queued"),this.$el.attr("data-became-visible",!0),this.trigger("isVisible"))},debug:function(e){this.enableDebug&&window.console&&console.log("Ads View:",e,this)}});return r}),define("utilities/ads/utility",["jquery","underscore","backbone","./slots","./views/slot/view"],function(e,t,n,r,i){var s=n.View.extend({targeting:{breakpoints:{extraSmall:0,small:479,medium:727,large:969,extraLarge:1023}},isInitialized:!1,isFirstLoad:!0,isQueueDone:!1,queueCount:0,renderCount:0,enableDebug:!1,events:{},queue:[],initialize:function(){t.bindAll(this,"render","triggeredRender","setTargeting","enableSettings","defineSlots","displaySlots","createSlots","onRenderEnded"),this.on("render",this.triggeredRender);if(!t.isUndefined(location.search)){var e=t.object(t.compact(t.map(location.search.slice(1).split("&"),function(e){if(e)return e.split("=")})));t.isUndefined(e.debugAds)||(this.enableDebug=!0)}},render:function(t){return t&&(this.config=t),this.debug("Render called"),this.$slots=e("body").find("[data-dfp-ad-slot],[data-dfp-oop-ad-slot]").not("[data-queued]"),skGlobal.dfp.disabled?(_gaq.push(["_trackEvent","Ads","Render","Did not render - DFP disabled",null,!0]),this.debug("Ads disabled")):this.$slots.length>0&&(this.debug(this.$slots.length+" new ads"),this.debug(this.$slots),this.$slots.attr("data-queued","data-queued"),this.createSlots(),this.isFirstLoad?(this.debug("First load display"),this.defineSlots(),this.queueCount=this.$slots.length,googletag.cmd.push(this.setTargeting),googletag.cmd.push(this.enableSettings),googletag.cmd.push(function(){googletag.enableServices()}),this.displaySlots(!1),this.isFirstLoad=!1):(this.debug("Adding to queue"),this.queue=this.queue.concat(this.slots)),this.isQueueDone&&(this.debug("Queue is not running"),this.processQueue())),this},triggeredRender:function(){this.isFirstLoad||this.render()},setTargeting:function(){var e=this;(function(){if(typeof asiPlacements!="undefined"){this.ASPQs="";for(var e in asiPlacements){var t=asiPlacements[e]["default"]&&asiPlacements[e].data?"PQ_"+e:"";if(t!=="")for(var n in asiPlacements[e].data)t+="_"+n,this.ASPQs===""?this.ASPQs=t:this.ASPQs+=","+t}}})(),typeof asiPlacements!="undefined"&&googletag.cmd.push(function(){googletag.pubads().setTargeting("gwd",ASPQs)}),googletag.cmd.push(function(){googletag.pubads().setTargeting("site",e.config.dfp.site)}),googletag.cmd.push(function(){googletag.pubads().setTargeting("ct",e.config.dfp.ct)}),t.isUndefined(e.config.dfp.pageTargeting.tpid)||googletag.cmd.push(function(){googletag.pubads().setTargeting("U",e.config.dfp.pageTargeting.tpid)}),t.each(this.config.dfp.pageTargeting,function(e,t){googletag.cmd.push(function(){googletag.pubads().setTargeting(t,e)})})},enableSettings:function(){googletag.cmd.push(function(){googletag.pubads().enableSingleRequest()}),googletag.cmd.push(function(){googletag.pubads().collapseEmptyDivs()}),googletag.pubads().addEventListener("slotRenderEnded",this.onRenderEnded)},onRenderEnded:function(){this.renderCount++,this.debug("Render count: "+this.renderCount+" of "+this.queueCount),this.renderCount===this.queueCount&&(this.debug("Queue end hit"),this.isQueueDone=!0,this.processQueue())},processQueue:function(){this.queue.length>0?(this.debug("Processing new queue"),this.slots=this.queue.slice(0),this.queue=[],this.queueCount=this.slots.length,this.renderCount=0,this.isQueueDone=!1,this.defineSlots(),this.displaySlots(!1)):this.debug("Queue empty")},createSlots:function(){var t=this;this.debug("Create slots : "+this.$slots.length),this.slots=[],this.$slots.each(function(){var n=e(this),s=r[n.data("dfpOopAdSlot")||n.data("dfpAdSlot")],o=(new i({el:n,path:t.config.dfp.path,breakpoints:t.targeting.breakpoints,breakpointLimit:n.data("breakpointLimit"),breakpointMinimum:n.data("breakpointMinimum"),showWhenVisible:n.data("showWhenVisible"),becameVisible:n.data("becameVisible"),enableDebug:t.enableDebug,pin:n.data("pin"),pinHeightLimit:n.data("pinHeightLimit"),pinTimeout:n.data("pinTimeout"),pinPlaceholder:n.data("pinPlaceholder"),pinClose:n.data("pinClose"),listenForRefresh:n.data("listenForRefresh"),sizes:s.sizes,adsUtil:t})).render();t.slots.push(o),n.data("showWhenVisible")&&t.listenToOnce(o,"isVisible",t.render)})},defineSlots:function(){this.debug("Defining "+this.slots.count+" slots."),t.each(this.slots,function(e){e.define()},this)},displaySlots:function(e){var n=[];this.debug("Display slots follow... "),this.debug(this.slots),t.each(this.slots,function(e){this.listenTo(e,"displayed",this.onRenderEnded),e.display(),n.push(e.slot)},this),e&&(this.debug("Slots need refresh"),googletag.cmd.push(function(){googletag.pubads().refresh(n)}))},debug:function(e){this.enableDebug&&window.console&&console.log("Ads Utility:",e)}});return new s}),require(["imager"],function(e){var t={widths:[340,410,736,800,1e3],ratios:[1,2]};new e("[data-featured-image], [data-article-image], [data-quick-load-image]",{widths:t.widths,ratios:t.ratios,lazyload:!1}),new e("[data-homepage-image]",{widths:t.widths,ratios:t.ratios,lazyload:!0,lazyLoadOffset:document.documentElement.clientHeight})}),require(["utilities/ads/utility"],function(e){e.render(skGlobal)}),define("app",function(){}),define("plugins/accordion/views/section/model",["backbone"],function(e){var t=e.Model.extend({defaults:{isOpen:!1}});return t}),define("plugins/accordion/views/section/view",["jquery","underscore","backbone","./model"],function(e,t,n,r){var i=n.View.extend({model:r,bindings:{":el":{attributes:[{name:"class",observe:"isOpen",onGet:"toggleClass"}]}},listeners:{"model change:isOpen":"triggerIsOpenChange"},events:{"click [data-toggle]":"toggle"},initialize:function(){},render:function(){return this.$section=this.$el.find("[data-section]"),this.stickit(),this},toggle:function(e){this.model.set("isOpen",!this.model.get("isOpen")),e.preventDefault()},toggleClass:function(e){return e?"open":""},triggerIsOpenChange:function(){this.trigger("change:isOpen",this,this.model.get("isOpen"))}});return i}),define("plugins/accordion/plugin",["jquery","underscore","backbone","./views/section/view"],function(e,t,n,r){var i=n.View.extend({listeners:{},events:{},initialize:function(){t.bindAll(this,"initSection")},render:function(){return this.sections=[],this.$el.find("[data-item]").each(this.initSection),this},initSection:function(e,t){var n=(new r({el:t})).render();this.sections.push(n),this.listenTo(n,"change:isOpen",this.closeSections)},closeSections:function(e,n){n&&t.each(this.sections,function(t){e.cid!==t.cid&&t.model.set("isOpen",!1)})}});return i}),define("plugins/carousel/model",["backbone"],function(e){var t=e.Model.extend({defaults:{activeIndex:null}});return t}),define("plugins/carousel/views/slide/model",["backbone"],function(e){var t=e.Model.extend({defaults:{status:""}});return t}),define("plugins/carousel/views/slide/view",["jquery","underscore","backbone","./model"],function(e,t,n,r){var i=n.View.extend({model:r,bindings:{":el":{attributes:[{name:"class",observe:"status"}]}},listeners:{},events:{},initialize:function(){},render:function(){return this.stickit(),this}});return i}),define("plugins/carousel/views/indicator/model",["backbone"],function(e){var t=e.Model.extend({defaults:{status:""}});return t}),define("plugins/carousel/views/indicator/view",["jquery","underscore","backbone","./model"],function(e,t,n,r){var i=n.View.extend({className:"indicator",model:r,bindings:{":el":{attributes:[{name:"class",observe:"status"}]}},listeners:{},events:{click:"triggerRotate"},initialize:function(){},render:function(){return this.stickit(),this},triggerRotate:function(){this.trigger("rotate",this.options.index)}});return i}),define("plugins/carousel/plugin",["jquery","underscore","backbone","modernizr","./model","./views/slide/view","./views/indicator/view"],function(e,t,n,r,i,s,o){var u=n.View.extend({model:i,bindings:{},listeners:{"model change:activeIndex":"slide"},events:{"click [data-previous]":"activatePrevious","click [data-next]":"activateNext",dragend:"activate","keyup[right]":"activateNext","keyup[left]":"activatePrevious"},initialize:function(){t.bindAll(this,"activate","activateNext","activatePrevious")},render:function(){return r.touch&&this.$el.hammer(),this.slides=[],this.indicators=[],this.$indicators=this.$el.find("[data-indicators]"),t.each(this.$el.find("[data-slide]"),function(e,t){var n=(new o({index:t})).render();this.listenTo(n,"rotate",this.activateSlide),this.slides.push((new s({el:e})).render()),this.indicators.push(n),this.$indicators.append(n.$el)},this),this.model.set("activeIndex",0),this},slide:function(e,t){this.slideSlides(e,t),this.slideIndicators(e,t)},slideSlides:function(e,t){var n=this.slides.length-1,r=t<n?t+1:0,i=t>0?t-1:n,s=r<n?r+1:0,o=i>0?i-1:n;this.slides[t].model.set("status","active"),this.slides[r].model.set("status","next"),this.slides[i].model.set("status","previous"),this.slides[s].model.set("status","stage-right"),this.slides[o].model.set("status","stage-left")},slideIndicators:function(e,n){t.each(this.indicators,function(e){e.model.set("status","")}),this.indicators[n].model.set("status","active")},activate:function(e){var t=e.gesture.direction;t==="left"?this.activateNext():this.activatePrevious()},activateNext:function(){this.model.set("activeIndex",this.model.get("activeIndex")<this.slides.length-1?this.model.get("activeIndex")+1:0)},activatePrevious:function(){this.model.set("activeIndex",this.model.get("activeIndex")>0?this.model.get("activeIndex")-1:this.slides.length-1)},activateSlide:function(e){this.model.set("activeIndex",e)}});return u}),define("plugins/channel-filter/model",["backbone"],function(e){var t=e.Model.extend({defaults:{filter:null}});return t}),define("plugins/channel-filter/plugin",["jquery","underscore","backbone","./model"],function(e,t,n,r){var i=n.View.extend({model:r,events:{"change select[data-filter]":"setFilter"},initialize:function(){},render:function(){return this},setFilter:function(e){this.model.set("filter",e.target.value),this.trigger("filterChanged")}});return i}),define("text!plugins/dynamic-ad/template.html",[],function(){return'<div id="{{{slotID}}}" class="ui-ad" data-dfp-{{{slotType}}}-ad-slot="{{{slotName}}}" data-target-name="{{{targetName}}}" data-target-value="{{{targetValue}}}"></div>'}),define("plugins/dynamic-ad/plugin",["jquery","underscore","backbone","template!./template.html","utilities/ads/utility"],function(e,t,n,r,i){var s=n.View.extend({template:r,bindings:{},listeners:{},events:{},options:{slotType:null,slotID:null,slotName:null,targetName:null,targetValue:null},initialize:function(){},render:function(){return t.every(this.options.selectors,function(e){var n=null;if(t.isArray(e)){var r=null;t.every(e,function(e){return r===null?r=this.options.container.find(e):r=n.nextAll(e),r.length>0?(n=r,!0):(n=null,!1)},this)}else n=this.options.container.find(e);return n!==null&&n.length>0?(this.insertAd(n.first()),!1):!0},this),this},insertAd:function(e){e.after(this.template({slotType:this.options.slotType,slotID:this.options.slotID,slotName:this.options.slotName,targetName:this.options.targetName,targetValue:this.options.targetValue})),i.trigger("render")}});return s}),define("plugins/favorite/model",["underscore","backbone"],function(e,t){var n=t.Model.extend({defaults:{status:""}});return n}),define("utilities/user/utility",["jquery","underscore","backbone","utilities/cookies/utility"],function(e,t,n,r){var i=n.Model.extend({defaults:{isLoggedIn:null},render:function(){if(!r.has(this.getAuthCookieName())){this.set("isLoggedIn",!1);return}this.fetch()},url:function(){return this.config.connect.base_url+"me?callback=?"},sync:function(e,r,i){var s={client_id:this.config.connect.client_id,uid_signature:1,lotame_data:1};return i.data=t.extend(s,i.data||{}),t.has(i,"dataType")||(i.dataType="jsonp"),n.sync(e,r,i)},name:function(){return this.get("firstname")+" "+this.get("lastname")},nickname:function(){var e=this.get("firstname"),t=this.get("lastname").substring(0,1)+".";return e+" "+t},initialize:function(){t.bindAll(this,"closePopupWindow"),n.on("connect:login:complete",this.closePopupWindow),this.on("sync",this.updateStatus),this.on("error",this.updateStatus)},updateStatus:function(){this.set("isLoggedIn",this.get("id")?!0:!1)},isLoggedIn:function(){return this.get("isLoggedIn")},login:function(e){var t=this.config.connect.base_url+"authorize?redirect_uri="+encodeURIComponent(this.config.connect.redirectUri);if(!this.isLoggedIn()){switch(e){case"sheknows":break;case"facebook":case"twitter":case"googleplus":t=t+"&x_provider="+e}this.openPopupWindow(t)}},logout:function(){e.ajax({url:"/connect/logout?callback=?",crossDomain:!0,dataType:"jsonp",success:t.bind(this.changeLoggedInStatus,this)})},register:function(){var e=this.config.connect.base_url+"register?redirect_uri="+encodeURIComponent(this.config.connect.redirectUri);this.openPopupWindow(e)},changeLoggedInStatus:function(e){var t=e.type==="success"?!1:!0;this.set("isLoggedIn",t)},openPopupWindow:function(e){this.popupWindow&&this.popupWindow.close(),this.popupWindow=window.open(e,"connect_oauth","width=650, height=525, resizable=no")},closePopupWindow:function(){this.popupWindow.close(),this.popupWindow=null,this.fetch()},getAuthCookieName:function(){return"connect_"+this.config.connect.client_id}});return new i}),define("utilities/favorites/model",["jquery","underscore","backbone"],function(e,t,n){var r=n.Model.extend({url:function(){return"/connect/users/favorites?id="+this.get("contentId")+"&type="+this.get("type")},defaults:{type:null},parse:function(e,t){return t.saved?this.attributes:{id:parseInt(e.contentId),type:e.type,contentId:parseInt(e.contentId)}}});return r}),define("utilities/favorites/collection",["jquery","underscore","backbone","./model"],function(e,t,n,r){var i=n.Collection.extend({model:r,url:"/connect/users/favorites",parse:function(e){return e.response}});return i}),define("utilities/favorites/utility",["jquery","underscore","backbone","utilities/user/utility","./collection"],function(e,t,n,r,i){var s=n.View.extend({events:{},collection:new i,listeners:{checkStatus:"checkStatus","collection add":"added","collection sync":"synced","collection remove":"removed",toggle:"toggleFavorite"},initialize:function(){this.listenTo(r,"change:isLoggedIn",this.reset)},render:function(){return this},toggleFavorite:function(e,t){var i=t==="article"?"userFavoriteArticle":"userFavoriteAuthor";if(r.isLoggedIn()){var s=this.collection.findWhere({contentId:e,type:t});this.trigger("status:"+e+":"+t,"loading"),s?(this.collection.remove(s),s.destroy()):this.collection.create({contentId:e,id:e,type:t},{wait:!0,saved:!0})}else n.trigger("marketing:modal:show",i)},added:function(e){this.trigger("status:"+e.get("contentId")+":"+e.get("type"),"active"),this.trigger("status",e.get("contentId"),e.get("type"),"active")},removed:function(e){this.trigger("status:"+e.get("contentId")+":"+e.get("type"),""),this.trigger("status",e.get("contentId"),e.get("type"),"")},reset:function(){this.collection.each(function(e){this.collection.remove(e)},this),r.isLoggedIn()&&this.collection.fetch()},synced:function(){this.trigger("status:reset")},checkStatus:function(e,t){var n=this.collection.findWhere({contentId:e,type:t});n&&this.trigger("status:"+e+":"+t,"active")}});return new s}),define("plugins/favorite/plugin",["jquery","underscore","backbone","./model","utilities/user/utility","utilities/favorites/utility"],function(e,t,n,r,i,s){var o=n.View.extend({model:r,bindings:{":el":{attributes:[{name:"class",observe:"status"}]}},events:{click:"toggleLike"},initialize:function(){this.listenTo(s,"status:"+this.options.contentId+":"+this.options.type,this.updateStatus),this.listenTo(s,"status:reset",this.reset)},render:function(){return this.options.check&&s.trigger("checkStatus",this.options.contentId,this.options.type),this.stickit(),this},reset:function(){s.trigger("checkStatus",this.options.contentId,this.options.type)},toggleLike:function(e){e.preventDefault(),s.trigger("toggle",this.options.contentId,this.options.type)},updateStatus:function(e){this.model.set("status",e)}});return o}),define("plugins/imager/plugin",["jquery","underscore","backbone","imager"],function(e,t,n,r){var i=n.View.extend({bindings:{},listeners:{},events:{},options:{widths:[340,410,736,800,1e3],ratios:[1,2],lazyload:!0,scrollDelay:250},initialize:function(){},render:function(){return new r(this.$el,{availableWidths:this.options.widths,availablePixelRatios:this.options.ratios,lazyload:this.options.lazyload,scrollDelay:this.options.scrollDelay}),this}});return i}),define("text!plugins/infinite-scroll/loader.html",[],function(){return'<div class="ui-loader"></div>\n'}),define("text!plugins/infinite-scroll/end.html",[],function(){return""}),define("plugins/infinite-scroll/plugin",["jquery","underscore","backbone","template!./loader.html","template!./end.html"],function(e,t,n,r,i){var s=n.View.extend({loader:r,end:i,events:{},listeners:{nearBottom:"nearBottom",reset:"reset",pause:"pause",destroy:"destroy"},options:{padding:500},initialize:function(){t.bindAll(this,"nearBottom","reset","pause")},render:function(){return this.$document=e(document),this.$window=e(window),this.$target=this.options.scrollTarget?e(this.options.scrollTarget):this.$document,this.scrollSpy(),this.$loader=e(this.loader()),this.$end=e(this.end()),this},renderLoader:function(){this.$el.append(this.$loader)},removeLoader:function(){this.$loader.remove()},scrollSpy:function(){var e=this;this.$target.on("scroll.infinte-scroll."+this.cid,function(){e.isNearBottom()&&e.trigger("nearBottom")})},isNearBottom:function(){var e,t;return e=this.$el.outerHeight()+this.$el.offset().top,t=this.$document.scrollTop()+this.$window.height(),e-t<this.options.padding},nearBottom:function(){this.$target.off("scroll.infinte-scroll."+this.cid),this.renderLoader()},reset:function(){this.removeLoader(),this.scrollSpy()},pause:function(){this.$target.off("scroll.infinte-scroll."+this.cid)},destroy:function(){this.$target.off("scroll.infinte-scroll."+this.cid),this.removeLoader(),this.$el.append(this.$end)}});return s}),define("utilities/store/utility",["underscore","backbone","modernizr"],function(e,t,n){var r=t.View.extend({events:{},initialize:function(){},render:function(){return this},local:function(){return n.localStorage},set:function(e,t){try{window.localStorage.setItem(e,JSON.stringify(t))}catch(n){return!1}},get:function(e){return JSON.parse(window.localStorage.getItem(e))},unset:function(e){window.localStorage.removeItem(e)},clear:function(){localStorage.clear()}});return new r}),define("text!plugins/notify/template.html",[],function(){return'<i data-close class="close"></i>\n<div class="message">\n    {{# if (icon) { }}<i class="{{ icon }}"></i>{{# } }} {{# if (message) { }}{{ message }}{{# } }}\n</div>'}),define("plugins/notify/plugin",["jquery","underscore","backbone","utilities/store/utility","template!./template.html"],function(e,t,n,r,i){var s=n.View.extend({template:i,className:"ui-notification cleafix",bindings:{},listeners:{render:"renderHtml",show:"show",hide:"hide"},events:{click:"close"},initialize:function(){},render:function(){return this.setActive(),this.trigger("render"),this},renderHtml:function(){this.$el.html(this.template({icon:this.options.icon,message:this.options.message})),e("body").append(this.$el)},setActive:function(){var e=!0,t;this.options.name&&(t=r.get(this.options.name)||0,this.options.count<=t&&(e=!1)),this.options.isActive=e},trackView:function(){var e=Number(r.get(this.options.name))||0;r.set(this.options.name,e+1)},show:function(){this.options.isActive&&(this.$el.show(),this.trackView())},hide:function(){this.$el.hide()},close:function(){this.options.name&&r.set(this.options.name,this.options.count),this.trigger("hide")}});return s}),define("plugins/reactions/plugin",["jquery","underscore","backbone","gigyaSocialize"],function(e,t,n,r){var i=n.View.extend({initialize:function(){},render:function(){var t=e("#textReactionsDiv");if(!t.length)return;var n=t.data("reaction-id"),i=[{text:"Amazing",ID:"amazing",tooltip:"This is amazing",feedMessage:"Amazing!",headerText:"Your reaction to this post is 'Amazing'"},{text:"Game Changer",ID:"gamechanger",tooltip:"What a game changer",feedMessage:"Game Changer!",headerText:"Your reaction to this post is 'Game Changer'"},{text:"Crushing On You",ID:"crush",tooltip:"Crushing on this",feedMessage:"Crushing on this",headerText:"Your reaction to this post is 'Crushing on This'"},{text:"I Will Try It",ID:"trythis",tooltip:"I will try it",feedMessage:"I will try it!",headerText:"Your reaction to this post is 'I Will Try It'"},{text:"Nailed It",ID:"nailed",tooltip:"Nailed It",feedMessage:"This nailed it!",headerText:"Your reaction to this post is 'Nailed It'"}],s={linkBack:"http://www.gigya.com",title:"This is the post title"},o={barID:n,containerID:"textReactionsDiv",reactions:i,bodyText:"Share it on your favorite social networks:",userAction:s,showCounts:"top",promptShare:!1};return r.socialize.showReactionsBarUI(o),this}});return i}),function(e){"use strict";typeof define=="function"&&define.amd?define("slick",["jquery"],e):e(jQuery)}(function(e){"use strict";var t=window.Slick||{};t=function(){function n(n,r){var i=this,s,o;i.defaults={accessibility:!0,appendArrows:e(n),arrows:!0,asNavFor:null,prevArrow:'<button type="button" data-role="none" class="slick-prev">Previous</button>',nextArrow:'<button type="button" data-role="none" class="slick-next">Next</button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(e,t){return'<button type="button" data-role="none">'+(t+1)+"</button>"},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",fade:!1,focusOnSelect:!1,infinite:!0,lazyLoad:"ondemand",onBeforeChange:null,onAfterChange:null,onInit:null,onReInit:null,pauseOnHover:!0,pauseOnDotsHover:!1,responsive:null,rtl:!1,slide:"div",slidesToShow:1,slidesToScroll:1,speed:300,swipe:!0,touchMove:!0,touchThreshold:5,useCSS:!0,vertical:!1},i.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentSlide:0,currentLeft:null,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,$list:null,touchObject:{},transformsEnabled:!1},e.extend(i,i.initials),i.activeBreakpoint=null,i.animType=null,i.animProp=null,i.breakpoints=[],i.breakpointSettings=[],i.cssTransitions=!1,i.paused=!1,i.positionProp=null,i.$slider=e(n),i.$slidesCache=null,i.transformType=null,i.transitionType=null,i.windowWidth=0,i.windowTimer=null,i.options=e.extend({},i.defaults,r),i.originalSettings=i.options,s=i.options.responsive||null;if(s&&s.length>-1){for(o in s)s.hasOwnProperty(o)&&(i.breakpoints.push(s[o].breakpoint),i.breakpointSettings[s[o].breakpoint]=s[o].settings);i.breakpoints.sort(function(e,t){return t-e})}i.autoPlay=e.proxy(i.autoPlay,i),i.autoPlayClear=e.proxy(i.autoPlayClear,i),i.changeSlide=e.proxy(i.changeSlide,i),i.selectHandler=e.proxy(i.selectHandler,i),i.setPosition=e.proxy(i.setPosition,i),i.swipeHandler=e.proxy(i.swipeHandler,i),i.dragHandler=e.proxy(i.dragHandler,i),i.keyHandler=e.proxy(i.keyHandler,i),i.autoPlayIterator=e.proxy(i.autoPlayIterator,i),i.instanceUid=t++,i.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/,i.init()}var t=0;return n}(),t.prototype.addSlide=function(t,n,r){var i=this;if(typeof n=="boolean")r=n,n=null;else if(n<0||n>=i.slideCount)return!1;i.unload(),typeof n=="number"?n===0&&i.$slides.length===0?e(t).appendTo(i.$slideTrack):r?e(t).insertBefore(i.$slides.eq(n)):e(t).insertAfter(i.$slides.eq(n)):r===!0?e(t).prependTo(i.$slideTrack):e(t).appendTo(i.$slideTrack),i.$slides=i.$slideTrack.children(this.options.slide),i.$slideTrack.children(this.options.slide).detach(),i.$slideTrack.append(i.$slides),i.$slides.each(function(t,n){e(n).attr("index",t)}),i.$slidesCache=i.$slides,i.reinit()},t.prototype.animateSlide=function(t,n){var r={},i=this;i.options.rtl===!0&&i.options.vertical===!1&&(t=-t),i.transformsEnabled===!1?i.options.vertical===!1?i.$slideTrack.animate({left:t},i.options.speed,i.options.easing,n):i.$slideTrack.animate({top:t},i.options.speed,i.options.easing,n):i.cssTransitions===!1?e({animStart:i.currentLeft}).animate({animStart:t},{duration:i.options.speed,easing:i.options.easing,step:function(e){i.options.vertical===!1?(r[i.animType]="translate("+e+"px, 0px)",i.$slideTrack.css(r)):(r[i.animType]="translate(0px,"+e+"px)",i.$slideTrack.css(r))},complete:function(){n&&n.call()}}):(i.applyTransition(),i.options.vertical===!1?r[i.animType]="translate3d("+t+"px, 0px, 0px)":r[i.animType]="translate3d(0px,"+t+"px, 0px)",i.$slideTrack.css(r),n&&setTimeout(function(){i.disableTransition(),n.call()},i.options.speed))},t.prototype.applyTransition=function(e){var t=this,n={};t.options.fade===!1?n[t.transitionType]=t.transformType+" "+t.options.speed+"ms "+t.options.cssEase:n[t.transitionType]="opacity "+t.options.speed+"ms "+t.options.cssEase,t.options.fade===!1?t.$slideTrack.css(n):t.$slides.eq(e).css(n)},t.prototype.autoPlay=function(){var e=this;e.autoPlayTimer&&clearInterval(e.autoPlayTimer),e.slideCount>e.options.slidesToShow&&e.paused!==!0&&(e.autoPlayTimer=setInterval(e.autoPlayIterator,e.options.autoplaySpeed))},t.prototype.autoPlayClear=function(){var e=this;e.autoPlayTimer&&clearInterval(e.autoPlayTimer)},t.prototype.autoPlayIterator=function(){var t=this,n=t.options.asNavFor!=null?e(t.options.asNavFor).getSlick():null;t.options.infinite===!1?t.direction===1?(t.currentSlide+1===t.slideCount-1&&(t.direction=0),t.slideHandler(t.currentSlide+t.options.slidesToScroll),n!=null&&n.slideHandler(n.currentSlide+n.options.slidesToScroll)):(t.currentSlide-1===0&&(t.direction=1),t.slideHandler(t.currentSlide-t.options.slidesToScroll),n!=null&&n.slideHandler(n.currentSlide-n.options.slidesToScroll)):(t.slideHandler(t.currentSlide+t.options.slidesToScroll),n!=null&&n.slideHandler(n.currentSlide+n.options.slidesToScroll))},t.prototype.buildArrows=function(){var t=this;t.options.arrows===!0&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow=e(t.options.prevArrow),t.$nextArrow=e(t.options.nextArrow),t.htmlExpr.test(t.options.prevArrow)&&t.$prevArrow.appendTo(t.options.appendArrows),t.htmlExpr.test(t.options.nextArrow)&&t.$nextArrow.appendTo(t.options.appendArrows),t.options.infinite!==!0&&t.$prevArrow.addClass("slick-disabled"))},t.prototype.buildDots=function(){var t=this,n,r;if(t.options.dots===!0&&t.slideCount>t.options.slidesToShow){r='<ul class="'+t.options.dotsClass+'">';for(n=0;n<=t.getDotCount();n+=1)r+="<li>"+t.options.customPaging.call(this,t,n)+"</li>";r+="</ul>",t.$dots=e(r).appendTo(t.$slider),t.$dots.find("li").first().addClass("slick-active")}},t.prototype.buildOut=function(){var t=this;t.$slides=t.$slider.children(t.options.slide+":not(.slick-cloned)").addClass("slick-slide"),t.slideCount=t.$slides.length,t.$slides.each(function(t,n){e(n).attr("index",t)}),t.$slidesCache=t.$slides,t.$slider.addClass("slick-slider"),t.$slideTrack=t.slideCount===0?e('<div class="slick-track"/>').appendTo(t.$slider):t.$slides.wrapAll('<div class="slick-track"/>').parent(),t.$list=t.$slideTrack.wrap('<div class="slick-list"/>').parent(),t.$slideTrack.css("opacity",0),t.options.centerMode===!0&&(t.options.slidesToScroll=1,t.options.slidesToShow%2===0&&(t.options.slidesToShow=3)),e("img[data-lazy]",t.$slider).not("[src]").addClass("slick-loading"),t.setupInfinite(),t.buildArrows(),t.buildDots(),t.updateDots(),t.options.accessibility===!0&&t.$list.prop("tabIndex",0),t.setSlideClasses(typeof this.currentSlide=="number"?this.currentSlide:0),t.options.draggable===!0&&t.$list.addClass("draggable")},t.prototype.checkResponsive=function(){var t=this,n,r;if(t.originalSettings.responsive&&t.originalSettings.responsive.length>-1&&t.originalSettings.responsive!==null){r=null;for(n in t.breakpoints)t.breakpoints.hasOwnProperty(n)&&e(window).width()<t.breakpoints[n]&&(r=t.breakpoints[n]);r!==null?t.activeBreakpoint!==null?r!==t.activeBreakpoint&&(t.activeBreakpoint=r,t.options=e.extend({},t.options,t.breakpointSettings[r]),t.refresh()):(t.activeBreakpoint=r,t.options=e.extend({},t.options,t.breakpointSettings[r]),t.refresh()):t.activeBreakpoint!==null&&(t.activeBreakpoint=null,t.options=e.extend({},t.options,t.originalSettings),t.refresh())}},t.prototype.changeSlide=function(t){var n=this,r=e(t.target),i=n.options.asNavFor!=null?e(n.options.asNavFor).getSlick():null;r.is("a")&&t.preventDefault();switch(t.data.message){case"previous":n.slideCount>n.options.slidesToShow&&(n.slideHandler(n.currentSlide-n.options.slidesToScroll),i!=null&&i.slideHandler(i.currentSlide-i.options.slidesToScroll));break;case"next":n.slideCount>n.options.slidesToShow&&(n.slideHandler(n.currentSlide+n.options.slidesToScroll),i!=null&&i.slideHandler(i.currentSlide+i.options.slidesToScroll));break;case"index":var s=e(t.target).parent().index()*n.options.slidesToScroll;n.slideHandler(s),i!=null&&i.slideHandler(s);break;default:return!1}},t.prototype.destroy=function(){var t=this;t.autoPlayClear(),t.touchObject={},e(".slick-cloned",t.$slider).remove(),t.$dots&&t.$dots.remove(),t.$prevArrow&&(t.$prevArrow.remove(),t.$nextArrow.remove()),t.$slides.parent().hasClass("slick-track")&&t.$slides.unwrap().unwrap(),t.$slides.removeClass("slick-slide slick-active slick-visible").removeAttr("style"),t.$slider.removeClass("slick-slider"),t.$slider.removeClass("slick-initialized"),t.$list.off(".slick"),e(window).off(".slick-"+t.instanceUid),e(document).off(".slick-"+t.instanceUid)},t.prototype.disableTransition=function(e){var t=this,n={};n[t.transitionType]="",t.options.fade===!1?t.$slideTrack.css(n):t.$slides.eq(e).css(n)},t.prototype.fadeSlide=function(e,t){var n=this;n.cssTransitions===!1?(n.$slides.eq(e).css({zIndex:1e3}),n.$slides.eq(e).animate({opacity:1},n.options.speed,n.options.easing,t)):(n.applyTransition(e),n.$slides.eq(e).css({opacity:1,zIndex:1e3}),t&&setTimeout(function(){n.disableTransition(e),t.call()},n.options.speed))},t.prototype.filterSlides=function(e){var t=this;e!==null&&(t.unload(),t.$slideTrack.children(this.options.slide).detach(),t.$slidesCache.filter(e).appendTo(t.$slideTrack),t.reinit())},t.prototype.getCurrent=function(){var e=this;return e.currentSlide},t.prototype.getDotCount=function(){var e=this,t=0,n=0,r=0,i;i=e.options.infinite===!0?e.slideCount+e.options.slidesToShow-e.options.slidesToScroll:e.slideCount;while(t<i)r++,n+=e.options.slidesToScroll,t=n+e.options.slidesToShow;return r},t.prototype.getLeft=function(e){var t=this,n,r,i=0;return t.slideOffset=0,r=t.$slides.first().outerHeight(),t.options.infinite===!0?(t.slideCount>t.options.slidesToShow&&(t.slideOffset=t.slideWidth*t.options.slidesToShow*-1,i=r*t.options.slidesToShow*-1),t.slideCount%t.options.slidesToScroll!==0&&e+t.options.slidesToScroll>t.slideCount&&t.slideCount>t.options.slidesToShow&&(t.slideOffset=t.slideCount%t.options.slidesToShow*t.slideWidth*-1,i=t.slideCount%t.options.slidesToShow*r*-1)):t.slideCount%t.options.slidesToShow!==0&&e+t.options.slidesToScroll>t.slideCount&&t.slideCount>t.options.slidesToShow&&(t.slideOffset=t.options.slidesToShow*t.slideWidth-t.slideCount%t.options.slidesToShow*t.slideWidth,i=t.slideCount%t.options.slidesToShow*r),t.options.centerMode===!0&&t.options.infinite===!0?t.slideOffset+=t.slideWidth*Math.floor(t.options.slidesToShow/2)-t.slideWidth:t.options.centerMode===!0&&(t.slideOffset+=t.slideWidth*Math.floor(t.options.slidesToShow/2)),t.options.vertical===!1?n=e*t.slideWidth*-1+t.slideOffset:n=e*r*-1+i,n},t.prototype.init=function(){var t=this;e(t.$slider).hasClass("slick-initialized")||(e(t.$slider).addClass("slick-initialized"),t.buildOut(),t.setProps(),t.startLoad(),t.loadSlider(),t.initializeEvents(),t.checkResponsive()),t.options.onInit!==null&&t.options.onInit.call(this,t)},t.prototype.initArrowEvents=function(){var e=this;e.options.arrows===!0&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.on("click.slick",{message:"previous"},e.changeSlide),e.$nextArrow.on("click.slick",{message:"next"},e.changeSlide))},t.prototype.initDotEvents=function(){var t=this;t.options.dots===!0&&t.slideCount>t.options.slidesToShow&&e("li",t.$dots).on("click.slick",{message:"index"},t.changeSlide),t.options.dots===!0&&t.options.pauseOnDotsHover===!0&&t.options.autoplay===!0&&e("li",t.$dots).on("mouseenter.slick",t.autoPlayClear).on("mouseleave.slick",t.autoPlay)},t.prototype.initializeEvents=function(){var t=this;t.initArrowEvents(),t.initDotEvents(),t.$list.on("touchstart.slick mousedown.slick",{action:"start"},t.swipeHandler),t.$list.on("touchmove.slick mousemove.slick",{action:"move"},t.swipeHandler),t.$list.on("touchend.slick mouseup.slick",{action:"end"},t.swipeHandler),t.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},t.swipeHandler),t.options.pauseOnHover===!0&&t.options.autoplay===!0&&(t.$list.on("mouseenter.slick",t.autoPlayClear),t.$list.on("mouseleave.slick",t.autoPlay)),t.options.accessibility===!0&&t.$list.on("keydown.slick",t.keyHandler),t.options.focusOnSelect===!0&&e(t.options.slide,t.$slideTrack).on("click.slick",t.selectHandler),e(window).on("orientationchange.slick.slick-"+t.instanceUid,function(){t.checkResponsive(),t.setPosition()}),e(window).on("resize.slick.slick-"+t.instanceUid,function(){e(window).width()!==t.windowWidth&&(clearTimeout(t.windowDelay),t.windowDelay=window.setTimeout(function(){t.windowWidth=e(window).width(),t.checkResponsive(),t.setPosition()},50))}),e(window).on("load.slick.slick-"+t.instanceUid,t.setPosition),e(document).on("ready.slick.slick-"+t.instanceUid,t.setPosition)},t.prototype.initUI=function(){var e=this;e.options.arrows===!0&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.show(),e.$nextArrow.show()),e.options.dots===!0&&e.slideCount>e.options.slidesToShow&&e.$dots.show(),e.options.autoplay===!0&&e.autoPlay()},t.prototype.keyHandler=function(e){var t=this;e.keyCode===37?t.changeSlide({data:{message:"previous"}}):e.keyCode===39&&t.changeSlide({data:{message:"next"}})},t.prototype.lazyLoad=function(){function o(t){e("img[data-lazy]",t).each(function(){var t=e(this),n=e(this).attr("data-lazy")+"?"+(new Date).getTime();t.load(function(){t.animate({opacity:1},200)}).css({opacity:0}).attr("src",n).removeAttr("data-lazy").removeClass("slick-loading")})}var t=this,n,r,i,s;t.options.centerMode===!0?t.options.infinite===!0?(i=t.currentSlide+(t.options.slidesToShow/2+1),s=i+t.options.slidesToShow+2):(i=Math.max(0,t.currentSlide-(t.options.slidesToShow/2+1)),s=2+(t.options.slidesToShow/2+1)+t.currentSlide):(i=t.options.infinite?t.options.slidesToShow+t.currentSlide:t.currentSlide,s=i+t.options.slidesToShow,t.options.fade===!0&&(i>0&&i--,s<=t.slideCount&&s++)),n=t.$slider.find(".slick-slide").slice(i,s),o(n),t.slideCount==1?(r=t.$slider.find(".slick-slide"),o(r)):t.currentSlide>=t.slideCount-t.options.slidesToShow?(r=t.$slider.find(".slick-cloned").slice(0,t.options.slidesToShow),o(r)):t.currentSlide===0&&(r=t.$slider.find(".slick-cloned").slice(t.options.slidesToShow*-1),o(r))},t.prototype.loadSlider=function(){var e=this;e.setPosition(),e.$slideTrack.css({opacity:1}),e.$slider.removeClass("slick-loading"),e.initUI(),e.options.lazyLoad==="progressive"&&e.progressiveLazyLoad()},t.prototype.postSlide=function(e){var t=this;t.options.onAfterChange!==null&&t.options.onAfterChange.call(this,t,e),t.animating=!1,t.setPosition(),t.swipeLeft=null,t.options.autoplay===!0&&t.paused===!1&&t.autoPlay()},t.prototype.progressiveLazyLoad=function(){var t=this,n,r;n=e("img[data-lazy]").length,n>0&&(r=e("img[data-lazy]",t.$slider).first(),r.attr("src",r.attr("data-lazy")).removeClass("slick-loading").load(function(){r.removeAttr("data-lazy"),t.progressiveLazyLoad()}))},t.prototype.refresh=function(){var t=this,n=t.currentSlide;t.destroy(),e.extend(t,t.initials),t.currentSlide=n,t.init()},t.prototype.reinit=function(){var t=this;t.$slides=t.$slideTrack.children(t.options.slide).addClass("slick-slide"),t.slideCount=t.$slides.length,t.currentSlide>=t.slideCount&&t.currentSlide!==0&&(t.currentSlide=t.currentSlide-t.options.slidesToScroll),t.setProps(),t.setupInfinite(),t.buildArrows(),t.updateArrows(),t.initArrowEvents(),t.buildDots(),t.updateDots(),t.initDotEvents(),t.options.focusOnSelect===!0&&e(t.options.slide,t.$slideTrack).on("click.slick",t.selectHandler),t.setSlideClasses(0),t.setPosition(),t.options.onReInit!==null&&t.options.onReInit.call(this,t)},t.prototype.removeSlide=function(e,t){var n=this;typeof e=="boolean"?(t=e,e=t===!0?0:n.slideCount-1):e=t===!0?--e:e;if(n.slideCount<1||e<0||e>n.slideCount-1)return!1;n.unload(),n.$slideTrack.children(this.options.slide).eq(e).remove(),n.$slides=n.$slideTrack.children(this.options.slide),n.$slideTrack.children(this.options.slide).detach(),n.$slideTrack.append(n.$slides),n.$slidesCache=n.$slides,n.reinit()},t.prototype.setCSS=function(e){var t=this,n={},r,i;t.options.rtl===!0&&(e=-e),r=t.positionProp=="left"?e+"px":"0px",i=t.positionProp=="top"?e+"px":"0px",n[t.positionProp]=e,t.transformsEnabled===!1?t.$slideTrack.css(n):(n={},t.cssTransitions===!1?(n[t.animType]="translate("+r+", "+i+")",t.$slideTrack.css(n)):(n[t.animType]="translate3d("+r+", "+i+", 0px)",t.$slideTrack.css(n)))},t.prototype.setDimensions=function(){var e=this;e.options.vertical===!1?e.options.centerMode===!0&&e.$list.css({padding:"0px "+e.options.centerPadding}):(e.$list.height(e.$slides.first().outerHeight(!0)*e.options.slidesToShow),e.options.centerMode===!0&&e.$list.css({padding:e.options.centerPadding+" 0px"})),e.listWidth=e.$list.width(),e.listHeight=e.$list.height(),e.options.vertical===!1?(e.slideWidth=Math.ceil(e.listWidth/e.options.slidesToShow),e.$slideTrack.width(Math.ceil(e.slideWidth*e.$slideTrack.children(".slick-slide").length))):(e.slideWidth=Math.ceil(e.listWidth),e.$slideTrack.height(Math.ceil(e.$slides.first().outerHeight(!0)*e.$slideTrack.children(".slick-slide").length)));var t=e.$slides.first().outerWidth(!0)-e.$slides.first().width();e.$slideTrack.children(".slick-slide").width(e.slideWidth-t)},t.prototype.setFade=function(){var t=this,n;t.$slides.each(function(r,i){n=t.slideWidth*r*-1,e(i).css({position:"relative",left:n,top:0,zIndex:800,opacity:0})}),t.$slides.eq(t.currentSlide).css({zIndex:900,opacity:1})},t.prototype.setPosition=function(){var e=this;e.setDimensions(),e.options.fade===!1?e.setCSS(e.getLeft(e.currentSlide)):e.setFade()},t.prototype.setProps=function(){var e=this,t=document.body.style;e.positionProp=e.options.vertical===!0?"top":"left",e.positionProp==="top"?e.$slider.addClass("slick-vertical"):e.$slider.removeClass("slick-vertical"),(t.WebkitTransition!==undefined||t.MozTransition!==undefined||t.msTransition!==undefined)&&e.options.useCSS===!0&&(e.cssTransitions=!0),t.OTransform!==undefined&&(e.animType="OTransform",e.transformType="-o-transform",e.transitionType="OTransition",t.perspectiveProperty===undefined&&t.webkitPerspective===undefined&&(e.animType=!1)),t.MozTransform!==undefined&&(e.animType="MozTransform",e.transformType="-moz-transform",e.transitionType="MozTransition",t.perspectiveProperty===undefined&&t.MozPerspective===undefined&&(e.animType=!1)),t.webkitTransform!==undefined&&(e.animType="webkitTransform",e.transformType="-webkit-transform",e.transitionType="webkitTransition",t.perspectiveProperty===undefined&&t.webkitPerspective===undefined&&(e.animType=!1)),t.msTransform!==undefined&&(e.animType="msTransform",e.transformType="-ms-transform",e.transitionType="msTransition",t.msTransform===undefined&&(e.animType=!1)),t.transform!==undefined&&e.animType!==!1&&(e.animType="transform",e.transformType="transform",e.transitionType="transition"),e.transformsEnabled=e.animType!==null&&e.animType!==!1},t.prototype.setSlideClasses=function(e){var t=this,n,r,i,s;t.$slider.find(".slick-slide").removeClass("slick-active").removeClass("slick-center"),r=t.$slider.find(".slick-slide"),t.options.centerMode===!0?(n=Math.floor(t.options.slidesToShow/2),t.options.infinite===!0&&(e>=n&&e<=t.slideCount-1-n?t.$slides.slice(e-n,e+n+1).addClass("slick-active"):(i=t.options.slidesToShow+e,r.slice(i-n+1,i+n+2).addClass("slick-active")),e===0?r.eq(r.length-1-t.options.slidesToShow).addClass("slick-center"):e===t.slideCount-1&&r.eq(t.options.slidesToShow).addClass("slick-center")),t.$slides.eq(e).addClass("slick-center")):e>=0&&e<=t.slideCount-t.options.slidesToShow?t.$slides.slice(e,e+t.options.slidesToShow).addClass("slick-active"):r.length<=t.options.slidesToShow?r.addClass("slick-active"):(s=t.slideCount%t.options.slidesToShow,i=t.options.infinite===!0?t.options.slidesToShow+e:e,t.options.slidesToShow==t.options.slidesToScroll&&t.slideCount-e<t.options.slidesToShow?r.slice(i-(t.options.slidesToShow-s),i+s).addClass("slick-active"):r.slice(i,i+t.options.slidesToShow).addClass("slick-active")),t.options.lazyLoad==="ondemand"&&t.lazyLoad()},t.prototype.setupInfinite=function(){var t=this,n,r,i;if(t.options.fade===!0||t.options.vertical===!0)t.options.centerMode=!1;if(t.options.infinite===!0&&t.options.fade===!1){r=null;if(t.slideCount>t.options.slidesToShow){t.options.centerMode===!0?i=t.options.slidesToShow+1:i=t.options.slidesToShow;for(n=t.slideCount;n>t.slideCount-i;n-=1)r=n-1,e(t.$slides[r]).clone(!0).attr("id","").prependTo(t.$slideTrack).addClass("slick-cloned");for(n=0;n<i;n+=1)r=n,e(t.$slides[r]).clone(!0).attr("id","").appendTo(t.$slideTrack).addClass("slick-cloned");t.$slideTrack.find(".slick-cloned").find("[id]").each(function(){e(this).attr("id","")})}}},t.prototype.selectHandler=function(t){var n=this,r=n.options.asNavFor!=null?e(n.options.asNavFor).getSlick():null,i=parseInt(e(t.target).parent().attr("index"));i||(i=0);if(n.slideCount<=n.options.slidesToShow)return;n.slideHandler(i);if(r!=null){if(r.slideCount<=r.options.slidesToShow)return;r.slideHandler(i)}},t.prototype.slideHandler=function(e){var t,n,r,i,s=null,o=this;if(o.animating===!0)return!1;t=e,s=o.getLeft(t),r=o.getLeft(o.currentSlide),i=o.slideCount%o.options.slidesToScroll!==0?o.options.slidesToScroll:0,o.currentLeft=o.swipeLeft===null?r:o.swipeLeft;if(o.options.infinite===!1&&o.options.centerMode===!1&&(e<0||e>o.slideCount-o.options.slidesToShow+i))return o.options.fade===!1&&(t=o.currentSlide,o.animateSlide(r,function(){o.postSlide(t)})),!1;if(o.options.infinite===!1&&o.options.centerMode===!0&&(e<0||e>o.slideCount-o.options.slidesToScroll))return o.options.fade===!1&&(t=o.currentSlide,o.animateSlide(r,function(){o.postSlide(t)})),!1;o.options.autoplay===!0&&clearInterval(o.autoPlayTimer),t<0?o.slideCount%o.options.slidesToScroll!==0?n=o.slideCount-o.slideCount%o.options.slidesToScroll:n=o.slideCount-o.options.slidesToScroll:t>o.slideCount-1?n=0:n=t,o.animating=!0,o.options.onBeforeChange!==null&&e!==o.currentSlide&&o.options.onBeforeChange.call(this,o,o.currentSlide,n),o.currentSlide=n,o.setSlideClasses(o.currentSlide),o.updateDots(),o.updateArrows();if(o.options.fade===!0)return o.fadeSlide(n,function(){o.postSlide(n)}),!1;o.animateSlide(s,function(){o.postSlide(n)})},t.prototype.startLoad=function(){var e=this;e.options.arrows===!0&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.hide(),e.$nextArrow.hide()),e.options.dots===!0&&e.slideCount>e.options.slidesToShow&&e.$dots.hide(),e.$slider.addClass("slick-loading")},t.prototype.swipeDirection=function(){var e,t,n,r,i=this;return e=i.touchObject.startX-i.touchObject.curX,t=i.touchObject.startY-i.touchObject.curY,n=Math.atan2(t,e),r=Math.round(n*180/Math.PI),r<0&&(r=360-Math.abs(r)),r<=45&&r>=0?"left":r<=360&&r>=315?"left":r>=135&&r<=225?"right":"vertical"},t.prototype.swipeEnd=function(t){var n=this,r=n.options.asNavFor!=null?e(n.options.asNavFor).getSlick():null;n.dragging=!1;if(n.touchObject.curX===undefined)return!1;if(n.touchObject.swipeLength>=n.touchObject.minSwipe){e(t.target).on("click.slick",function(t){t.stopImmediatePropagation(),t.stopPropagation(),t.preventDefault(),e(t.target).off("click.slick")});switch(n.swipeDirection()){case"left":n.slideHandler(n.currentSlide+n.options.slidesToScroll),r!=null&&r.slideHandler(r.currentSlide+r.options.slidesToScroll),n.touchObject={};break;case"right":n.slideHandler(n.currentSlide-n.options.slidesToScroll),r!=null&&r.slideHandler(r.currentSlide-r.options.slidesToScroll),n.touchObject={}}}else n.touchObject.startX!==n.touchObject.curX&&(n.slideHandler(n.currentSlide),r!=null&&r.slideHandler(r.currentSlide),n.touchObject={})},t.prototype.swipeHandler=function(e){var t=this;if(t.options.swipe===!1||"ontouchend"in document&&t.options.swipe===!1)return;if(t.options.draggable===!1||t.options.draggable===!1&&!e.originalEvent.touches)return;t.touchObject.fingerCount=e.originalEvent&&e.originalEvent.touches!==undefined?e.originalEvent.touches.length:1,t.touchObject.minSwipe=t.listWidth/t.options.touchThreshold;switch(e.data.action){case"start":t.swipeStart(e);break;case"move":t.swipeMove(e);break;case"end":t.swipeEnd(e)}},t.prototype.swipeMove=function(e){var t=this,n,r,i,s;s=e.originalEvent!==undefined?e.originalEvent.touches:null,n=t.getLeft(t.currentSlide);if(!t.dragging||s&&s.length!==1)return!1;t.touchObject.curX=s!==undefined?s[0].pageX:e.clientX,t.touchObject.curY=s!==undefined?s[0].pageY:e.clientY,t.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(t.touchObject.curX-t.touchObject.startX,2))),r=t.swipeDirection();if(r==="vertical")return;e.originalEvent!==undefined&&t.touchObject.swipeLength>4&&e.preventDefault(),i=t.touchObject.curX>t.touchObject.startX?1:-1,t.options.vertical===!1?t.swipeLeft=n+t.touchObject.swipeLength*i:t.swipeLeft=n+t.touchObject.swipeLength*(t.$list.height()/t.listWidth)*i;if(t.options.fade===!0||t.options.touchMove===!1)return!1;if(t.animating===!0)return t.swipeLeft=null,!1;t.setCSS(t.swipeLeft)},t.prototype.swipeStart=function(e){var t=this,n;if(t.touchObject.fingerCount!==1||t.slideCount<=t.options.slidesToShow)return t.touchObject={},!1;e.originalEvent!==undefined&&e.originalEvent.touches!==undefined&&(n=e.originalEvent.touches[0]),t.touchObject.startX=t.touchObject.curX=n!==undefined?n.pageX:e.clientX,t.touchObject.startY=t.touchObject.curY=n!==undefined?n.pageY:e.clientY,t.dragging=!0},t.prototype.unfilterSlides=function(){var e=this;e.$slidesCache!==null&&(e.unload(),e.$slideTrack.children(this.options.slide).detach(),e.$slidesCache.appendTo(e.$slideTrack),e.reinit())},t.prototype.unload=function(){var t=this;e(".slick-cloned",t.$slider).remove(),t.$dots&&t.$dots.remove(),t.$prevArrow&&(t.$prevArrow.remove(),t.$nextArrow.remove()),t.$slides.removeClass("slick-slide slick-active slick-visible").removeAttr("style")},t.prototype.updateArrows=function(){var e=this;e.options.arrows===!0&&e.options.infinite!==!0&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.removeClass("slick-disabled"),e.$nextArrow.removeClass("slick-disabled"),e.currentSlide===0?(e.$prevArrow.addClass("slick-disabled"),e.$nextArrow.removeClass("slick-disabled")):e.currentSlide>=e.slideCount-e.options.slidesToShow&&(e.$nextArrow.addClass("slick-disabled"),e.$prevArrow.removeClass("slick-disabled")))},t.prototype.updateDots=function(){var e=this;e.$dots!==null&&(e.$dots.find("li").removeClass("slick-active"),e.$dots.find("li").eq(Math.floor(e.currentSlide/e.options.slidesToScroll)).addClass("slick-active"))},e.fn.slick=function(e){var n=this;return n.each(function(n,r){r.slick=new t(r,e)})},e.fn.slickAdd=function(e,t,n){var r=this;return r.each(function(r,i){i.slick.addSlide(e,t,n)})},e.fn.slickCurrentSlide=function(){var e=this;return e.get(0).slick.getCurrent()},e.fn.slickFilter=function(e){var t=this;return t.each(function(t,n){n.slick.filterSlides(e)})},e.fn.slickGoTo=function(t){var n=this;return n.each(function(n,r){var i=r.slick.options.asNavFor!=null?e(r.slick.options.asNavFor):null;i!=null&&i.slickGoTo(t),r.slick.slideHandler(t)})},e.fn.slickNext=function(){var e=this;return e.each(function(e,t){t.slick.changeSlide({data:{message:"next"}})})},e.fn.slickPause=function(){var e=this;return e.each(function(e,t){t.slick.autoPlayClear(),t.slick.paused=!0})},e.fn.slickPlay=function(){var e=this;return e.each(function(e,t){t.slick.paused=!1,t.slick.autoPlay()})},e.fn.slickPrev=function(){var e=this;return e.each(function(e,t){t.slick.changeSlide({data:{message:"previous"}})})},e.fn.slickRemove=function(e,t){var n=this;return n.each(function(n,r){r.slick.removeSlide(e,t)})},e.fn.slickGetOption=function(e){var t=this;return t.get(0).slick.options[e]},e.fn.slickSetOption=function(e,t,n){var r=this;return r.each(function(r,i){i.slick.options[e]=t,n===!0&&(i.slick.unload(),i.slick.reinit())})},e.fn.slickUnfilter=function(){var e=this;return e.each(function(e,t){t.slick.unfilterSlides()})},e.fn.unslick=function(){var e=this;return e.each(function(e,t){t.slick&&t.slick.destroy()})},e.fn.getSlick=function(){var e=null,t=this;return t.each(function(t,n){e=n.slick}),e}}),define("plugins/slick-carousel/plugin",["jquery","underscore","slick"],function(e,t,n){var r=null,i={};return e.fn.slider=function(t){return e(this).slick(t),r=e(this).getSlick(),e.extend(r,i),r},i={isInitialized:function(){return this.$slider.hasClass("slick-initialized")}},r}),define("utilities/event-tracking/utility",["jquery","underscore","backbone","utilities/user/utility"],function(e,t,n,r){var o=n.View.extend({events:{},listeners:{},initialize:function(){this.listenToOnce(r,"change:isLoggedIn",this.trackLotame)},render:function(){return this.$body=e("body"),this.$nodes=this.$body.find("[data-track]"),t.each(this.$nodes,function(t){var n=e(t);this.setNodeListener(n)},this),this},setNodeListener:function(t){var n=t.data("track");t.bind(n,e.proxy(this.nodeEvent,this))},nodeEvent:function(n){var r=e(n.currentTarget),i=r.data("track-data"),s={};if(i.length>0){var o=i.split(",");t.each(o,function(e){var t=e.split(":");s[t[0]]=t[1]})}i=s,this.track(i)},track:function(e){try{window._trackAnalytics(e)}catch(t){console.log(t)}},trackPageView:function(e){var t={},e=e||{};t.url=e.url||document.location.href,t.name=e.name||null;try{_gaq.push(["_set","page",t.url]),_gaq.push(["_trackPageview"]),t.name!==null&&(s.pageName=t.name,s.eVar2=scUrl,s.t()),COMSCORE.beacon({c1:2,c2:15476338,c3:"",c4:"",c5:"",c6:"",c15:""})}catch(n){}},trackEvent:function(e){var t=e||{};typeof t.category=="undefined"&&(t.category="Event"),typeof t.action=="undefined"&&(t.action="Action"),typeof t.label=="undefined"&&(t.label="Label"),typeof t.value=="undefined"&&(t.value=1),typeof t.noninteraction=="undefined"&&(t.noninteraction=!0);try{_gaq.push(["_trackEvent",t.category,t.action,t.label,t.value,t.noninteraction])}catch(n){}},trackLotame:function(){if(!t.isUndefined(window._cc3408))try{if(r.isLoggedIn()){var e=r.get("id"),n=r.get("userData");window._cc3408.add("tp",e),window._cc3408.add("tpid",e),n&&(window._cc3408.add("age",n.age),window._cc3408.add("gen",n.gender),n.favorites&&n.favorites.interests&&window._cc3408.add("int",n.favorites.interests[i].name))}else window._cc3408.add("tp",null),window._cc3408.add("tpid",null);window._cc3408.bcp()}catch(s){}}});return new o}),define("plugins/social-shares/plugin",["jquery","underscore","backbone","utilities/event-tracking/utility"],function(e,t,n,r){var i,s=n.View.extend({events:{"click [data-share]":"openPopupWindow"},initialize:function(){},render:function(){return this},openPopupWindow:function(t){var n=e(t.currentTarget);t.preventDefault(),i&&i.close(),i=window.open(n.attr("href"),"social_share","width=650, height=525, resizable=no"),r.track({event:"social share",socialNetwork:n.data("track-platform")})}});return s}),define("plugins/zoomable/plugin",["jquery","underscore","backbone","modernizr"],function(e,t,n,r){var i=n.View.extend({bindings:{},listeners:{},events:{pinchin:"onTouchPinchIn",pinchout:"onTouchPinchOut",release:"onTouchRelease",dragstart:"onTouchStartDrag",drag:"onTouchDrag",mousewheel:"onScrollZoom",mousedown:"startMouseDrag"},image:{node:null,fullWidth:null,fullHeight:null,width:null,height:null,offset:{x:0,y:0}},dragPosition:{client:{startX:0,startY:0},image:{startX:0,startY:0}},pinch:{startZoom:0},zoomFactor:1,zoomFactorBefore:null,zoomFactorAdd:null,container:{width:0,height:0},isMouseDragging:!1,initialize:function(){t.bindAll(this,"init","destroy","setContainerSize","zoom","onScrollZoom","onMouseMove","startMouseDrag")},render:function(){return this.$el.addClass("ui-photo-zoomable"),this.image.node=this.$el.find("img").first(),this.image.node.on("load",this.init),this},init:function(){r.touch&&this.$el.hammer(),this.$el.addClass("zoomable"),this.setContainerSize(),this.focusImage(),this.image.node.on("click",function(e){e.stopPropagation()}),e(window).on("resize",this.setContainerSize),e(window).on("orientationchange",this.setContainerSize),e("html, body").on("touchstart touchmove",function(e){e.preventDefault()})},destroy:function(){e(window).off("resize",this.setContainerSize),e(window).off("orientationchange",this.setContainerSize),e("html, body").off("touchstart touchmove")},onTouchPinchIn:function(e){this.pinchZoom(e.gesture.scale,"in")},onTouchPinchOut:function(e){this.pinchZoom(e.gesture.scale/10,"out")},onTouchRelease:function(e){this.pinch.start=0},pinchZoom:function(e,t){this.pinch.start||(this.pinch.start=this.zoomFactor+0),t=="in"&&(e=-(1-e)),this.zoomFactor=this.pinch.start+e*this.zoomFactor,this.zoom()},onTouchStartDrag:function(t){this.dragPosition.client.startX=t.gesture.center.pageX,this.dragPosition.client.startY=t.gesture.center.pageY+e(window).scrollTop(),this.dragPosition.image.startX=this.image.offset.x,this.dragPosition.image.startY=this.image.offset.y},onTouchDrag:function(e){var t=e.gesture.center.pageX,n=e.gesture.center.pageY,r=t-this.dragPosition.client.startX+this.dragPosition.image.startX,i=n-this.dragPosition.client.startY+this.dragPosition.image.startY;this.move(r,i),e.preventDefault()},startMouseDrag:function(t){var n=this;this.dragPosition.client.startX=t.clientX,this.dragPosition.client.startY=t.clientY+e(window).scrollTop(),this.dragPosition.image.startX=this.image.offset.x,this.dragPosition.image.startY=this.image.offset.y,e(window).on("mousemove",this.onMouseMove).one("mouseup",function(){e(window).off("mousemove",n.onMouseMove)})},onMouseMove:function(e){var t=e.clientX,n=e.clientY,r=t-this.dragPosition.client.startX+this.dragPosition.image.startX,i=n-this.dragPosition.client.startY+this.dragPosition.image.startY;this.move(r,i),e.preventDefault()},onScrollZoom:function(e){e.originalEvent.wheelDelta/120>0?this.zoomFactor+=.1:this.zoomFactor-=.1,this.zoom(),this.focusImage(),e.preventDefault()},focusImage:function(){var e=(this.container.width-this.image.width)/2,t=(this.container.height-this.image.height)/2;this.image.node.offset({top:t+this.image.offset.y,left:e+this.image.offset.x})},zoom:function(){this.zoomFactor<1&&(this.zoomFactor=1),this.zoomFactor>this.options.maxZoom&&(this.zoomFactor=this.options.maxZoom);var t=this.image.fullWidth*this.zoomFactor,n=this.image.fullHeight*this.zoomFactor;this.image.node.width(t),this.image.node.height(n),this.image.width=t,this.image.height=n,this.move(this.image.offset.x,this.image.offset.y-e(window).scrollTop())},move:function(t,n){var r=0,i=0;this.container.width<this.image.width&&(r=(this.image.width-this.container.width)/2),t>r?t=r:t<-r&&(t=-r),this.container.height<this.image.height&&(i=(this.image.height-this.container.height)/2),n>i?n=i:n<-i&&(n=-i),this.image.offset.x=t,this.image.offset.y=n+e(window).scrollTop(),this.focusImage()},setContainerSize:function(){this.image.node.css("max-height","100%"),this.image.node.css("max-width","100%"),this.image.node.width("auto"),this.image.node.height("auto"),this.image.fullWidth=this.image.node.width(),this.image.fullHeight=this.image.node.height(),this.image.width=this.image.node.width(),this.image.height=this.image.node.height(),this.image.node.width(this.image.width),this.image.node.height(this.image.height),this.zoomFactor=1,this.image.node.css("max-height","none"),this.image.node.css("max-width","none"),this.container.width=this.$el.width(),this.container.height=this.$el.height(),this.focusImage(),this.zoom()}});return i}),define("utilities/modal/model",["underscore","backbone"],function(e,t){var n=t.Model.extend({defaults:{isOpen:!1}});return n}),define("utilities/modal/utility",["jquery","underscore","backbone","./model"],function(e,t,n,r){var i=n.View.extend({el:"#utility-modal",model:r,listeners:{show:"show",hide:"hide"},events:{"keyup[esc] body":"hide","click [data-backdrop]":"hide","click [data-event]":"triggerEvent"},bindings:{":el":{attributes:[{name:"class",observe:"isOpen",onGet:"setOpenClass"}]}},initialize:function(){t.bindAll(this,"setOpenClass","hide")},render:function(){return this.$body=e("body"),this.$content=this.$el.find("[data-content]"),this.stickit(),this},show:function(e){this.$content.html(e),this.model.set("isOpen",!0)},hide:function(){this.model.set("isOpen",!1),this.$content.empty()},triggerEvent:function(t){t.preventDefault(),this.trigger(e(t.currentTarget).data("event"),t)},setOpenClass:function(e){return e?this.$body.addClass("modal-open"):this.$body.removeClass("modal-open"),e?"is-open":null}});return new i}),define("utilities/track/utility",["jquery","underscore","backbone"],function(e,t,n){var r=n.View.extend({EVENT:{ARTICLE:{VIEW:"article:view"}},listeners:{},events:{},initialize:function(){},render:function(){return this}});return new r}),define("utilities/validation/utility",{isValidEmailAddress:function(e){var t=/^([a-zA-Z0-9_.+\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;return t.test(e)}}),define("apps/base/app",["jquery","underscore","backbone","utilities/user/utility","utilities/ads/utility","utilities/modal/utility"],function(e,t,n,r,i,s){var o=n.App.extend({params:{menu:{value:"",addToUrl:!1},isMenuShowing:{value:!1,addToUrl:!1},isSearchShowing:{value:!1,addToUrl:!1},searchQuery:{value:"",alias:"q"}},initialize:function(){n.on("appular:components:rendered",function(){i.render(),r.render()})},render:function(){return s.render(),n.trigger("appular:app:rendered"),this}});return o}),define("apps/article/app",["jquery","underscore","backbone","apps/base/app","utilities/track/utility","utilities/favorites/utility","utilities/user/utility","utilities/ads/utility","utilities/modal/utility","utilities/event-tracking/utility"],function(e,t,n,r,i,s,o,u,a,f){var l=r.extend({params:{},initialize:function(){n.on("appular:components:rendered",t.once(function(){u.render(),o.render(),s.render()}))},render:function(){return a.render(),f.render(),i.trigger(i.EVENT.ARTICLE.VIEW,this.options.articleId),n.trigger("appular:app:rendered"),this}});return l.prototype.params=t.extend({},r.prototype.params,l.prototype.params),l}),define("apps/content-flow/app",["jquery","underscore","backbone","apps/base/app","utilities/favorites/utility","utilities/user/utility","utilities/ads/utility","utilities/modal/utility","utilities/event-tracking/utility"],function(e,t,n,r,i,s,o,u,a){var f=r.extend({params:{isExpanded:{value:!1,addToUrl:!1}},initialize:function(){n.on("appular:components:rendered",function(){o.render(),s.render(),i.render()})},render:function(){return u.render(),a.render(),n.trigger("appular:app:rendered"),this}});return f.prototype.params=t.extend({},r.prototype.params,f.prototype.params),f}),define("apps/docs/app",["jquery","underscore","backbone"],function(e,t,n){var r=n.App.extend({params:{view:{value:"libraries",alias:"v"}},initialize:function(){},render:function(){return n.trigger("appular:app:rendered"),this}});return r}),define("apps/homepage/app",["jquery","underscore","backbone","apps/base/app","utilities/favorites/utility","utilities/user/utility","utilities/ads/utility","utilities/modal/utility","utilities/event-tracking/utility"],function(e,t,n,r,i,s,o,u,a){var f=r.extend({params:{},initialize:function(){n.on("appular:components:rendered",t.once(function(){o.render(),s.render(),i.render()}))},render:function(){return u.render(),a.render(),n.trigger("appular:app:rendered"),this}});return f.prototype.params=t.extend({},r.prototype.params,f.prototype.params),f}),define("apps/slideshow/app",["jquery","underscore","backbone","apps/base/app","utilities/favorites/utility","utilities/user/utility","utilities/ads/utility","utilities/modal/utility","utilities/event-tracking/utility"],function(e,t,n,r,i,s,o,u,a){var f=r.extend({params:{isExpanded:{value:!1,addToUrl:!1}},initialize:function(){n.on("appular:components:rendered",function(){o.render(),s.render(),i.render()})},render:function(){return u.render(),a.render(),n.trigger("appular:app:rendered"),this}});return f.prototype.params=t.extend({},r.prototype.params,f.prototype.params),f}),define("components/article/views/author/view",["jquery","underscore","backbone"],function(e,t,n){var r=n.View.extend({listeners:{},events:{"click [data-expand]":"toggleBio"},initialize:function(){},render:function(){return this.$bio=this.$el.find("[data-bio]"),this},toggleBio:function(){this.$bio.slideToggle(),this.$el.toggleClass("is-open")}});return r}),define("components/article/views/related/model",["jquery","underscore","backbone"],function(e,t,n){var r=n.Model.extend({defaults:{isInView:!1}});return r}),define("components/article/views/related/view",["jquery","underscore","backbone","./model"],function(e,t,n,r){var i=n.View.extend({model:r,listeners:{},events:{"click [data-expand]":"toggleBio"},initialize:function(){t.bindAll(this,"scrollSpy")},render:function(){return e(window).scroll(this.scrollSpy),this.scrolltop=document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop,this.viewportHeight=this.getViewportHeight(),this},scrollSpy:function(){var e=this.$el.offset().top,t=document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop,n=this.$el.height(),r=this.model.get("isInView");t>e+n||t+this.viewportHeight<e?r&&this.model.set("isInView",!1):t<e+n&&(r||this.model.set("isInView",!0))},getViewportHeight:function(){var t=window.innerHeight,n=document.compatMode;if(n||!e.support.boxModel)t=n==="CSS1Compat"?document.documentElement.clientHeight:document.body.clientHeight;return t}});return i}),define("components/article/views/social-counters/view",["jquery","underscore","backbone","gigyaSocialize"],function(e,t,n,r){var i=n.View.extend({$buzzCount:null,$socialCount:null,listeners:{},events:{"click .comment-counter":"gotoComments"},initialize:function(){this.socialActivity={buzz:0,commentCount:0,socialShares:0,commentsSet:!1,socialSet:!1}},render:function(){return this.$commentCounter=this.$el.find(".comment-counter"),this.$commentCount=this.$el.find("[data-comment-count]"),this.$buzzCounter=this.$el.find(".buzz-counter"),this.$buzzCount=this.$el.find("[data-buzz-count]"),this.setSocialShares(),this.setCommentCount(),this},setSocialShares:function(){var e=this,t=e.el.getAttribute("data-sharing-url"),n={enabledProviders:"facebook,twitter,pinterest,stumbleupon",facebookURL:t,twitterURL:t,pinterestURL:t,stumbleuponURL:t,callback:function(t){var n=t.shareCounts,r=n.facebook,i=n.pinterest,s=n.twitter,o=n.twitter;e.socialActivity.socialShares=r+i+s+o,e.socialActivity.buzz+=e.socialActivity.socialShares,e.socialActivity.socialSet=!0,e.setBuzz(),this.socialShares=t},context:{component:"article"},cacheTimeout:3e3};r.socialize.getProviderShareCounts(n)},setCommentCount:function(){var e=this.el.getAttribute("data-content-id"),t=this.el.getAttribute("data-content-type"),n=this.el.getAttribute("data-client-id"),i=n+":"+t+":"+e,s=this,o={categoryID:t,streamID:i,threadLimit:1e6,includeStreamInfo:!0,callback:function(e){s.$commentCount.show(),s.socialActivity.commentCount=e.commentCount,s.socialActivity.buzz+=s.socialActivity.commentCount,s.socialActivity.commentsSet=!0,s.setBuzz()}};r.comments.getComments(o)},setBuzz:function(){if(this.socialActivity.commentsSet){if(this.socialActivity.commentCount>=2){var e=Number(this.socialActivity.commentCount).toLocaleString("en");this.$commentCount.text(e+" comments")}else this.$commentCount.text("Comment Now");this.$commentCounter.show()}if(this.socialActivity.commentsSet&&this.socialActivity.socialSet&&this.socialActivity.buzz>=30){var t=Number(this.socialActivity.buzz).toLocaleString("en");this.$buzzCount.text(t),this.$buzzCounter.show()}},gotoComments:function(){var t=e(".ui-comments").offset().top;e("html,body").scrollTop(t)}});return i}),define("components/article/component",["jquery","underscore","backbone","./views/author/view","./views/related/view","./views/social-counters/view","plugins/reactions/plugin","plugins/imager/plugin","plugins/dynamic-ad/plugin","plugins/notify/plugin","plugins/favorite/plugin","plugins/social-shares/plugin"],function(e,t,n,r,i,s,o,u,a,f,l,c){var h=n.View.extend({initialize:function(){},events:{"click .print-content":"printContent"},render:function(){this.plugins.featuredImage=(new u({el:this.$el.find("[data-featured-image]")})).render(),this.plugins.dynamicAd=(new a({container:this.$el.find("[data-article-body]"),selectors:["[in-read-native]","p:nth-of-type(3)","p:last","div:last"],slotType:"oop",slotID:"dfp-in-read-native",slotName:"content-belt-2",targetName:"pos",targetValue:"btf,content-belt"})).render(),this.plugins.socialShares=(new c({el:this.$el.find("#article-social-shares")})).render(),this.plugins.reactions=(new o({el:this.$el.find("[data-reactions]")})).render(),this.views.author=(new r({el:this.$el.find("[data-author]")})).render(),this.views.socialCounters=(new s({el:this.$el.find("[data-social-counters]")})).render();var t="innerHeight"in window?window.innerHeight:document.documentElement.offsetHeight;if(t<800){var n=this.$el.find("[data-previous-article-nav]"),i=this.$el.find("[data-next-article-nav]"),f=t-310;n.css("top",f+"px"),i.css("top",f+"px")}return this.$el.find("[data-favorite]").each(function(t,n){var r=e(n);(new l({el:r,contentId:r.data("contentId"),type:r.data("type")})).render()}),this.options.next=this.$el.find("[data-next-article]").attr("href"),this.options.previous=this.$el.find("[data-previous-article]").attr("href"),this},printContent:function(){window.print()}});return h}),define("components/author/views/about/view",["jquery","underscore","backbone"],function(e,t,n){var r=n.View.extend({listeners:{},events:{"click [data-expand]":"toggleBio"},initialize:function(){},render:function(){return this.$more=this.$el.find("[data-more]"),this},toggleBio:function(){this.$more.slideToggle(),this.$el.toggleClass("is-open")}});return r}),define("components/author/component",["jquery","underscore","backbone","./views/about/view","plugins/favorite/plugin"],function(e,t,n,r,i){var s=n.View.extend({events:{},initialize:function(){},render:function(){return this.views.about=(new r({el:this.$el.find("[data-about]")})).render(),this.$el.find("[data-favorite]").each(function(t,n){var r=e(n);(new i({el:r,contentId:r.data("contentId"),type:r.data("type")})).render()}),this}});return s}),define("components/channel-filter/views/toggle/view",["jquery","underscore","backbone"],function(e,t,n){var r=n.View.extend({events:{click:"setExpanded"},bindings:{":el":{attributes:[{name:"class",observe:"value",onGet:"setActiveClass"}]}},initialize:function(){},render:function(){return this.stickit(this.app.get("isExpanded",!0)),this},setExpanded:function(){this.app.set("isExpanded",!this.app.get("isExpanded"))},setActiveClass:function(e){return e?"active":null}});return r}),define("components/channel-filter/component",["jquery","underscore","backbone","./views/toggle/view"],function(e,t,n,r){var i=n.View.extend({events:{"change select[data-filter]":"setLocation"},listeners:{"model change:location":"updateLocation"},render:function(){return this.views.related=(new r({el:this.$el.find("[data-toggle]"),app:this.app})).render(),this},setLocation:function(t){var n=e(t.target).find("option:selected").val();this.model.set("location",n)},updateLocation:function(){window.location=this.model.get("location")}});return i}),define("components/commenting/component",["jquery","underscore","backbone","gigyaSocialize","utilities/user/utility"],function(e,t,n,r,i){var s=n.View.extend({defaults:{contentType:"articles"},render:function(){if(!this.$el.attr("id"))throw new Error("component node must have an id attribute to work with the gigya.socialize API.");r.socialize.addEventHandlers({onLogout:e.proxy(this.handleSocializeLogout,this)}),i.on("change:isLoggedIn",this.processUserInfo,this)},renderComments:function(){var e={categoryID:this.options.contentType,streamID:this.getStreamID(),containerID:this.$el.attr("id"),cid:"",enabledShareProviders:"facebook,twitter,yahoo",version:2,deviceType:"auto",hideShareButtons:!0,showLoginBar:!0,width:!1};r.comments.showCommentsUI(e)},handleSocializeLogout:function(){i.logout(),this.renderComments()},getStreamID:function(){return this.config.connect.client_id+":"+this.options.contentType+":"+this.options.contentId},startLoginFlow:function(){var e;if(i.isLoggedIn()&&i.get("signature")){r.socialize.notifyLogin({siteUID:i.get("id"),UIDTimestamp:i.get("timestamp"),UIDSig:i.get("signature"),callback:t.bind(this.renderComments,this)});return}i.login()},processUserInfo:function(){var e=this;r.socialize.getUserInfo({callback:function(n){n.errorCode===0?n.user.UID===""&&i.get("signature")?r.socialize.notifyLogin({siteUID:i.get("id"),UIDTimestamp:i.get("timestamp"),UIDSig:i.get("signature"),callback:t.bind(e.renderComments,e),userInfo:{nickname:i.nickname(),thumbnailURL:i.get("avatar"),firstName:i.get("firstname"),lastName:i.get("lastname"),email:i.get("email")}}):e.renderComments():r.socialize.notifyLogin()}})}});return s}),define("components/content-flow/model",["jquery","underscore","backbone"],function(e,t,n){var r=n.Model.extend({defaults:{page:1,limit:10,lastDate:null,featured:!0,description:!0,social:!0,readMore:!0,meta:!0,syncOnRender:!1,ads:!0,module:!1,excludeIds:[]},url:function(){var t=this.options.pageUrl,n={page:this.get("page"),limit:this.get("limit"),lastDate:this.get("lastDate"),featured:this.get("featured"),description:this.get("description"),social:this.get("social"),read_more:this.get("readMore"),meta:this.get("meta"),ads:this.get("ads"),module:this.get("module"),excludeIds:this.get("excludeIds")};return t+=".json?"+e.param(n),t},parse:function(e){return e.response}});return r}),define("components/content-flow/component",["jquery","underscore","backbone","./model","plugins/imager/plugin","plugins/infinite-scroll/plugin","plugins/carousel/plugin","plugins/favorite/plugin","plugins/channel-filter/plugin","plugins/social-shares/plugin","utilities/favorites/utility","utilities/ads/utility","utilities/event-tracking/utility"],function(e,t,n,r,i,s,o,u,a,f,l,c,h){var p=n.View.extend({model:r,listeners:{"model request":"setLoading","model sync":"renderContent"},events:{},plugins:{},bindings:{":el":{attributes:[{name:"class",observe:"value",onGet:"setExpandedClass"}]}},render:function(){this.$container=this.$el.find("[data-container]:first");if(!this.$container.length)throw new Error("data-container node not found.");var n={};return t.each(["page","limit","featured","description","social","readMore","meta","syncOnRender","ads","module","excludeIds"],function(e,r){n[e]=t.isUndefined(this.options[e])?this.model.get(e):this.options[e]},this),this.model.set(n),this.$el.find("[data-carousel]").length>0&&(this.plugins.carousel=(new o({el:e("[data-carousel]"),app:this.app})).render()),this.options.infiniteScroll!==!1&&(this.plugins.infiniteScroll=(new s({el:this.$container,scrollTarget:window})).render(),this.listenTo(this.plugins.infiniteScroll,"nearBottom",this.getNextPage)),this.stickit(this.app.get("isExpanded",!0)),this.options.syncOnRender&&this.model.fetch(),this.plugins.socialShares=(new f({el:this.$el})).render(),this.$el.find("[data-article-image]").each(function(e,t){(new i({el:t})).render()}),this.$el.find("[data-favorite]").each(function(t,n){var r=e(n);(new u({el:r,contentId:r.data("content-id"),type:r.data("type")})).render()}),e("[data-channel-filter]").length>0&&(this.plugins.channelFilter=(new a({el:this.$el.find("[data-channel-filter]")})).render(),this.listenTo(this.plugins.channelFilter,"filterChanged",function(){var e=this.plugins.channelFilter.model.get("filter");this.changeFeed(e)})),this.listenTo(l,"status",this.updateFavoriteStatus),this.$el.data("fire-page-view")&&this.listenTo(this.model,"sync",this.firePageView),this},toggleLoading:function(e){e===!0?(this.$el.find("select").prop("disabled",!0),this.$el.addClass("loading")):(this.$el.find("select").prop("disabled",!1),this.$el.removeClass("loading"))},renderContent:function(){var t=this.model.get("count"),n=this.model.get("html"),r;this.toggleLoading(!1),this.options.clearOnSync===!0&&this.$container.empty();if(n){r=e(n),r.find("[data-article-image]").each(function(e,t){(new i({el:t})).render()}),r.find("[data-favorite]").each(function(t,n){var r=e(n);(new u({el:r,contentId:r.data("content-id"),type:r.data("type"),check:!0})).render()}),this.$container.append(r),this.options.infiniteScroll!==!1&&this.plugins.infiniteScroll.trigger("reset"),this.$el.removeClass("no-content");var s=function(){googletag.pubads().clearTargeting("amznslots"),amznads.setTargetingForGPTAsync("amznslots"),c.trigger("render")};try{amznads.getAdsCallback("3161",s)}catch(o){c.trigger("render")}}t===0&&(this.options.infiniteScroll=!1,this.plugins.infiniteScroll&&this.plugins.infiniteScroll.trigger("destroy"),this.$el.addClass("no-content"))},getNextPage:function(){this.model.set("page",this.model.get("page")+1),this.model.fetch()},firePageView:function(){h.trackPageView({url:document.location.href+"/page:"+this.model.get("page"),name:document.title+" page:"+this.model.get("page")})},setExpandedClass:function(e){return e?"expanded":null},changeFeed:function(e){this.model.options.pageUrl=e,this.resetFeed()},resetFeed:function(){this.toggleLoading(!0),this.model.fetch()},updateFavoriteStatus:function(e,t,n){var r='[data-favorite-id="'+e+'"][data-favorite-type="'+t+'"]';this.$el.find(r).toggleClass("inactive",n!=="active")}});return p}),define("components/docs/docs",{apps:[{path:"apps/_boilerplate/app.js",name:"boilerplate",version:"",description:"",define:"apps/_boilerplate/app"},{path:"apps/article/app.js",name:"article",version:"",description:"",define:"apps/article/app"},{path:"apps/content-flow/app.js",name:"boilerplate",version:"",description:"",define:"apps/content-flow/app"},{path:"apps/default/app.js",name:"default",version:"",description:"",define:"apps/default/app"},{path:"apps/docs/app.js",name:"docs",version:"",description:"",define:"apps/docs/app"}],components:[{path:"components/_boilerplate/component.js",name:"boilerplate",version:"",description:"",define:"components/_boilerplate/component"},{path:"components/article/component.js",name:"article",version:"",description:"",define:"components/article/component"},{path:"components/channel-filter/component.js",name:"channel-filter",version:"",description:"",define:"components/channel-filter/component",extras:{views:[{path:"components/channel-filter/views/toggle/view.js",name:"boilerplate",version:"",description:"",define:"components/channel-filter/views/toggle/view"}]}},{path:"components/content-flow/component.js",name:"content-flow",version:"",description:"",define:"components/content-flow/component"},{path:"components/docs/component.js",name:"docs",version:"",description:"displays documentation from json generated by grunt-appular-docs",define:"components/docs/component"},{path:"components/header/component.js",name:"header",version:"v0.0.1",description:"",define:"components/header/component"},{path:"components/heart/component.js",name:"boilerplate",version:"",description:"",define:"components/heart/component"},{path:"components/menu-nav/component.js",name:"menu-nav",version:"",description:"",define:"components/menu-nav/component"},{path:"components/newsletter-channel-sign-up/component.js",name:"boilerplate",version:"",description:"",define:"components/newsletter-channel-sign-up/component"},{name:"newsletter-channel-sign-up",extras:{views:[{path:"components/newsletter-channel-sign-up/views/form/view.js",name:"boilerplate",version:"",description:"",define:"components/newsletter-channel-sign-up/views/form/view"}]}},{path:"components/page/component.js",name:"page",version:"",description:"",define:"components/page/component"},{path:"components/register/component.js",name:"boilerplate",version:"",description:"",define:"components/register/component"}],libraries:[{path:"libraries/appular/appular-4.0.0.js",name:"appular",version:"v4.0.0",description:"",link:"https://github.com/adamwdraper/Appular",define:"appular",extras:{extensions:[{path:"libraries/appular/extensions/app/app.js",name:"app",version:"",description:"",define:"libraries/appular/extensions/app/app",functions:[{path:"libraries/appular/extensions/app/app.js",name:"get",description:"shortcut to get params's value"},{path:"libraries/appular/extensions/app/app.js",name:"set",description:"shortcut to set param's value"}]},{path:"libraries/appular/extensions/backbone/backbone.js",name:"app",version:"",description:"",define:"libraries/appular/extensions/backbone/backbone"}]}},{path:"libraries/backbone/backbone-1.1.2.js",name:"backbone",version:"v1.1.2",description:"",link:"http://backbonejs.org/",define:"backbone",extras:{extensions:[{path:"libraries/backbone/extensions/stickit.js",name:"stickit",version:"",description:"",define:"backboneStickit",link:"http://nytimes.github.io/backbone.stickit/"}]}},{name:"jquery",extras:{extensions:[{path:"libraries/jquery/extensions/functions.js",name:"functions",version:"",description:"",define:"jqueryFunctions",functions:[{path:"libraries/jquery/extensions/functions.js",name:"toggleText",description:"toogles the text of an element between two values",params:[{name:"value1",type:"string",description:"",isOptional:!1},{name:"value1",type:"string",description:"",isOptional:!1}]}]}]},path:"libraries/jquery/jquery-2.1.0.js",version:"v2.1.0",description:"",link:"http://jquery.com/",define:"jquery"},{path:"libraries/moment/moment-2.4.0.js",name:"moment",version:"v2.0.0",description:"",link:"http://momentjs.com/",define:"moment"},{path:"libraries/numeral/numeral-1.5.2.js",name:"numeral",version:"v1.5.2",description:"",link:"http://numeraljs.com/",define:"numeral"},{name:"require",extras:{plugins:[{path:"libraries/require/plugins/domReady.js",name:"domReady",version:"v2.0.1",description:"execute after dom is ready",define:"domReady!"},{path:"libraries/require/plugins/json.js",name:"json",version:"v0.3.0",description:"include file as json",define:"json!"},{path:"libraries/require/plugins/text.js",name:"text",version:"v2.0.9",description:"include file as text",define:"text!"}]},path:"libraries/require/require-2.1.10.js",version:"v2.1.10",description:"",link:"http://requirejs.org/",define:"libraries/require/require-2.1.10"},{path:"libraries/underscore/underscore-1.6.0.js",name:"underscore",version:"v1.6.0",description:"",link:"hhttp://underscorejs.org/",define:"underscore"}],plugins:[{path:"plugins/_boilerplate/plugin.js",name:"plugin",version:"",description:"",define:"plugins/_boilerplate/plugin"},{path:"plugins/accordion/plugin.js",name:"plugin",version:"",description:"",define:"plugins/accordion/plugin"},{name:"accordion",extras:{views:[{path:"plugins/accordion/views/section/view.js",name:"plugin",version:"",description:"",define:"plugins/accordion/views/section/view"}]}},{path:"plugins/carousel/plugin.js",name:"plugin",version:"",description:"",define:"plugins/carousel/plugin"},{name:"carousel",extras:{views:[{path:"plugins/carousel/views/indicator/view.js",name:"plugin",version:"",description:"",define:"plugins/carousel/views/indicator/view"},{path:"plugins/carousel/views/slide/view.js",name:"plugin",version:"",description:"",define:"plugins/carousel/views/slide/view"}]}},{path:"plugins/native-ad/plugin.js",name:"plugin",version:"",description:"",define:"plugins/native-ad/plugin"},{path:"plugins/notify/plugin.js",name:"notify",version:"",description:"",define:"plugins/notify/plugin"}]}),define("components/docs/model",["jquery","underscore","backbone","./docs"],function(e,t,n,r){var i=n.Model.extend({defaults:{docs:r,view:""}});return i}),define("text!components/docs/views/nav/template.html",[],function(){return'<ul class="menu">\n    {{# _.each(docs, function (value, key) { }}\n    <li data-link="{{ key }}" class="item">\n        {{ key }}\n    </li>\n    {{# }); }}\n</ul>'}),define("components/docs/views/nav/view",["jquery","underscore","backbone","template!./template.html"],function(e,t,n,r){var i=n.View.extend({template:r,events:{"click [data-link]":"updateDocType"},initialize:function(){t.bindAll(this,"updateDocType")},render:function(){return this.$el.html(this.template({docs:this.model.get("docs")})),this},updateDocType:function(t){this.model.set("view",e(t.currentTarget).data("link")),t.preventDefault()}});return i}),define("text!components/docs/views/docs/template.html",[],function(){return'<div class="section">\n    <div class="header">\n        <h1>{{ type }}</h1>\n    </div>\n    <div class="contents">\n        {{# _.each(docs, function (doc) {\n            doc.templates = templates;\n            doc.jsRepoUrl = jsRepoUrl;\n\n            print(templates.doc(doc));\n        }); }}\n    </div>\n</div>'}),define("text!components/docs/views/docs/templates/function.html",[],function(){return"<div class=\"function\">\n    <p>\n        <span>{{ name }}</span> - {{ description }}\n    </p>\n    {{# if (typeof params !== 'undefined') { }}\n    <p>Paramaters</p>\n    <ul>\n        {{# _.each(params, function (param) { }}\n        <li>\n            <span>{{ param.name }}</span> - {{ param.description }}\n        </li>\n        {{# }); }}\n    </ul>\n    {{# } }}\n    {{# if (typeof returns !== 'undefined') { }}\n    <p>Returns</p>\n    <ul>\n        <li>\n            <span>{{ returns.name }}</span> - {{ returns.description }}\n        </li>\n    </ul>\n    {{# } }}\n</div>"}),define("text!components/docs/views/docs/templates/event.html",[],function(){return'<div class="event">\n    <p>\n        <span>{{ name }}</span> - {{ description }}\n    </p>\n</div>'}),define("text!components/docs/views/docs/templates/doc.html",[],function(){return'<div class="content">\n    <p class="title">\n        {{# if (typeof link !== \'undefined\') { }}\n        <a href="{{ link }}" class="name">{{ name }}</a>\n        {{# } else { }}\n        <span class="name">{{ name }}</span>\n        {{# } }}\n        {{# if (typeof version !== \'undefined\') { }}\n        <span class="version">{{ version }}</span>\n        {{# } }}\n        <span class="define">define( {{ define }} )</span>\n    </p>\n    {{# if (typeof description !== \'undefined\') { }}\n    <p class="description">\n        {{ description }}\n    </p>\n    {{# } }}\n    <p>\n        <a href="{{ jsRepoUrl }}/js/dev/{{ path }}" target="_blank">View Code</a>\n    </p>\n    {{# if (typeof events !== \'undefined\') { }}\n    <h4>Events</h4>\n    {{# _.each(events, function (e) {\n        print(templates.e(e));\n    }); }} \n    {{# } }}\n    {{# if (typeof functions !== \'undefined\') { }}\n    <h4>Functions</h4>\n    {{# _.each(functions, function (func) {\n        print(templates.func(func));\n    }); }} \n    {{# } }}\n    {{# if (typeof extras !== \'undefined\') {\n    _.each(extras, function (extra, key) { }}\n        <h4>{{ key }}</h4>\n        {{# \n        _.each(extra, function (ext, key) {\n            ext.templates = templates;\n            ext.jsRepoUrl = jsRepoUrl;\n            print(templates.doc(ext));\n        }); \n    }); }} \n    {{# } }}\n</div>'}),define("components/docs/views/docs/view",["jquery","underscore","backbone","template!./template.html","template!./templates/function.html","template!./templates/event.html","template!./templates/doc.html"],function(e,t,n,r,i,s,o){var u=n.View.extend({template:r,events:{},initialize:function(){},render:function(){return this.$el.html(this.template({type:this.model.get("view"),docs:this.model.get("docs")[this.model.get("view")],templates:{func:i,e:s,doc:o},jsRepoUrl:"https://github.com/adamwdraper/appular-express-app/blob/master/public"})),this}});return u}),define("text!components/docs/template.html",[],function(){return'<div id="module-docs-nav"></div>\n<div id="module-docs-docs"></div>'}),define("components/docs/component",["jquery","underscore","backbone","./model","./views/nav/view","./views/docs/view","template!./template.html"],function(e,t,n,r,i,s,o){var u=n.View.extend({model:new r,template:o,listeners:{"model change:view":"updateView","app change:view":"render"},events:{},initialize:function(){this.model.set({view:this.app.get("view")},{silent:!0})},render:function(){return this.$el.html(this.template()),this.views.nav=(new i({el:"#module-docs-nav",model:this.model})).render(),this.views.docs=(new s({el:"#module-docs-docs",model:this.model})).render(),this},updateView:function(){this.app.set("view",this.model.get("view"))}});return u}),define("components/experts-right-rail-featured/model",["jquery","underscore","backbone"],function(e,t,n){var r=n.Model.extend({url:"/api/module",parse:function(e){return e.response}});return r}),define("components/experts-right-rail-featured/component",["jquery","underscore","backbone","plugins/favorite/plugin","utilities/favorites/utility","./model","utilities/event-tracking/utility"],function(e,t,n,r,i,s,o){var u=n.View.extend({model:s,listeners:{"model sync":"renderHtml"},options:{id:"experts-right-rail-featured"},events:{},initialize:function(){},render:function(){return this.model.fetch({data:{id:this.options.id,data:{channel:this.options.channel}}}),this},renderHtml:function(){this.$el.html(this.model.get("html")),this.$el.find("[data-favorite]").each(function(t,n){var i=e(n);(new r({el:i,contentId:i.data("content-id"),type:i.data("type")})).render()}),this.listenTo(i,"status",this.updateFavoriteStatus),this.$el.find("[data-track-platform]").each(function(t,n){var r=e(n),i=r.data("track-platform");r.on("click",function(){o.track({event:"experts featured right rail",followType:i,followLocation:"right rail"})})})},updateFavoriteStatus:function(e,t,n){var r='[data-favorite-id="'+e+'"][data-favorite-type="'+t+'"]';this.$el.find(r).toggleClass("inactive",n!=="active")}});return u}),define("components/experts-signup/model",["jquery","underscore","backbone"],function(e,t,n){var r=n.Model.extend({url:"/api/module",parse:function(e){return e.response}});return r}),define("components/experts-signup/component",["jquery","underscore","backbone","./model","utilities/event-tracking/utility"],function(e,t,n,r,i){var s=n.View.extend({model:r,listeners:{"model sync":"renderHtml"},options:{id:"experts-right-rail-sign-up"},events:{},initialize:function(){},render:function(){return this.model.fetch({data:{id:this.options.id,data:{channel:this.options.channel}}}),this},renderHtml:function(){this.$el.html(this.model.get("html")),this.$el.find("[data-track-platform]").each(function(t,n){var r=e(n),s=r.data("track-platform");r.on("click",function(){i.track({event:"experts sign up",followType:s,followLocation:"right rail"})})})}});return s}),define("components/featured-program/component",["jquery","underscore","backbone","plugins/social-shares/plugin"],function(e,t,n,r){var i=n.View.extend({events:{},initialize:function(){},render:function(){return this.plugins.socialShares=(new r({el:this.$el.find("#featured-program-social-shares")})).render(),this}});return i}),define("components/featured-program-group/component",["jquery","underscore","backbone","plugins/imager/plugin"],function(e,t,n,r){var i=n.View.extend({listeners:{},events:{},plugins:{},render:function(){return this.$el.find("[data-article-image]").each(function(e,t){(new r({el:t})).render()}),this}});return i}),define("components/feed/component",["jquery","underscore","backbone","modernizr"],function(e,t,n,r){var i=n.View.extend({events:{},initialize:function(){t.bindAll(this,"scroll")},render:function(){return r.history&&(this.options.pathname=window.location.pathname,this.options.title=document.title,this.config.cake&&(this.options.channel={uri:this.config.cake.channel.url_name,title:this.config.cake.channel.title}),this.$window=e(window),this.$window.on("scroll",this.scroll)),this},scroll:function(){this.$el.offset().top<=this.$window.scrollTop()?window.location.pathname!==this.options.channel.uri&&this.updateUri(this.options.channel.title,this.options.channel.uri):window.location.pathname!==this.options.pathname&&this.updateUri(this.options.title,this.options.pathname.replace(/^\//g,""))},updateUri:function(e,t){newUrl=location.protocol+"//"+location.host+"/"+t,window.history.replaceState("",e,newUrl),document.title=e,scTitle=e,scUrl=location.protocol+"//"+location.host+location.pathname}});return i}),define("components/follow-social/model",["jquery","underscore","backbone"],function(e,t,n){var r=n.Model.extend({url:"/api/module",parse:function(e){return e.response}});return r}),define("components/follow-social/component",["jquery","underscore","backbone","./model","utilities/event-tracking/utility"],function(e,t,n,r,i){var s=n.View.extend({model:r,listeners:{"model sync":"renderHtml"},options:{id:"follow_social"},events:{},initialize:function(){},render:function(){this.$el.find("[data-track-platform]").each(function(t,n){var r=e(n),s=r.data("track-platform");r.on("click",function(){i.track({event:"social follow",followType:s,followLocation:"right rail"})})})}});return s}),define("components/gallery-album/model",["jquery","underscore","backbone"],function(e,t,n){var r=n.Model.extend({url:"/api/module",parse:function(e){return e.response}});return r}),define("components/gallery-album/component",["jquery","underscore","backbone","plugins/imager/plugin","./model"],function(e,t,n,r,i){var s=n.View.extend({model:i,listeners:{"model sync":"renderHtml"},options:{id:"gallery_album",album:null},events:{},initialize:function(){},render:function(){return this.model.fetch({data:{id:this.options.id,data:{album:this.options.album,limit:this.options.limit,order:"AlbumsImage.id DESC"}}}),this},renderHtml:function(){this.$el.html(this.model.get("html")),this.plugins.featuredImage=(new r({el:this.$el.find("[data-featured-image]")})).render()}});return s}),define("components/header/model",["jquery","underscore","backbone"],function(e,t,n){var r=n.Model.extend({defaults:{menu:null}});return r}),define("components/header/views/sub/view",["jquery","underscore","backbone"],function(e,t,n){var r=0,i=n.View.extend({listeners:{show:"show",hide:"hide"},events:{},initialize:function(){t.bindAll(this,"scrollSpy")},render:function(){return this.model.set("isShowing",!0),e(window).scroll(this.scrollSpy),this},scrollSpy:function(){var t=e(window).scrollTop();t>r&&t>0?this.trigger("hide"):this.trigger("show"),r=t},show:function(){this.model.get("isShowing")||(this.$el.removeClass("up"),this.model.set("isShowing",!0))},hide:function(){this.model.get("isShowing")&&(this.$el.addClass("up"),this.model.set("isShowing",!1))}});return i}),define("components/header/views/social-share/view",["jquery","underscore","backbone","modernizr","clipboard","plugins/favorite/plugin","plugins/social-shares/plugin"],function(e,t,n,r,i,s,o){var u=n.View.extend({bindings:{"#header-social-share-bar":{attributes:[{name:"class",observe:"isShowing",onGet:"setShowingClass"}]},"#header-social-share-more":{attributes:[{name:"class",observe:"isMoreShowing",onGet:"setMoreClass"}]}},events:{'click [data-toggle="more"]':"toggleMore","click [data-print]":"print"},initialize:function(){t.bindAll(this,"scrollSpy")},render:function(){var t=this.$el.find("[data-copy]");return this.model.set("isShowing",!1),this.model.set("isMoreShowing",!1),this.options.isArticle&&(this.offset=e("#article-social-shares").offset().top+e("#article-social-shares").height(),this.$el.find("[data-favorite]").each(function(t,n){var r=e(n);(new s({el:r,contentId:r.data("content-id"),type:r.data("type")})).render()}),e(window).scroll(this.scrollSpy),r.touch||(this.clipboard=new i(t),this.clipboard.on("load",function(n){n.on("datarequested",function(n){t.addClass("active"),n.setText(e(n).data("clipboardText"))})})),this.plugins.socialShares=(new o({el:this.$el})).render()),this.stickit(),this},scrollSpy:function(){e(window).scrollTop()>this.offset&&!this.model.get("isShowing")?this.show():e(window).scrollTop()<this.offset&&this.model.get("isShowing")&&this.hide()},show:function(){this.model.set("isShowing",!0)},hide:function(){this.model.set("isMoreShowing",!1),this.model.set("isShowing",!1)},setShowingClass:function(e){return e?"showing":""},toggleMore:function(){this.model.set("isMoreShowing",!this.model.get("isMoreShowing"))},setMoreClass:function(e){return e?"show":"hide"},print:function(e){window.print(),e.preventDefault()}});return u}),define("components/header/views/counts/model",["jquery","underscore","backbone","utilities/store/utility"],function(e,t,n,r){var i=n.Model.extend({fixture:"/js/dev/components/header/views/counts/fixture.json",defaults:{"new":0,hot:0,video:0,feed:0},options:{storage:"sk_header_count"},parse:function(e){return e.response},url:function(){var n="/hubs/count",i={},s=r.get(this.options.storage);return t.each(s,function(e,t){e&&(i[t]=e)}),n+(t.isEmpty(i)?"":"?"+e.param(i))}});return i}),define("text!components/header/views/counts/count.html",[],function(){return'<span class="pulse">{{ count }}</span>'}),define("components/header/views/counts/view",["jquery","underscore","backbone","moment","utilities/store/utility","./model","template!./count.html"],function(e,t,n,r,i,s,o){var u=n.View.extend({model:s,timer:null,timestamps:{"new":null,hot:null,video:null,feed:null},options:{interval:45e3,storage:"sk_header_count"},bindings:{"[data-new]":{observe:"new",updateMethod:"html",onGet:"formatCount"},"[data-hot]":{observe:"hot",updateMethod:"html",onGet:"formatCount"},"[data-video]":{observe:"video",updateMethod:"html",onGet:"formatCount"},"[data-feed]":{observe:"feed",updateMethod:"html",onGet:"formatCount"}},listeners:{"model sync":"startTimer"},events:{},initialize:function(){t.bindAll(this,"fetch","startTimer")},render:function(){var e=r(),t=this.config.cake.page,n;if(t==="new"||t==="hot"||t==="video"||t==="feed")n=i.get(this.options.storage)||{"new":"",hot:"",video:"",feed:""},n[t]=e.utc().format("X"),i.set(this.options.storage,n);return this.model.fetch(),this.stickit(),this},fetch:function(){this.model.fetch()},startTimer:function(){this.timeout=setTimeout(this.fetch,this.options.interval)},formatCount:function(e){return e?o({count:e>15?"15+":e}):""}});return u}),define("components/header/views/homepage-zoom/view",["jquery","underscore","backbone"],function(e,t,n){var r=0,i=n.View.extend({listeners:{zoom:"zoom",unzoom:"unzoom"},events:{},initialize:function(){t.bindAll(this,"scrollSpy")},render:function(){return e(window).scroll(this.scrollSpy),this.trigger("zoom"),this},scrollSpy:function(){if(!this.$el)return;var t=e(window).scrollTop();t==0?this.trigger("zoom"):this.trigger("unzoom")},zoom:function(){this.model.get("isZoomed")||(this.$el.addClass("zoomheader"),this.model.set("isZoomed",!0))},unzoom:function(){this.model.get("isZoomed")&&(this.$el.removeClass("zoomheader"),this.model.set("isZoomed",!1))}});return i}),define("components/header/component",["jquery","underscore","backbone","./model","./views/sub/view","./views/social-share/view","./views/counts/view","./views/homepage-zoom/view","utilities/user/utility","utilities/cookies/utility"],function(e,t,n,r,i,s,o,u,a,f){var l=n.View.extend({model:r,listeners:{"app change:menu":"updateMenu","app change:isMenuShowing":"showHideMenu"},events:{"click [data-menu-toggle]":"toggleMenu","click [data-search-toggle]":"toggleSearch"},initialize:function(){t.bindAll(this,"updateUserStatus"),this.listenTo(a,"change:isLoggedIn",this.updateUserStatus)},render:function(){return this.$body=e("body"),this.views.sub=(new i({el:this.$el.find("#header-sub")})).render(),this.views.socialShare=(new s({el:this.$el.find("#header-social-share"),isArticle:this.options.isArticle})).render(),this.views.counts=(new o({el:this.$el.find("[data-counts]")})).render(),this.views.homepageZoom=(new u({el:e(".page-homepage")})).render(),this.options.international_homepage===!1&&this.changeHeaderLogo(),this},changeHeaderLogo:function(){var n={CA:"canada",UK:"uk",AU:"australia",US:"default"},r=t.object(t.compact(t.map(location.search.slice(1).split("&"),function(e){if(e)return e.split("=")}))),i={};t.isEmpty(r.locale_override)||(i.locale_override=r.locale_override);var s=f.get("request-locale"),o=new Date,u=this;o.setDate(o.getDate()+1),t.isEmpty(s)?e.ajax({type:"GET",url:"/whereami.json?ts="+(new Date).getTime(),data:i,success:function(r,i,s){var a=s.getResponseHeader("X-Request-Locale"),l=a.split(", ");e.inArray("CA",l)&&t.without(l,"US");var a=l[0];f.set("request-locale",a,o,"/"),n[a]!="default"&&(u.localeHeaderExists()||(u.$el.find("h5.logo").addClass("locale"),u.$el.find("i.country").addClass(n[a]),u.$el.find("h5.logo span.country-name").append(n[a]),u.$el.find("h5.logo a").prop("href","http://"+n[a]+".sheknows.com"),u.$el.find('a[href="/new"]').prop("href","/"+a.toLowerCase()+"/new")))}}):n[f.get("request-locale")]!="default"&&(u.localeHeaderExists()||(u.$el.find("h5.logo").addClass("locale"),u.$el.find("i.country").addClass(n[f.get("request-locale")]),u.$el.find("h5.logo span.country-name").append(n[f.get("request-locale")]),u.$el.find("h5.logo a").prop("href","http://"+n[f.get("request-locale")]+".sheknows.com"),u.$el.find('a[href="/new"]').prop("href","/"+f.get("request-locale").toLowerCase()+"/new")))},localeHeaderExists:function(){return this.$el.find("h5.logo span.country-name").text().match(/canada|australia|uk/i)},toggleMenu:function(t){var n=e(t.currentTarget).data("menu-toggle");this.app.get("menu")!==n?this.app.set("menu",n):this.app.set("menu",null)},toggleSearch:function(){this.app.set("isSearchShowing",!this.app.get("isSearchShowing"))},updateMenu:function(){this.app.get("menu")?this.app.set("isMenuShowing",!0):this.app.set("isMenuShowing",!1)},showHideMenu:function(){this.app.get("isMenuShowing")&&this.app.get("menu")?this.$body.removeClass("menu-account menu-nav").addClass("menu-open menu-"+this.app.get("menu")):(this.$body.removeClass("menu-open"),this.app.set("menu",null))},updateUserStatus:function(t,n){var r=n?t.get("avatar"):"/images/user/avatar.jpg";e("#header-user-photo").attr("src",r),this.app.set("menu",null)}});return l}),define("components/homepage/component",["jquery","underscore","backbone","imager","plugins/favorite/plugin","plugins/social-shares/plugin","utilities/favorites/utility","utilities/ads/utility","utilities/event-tracking/utility"],function(e,t,n,r,i,s,o,u,a){var f=n.View.extend({listeners:{},events:{"click [data-search]":"openSearch"},plugins:{},bindings:{},render:function(){this.$container=this.$el.find("[data-container]:first");if(!this.$container.length)throw new Error("data-container node not found.");return this.plugins.socialShares=(new s({el:this.$el})).render(),this.$el.find("[data-favorite]").each(function(t,n){var r=e(n);(new i({el:r,contentId:r.data("content-id"),type:r.data("type")})).render()}),this.listenTo(o,"status",this.updateFavoriteStatus),this},openSearch:function(){this.app.set("isMenuShowing",!1),this.app.set("isSearchShowing",!0)},updateFavoriteStatus:function(e,t,n){var r='[data-favorite-id="'+e+'"][data-favorite-type="'+t+'"]';this.$el.find(r).toggleClass("inactive",n!=="active")}});return f}),define("components/main-container/component",["jquery","underscore","backbone"],function(e,t,n){var r=n.View.extend({options:{feedOffset:2e3},events:{"click #main-container-overlay":"hideMenu"},initialize:function(){t.bindAll(this,"scrollSpy")},render:function(){return this.$reskin=this.$el.find("#dfp-slot-reskin"),this.$feed=this.$el.find("#feed-container"),this.$feed.length&&(this.options.feedOffset=this.$feed.offset().top),this.$window=e(window),this.$window.on("scroll",this.scrollSpy),this},hideMenu:function(){this.app.set("isMenuShowing",!1)},scrollSpy:function(){this.$window.scrollTop()>this.options.feedOffset?this.$reskin.fadeOut():this.$reskin.fadeIn()}});return r}),define("text!components/marketing/template.html",[],function(){return"<!-- visit: {{ visit }}, page: {{ page }}{{# if (trigger) { }}, triggered: {{ trigger }}{{# } }}{{# if (interstitial) { }}, interstitial: added{{# } }} -->"}),define("components/marketing/views/tour/view",["jquery","underscore","backbone"],function(e,t,n){var r=n.View.extend({el:"#sk-redesign-tour",events:{click:"close","click [data-close]":"close","keyup[esc] body":"close"},options:{},initialize:function(){},render:function(){return this.$body.addClass("tour-open"),this},close:function(){this.$body.removeClass("tour-open")}});return r}),define("text!components/marketing/views/userRegistration/template.html",[],function(){return'{{# if (message === \'userFavoriteAuthor\') { }}\n<h2>Hey there,</h2>\n<h3>It looks like you want to follow this author.</h3>\n<p>Log in so you can follow them and receive their latest content updates.</p>\n{{# } else if (message === \'userFavoriteArticle\') { }}\n<h2>Hey there,</h2>\n<h3>It looks like you want to save this article</h3>\n<p>Log in so you can save and view it later, at home, or on the go.</p>\n{{# } else { }}\n<h2>Like what you see?</h2>\n<p>Take a second to register and we\'ll create a personalized experience just for you.</p>\n{{# } }}\n<h4>Log in with:</h4>\n<div class="ui-socials logos-only clearfix">\n    <a data-login="facebook" class="ui-button facebook"><i class="facebook"></i></a>\n    <a data-login="twitter" class="ui-button twitter"><i class="twitter"></i></a>\n    <a data-login="googleplus" class="ui-button google-plus"><i class="google-plus"></i></a>\n    <a data-login="sheknows" class="ui-button sheknows"><i class="lockup-s"></i><i class="lockup-k"></i></a>\n</div>\n<div class="footer">\n    <p>\n        By registering, you agree to our <a href="http://www.sheknows.com/mediakit/articles/813566/privacy-policy-1" target="_blank">Privacy Policy</a> &amp; <a href="http://www.sheknows.com/mediakit/articles/813565/terms-of-use-agreement-1" target="_blank">Terms of Use</a>.\n    </p>\n    <a href="" class="cancel" data-event="hide">Cancel</a>\n</div>\n'}),define("components/marketing/views/userRegistration/view",["jquery","underscore","backbone","utilities/user/utility","utilities/modal/utility","template!./template.html"],function(e,t,n,r,i,s){var o=n.View.extend({template:s,events:{},options:{message:""},initialize:function(){},render:function(){return this.triggerModal(),this},triggerModal:function(){var t=e(this.template({message:this.options.message}));t.find("[data-login]").on("click",this.login),i.trigger("show",t)},login:function(t){i.trigger("hide"),r.login(e(t.currentTarget).data("login"))}});return o}),define("components/marketing/component",["jquery","underscore","backbone","moment","utilities/store/utility","utilities/ads/utility","utilities/user/utility","template!./template.html","./views/tour/view","./views/userRegistration/view"],function(e,t,n,r,i,s,o,u,a,f){var l=n.View.extend({template:u,events:{},options:{name:"sk_marketing",visitLength:1800},initialize:function(){t.bindAll(this,"triggerModal"),n.on("marketing:modal:show",this.triggerModal)},render:function(){var t=i.get(this.options.name),n=r().utc(),s;return this.$interstitial=e("#dfp-slot-interstitial"),i.local&&(t?(s=r.unix(t.timestamp),n.diff(s,"seconds")>this.options.visitLength?(t.visit+=1,t.page=1):t.page+=1,t.timestamp=n.format("X")):t={timestamp:n.format("X"),visit:1,page:1},i.set(this.options.name,t)),this.triggerMarketing(t),this},triggerMarketing:function(e){var t,n=!1;(e.visit!==1||e.page!==1)&&e.visit===2&&e.page===3&&!o.isLoggedIn(),t?this.triggerModal(t):(this.$interstitial.attr("data-dfp-oop-ad-slot","interstitial"),n=!0),this.$el.html(u({visit:e.visit,page:e.page,trigger:t,interstitial:n}))},triggerModal:function(e){switch(e){case"tour":break;case"userRegistration":case"userMarketingRegistration":case"userFavoriteAuthor":case"userFavoriteArticle":(new f({message:e})).render()}}});return l}),define("components/menu-account/views/logged-in/view",["jquery","underscore","backbone","utilities/user/utility"],function(e,t,n,r){var i=n.View.extend({bindings:{":el":{observe:"isLoggedIn",visible:!0},"[data-name]":{observe:"isLoggedIn",onGet:"name"}},listeners:{},events:{},initialize:function(){},render:function(){return this.stickit(r),this},updateUserStatus:function(e,t){t&&this.$el.find("[data-name]").html(e.name())},name:function(){return r.name()}});return i}),define("components/menu-account/views/logged-out/view",["jquery","underscore","backbone","utilities/user/utility"],function(e,t,n,r){var i=n.View.extend({bindings:{":el":{observe:"isLoggedIn",visible:function(e){return!e}}},listeners:{},events:{},initialize:function(){},render:function(){return this.stickit(r),this}});return i}),define("components/menu-account/component",["jquery","underscore","backbone","./views/logged-in/view","./views/logged-out/view","utilities/user/utility"],function(e,t,n,r,i,s){var o=n.View.extend({events:{"click [data-login]":"login","click [data-logout]":"logout","click [data-register]":"register"},initialize:function(){},render:function(){return this.views.loggedInMenu=(new r({el:this.$el.find("[data-logged-in]")})).render(),this.views.loggedOutMenu=(new i({el:this.$el.find("[data-logged-out]")})).render(),this},login:function(t){t.preventDefault(),s.login(e(t.currentTarget).data("login"))},register:function(e){e.preventDefault(),s.register()},logout:function(e){e.preventDefault(),s.logout()}});return o}),define("components/menu-nav/component",["jquery","underscore","backbone","modernizr","plugins/accordion/plugin","utilities/event-tracking/utility"],function(e,t,n,r,i,s){var o=n.View.extend({events:{"click [data-search]":"openSearch","click [data-primary] [data-secondary]":"eventTrack","click [data-menu-toggle]":"toggleMenu"},initialize:function(){},render:function(){return r.touch&&this.$el.addClass("is-mobile"),this.plugins.accordion=(new i({el:this.$el.find("[data-items]")})).render(),this.plugins.accordionFamily=(new i({el:this.$el.find("[data-family-items]")})).render(),this},openSearch:function(){this.app.set("isMenuShowing",!1),this.app.set("isSearchShowing",!0)},eventTrack:function(t){var n=e(t.currentTarget),r="Primary",i=[];n.is("[data-secondary]")&&(r="Secondary"),i.push(r),i.push(n.html()),s.track({navClick:i.join(" : ")})},toggleMenu:function(t){var n=e(t.currentTarget).data("menu-toggle");this.app.get("menu")!==n?this.app.set("menu",n):this.app.set("menu",null)}});return o}),define("text!components/my-feed-modal/template.html",[],function(){return'<h2>Hey there,</h2>\n<h3>You\'ve found My Feed.</h3>\n<p>This is the place for all the SheKnows articles and authors that you <i class="heart"></i>. Based on what you save, we\'ll make recommendations here too. Register now to get started!</p>\n<h4>Register with:</h4>\n<div class="ui-socials logos-only clearfix">\n    <a data-login="facebook" class="ui-button facebook"><i class="facebook"></i></a>\n    <a data-login="twitter" class="ui-button twitter"><i class="twitter"></i></a>\n    <a data-login="googleplus" class="ui-button google-plus"><i class="google-plus"></i></a>\n    <a data-login="sheknows" class="ui-button sheknows"><i class="lockup-s"></i><i class="lockup-k"></i></a>\n</div>\n<div class="footer">\n    <p>\n        By registering, you agree to our <a href="http://www.sheknows.com/mediakit/articles/813566/privacy-policy-1" target="_blank">Privacy Policy</a> &amp; <a href="http://www.sheknows.com/mediakit/articles/813565/terms-of-use-agreement-1" target="_blank">Terms of Use</a>.\n    </p>\n    <a href="" class="cancel" data-event="hide">Cancel</a>\n</div>'}),define("components/my-feed-modal/component",["jquery","underscore","backbone","utilities/store/utility","utilities/modal/utility","utilities/user/utility","template!./template.html"],function(e,t,n,r,i,s,o){var u=n.View.extend({template:o,events:{},options:{name:"sk_my_feed_modal"},initialize:function(){t.bindAll(this,"login","checkStatus"),this.listenTo(s,"change:isLoggedIn",this.checkStatus())},render:function(){return this},checkStatus:function(){s.isLoggedIn()||r.get(this.options.name)||this.triggerModal()},triggerModal:function(){var t=e(this.template());t.find("[data-login]").on("click",this.login),i.trigger("show",t),r.set(this.options.name,1)},login:function(t){i.trigger("hide"),s.login(e(t.currentTarget).data("login"))}});return u}),define("components/newsletter-channel-sign-up/views/form/model",["jquery","underscore","backbone"],function(e,t,n){var r=n.Model.extend({defaults:{"email-address":null,subscribes:[],unsubscribes:[],suggestion_form_html:null},url:"/sailthru",parse:function(e){return e.data}});return r}),define("components/newsletter-channel-sign-up/views/form/view",["jquery","underscore","backbone","utilities/validation/utility","./model","utilities/event-tracking/utility"],function(e,t,n,r,i,s){var o=n.View.extend({model:i,listeners:{"model request":"setLoading","model sync":"afterSave"},events:{"submit form":"submitForm"},parent:null,initialize:function(){},submitForm:function(t){var n=this.$el.find("[data-email-address]").val(),i=[],o=[];this.$el.find("[data-newsletter]").each(function(t,n){var r=e(n),s=r.data("id");r.is(":checked")||r.is(":hidden")?i.push(s):o.push(s)}),r.isValidEmailAddress(n)?(this.$el.removeClass("error"),this.model.save({"email-address":n,subscribes:i,unsubscribes:o}),s.track({siteEvent:"newsletterSignUp",newsletterType:[i.join("|")],signUpPage:document.title,signUpLocation:"right rail"})):this.$el.addClass("error"),t.preventDefault()},setLoading:function(){this.$el.addClass("loading"),this.$el.find("input").attr("disabled","disabled")},afterSave:function(){this.$el.removeClass("loading"),this.$el.find("input").removeAttr("disabled"),this.trigger("saved",this.model.get("email-address"),this.model.get("suggested_lists"),this.model.get("suggestion_form_html"))}});return o}),define("text!components/newsletter-channel-sign-up/template_suggestions.html",[],function(){return'<div class="ui-newsletter-modal">\n    <i class="flying-envelope"></i>\n\n    <h2>\n        Thanks!\n    </h2>\n\n    <h4>\n        Your first email will arrive soon.\n    </h4>\n    <span class="sign-up-for-more">Sign up for more below:</span>\n\n    <div class="suggestion-form" data-sailthru-form>\n        <form data-form>\n            <input type="hidden" name="email-address" data-email-address value="{{{emailAddress}}}">\n            {{{suggestionForm}}}\n            <input type="submit" value="Subscribe" class="submit">\n        </form>\n    </div>\n</div>'}),define("text!components/newsletter-channel-sign-up/template_thankyou.html",[],function(){return'<div class="ui-newsletter-modal">\n    <i class="flying-envelope"></i>\n\n    <h2>\n        Thanks!\n    </h2>\n\n    <h4>\n        Your first email will arrive soon.\n    </h4>\n</div>'}),define("components/newsletter-channel-sign-up/component",["jquery","underscore","backbone","./views/form/view","utilities/modal/utility","template!./template_suggestions.html","template!./template_thankyou.html"],function(e,t,n,r,i,s,o){var u=n.View.extend({templateSuggestions:s,templateThankYou:o,listeners:{},options:{channel:"parenting",id:"newsletter_channel_sign_up"},events:{},initialize:function(){},render:function(){this.views.sailthruForm=(new r({el:this.$el.find("[data-sailthru-form]")})).render(),this.listenTo(this.views.sailthruForm,"saved",this.showSuggestionsModal)},showSuggestionsModal:function(t,n,s){if(n.length===0)this.showThankYouModal();else{var o=e(this.templateSuggestions({emailAddress:t,suggestionForm:s})),u=(new r({el:o.find("[data-sailthru-form]")})).render();this.listenTo(u,"saved",this.showThankYouModal),i.trigger("show",o)}},showThankYouModal:function(){var t=e(this.templateThankYou());i.trigger("show",t)}});return u}),define("components/newsletter-homepage-sign-up/model",["jquery","underscore","backbone"],function(e,t,n){var r=n.Model.extend({url:"/api/module",parse:function(e){return e.response}});return r}),define("components/newsletter-homepage-sign-up/views/form/model",["jquery","underscore","backbone"],function(e,t,n){var r=n.Model.extend({defaults:{"email-address":null,subscribes:[],unsubscribes:[],suggestion_form_html:null},url:"/sailthru",parse:function(e){return e.data}});return r}),define("components/newsletter-homepage-sign-up/views/form/view",["jquery","underscore","backbone","utilities/validation/utility","./model","utilities/event-tracking/utility"],function(e,t,n,r,i,s){var o=n.View.extend({model:i,listeners:{"model request":"setLoading","model sync":"afterSave"},events:{"submit form":"submitForm"},parent:null,initialize:function(){},submitForm:function(t){var n=this.$el.find("[data-email-address]").val(),i=[],o=[];this.$el.find("[data-newsletter]").each(function(t,n){var r=e(n),s=r.data("id");r.is(":checked")||r.is(":hidden")?i.push(s):o.push(s)}),r.isValidEmailAddress(n)?(this.$el.removeClass("error"),this.model.save({"email-address":n,subscribes:i,unsubscribes:o}),s.track({siteEvent:"newsletterSignUp",newsletterType:[i.join("|")],signUpPage:document.title,signUpLocation:"homepage"})):this.$el.addClass("error"),t.preventDefault()},setLoading:function(){this.$el.addClass("loading"),this.$el.find("input").attr("disabled","disabled")},afterSave:function(){this.$el.removeClass("loading"),this.$el.find("input").removeAttr("disabled"),this.trigger("saved",this.model.get("email-address"),this.model.get("suggested_lists"),this.model.get("suggestion_form_html"))}});return o}),define("text!components/newsletter-homepage-sign-up/template_suggestions.html",[],function(){return'<div class="ui-newsletter-modal">\n    <i class="flying-envelope"></i>\n\n    <h2>\n        Thanks!\n    </h2>\n\n    <h4>\n        Your first email will arrive soon.\n    </h4>\n    <span class="sign-up-for-more">Sign up for more below:</span>\n\n    <div class="suggestion-form" data-sailthru-form>\n        <form data-form>\n            <input type="hidden" name="email-address" data-email-address value="{{{emailAddress}}}">\n            {{{suggestionForm}}}\n            <input type="submit" value="Subscribe" class="submit">\n        </form>\n    </div>\n</div>'}),define("text!components/newsletter-homepage-sign-up/template_thankyou.html",[],function(){return'<div class="ui-newsletter-modal">\n    <i class="flying-envelope"></i>\n\n    <h2>\n        Thanks!\n    </h2>\n\n    <h4>\n        Your first email will arrive soon.\n    </h4>\n</div>'}),define("components/newsletter-homepage-sign-up/component",["jquery","underscore","backbone","./model","./views/form/view","utilities/modal/utility","template!./template_suggestions.html","template!./template_thankyou.html"],function(e,t,n,r,i,s,o,u){var a=n.View.extend({model:r,templateSuggestions:o,templateThankYou:u,listeners:{"model sync":"renderHtml"},options:{channel:"parenting",id:"newsletter_homepage_sign_up"},events:{},initialize:function(){},render:function(){return this.model.fetch({data:{id:this.options.id,data:{channel:this.options.channel}}}),this},renderHtml:function(){this.$el.html(this.model.get("html")),this.views.sailthruForm=(new i({el:this.$el.find("[data-sailthru-form]")})).render(),this.listenTo(this.views.sailthruForm,"saved",this.showSuggestionsModal)},showSuggestionsModal:function(t,n,r){if(n.length===0)this.showThankYouModal();else{var o=e(this.templateSuggestions({emailAddress:t,suggestionForm:r})),u=(new i({el:o.find("[data-sailthru-form]")})).render();this.listenTo(u,"saved",this.showThankYouModal),s.trigger("show",o)}},showThankYouModal:function(){var t=e(this.templateThankYou());s.trigger("show",t)}});return a}),define("text!components/photo/views/fullscreen/template.html",[],function(){return'<div class="ui-photo-full-screen">\n    <div class="top-container">\n        <h1>{{ title }}</h1>\n        <i data-close="" class="close"></i>\n    </div>\n    <div data-image-container="">\n        <div data-src="http://cdn.skim.gs/image/upload/w_{width},c_fill,dpr_{pixel_ratio}.0/{{ imageId }}" data-alt="" data-imager="" data-scale="{{ scale }}"></div>\n    </div>\n</div>'}),define("components/photo/views/fullscreen/view",["jquery","underscore","backbone","plugins/zoomable/plugin","plugins/imager/plugin","template!./template.html"],function(e,t,n,r,i,s){var o=n.View.extend({listeners:{},template:s,plugins:{},initialize:function(){t.bindAll(this,"close")},render:function(){return e("body").css("overflow","hidden"),this.$el.html(this.template({imageId:this.options.imageId,title:this.options.title,scale:this.options.scale})),this.$el.find("[data-close]").click(this.close),this.$el.find("[data-close]").on("touchstart",this.close),this.$el.on("click",this.close),(new i({el:this.$el.find("[data-imager]")})).render(),this.plugins.zoomable=(new r({el:this.$el.find("[data-image-container]"),maxZoom:this.options.scale})).render(),this},close:function(t){e("body").css("overflow","auto"),this.plugins.zoomable.destroy(),this.plugins.zoomable.remove(),this.remove(),t.preventDefault()}});return o}),define("components/photo/component",["jquery","underscore","backbone","plugins/imager/plugin","./views/fullscreen/view"],function(e,t,n,r,i){var s=n.View.extend({fullScreenNode:null,initialize:function(){t.bindAll(this,"goFullScreen","closeFullScreen")},render:function(){return this.$el.find("[data-go-full-screen]").click(this.goFullScreen),this},initFullScreen:function(){this.$el.find("[data-go-full-screen]").click(this.goFullScreen)},goFullScreen:function(){var t=(new i({imageId:this.options.imageId,title:this.options.title,scale:this.options.fullScreenScale})).render();e("body").append(t.$el)},closeFullScreen:function(){this.fullScreenNode.remove()}});return s}),define("components/popular-today/component",["jquery","underscore","backbone","plugins/imager/plugin","utilities/event-tracking/utility"],function(e,t,n,r,i){var s=n.View.extend({listeners:{},options:{id:"content_feed",feed:"popular-today"},events:{},initialize:function(){},render:function(){this.plugins.featuredImage=(new r({el:this.$el.find("[data-featured-image]")})).render(),this.$el.find("[data-track-title]").on("click",function(t){var n=e(t.currentTarget);i.track({event:"ptArticle",ptArticleTitle:n.data("track-title"),isItFeatured:null})})}});return s}),define("text!components/register/template.html",[],function(){return'<div class="ui-register">\n    <h2>Register</h2>\n    <p>\n        Get personalized recommendations and easily share and save your favorite stories.<br />Select a social network to get started.\n    </p>\n    <span>Register with:</span>\n    <a data-login="facebook" class="ui-button facebook" target="_blank">\n        <i class="facebook"></i> Connect with Facebook\n    </a>\n    <a data-login="twitter" class="ui-button twitter" target="_blank">\n        <i class="twitter"></i> Connect with Twitter\n    </a>\n    <a data-login="googleplus" class="ui-button google-plus" target="_blank">\n        <i class="google-plus"></i> Connect with Google\n    </a>\n    <a data-login="sheknows" class="ui-button sheknows" target="_blank">\n        <i class="lockup-s"></i><i class="lockup-k"></i> SheKnows Connect\n    </a>\n    <div class="footer">\n        By registering, you agree to our <a href="http://www.sheknows.com/mediakit/articles/813566/privacy-policy-1" target="_blank">Privacy Policy</a> &amp; <a href="http://www.sheknows.com/mediakit/articles/813565/terms-of-use-agreement-1" target="_blank">Terms of Use</a>.\n    </div>\n</div>'}),define("components/register/component",["jquery","underscore","backbone","template!./template.html","utilities/user/utility"],function(e,t,n,r,i){var s=n.View.extend({template:r,events:{"click [data-login]":"login"},initialize:function(){t.bindAll(this,"display"),this.listenTo(i,"change:isLoggedIn",this.display)},render:function(){return this},display:function(){i.isLoggedIn()?this.$el.hide():this.$el.html(this.template())},login:function(t){i.login(e(t.currentTarget).data("login"))}});return s}),define("components/right-rail/model",["underscore","backbone"],function(e,t){var n=t.Model.extend({defaults:{state:"",top:0}});return n}),define("components/right-rail/component",["jquery","underscore","backbone","enquire","./model"],function(e,t,n,r,i){var s=n.View.extend({model:new i,events:{},options:{pin:{length:600},el:{}},headerHeight:0,pinIndex:0,bindings:{":el":{attributes:[{name:"class",observe:"state",onGet:"formatClass"},{name:"style",observe:"top",onGet:"styleTop"}]}},initialize:function(){t.bindAll(this,"scroll","styleTop","setup")},render:function(){return r.register("screen and (min-width: 960px)",{setup:this.setup,deferSetup:!0}),this},setup:function(){this.headerHeight=e(".ui-header").first().height(),this.$parent=this.$el.parent().parent();var n=this.$el.find("[data-pin]:visible");if(n.length){var r;t.each(n,function(t,i){r=e(t).offset(),n[i].originalOffsetTop=r.top},this),this.$pins=n,this.$currentPinNode=e(this.$pins[this.pinIndex]),this.$window=e(window),this.$window.on("scroll",this.scroll);var i=this.options.pin.length*this.$pins.length;this.$parent.css("min-height",this.$el.height()+i)}this.stickit()},scroll:function(){this.setClosestPin();var e={offset:this.options.pin.offset||this.$currentPinNode.offset(),position:this.options.pin.position||this.$currentPinNode.position()},t={offset:this.options.el.offset||this.$el.offset(),height:this.options.el.height||this.$el.height()},n=this.$pins[this.pinIndex].originalOffsetTop,r=e.offset.top;this.pinIndex==0?e.offset.top<this.options.pin.length?r=e.offset.top:(r=e.offset.top-this.options.pin.length,n=r):n=e.offset.top-this.options.pin.length;if(n+this.pinIndex*this.options.pin.length>this.$window.scrollTop()+this.headerHeight)this.model.set({state:"absolute",top:this.pinIndex*this.options.pin.length}),this.state="above";else if(r<=this.$window.scrollTop()+this.headerHeight&&this.$window.scrollTop()-r<this.options.pin.length){if(!this.options.pin.offset||this.options.pin.position)this.options.pin.offset=e.offset,this.options.pin.position=e.position,this.options.el.offset=t.offset,this.options.el.height=t.height;this.model.set({state:"pinned-top",top:-e.position.top+this.headerHeight}),this.state="pinning"}else this.$window.scrollTop()-r>=this.options.pin.length&&(this.model.set({state:"absolute-top",top:this.options.pin.length*(this.pinIndex+1)}),this.state="below")},setClosestPin:function(n,r){if(this.state=="pinning")return;var i=[];t.each(this.$pins,function(e,t){i[t]=e.originalOffsetTop+this.model.get("top")},this);var s=this.closest(this.$window.scrollTop(),i);s!=this.pinIndex&&(this.pinIndex=s,this.$currentPinNode=e(this.$pins[this.pinIndex]),this.options.pin.offset=null,this.options.pin.position=null)},closest:function(e,t){var n=0,r=t[0],i=Math.abs(e-r);for(var s=0;s<t.length;s++){var o=Math.abs(e-t[s]);o<i&&(i=o,r=t[s],n=s)}return n},formatClass:function(e){var t="";switch(e){case"absolute":case"absolute-top":t="";break;case"pinned-top":t="is-pinned-top"}return t},styleTop:function(e){return e?"top: "+e+"px":""}});return s}),define("components/search/views/input/view",["jquery","underscore","backbone"],function(e,t,n){var r=n.View.extend({listeners:{},bindings:{":el":{observe:"value"}},initialize:function(){},render:function(){return this.stickit(this.app.get("searchQuery",!0)),this}});return r}),define("components/search/views/results/model",["jquery","underscore","backbone"],function(e,t,n){var r=n.Model.extend({defaults:{query:"",page:1,limit:10,html:""},fixture:"/js/dev/components/search/views/results/fixture.json",url:function(){var t,n={query:this.get("query"),offset:(this.get("page")-1)*this.get("limit"),limit:this.get("limit")};return t="/search?"+e.param(n),t},parse:function(e){return this.get("page")!==1&&e.response.html&&(e.response.html=this.get("html")+e.response.html),e.response}});return r}),define("text!components/search/views/results/loader.html",[],function(){return'<div class="ui-loader"></div>'}),define("components/search/views/results/view",["jquery","underscore","backbone","./model","template!./loader.html","plugins/imager/plugin","plugins/infinite-scroll/plugin"],function(e,t,n,r,i,s,o){var u=n.View.extend({model:r,loader:i(),listeners:{"app change:searchQuery":"fetch","model sync":"updateItems","model error":function(){console.log("error")}},bindings:{"[data-items]":{observe:"html",updateMethod:"html"}},initialize:function(){},render:function(){return this.$items=this.$el.find("[data-items]"),this.plugins.infiniteScroll=(new o({el:this.$items,scrollTarget:this.$el})).render(),this.listenTo(this.plugins.infiniteScroll,"nearBottom",this.nextPage),this.stickit(),this},fetch:t.debounce(function(){var e=this.app.get("searchQuery");this.plugins.infiniteScroll.trigger("pause"),this.model.set({html:this.loader,query:e,page:1}),e&&this.model.fetch()},500),updateItems:function(){this.model.get("count")===0?this.plugins.infiniteScroll.trigger("destroy"):this.plugins.infiniteScroll.trigger("reset"),(new s({el:this.$el.find("[data-article-image]"),lazyload:!1})).render()},nextPage:function(){var e=this.model.get("page")+1;this.model.set("page",e),this.model.fetch()}});return u}),define("components/search/component",["jquery","underscore","backbone","./views/input/view","./views/results/view","utilities/event-tracking/utility"],function(e,t,n,r,i,s){var o=n.View.extend({listeners:{"app change:isSearchShowing":"setVisibility","app change:searchQuery":"toggleResults","model change:query":"updateView"},events:{"click [data-close]":"close","keyup[esc]":"close"},bindings:{},initialize:function(){},render:function(){return this.views.input=(new r({el:this.$el.find("[data-query]"),app:this.app})).render(),this.views.results=(new i({el:this.$el.find("[data-results]"),app:this.app})).render(),this},close:function(){this.app.set("searchQuery",""),this.app.set("isSearchShowing",!1)},setVisibility:function(){this.app.get("isSearchShowing")?(this.$body.addClass("search-open"),this.views.input.$el.focus(),s.track({searchPageTitle:document.title})):this.$body.removeClass("search-open")},toggleResults:function(){this.app.get("searchQuery")?this.$el.addClass("has-results"):this.$el.removeClass("has-results")}});return o}),define("components/slideshow/views/author/view",["jquery","underscore","backbone"],function(e,t,n){var r=n.View.extend({listeners:{},events:{"click [data-expand]":"toggleBio"},initialize:function(){},render:function(){return this.$bio=this.$el.find("[data-bio]"),this},toggleBio:function(){this.$bio.slideToggle(),this.$el.toggleClass("is-open")}});return r}),define("text!components/slideshow/views/slide/overlay.html",[],function(){return'<div class="ad-container">\n    <div id="{{ slotId }}" class="ui-ad dfp-slot-slideshow-overlay" data-dfp-ad-slot="slideshowOverlay" data-target-name="pos" data-target-value="atf,slideshow-overlay"></div>\n</div>\n<div class="next-slideshow-container">\n    <a href="{{ url }}">\n        <h2>Next Slideshow</h2>\n        <img src="{{ image }}">\n        <span class="description">\n            {{ description }}\n        </span>\n    </a>\n</div>'}),define("components/slideshow/views/slide/view",["jquery","underscore","backbone","plugins/imager/plugin","plugins/social-shares/plugin","modernizr","utilities/ads/utility","template!./overlay.html"],function(e,t,n,r,i,s,o,u){var a=n.View.extend({listeners:{},hasImageLoaded:!1,hasSocialSharingLoaded:!1,title:null,shareTitle:null,description:null,slug:null,url:null,shareUrl:null,overlayTimeout:null,showsOverlay:!1,initialize:function(){},render:function(){return this.title=this.$el.find("[data-title]").first().text(),this.description=this.$el.find("[data-description]").html(),this.count=this.$el.data("count"),this.slug=this.$el.data("slug"),this.url=this.$el.data("url"),this.shareUrl=this.$el.data("shareUrl"),this.imageUrl=this.$el.data("imageUrl"),this.shareTitle=this.$el.data("shareTitle"),s.touch&&this.$el.hammer(),t.bindAll(this,"showOverlay","onOverlayEvent"),this.options.listMode&&(this.loadImage(),this.loadSocialSharing()),this},reset:function(){this.$el.removeClass("current previous next beforePrevious afterNext")},changePosition:function(e){this.overlayTimeout&&(clearTimeout(this.overlayTimeout),this.overlayTimeout=null),this.showsOverlay&&this.hideOverlay(),this.loadImage(),this.reset(),this.$el.addClass(e)},takeFocus:function(){this.app.trigger("focus",this),this.loadSocialSharing(),this.options.isLast&&!this.showsOverlay&&(this.options.overlayDelay?this.overlayTimeout=setTimeout(this.showOverlay,this.options.overlayDelay):this.showOverlay()),this.updateUri()},renderOverlay:function(){return u({slotId:"dfp-slot-slideshow-overlay-"+Date.now(),image:this.options.overlayImage,description:this.options.overlayDescription,url:this.options.overlayUrl})},showOverlay:function(){var t=window.innerWidth;this.app.trigger("overlay","show"),this.listenTo(this.app,"overlay",this.onOverlayEvent),t<960?e("body").prepend(this.options.overlayContainerNode):(this.$el.find("[data-overlay-container]").prepend(this.options.overlayContainerNode),this.$el.addClass("has-overlay")),this.options.overlayContainerNode.find("[data-overlay-content]").html(this.renderOverlay()),this.options.overlayContainerNode.show(),this.showsOverlay=!0,o.render()},hideOverlay:function(){this.options.overlayContainerNode.hide(),this.$el.removeClass("has-overlay"),this.stopListening(this.app,"overlay"),this.showsOverlay=!1},loadSocialSharing:function(){this.hasSocialSharingLoaded||((new i({el:this.$el.find("[data-social-shares]")})).render(),this.hasSocialSharingLoaded=!0)},loadImage:function(){this.hasImageLoaded||((new r({el:this.$el.find("[data-slide-image]"),lazyload:this.options.listMode})).render(),this.hasImageLoaded=!0)},updateUri:function(){s.history&&this.url!==window.location.pathname&&(history.pushState("",this.title,this.url),document.title=this.title)},onOverlayEvent:function(e){e==="hide"&&this.showsOverlay&&this.hideOverlay()}});return a}),define("text!components/slideshow/overlayContainer.html",[],function(){return'<div class="ui-slideshow overlay" data-slideshow-overlay-container="">\n    <div class="inner">\n        <div class="content-container">\n            <div class="content">\n                <i class="close" data-close=""></i>\n                <div data-overlay-content="" class="overlay-content"></div>\n            </div>\n        </div>\n    </div>\n</div>'}),define("text!components/slideshow/print.html",[],function(){return'<!DOCTYPE html>\n<html>\n<head>\n<style>\n    img {\n        display: block;\n        width: auto;\n        max-width: 665px;\n        max-height: 950px;\n    }\n</style>\n</head>\n<body>\n<img id="image" src="{{ src }}" />\n<script>\n    document.getElementById(\'image\').onload = function () {\n        window.print();\n        window.close();\n    };\n</script>\n</body>\n</html>\n'}),define("components/slideshow/component",["jquery","underscore","backbone","./views/author/view","plugins/favorite/plugin","utilities/ads/utility","utilities/event-tracking/utility","utilities/cookies/utility","./views/slide/view","template!./overlayContainer.html","template!./print.html"],function(e,t,n,r,i,s,o,u,a,f,l){var c=n.View.extend({events:{dragend:"swipeNavigate","click [data-navigate]":"clickNavigate"},slides:[],currentSlideIndex:0,slidesShown:0,adhesionAdNode:null,adhesionAdTimeout:6e3,adhesionAdTimeoutId:null,overlayContainerNode:null,enableDebug:!1,initialize:function(){this.listenTo(this.app,"navigate",this.navigate),t.bindAll(this,"navigate","keyNavigate","historyNavigate","swipeNavigate","clickNavigate","hideAdhesionAd","closeOverlayContainer")},render:function(){var s=this;return this.$el.find("[data-author]").length>0&&(this.views.author=(new r({el:this.$el.find("[data-author]")})).render()),this.$el.find("[data-favorite]").each(function(t,n){var r=e(n);(new i({el:r,contentId:r.data("contentId"),type:r.data("type")})).render()}),this.$el.find("[data-print]").click(this.print),this.createOverlayContainer(),this.adhesionAdNode=this.$el.find("[data-adhesion-ad]"),this.fillSlideNodes(),this.options.isList||(e(document).on("keyup",this.keyNavigate),e(window).on("popstate",this.historyNavigate),n.on("appular:components:rendered",t.once(function(){s.updatePositions(!1)}))),e("[data-list-toggle]").one("click",this.switchView),this.showAdhesionAd(),this},print:function(){var t=e(this).data("print"),n=l({src:t}),r=window.open();r.document.write(n)},createOverlayContainer:function(){var t=e(f());this.overlayContainerNode=t,this.overlayContainerNode.find("[data-close]").click(this.closeOverlayContainer),e("body").prepend(this.overlayContainerNode)},closeOverlayContainer:function(){this.app.trigger("overlay","hide")},fillSlideNodes:function(){var n=this.$el.find("[data-slide]"),r=n.index(this.$el.find("[data-slide].current"));r>-1&&(this.currentSlideIndex=r),t.each(n,function(t,r){var i=e(t),s={el:i,app:this.app,listMode:this.options.isList,overlayContainerNode:this.overlayContainerNode};r===n.length-1&&(s.isLast=!0,s.overlayImage=this.options.overlayImage,s.overlayDescription=this.options.overlayDescription,s.overlayDelay=this.options.overlayDelay,s.overlayUrl=this.options.overlayUrl),this.slides.push((new a(s)).render())},this)},switchView:function(t){var n=e(t.currentTarget);n.find(".ui-toggle").toggleClass("active"),window.location.href=n.data("url"),t.preventDefault()},navigate:function(e){var n=null;e==="next"?n=this.getNextIndex():n=this.getPreviousIndex(),n!==null&&(this.currentSlideIndex=n,t.each(this.slides,function(e){e.reset()}),this.updatePositions(!0))},clickNavigate:function(t){var n=e(t.currentTarget),r=n.data("navigate"),i=n.data("isLast");if(!i)return this.app.trigger("navigate",r),t.preventDefault(),!1;t.stopImmediatePropagation()},keyNavigate:function(e){switch(e.keyCode){case 37:this.app.trigger("navigate","previous");break;case 39:this.app.trigger("navigate","next")}},historyNavigate:function(e){var n=window.location.href,r=n.split("/").pop(),i=null;t.each(this.slides,function(e,t){e.slug===r&&(i=t)}),i&&(this.currentSlideIndex=i,this.updatePositions(!0))},swipeNavigate:function(e){var t=e.gesture.direction;t===Hammer.DIRECTION_LEFT?this.app.trigger("navigate","next"):t===Hammer.DIRECTION_RIGHT&&this.app.trigger("navigate","previous")},updatePositions:function(e){var n=this.getNextIndex(),r=this.getPreviousIndex(),i=this.slides[this.currentSlideIndex],u,a;i.changePosition("current"),i.takeFocus(),i.options.isLast?this.$el.find('[data-navigate="next"]').addClass("last"):this.$el.find('[data-navigate="next"]').removeClass("last");if(n!=null){var u=this.getNextIndex(n),f=this.slides[n];f.changePosition("next"),u!==null&&this.slides[u].changePosition("afterNext")}r!==null&&(r>0&&(a=this.getPreviousIndex(r)),this.slides[r].changePosition("previous"),!t.isUndefined(a)&&a!==null&&this.slides[a].changePosition("beforePrevious")),e&&this.firePageView();var l=this.getEventLabel(),c={category:"Slideshow",action:"ViewSlide",label:l};this.debug("Send ViewSlide event "+l),o.trackEvent(c),this.options.refreshPerSlides&&++this.slidesShown%this.options.refreshPerSlides===0&&(s.trigger("ads:refresh:dfp-slot-right-rail-slideshow-top-desktop"),s.trigger("ads:refresh:dfp-slot-adhesion-slideshow"),this.showAdhesionAd())},showAdhesionAd:function(){this.adhesionAdNode.show(),this.setAdhesionAdTimeout()},setAdhesionAdTimeout:function(){this.adhesionAdTimeoutId&&clearTimeout(this.adhesionAdTimeoutId),this.adhesionAdTimeoutId=setTimeout(this.hideAdhesionAd,this.adhesionAdTimeout)},hideAdhesionAd:function(){this.adhesionAdNode.hide(),this.adhesionAdTimeoutId=null},firePageView:function(){var t={};t.name=e('meta[property="og:title"]').attr("content"),t.url=this.getSlideshowUrl(),o.trackPageView(t)},getNextIndex:function(e){return e=e||this.currentSlideIndex,e+1===this.slides.length?null:e+1},getPreviousIndex:function(e){return e=e||this.currentSlideIndex,e===0?null:e-1},getEventLabel:function(){var e=[];return e.push("slide_num="+(this.currentSlideIndex+1)),e.push("slide_name="+this.getSlideName()),e.push(this.getFirstSlideString()),e.push(this.getLastSlideString()),e.push("slides_in_show="+this.getTotalSlideCount()),e.join("&")},getSlideshowUrl:function(){var e="",t=document.location.pathname,n=t.split("/");return n.length===6?e=window.location.pathname.match(/^\/[a-z0-9\-]+\/[a-z0-9\-]+\/\d+\/[a-z0-9\-]+/g).pop():e=t,e},getSlideshowId:function(){return document.location.pathname.split("/")[document.location.pathname.split("/").length-3]},getSlideshowName:function(){return document.location.pathname.split("/")[document.location.pathname.split("/").length-2]},getSlideName:function(){return document.location.pathname.split("/")[document.location.pathname.split("/").length-1]},getCurrentSlideNum:function(){return parseInt(e(".slide-data .meta .count").html().replace("/","").replace(":",""))},getFirstSlideString:function(){var e="is_begin=false",t="slideshow"+this.getSlideshowId(),n=!u.get(t);if(n){var r=new Date;r.setDate(r.getTime()+18e5),u.set(t,"Y",r.toString()),e="is_begin=true"}return e},getTotalSlideCount:function(){return parseInt(e(".slide-data .meta .total").html().replace("/","").replace(":",""))},getSlidesInShowString:function(){return"slides_in_show="+this.getTotalSlideCount()},getLastSlideString:function(){var e="is_last=false",t="lastslide"+this.getSlideshowId(),n=this.getCurrentSlideNum()===this.getTotalSlideCount(),r=!u.get(t);if(r&&n){var i=new Date;i.setDate(i.getTime()+18e5),u.set(t,"Y",i.toString()),e="is_last=true"}return e},debug:function(e){this.enableDebug&&window.console&&console.log("Slideshow Utility:",e)}});return c}),define("text!components/slideshow-right-rail/template.html",[],function(){return'<div class="meta">\n    <strong>#<span class="count">{{ count }}</span><span class="total">/{{ slidesTotal }}:</span></strong> <span data-title="" class="title">{{ title }}</span>\n</div>\n<div class="ui-socials clearfix" data-social-shares="">\n    <button class="ui-button facebook" data-share data-track-platform="facebook" href="https://www.facebook.com/sharer/sharer.php?u={{ url }}">\n        <i class="facebook"></i>\n        <span class="count">Share</span>\n    </button>\n    <button class="ui-button twitter" data-share data-track-platform="twitter" href="https://twitter.com/share?url={{ url }}&text={{ shareTitle }}">\n        <i class="twitter"></i>\n        <span class="count">Tweet</span>\n    </button>\n    <button class="ui-button google-plus" data-share data-track-platform="google-plus" href="https://plus.google.com/share?url={{ url }}">\n        <i class="google-plus"></i><span class="action google-share">Share</span>\n    </button>\n    <button class="ui-button pinterest" data-share data-track-platform="pinterest" href="https://pinterest.com/pin/create/button/?url={{ url }}&media={{ imageUrl }}&description={{ shareTitle }}">\n        <i class="pinterest"></i>\n        <span class="count">Pin</span>\n    </button>\n</div>\n<div class="description">\n    {{{ description }}}\n</div>'}),define("components/slideshow-right-rail/component",["jquery","underscore","backbone","plugins/social-shares/plugin","template!./template.html"],function(e,t,n,r,i){var s=n.View.extend({events:{"click [data-navigate]":"clickNavigate"},slideDataNode:null,slidesTotal:0,initialize:function(){t.bindAll(this,"focus","clickNavigate"),this.listenTo(this.app,"focus",this.focus)},render:function(){return this.slidesTotal=this.$el.data("slidesTotal"),this.slideDataNode=this.$el.find("[data-slide-data]"),this},clickNavigate:function(t){var n=e(t.currentTarget),r=n.data("navigate");n.is(".last")?window.location.href=this.options.nextSlideshow:this.app.trigger("navigate",r),t.preventDefault()},focus:function(e){this.$el.find("[data-navigate]").removeClass("disabled last"),e.count===1?this.$el.find('[data-navigate="previous"]').addClass("disabled"):e.options.isLast&&this.$el.find('[data-navigate="next"]').addClass("last"),this.slideDataNode.html(i({slidesTotal:this.slidesTotal,count:e.count,title:e.title,shareTitle:e.shareTitle,description:e.description,nextSliderUrl:null,previousSliderUrl:null,url:encodeURIComponent(e.shareUrl),imageUrl:encodeURIComponent(e.imageUrl)})),(new r({el:this.slideDataNode.find("[data-social-shares]")})).render()}});return s}),define("components/super-carousel/views/carousel/CarouselSlideView",["jquery","underscore","backbone"],function(e,t,n){var r=n.View.extend({});return r}),define("components/super-carousel/views/carousel/model/CarouselSlideModel",["backbone"],function(e){var t=e.Model.extend({setVisible:function(e){return this.set("visible",Boolean(e)),this},isVisible:function(){return this.get("visible")},setPosition:function(e){return this.set("position",e),this}});return t}),define("components/super-carousel/views/carousel/model/CarouselSlidesCollection",["backbone","./CarouselSlideModel"],function(e,t){var n=e.Collection.extend({model:t,clearCurrent:function(){return this.set({current:!1}),this}});return n}),define("components/super-carousel/component",["jquery","underscore","backbone","modernizr","./views/carousel/CarouselSlideView","./views/carousel/model/CarouselSlidesCollection","./views/carousel/model/CarouselSlideModel","plugins/slick-carousel/plugin","fastclick","domReady"],function(e,t,n,r,i,s,o,u,a,f){var l=n.View.extend({collection:new s,events:{"click .control.prev":"goToPrevious","click .control.next":"goToNext","click .tab-group a[data-channel]":"goToChannel","mouseover .tab-group a[data-channel]":"navigateIntent",dragend:"doSwipe"},states:["on-the-catwalk","next-on-runway","in-the-hole","last-up"],isCircular:!0,slideContainer:null,$slider:null,slides:null,channelIndex:[],initialize:function(){var n=this;t.bindAll(this,"goToPrevious","goToNext","goToChannel","doSwipe","navigateIntent"),n.collection.bind("change:current",n.refreshTabs,n),n.collection.bind("change:position",n.changePosition,n),n.collection.bind("change:visible",n.loadSlideBackground,n),n.slideContainer=e(".carousel-slides"),n.slides=this.$el.find(".slide"),n.tabs=this.$el.find(".tab-group .tab")},render:function(){var t=this;if(!t.slides.length)return;return r.touch&&t.slideContainer.hammer(),t.slides.each(function(n){var r=e(this),s,u;-1===e.inArray(r.data("channel"),t.channelIndex)&&t.channelIndex.push(r.data("channel")),u=e.inArray(r.data("channel"),t.channelIndex),s=new o({id:n,current:n===0?!0:!1,channel:e(this).data("channel"),channelIndex:u,view:new i({el:r}),visible:!1}),t.collection.add(s),n==0?s.setPosition("on-the-catwalk").setVisible(!0):n==1?s.setPosition("next-on-runway").setVisible(!0):n==t.slides.length-1?(s.setPosition("last-up"),s.setVisible(!0)):(s.setPosition("in-the-hole"),n==2&&s.setVisible(!0))}),require(["domReady!"],function(n){t.$slider=e(".channel-navigation").slider({dots:!1,infinite:!0,slidesToShow:6,slidesToScroll:1,onBeforeChange:function(e){t.refreshTabs()},responsive:[{breakpoint:800,settings:{slidesToShow:4,slidesToScroll:1}},{breakpoint:600,settings:{slidesToShow:3,slidesToScroll:1}},{breakpoint:420,settings:{arrows:!1,infinite:!0,slidesToShow:2,slidesToScroll:1}}]})}),e(".tab-group").show(),t},refreshTabs:function(){var t=this,n=t.getCurrentSlide(),r;if(!t.tabs||!n)return;r=t.getTabByChannel(n.get("channel")),e(r).hasClass("active")||(t.$el.find(".tab").removeClass("active"),e(r).addClass("active"),t.$slider.isInitialized()&&e(".channel-navigation").slickGoTo(n.get("channelIndex")))},goToChannel:function(t){var n=this,r=t.target,i=e(r).data("channel"),s=n.collection.findWhere({channel:i});n.goToSlide(s.get("id")),t.preventDefault()},navigateIntent:function(n){var r=this,i=n.target,s=e(i).data("channel"),o=r.collection.findWhere({channel:s}),u=r.getSlideNeighbors(o);t.each([u.current,u.next,u.inTheHole,u.prev],function(e){e.setVisible(!0)})},goToSlide:function(t){var n=this,r=n.getSlideNeighbors(n.getSlideByIndex(t)),i=[r.current.get("id"),r.next.get("id"),r.inTheHole.get("id"),r.prev.get("id")],s=n.getCurrentSlide().get("id");n.$el.removeClass("loading"),n.getCurrentSlide().set({current:!1}),r.current.set({current:!0});if(t==s)return;t===0&&s===n.collection.length-1?n.$el.removeClass("reverse"):t===n.collection.length-1&&s===0?n.$el.addClass("reverse"):t>s?n.$el.removeClass("reverse"):t<s&&n.$el.addClass("reverse"),n.collection.each(function(t){var n=t.get("id"),s=t.get("view").$el;-1===e.inArray(t.get("id"),i)&&(t.get("id")>r.current.get("id")?t.setPosition("in-the-hole"):t.get("id")<r.current.get("id")&&t.setPosition("last-up"),t.setVisible(!1))}),r.inTheHole.setPosition("in-the-hole").setVisible(!0),r.prev.setPosition("last-up").setVisible(!0),r.next.setPosition("next-on-runway").setVisible(!0),r.current.setPosition("on-the-catwalk").setVisible(!0)},changePosition:function(e){var t=this,n=e.get("view").$el;n.removeClass(t.states.join(" ")).addClass(e.get("position"))},loadSlideBackground:function(e){if(e.isVisible()===!0){var t=e.get("view").$el.find(".background-img").first();(t.attr("style")===undefined||t.attr("style").indexOf("background-image")===-1)&&t.css({"background-image":"url('"+t.data("background-image")+"')"})}},goToPrevious:function(e){var t=this,n=this.getCurrentSlide(),r=t.getPreviousSlide(n);e.preventDefault(),this.goToSlide(r.get("id"))},goToNext:function(e){var t=this,n=this.getNextSlide(t.getCurrentSlide());e.preventDefault(),this.goToSlide(n.get("id"))},doSwipe:function(e){var t=this,n=e.gesture.direction,r=this.getCurrentSlide();n===Hammer.DIRECTION_LEFT?t.goToSlide(t.getNextSlide(r).get("id")):n===Hammer.DIRECTION_RIGHT&&t.goToSlide(t.getPreviousSlide(r).get("id"))},getSlideByIndex:function(e){return this.collection.get(e)},getCurrentSlide:function(){return this.collection.findWhere({current:!0})},getNextSlide:function(e){var t=this,n=e.get("id")+1;return n>=t.collection.length&&(n=0),t.collection.at(n)},getPreviousSlide:function(e){var t=this,n=e.get("id")-1;return n<0&&(n=t.collection.length-1),t.collection.at(n)},getTabByChannel:function(t){var n=this,r;return r=n.$el.find(".tab-group .tab").filter(function(){return!e(this).hasClass("slick-cloned")&&e(this).find("a").first().data("channel")==t}),r.first()},setCurrentTab:function(){var t=this,n=t.getCurrentSlide(),r=n.get("view").$el.data("channel"),i=t.$el.find(".tab-group .tab"),s=t.getTabByChannel(r);t.$el.find(".tab").removeClass("active"),e(s).addClass("active")},getSlideNeighbors:function(e){var t=this;return{current:e,next:t.getNextSlide(e),prev:t.getPreviousSlide(e),inTheHole:t.getNextSlide(t.getNextSlide(e))}}});return l}),define("components/user-voice/component",["jquery","underscore","backbone","userVoice"],function(e,t,n,r){var i=n.View.extend({events:{},listeners:{"app change:isMenuShowing":"hide"},initialize:function(){},render:function(){r.push(["addTrigger",this.$el[0],{}])},hide:function(){this.app.get("isMenuShowing")||r.hide()}});return i});