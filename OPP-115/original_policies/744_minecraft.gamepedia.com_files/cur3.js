function cygnus_log(e){}function cygnus_report(e,t){var s="http://p.casalemedia.com/cygnus.gif?S="+cygnus_index_args.siteID+"&"+t+"&U="+encodeURIComponent(location.href)+"&TID="+cygnus_tid+"&REQ="+_IndexRequestData.lastRequestID,n=Math.random();if(n<cygnus_index_stats.sampling[e]){var i=new Image;i.src=s}}function cygnus_augment_slots(){for(var e=cygnus_index_args.slots,t=e.length,s=0;t>s;s++){var n=e[s];n.siteID=cygnus_index_args.siteID,cygnus_log("Slot "+s+": "+JSON.stringify(n));var i="T1_"+n.id;e.push({id:i,width:n.width,height:n.height,siteID:tierone2tiertwo[cygnus_index_args.siteID]})}cygnus_index_args.slots.push({id:"SQPS",width:300,height:250,siteID:cygnus_x1_args.SQPS_siteID}),cygnus_index_args.default_slots=cygnus_x1_args.default_slots,cygnus_index_args.default_bins=cygnus_x1_args.default_bins,cygnus_index_args.default_adcodes=cygnus_x1_args.default_adcodes}function cygnus_index_parse_res(e){function t(e,t){return t.PX>e.PX?1:t.PX<e.PX?-1:0}try{if(e){if("object"!=typeof _IndexRequestData||"object"!=typeof _IndexRequestData.impIDToSlotID||"undefined"==typeof _IndexRequestData.impIDToSlotID[e.id])return;var s,n=0;"object"==typeof _IndexRequestData.reqOptions&&"object"==typeof _IndexRequestData.reqOptions[e.id]&&("function"==typeof _IndexRequestData.reqOptions[e.id].callback&&(s=_IndexRequestData.reqOptions[e.id].callback),"number"==typeof _IndexRequestData.reqOptions[e.id].targetMode&&(n=_IndexRequestData.reqOptions[e.id].targetMode)),_IndexRequestData.lastRequestID=e.id;for(var i=[],d="undefined"==typeof e.seatbid?0:e.seatbid.length,r=0;d>r;r++)for(var o=0;o<e.seatbid[r].bid.length;o++){var a=e.seatbid[r].bid[o];if("object"==typeof a.ext&&"string"==typeof a.ext.pricelevel&&"undefined"!=typeof _IndexRequestData.impIDToSlotID[e.id][a.impid]){var _=_IndexRequestData.impIDToSlotID[e.id][a.impid];"undefined"==typeof index_slots&&(index_slots=[]),"undefined"==typeof _IndexRequestData.targetIDToBid&&(_IndexRequestData.targetIDToBid={});var u,l;"string"==typeof a.ext.dealid?(u=1===n?_+a.ext.pricelevel:_+"_"+a.ext.dealid,l="P_"):(u=_+a.ext.pricelevel,l="O_"),index_slots.push(l+u),void 0===_IndexRequestData.targetIDToBid[u]?_IndexRequestData.targetIDToBid[u]=[a.adm]:_IndexRequestData.targetIDToBid[u].push(a.adm);var g={};g.impressionID=a.impid,"undefined"!=typeof a.ext.dealid&&(g.dealID=a.ext.dealid),g.bid=a.price,g.slotID=_,g.priceLevel=a.ext.pricelevel,g.target=l+u,i.push(g)}}"function"==typeof s&&(0===i.length?s(e.id):s(e.id,i));var f=cygnus_index_sqps(),c=1;if(0>f&&(c=0),c){cygnus_log("Enabling defaults if within sample percentage");var x=Math.random();x<cygnus_index_stats.sampling.defaults&&(cygnus_log("Defaults enabled, using bin: "+f),cygnus_index_prepare_defaults(f))}else cygnus_log("Defaults have been disabled.");cygnus_log(index_slots);for(var r=0;r<index_slots.length;r++)if(/^O_T1_/.test(index_slots[r])){var p=index_slots[r].split("_"),y="O_"+p[2]+"_"+p[3];index_slots_add.push(y);var h={};h[y]=index_slots[r],index_slots_render.push(h)}else index_slots_add.push(index_slots[r]);index_slots=index_slots_add,cygnus_log(index_slots),index_slots_sort=[];for(var r=0;r<index_slots.length;r++){var p=index_slots[r].split("_");4==p.length?("O"==p[0]&&(p[3]=Number(p[3])),index_slots_sort.push({RTM:p[0],ID:p[2],PX:p[3],TIER:p[1]})):("O"==p[0]&&(p[2]=Number(p[2])),index_slots_sort.push({RTM:p[0],ID:p[1],PX:p[2],TIER:"T0"}))}index_slots_sort.sort(t);var I={};index_slots=[];for(var r=0;r<index_slots_sort.length;r++)"undefined"==typeof I[index_slots_sort[r].ID]&&(index_slots.push(index_slots_sort[r].RTM+"_"+index_slots_sort[r].ID+"_"+index_slots_sort[r].PX),I[index_slots_sort[r].ID]=!0),cygnus_log(r+":"+index_slots_sort[r].PX);for(var r=0;r<index_slots_sort.length;r++)cygnus_log("PX:"+index_slots_sort[r].PX);cygnus_log(index_slots),cygnus_report("rb","RB="+index_slots.join())}}catch(D){}"undefined"==typeof index_slots&&(index_slots=[]),index_set_targets()}function index_render_default(e,t){var s="CasaleArgs = new Object();\nCasaleArgs.version = "+t.version+';\nCasaleArgs.adUnits = "'+t.adUnits+'";\nCasaleArgs.casaleID = '+t.casaleID+";\n";e.write("<script type='text/javascript'>"+s+"</script><script type='text/javascript' src='"+t.tag+"'></script>")}function index_render(e,t){if(index_activated_defaults.hasOwnProperty("O_"+t)){var s=index_activated_defaults["O_"+t];return cygnus_log("Detected default activation for target: O_"+t+", settings: "+JSON.stringify(s,null,"	")),cygnus_report("rd","RD="+t),index_render_default(e,s)}"undefined"==typeof index_demand&&(index_demand={});for(var n=t.split("_"),i=n[0],d=0;d<index_slots_render.length;d++)if("string"==typeof index_slots_render[d]["O_"+t]){cygnus_log("unpack tier"+t),t=index_slots_render[d]["O_"+t];var r=t.split("_");t=r[1]+"_"+r[2]+"_"+r[3],i=r[1]+"_"+r[2]}cygnus_log("index_render: "+t);try{var o=_IndexRequestData.targetIDToBid[t].pop();null!=o?(e.write(o),cygnus_report("ri","RI="+t),cygnus_log("Logged demand for slot "+i),index_demand[i]=1,delete index_no_demand[i]):cygnus_report("rinull","RINULL="+t)}catch(a){}}function cygnus_index_start(){function e(e){var t=d[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}function t(t){return i.lastIndex=0,i.test(t)?t.replace(i,e):t}function s(e,t){if(this.initialized=!1,"number"!=typeof e||e%1!==0||0>e)throw"Invalid Site ID";if(this.siteID=e,this.impressions=[],this._parseFnName=void 0,top===self?(this.sitePage=location.href,this.topframe=1):(this.sitePage=document.referrer,this.topframe=0),"undefined"!=typeof t){if("function"!=typeof t)throw"Invalid jsonp target function";this._parseFnName="cygnus_index_args.parseFn"}"undefined"==typeof _IndexRequestData.requestCounter?_IndexRequestData.requestCounter=Math.floor(256*Math.random()):_IndexRequestData.requestCounter=(_IndexRequestData.requestCounter+1)%256,this.requestID=String((new Date).getTime()%2592e3*256+_IndexRequestData.requestCounter+256),this.initialized=!0}function n(e,t){if(t){var s=document.createElement("script");s.setAttribute("src",e),s.setAttribute("type","text/javascript");var n=document.getElementsByTagName("script")[0];n.parentNode&&n.parentNode.insertBefore(s,n)}else document.write('<script src="'+e+'"></script>')}secondary_request=1,"undefined"==typeof index_no_demand&&(index_no_demand={}),index_slots_render=[],index_slots_add=[],targetID_to_slotID=[],index_activated_defaults={},cygnus_index_args.parseFn=cygnus_index_parse_res;var i=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,d={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};s.prototype.serialize=function(){var e='{"id":'+this.requestID+',"site":{"page":"'+t(this.sitePage)+'"';"string"==typeof document.referrer&&(e+=',"ref":"'+t(document.referrer)+'"'),e+='},"imp":[';for(var s=0;s<this.impressions.length;s++){var n=this.impressions[s],i=[];e+='{"id":"'+n.id+'", "banner":{"w":'+n.w+',"h":'+n.h+',"topframe":'+String(this.topframe)+"}","number"==typeof n.bidfloor&&(e+=',"bidfloor":'+n.bidfloor,"string"==typeof n.bidfloorcur&&(e+=',"bidfloorcur":"'+t(n.bidfloorcur)+'"')),"string"!=typeof n.slotID||n.slotID.match(/^\s*$/)||i.push('"sid":"'+t(n.slotID)+'"'),"number"==typeof n.siteID&&i.push('"siteID":'+n.siteID),i.length>0&&(e+=',"ext": {'+i.join()+"}"),e+=s+1==this.impressions.length?"}":"},"}return e+="]}"},s.prototype.setPageOverride=function(e){return"string"!=typeof e||e.match(/^\s*$/)?!1:(this.sitePage=e,!0)},s.prototype.addImpression=function(e,t,s,n,i,d){var r={id:String(this.impressions.length+1)};if("number"!=typeof e||1>=e)return null;if("number"!=typeof t||1>=t)return null;if(("string"==typeof i||"number"==typeof i)&&String(i).length<=50&&(r.slotID=String(i)),r.w=e,r.h=t,void 0!=s&&"number"!=typeof s)return null;if("number"==typeof s){if(0>s)return null;if(r.bidfloor=s,void 0!=n&&"string"!=typeof n)return null;r.bidfloorcur=n}if("undefined"!=typeof d){if(!("number"==typeof d&&d%1===0&&d>=0))return null;r.siteID=d}return this.impressions.push(r),r.id},s.prototype.sendRequestAsync=function(){if(0!=this.impressions.length&&this.initialized===!0){var e=encodeURIComponent(this.serialize()),t="https:"===window.location.protocol?"https://as-sec.casalemedia.com":"http://as.casalemedia.com";return t+="/cygnus?v=7&fn=cygnus_index_parse_res&s="+this.siteID+"&r="+e,n(t,cygnus_index_args.embedMode),this.requestID}};try{if("undefined"==typeof cygnus_index_args||"undefined"==typeof cygnus_index_args.siteID||"undefined"==typeof cygnus_index_args.slots)return;"undefined"==typeof _IndexRequestData&&(_IndexRequestData={},_IndexRequestData.impIDToSlotID={},_IndexRequestData.reqOptions={});var r=new s(cygnus_index_args.siteID,cygnus_index_args.parseFn);cygnus_index_args.url&&"string"==typeof cygnus_index_args.url&&r.setPageOverride(cygnus_index_args.url),_IndexRequestData.impIDToSlotID[r.requestID]={},_IndexRequestData.reqOptions[r.requestID]={};var o,a;"undefined"!=typeof index_demand&&cygnus_log("index_demand: "+JSON.stringify(index_demand,null,"	")),cygnus_log("index_no_demand: "+JSON.stringify(index_no_demand,null,"	"));for(var _=0;_<cygnus_index_args.slots.length;_++){if(o=cygnus_index_args.slots[_],"undefined"!=typeof index_demand&&"SQPS"!=slodDef.id&&!(o.id in index_demand)){var u=0;if("undefined"==typeof index_no_demand[o.id]&&"SQPS"!=slodDef.id)index_no_demand[o.id]=Date.now();else{var l=Date.now()-index_no_demand[o.id];l>15e3&&(u=1)}if(!u){cygnus_log("No demand recieved for slot: "+o.id+", not requesting more bids");continue}cygnus_log("slot "+o.id+" has expired. Requesting it once more."),index_no_demand[o.id]=Date.now()}a=r.addImpression(o.width,o.height,o.bidfloor,o.bidfloorcur,o.id,o.siteID),a&&(_IndexRequestData.impIDToSlotID[r.requestID][a]=String(o.id))}return"number"==typeof cygnus_index_args.targetMode&&(_IndexRequestData.reqOptions[r.requestID].targetMode=cygnus_index_args.targetMode),"function"==typeof cygnus_index_args.callback&&(_IndexRequestData.reqOptions[r.requestID].callback=cygnus_index_args.callback),r.sendRequestAsync()}catch(g){}}function getSlotInfo(e){for(var t=0;t<cygnus_index_args.slots.length;t++){var s=cygnus_index_args.slots[t];if(s.id==e)return s}return void 0}function cygnus_index_prepare_defaults(e){for(var t={},s=0;s<cygnus_index_args.default_slots.length;s++)for(var n=cygnus_index_args.default_slots[s],i=0;i<index_slots.length;i++){var d=new RegExp("^[OP]_"+n+"_.*$");if(d.test(index_slots[i])){{var r=index_slots[i].split("_");r[0],r[r.length-1]}t[n]=1}}cygnus_log("no_default_needed: "+JSON.stringify(t,null,"\n"));for(var s=0;s<cygnus_index_args.default_slots.length;s++){var n=cygnus_index_args.default_slots[s];if(!(n in t)){var o=cygnus_index_args.default_bins[e],a=cygnus_copy(cygnus_index_args.default_adcodes[o]),_=getSlotInfo(n),u=_.width+"x"+_.height,l=cygnus_index_adunits[u];if("undefined"!=typeof l){a.adUnits=String(l);var g="O_"+n+"_"+a.pricelevel;index_slot_to_size[g]=u,index_slots.push(g),index_activated_defaults[g]=a,cygnus_log("Added default targeting: "+g+"; size "+u+"; settings: "+JSON.stringify(a,null,"	"))}else cygnus_log("ERROR: Ad unit for size "+u+" does not exist, skipping adding default for slot: "+n)}}cygnus_log(JSON.stringify(index_activated_defaults,null,"	"))}function cygnus_copy(e){var t=new Object;for(var s in e)e.hasOwnProperty(s)&&(t[s]=e[s]);return t}function cygnus_index_sqps(){function e(e){var t=e.split("_");return"SQPS"!=t[1]?void 0:Number(t[2])}var t=-1;cygnus_index_args.sqps_slot="";for(var s=0;s<index_slots.length&&(t=e(index_slots[s]),cygnus_index_args.sqps_slot=index_slots[s],"undefined"==typeof t);s++);if("undefined"==typeof t||0>t)return cygnus_report("rdp","RDP=NULL"),-1;var n=-1;for(var i in cygnus_index_args.default_bins)cygnus_index_args.default_bins.hasOwnProperty(i)&&(t>i?i>n?n=i:cygnus_log("squelch blelow chosen: "+i+", "+n):cygnus_log("cpm too low"),cygnus_log("cpm: "+t+"\nchosen_bin: "+n+"\nsquelch_bin: "+i));return cygnus_log("final bin: "+n),n>=0?(cygnus_report("rdp","RDP="+cygnus_index_args.sqps_slot),n):-2}var cygnus_tid=4,cygnus_index_args={embedMode:1,siteID:158962,slots:[{id:"1",width:728,height:90,siteID:158962},{id:"2",width:300,height:250,siteID:158962},{id:"3",width:300,height:250,siteID:158962},{id:"4",width:728,height:90,siteID:158962},{id:"T1_1",width:728,height:90,siteID:164105},{id:"T1_2",width:300,height:250,siteID:164105},{id:"SQPS",width:300,height:250,siteID:165158}],default_slots:["1","2","3","4"],default_bins:{20:"70 cent"},default_adcodes:{"70 cent":{version:2,casaleID:165157,tag:"http://js.casalemedia.com/casaleJTag.js",pricelevel:70}}},cygnus_index_adunits={"728x90":2,"120x600":3,"300x250":4,"160x600":5,"336x280":6,"234x60":7,"300x600":8,"300x50":9,"320x50":10,"970x250":12,"300x1050":13,"970x90":14,"180x150":15};cygnus_index_stats={sampling:{defaults:1,rd:.01,rb:.01,rdp:.01,ri:.1,rinull:1,gstatus:0}};var tierone2tiertwo={160242:164103},secondary_request=0,index_slot_to_size={};cygnus_index_start();