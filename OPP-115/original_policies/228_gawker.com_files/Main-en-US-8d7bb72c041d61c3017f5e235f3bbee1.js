if("undefined"==typeof tiger)var tiger={};"undefined"==typeof tiger.components&&(tiger.components={}),"undefined"==typeof tiger.components.ad&&(tiger.components.ad={}),"undefined"==typeof tiger.components.forms&&(tiger.components.forms={}),"undefined"==typeof tiger.components.forms.modals&&(tiger.components.forms.modals={}),"undefined"==typeof tiger.components.forms.modals.headers&&(tiger.components.forms.modals.headers={}),"undefined"==typeof tiger.components.forms.modals.modal&&(tiger.components.forms.modals.modal={}),function(){function a(a){function b(b,c,d,e,f,g){for(;f>=0&&g>f;f+=a){var h=e?e[f]:f;d=c(d,b[h],h,b)}return d}return function(c,d,e,f){d=t(d,f,4);var g=!A(c)&&s.keys(c),h=(g||c).length,i=a>0?0:h-1;return arguments.length<3&&(e=c[g?g[i]:i],i+=a),b(c,d,e,g,i,h)}}function b(a){return function(b,c,d){c=u(c,d);for(var e=z(b),f=a>0?0:e-1;f>=0&&e>f;f+=a)if(c(b[f],f,b))return f;return-1}}function c(a,b,c){return function(d,e,f){var g=0,h=z(d);if("number"==typeof f)a>0?g=f>=0?f:Math.max(f+h,g):h=f>=0?Math.min(f+1,h):f+h+1;else if(c&&f&&h)return f=c(d,e),d[f]===e?f:-1;if(e!==e)return f=b(k.call(d,g,h),s.isNaN),f>=0?f+g:-1;for(f=a>0?g:h-1;f>=0&&h>f;f+=a)if(d[f]===e)return f;return-1}}function d(a,b){var c=F.length,d=a.constructor,e=s.isFunction(d)&&d.prototype||h,f="constructor";for(s.has(a,f)&&!s.contains(b,f)&&b.push(f);c--;)f=F[c],f in a&&a[f]!==e[f]&&!s.contains(b,f)&&b.push(f)}var e=this,f=e._,g=Array.prototype,h=Object.prototype,i=Function.prototype,j=g.push,k=g.slice,l=h.toString,m=h.hasOwnProperty,n=Array.isArray,o=Object.keys,p=i.bind,q=Object.create,r=function(){},s=function(a){return a instanceof s?a:this instanceof s?void(this._wrapped=a):new s(a)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=s),exports._=s):e._=s,s.VERSION="1.8.3";var t=function(a,b,c){if(void 0===b)return a;switch(null==c?3:c){case 1:return function(c){return a.call(b,c)};case 2:return function(c,d){return a.call(b,c,d)};case 3:return function(c,d,e){return a.call(b,c,d,e)};case 4:return function(c,d,e,f){return a.call(b,c,d,e,f)}}return function(){return a.apply(b,arguments)}},u=function(a,b,c){return null==a?s.identity:s.isFunction(a)?t(a,b,c):s.isObject(a)?s.matcher(a):s.property(a)};s.iteratee=function(a,b){return u(a,b,1/0)};var v=function(a,b){return function(c){var d=arguments.length;if(2>d||null==c)return c;for(var e=1;d>e;e++)for(var f=arguments[e],g=a(f),h=g.length,i=0;h>i;i++){var j=g[i];b&&void 0!==c[j]||(c[j]=f[j])}return c}},w=function(a){if(!s.isObject(a))return{};if(q)return q(a);r.prototype=a;var b=new r;return r.prototype=null,b},x=function(a){return function(b){return null==b?void 0:b[a]}},y=Math.pow(2,53)-1,z=x("length"),A=function(a){var b=z(a);return"number"==typeof b&&b>=0&&y>=b};s.each=s.forEach=function(a,b,c){b=t(b,c);var d,e;if(A(a))for(d=0,e=a.length;e>d;d++)b(a[d],d,a);else{var f=s.keys(a);for(d=0,e=f.length;e>d;d++)b(a[f[d]],f[d],a)}return a},s.map=s.collect=function(a,b,c){b=u(b,c);for(var d=!A(a)&&s.keys(a),e=(d||a).length,f=Array(e),g=0;e>g;g++){var h=d?d[g]:g;f[g]=b(a[h],h,a)}return f},s.reduce=s.foldl=s.inject=a(1),s.reduceRight=s.foldr=a(-1),s.find=s.detect=function(a,b,c){var d;return d=A(a)?s.findIndex(a,b,c):s.findKey(a,b,c),void 0!==d&&-1!==d?a[d]:void 0},s.filter=s.select=function(a,b,c){var d=[];return b=u(b,c),s.each(a,function(a,c,e){b(a,c,e)&&d.push(a)}),d},s.reject=function(a,b,c){return s.filter(a,s.negate(u(b)),c)},s.every=s.all=function(a,b,c){b=u(b,c);for(var d=!A(a)&&s.keys(a),e=(d||a).length,f=0;e>f;f++){var g=d?d[f]:f;if(!b(a[g],g,a))return!1}return!0},s.some=s.any=function(a,b,c){b=u(b,c);for(var d=!A(a)&&s.keys(a),e=(d||a).length,f=0;e>f;f++){var g=d?d[f]:f;if(b(a[g],g,a))return!0}return!1},s.contains=s.includes=s.include=function(a,b,c,d){return A(a)||(a=s.values(a)),("number"!=typeof c||d)&&(c=0),s.indexOf(a,b,c)>=0},s.invoke=function(a,b){var c=k.call(arguments,2),d=s.isFunction(b);return s.map(a,function(a){var e=d?b:a[b];return null==e?e:e.apply(a,c)})},s.pluck=function(a,b){return s.map(a,s.property(b))},s.where=function(a,b){return s.filter(a,s.matcher(b))},s.findWhere=function(a,b){return s.find(a,s.matcher(b))},s.max=function(a,b,c){var d,e,f=-1/0,g=-1/0;if(null==b&&null!=a){a=A(a)?a:s.values(a);for(var h=0,i=a.length;i>h;h++)d=a[h],d>f&&(f=d)}else b=u(b,c),s.each(a,function(a,c,d){e=b(a,c,d),(e>g||e===-1/0&&f===-1/0)&&(f=a,g=e)});return f},s.min=function(a,b,c){var d,e,f=1/0,g=1/0;if(null==b&&null!=a){a=A(a)?a:s.values(a);for(var h=0,i=a.length;i>h;h++)d=a[h],f>d&&(f=d)}else b=u(b,c),s.each(a,function(a,c,d){e=b(a,c,d),(g>e||1/0===e&&1/0===f)&&(f=a,g=e)});return f},s.shuffle=function(a){for(var b,c=A(a)?a:s.values(a),d=c.length,e=Array(d),f=0;d>f;f++)b=s.random(0,f),b!==f&&(e[f]=e[b]),e[b]=c[f];return e},s.sample=function(a,b,c){return null==b||c?(A(a)||(a=s.values(a)),a[s.random(a.length-1)]):s.shuffle(a).slice(0,Math.max(0,b))},s.sortBy=function(a,b,c){return b=u(b,c),s.pluck(s.map(a,function(a,c,d){return{value:a,index:c,criteria:b(a,c,d)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;if(c!==d){if(c>d||void 0===c)return 1;if(d>c||void 0===d)return-1}return a.index-b.index}),"value")};var B=function(a){return function(b,c,d){var e={};return c=u(c,d),s.each(b,function(d,f){var g=c(d,f,b);a(e,d,g)}),e}};s.groupBy=B(function(a,b,c){s.has(a,c)?a[c].push(b):a[c]=[b]}),s.indexBy=B(function(a,b,c){a[c]=b}),s.countBy=B(function(a,b,c){s.has(a,c)?a[c]++:a[c]=1}),s.toArray=function(a){return a?s.isArray(a)?k.call(a):A(a)?s.map(a,s.identity):s.values(a):[]},s.size=function(a){return null==a?0:A(a)?a.length:s.keys(a).length},s.partition=function(a,b,c){b=u(b,c);var d=[],e=[];return s.each(a,function(a,c,f){(b(a,c,f)?d:e).push(a)}),[d,e]},s.first=s.head=s.take=function(a,b,c){return null==a?void 0:null==b||c?a[0]:s.initial(a,a.length-b)},s.initial=function(a,b,c){return k.call(a,0,Math.max(0,a.length-(null==b||c?1:b)))},s.last=function(a,b,c){return null==a?void 0:null==b||c?a[a.length-1]:s.rest(a,Math.max(0,a.length-b))},s.rest=s.tail=s.drop=function(a,b,c){return k.call(a,null==b||c?1:b)},s.compact=function(a){return s.filter(a,s.identity)};var C=function(a,b,c,d){for(var e=[],f=0,g=d||0,h=z(a);h>g;g++){var i=a[g];if(A(i)&&(s.isArray(i)||s.isArguments(i))){b||(i=C(i,b,c));var j=0,k=i.length;for(e.length+=k;k>j;)e[f++]=i[j++]}else c||(e[f++]=i)}return e};s.flatten=function(a,b){return C(a,b,!1)},s.without=function(a){return s.difference(a,k.call(arguments,1))},s.uniq=s.unique=function(a,b,c,d){s.isBoolean(b)||(d=c,c=b,b=!1),null!=c&&(c=u(c,d));for(var e=[],f=[],g=0,h=z(a);h>g;g++){var i=a[g],j=c?c(i,g,a):i;b?(g&&f===j||e.push(i),f=j):c?s.contains(f,j)||(f.push(j),e.push(i)):s.contains(e,i)||e.push(i)}return e},s.union=function(){return s.uniq(C(arguments,!0,!0))},s.intersection=function(a){for(var b=[],c=arguments.length,d=0,e=z(a);e>d;d++){var f=a[d];if(!s.contains(b,f)){for(var g=1;c>g&&s.contains(arguments[g],f);g++);g===c&&b.push(f)}}return b},s.difference=function(a){var b=C(arguments,!0,!0,1);return s.filter(a,function(a){return!s.contains(b,a)})},s.zip=function(){return s.unzip(arguments)},s.unzip=function(a){for(var b=a&&s.max(a,z).length||0,c=Array(b),d=0;b>d;d++)c[d]=s.pluck(a,d);return c},s.object=function(a,b){for(var c={},d=0,e=z(a);e>d;d++)b?c[a[d]]=b[d]:c[a[d][0]]=a[d][1];return c},s.findIndex=b(1),s.findLastIndex=b(-1),s.sortedIndex=function(a,b,c,d){c=u(c,d,1);for(var e=c(b),f=0,g=z(a);g>f;){var h=Math.floor((f+g)/2);c(a[h])<e?f=h+1:g=h}return f},s.indexOf=c(1,s.findIndex,s.sortedIndex),s.lastIndexOf=c(-1,s.findLastIndex),s.range=function(a,b,c){null==b&&(b=a||0,a=0),c=c||1;for(var d=Math.max(Math.ceil((b-a)/c),0),e=Array(d),f=0;d>f;f++,a+=c)e[f]=a;return e};var D=function(a,b,c,d,e){if(!(d instanceof b))return a.apply(c,e);var f=w(a.prototype),g=a.apply(f,e);return s.isObject(g)?g:f};s.bind=function(a,b){if(p&&a.bind===p)return p.apply(a,k.call(arguments,1));if(!s.isFunction(a))throw new TypeError("Bind must be called on a function");var c=k.call(arguments,2),d=function(){return D(a,d,b,this,c.concat(k.call(arguments)))};return d},s.partial=function(a){var b=k.call(arguments,1),c=function(){for(var d=0,e=b.length,f=Array(e),g=0;e>g;g++)f[g]=b[g]===s?arguments[d++]:b[g];for(;d<arguments.length;)f.push(arguments[d++]);return D(a,c,this,this,f)};return c},s.bindAll=function(a){var b,c,d=arguments.length;if(1>=d)throw new Error("bindAll must be passed function names");for(b=1;d>b;b++)c=arguments[b],a[c]=s.bind(a[c],a);return a},s.memoize=function(a,b){var c=function(d){var e=c.cache,f=""+(b?b.apply(this,arguments):d);return s.has(e,f)||(e[f]=a.apply(this,arguments)),e[f]};return c.cache={},c},s.delay=function(a,b){var c=k.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)},s.defer=s.partial(s.delay,s,1),s.throttle=function(a,b,c){var d,e,f,g=null,h=0;c||(c={});var i=function(){h=c.leading===!1?0:s.now(),g=null,f=a.apply(d,e),g||(d=e=null)};return function(){var j=s.now();h||c.leading!==!1||(h=j);var k=b-(j-h);return d=this,e=arguments,0>=k||k>b?(g&&(clearTimeout(g),g=null),h=j,f=a.apply(d,e),g||(d=e=null)):g||c.trailing===!1||(g=setTimeout(i,k)),f}},s.debounce=function(a,b,c){var d,e,f,g,h,i=function(){var j=s.now()-g;b>j&&j>=0?d=setTimeout(i,b-j):(d=null,c||(h=a.apply(f,e),d||(f=e=null)))};return function(){f=this,e=arguments,g=s.now();var j=c&&!d;return d||(d=setTimeout(i,b)),j&&(h=a.apply(f,e),f=e=null),h}},s.wrap=function(a,b){return s.partial(b,a)},s.negate=function(a){return function(){return!a.apply(this,arguments)}},s.compose=function(){var a=arguments,b=a.length-1;return function(){for(var c=b,d=a[b].apply(this,arguments);c--;)d=a[c].call(this,d);return d}},s.after=function(a,b){return function(){return--a<1?b.apply(this,arguments):void 0}},s.before=function(a,b){var c;return function(){return--a>0&&(c=b.apply(this,arguments)),1>=a&&(b=null),c}},s.once=s.partial(s.before,2);var E=!{toString:null}.propertyIsEnumerable("toString"),F=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];s.keys=function(a){if(!s.isObject(a))return[];if(o)return o(a);var b=[];for(var c in a)s.has(a,c)&&b.push(c);return E&&d(a,b),b},s.allKeys=function(a){if(!s.isObject(a))return[];var b=[];for(var c in a)b.push(c);return E&&d(a,b),b},s.values=function(a){for(var b=s.keys(a),c=b.length,d=Array(c),e=0;c>e;e++)d[e]=a[b[e]];return d},s.mapObject=function(a,b,c){b=u(b,c);for(var d,e=s.keys(a),f=e.length,g={},h=0;f>h;h++)d=e[h],g[d]=b(a[d],d,a);return g},s.pairs=function(a){for(var b=s.keys(a),c=b.length,d=Array(c),e=0;c>e;e++)d[e]=[b[e],a[b[e]]];return d},s.invert=function(a){for(var b={},c=s.keys(a),d=0,e=c.length;e>d;d++)b[a[c[d]]]=c[d];return b},s.functions=s.methods=function(a){var b=[];for(var c in a)s.isFunction(a[c])&&b.push(c);return b.sort()},s.extend=v(s.allKeys),s.extendOwn=s.assign=v(s.keys),s.findKey=function(a,b,c){b=u(b,c);for(var d,e=s.keys(a),f=0,g=e.length;g>f;f++)if(d=e[f],b(a[d],d,a))return d},s.pick=function(a,b,c){var d,e,f={},g=a;if(null==g)return f;s.isFunction(b)?(e=s.allKeys(g),d=t(b,c)):(e=C(arguments,!1,!1,1),d=function(a,b,c){return b in c},g=Object(g));for(var h=0,i=e.length;i>h;h++){var j=e[h],k=g[j];d(k,j,g)&&(f[j]=k)}return f},s.omit=function(a,b,c){if(s.isFunction(b))b=s.negate(b);else{var d=s.map(C(arguments,!1,!1,1),String);b=function(a,b){return!s.contains(d,b)}}return s.pick(a,b,c)},s.defaults=v(s.allKeys,!0),s.create=function(a,b){var c=w(a);return b&&s.extendOwn(c,b),c},s.clone=function(a){return s.isObject(a)?s.isArray(a)?a.slice():s.extend({},a):a},s.tap=function(a,b){return b(a),a},s.isMatch=function(a,b){var c=s.keys(b),d=c.length;if(null==a)return!d;for(var e=Object(a),f=0;d>f;f++){var g=c[f];if(b[g]!==e[g]||!(g in e))return!1}return!0};var G=function(a,b,c,d){if(a===b)return 0!==a||1/a===1/b;if(null==a||null==b)return a===b;a instanceof s&&(a=a._wrapped),b instanceof s&&(b=b._wrapped);var e=l.call(a);if(e!==l.call(b))return!1;switch(e){case"[object RegExp]":case"[object String]":return""+a==""+b;case"[object Number]":return+a!==+a?+b!==+b:0===+a?1/+a===1/b:+a===+b;case"[object Date]":case"[object Boolean]":return+a===+b}var f="[object Array]"===e;if(!f){if("object"!=typeof a||"object"!=typeof b)return!1;var g=a.constructor,h=b.constructor;if(g!==h&&!(s.isFunction(g)&&g instanceof g&&s.isFunction(h)&&h instanceof h)&&"constructor"in a&&"constructor"in b)return!1}c=c||[],d=d||[];for(var i=c.length;i--;)if(c[i]===a)return d[i]===b;if(c.push(a),d.push(b),f){if(i=a.length,i!==b.length)return!1;for(;i--;)if(!G(a[i],b[i],c,d))return!1}else{var j,k=s.keys(a);if(i=k.length,s.keys(b).length!==i)return!1;for(;i--;)if(j=k[i],!s.has(b,j)||!G(a[j],b[j],c,d))return!1}return c.pop(),d.pop(),!0};s.isEqual=function(a,b){return G(a,b)},s.isEmpty=function(a){return null==a?!0:A(a)&&(s.isArray(a)||s.isString(a)||s.isArguments(a))?0===a.length:0===s.keys(a).length},s.isElement=function(a){return!(!a||1!==a.nodeType)},s.isArray=n||function(a){return"[object Array]"===l.call(a)},s.isObject=function(a){var b=typeof a;return"function"===b||"object"===b&&!!a},s.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(a){s["is"+a]=function(b){return l.call(b)==="[object "+a+"]"}}),s.isArguments(arguments)||(s.isArguments=function(a){return s.has(a,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(s.isFunction=function(a){return"function"==typeof a||!1}),s.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))},s.isNaN=function(a){return s.isNumber(a)&&a!==+a},s.isBoolean=function(a){return a===!0||a===!1||"[object Boolean]"===l.call(a)},s.isNull=function(a){return null===a},s.isUndefined=function(a){return void 0===a},s.has=function(a,b){return null!=a&&m.call(a,b)},s.noConflict=function(){return e._=f,this},s.identity=function(a){return a},s.constant=function(a){return function(){return a}},s.noop=function(){},s.property=x,s.propertyOf=function(a){return null==a?function(){}:function(b){return a[b]}},s.matcher=s.matches=function(a){return a=s.extendOwn({},a),function(b){return s.isMatch(b,a)}},s.times=function(a,b,c){var d=Array(Math.max(0,a));b=t(b,c,1);for(var e=0;a>e;e++)d[e]=b(e);return d},s.random=function(a,b){return null==b&&(b=a,a=0),a+Math.floor(Math.random()*(b-a+1))},s.now=Date.now||function(){return(new Date).getTime()};var H={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},I=s.invert(H),J=function(a){var b=function(b){return a[b]},c="(?:"+s.keys(a).join("|")+")",d=RegExp(c),e=RegExp(c,"g");return function(a){return a=null==a?"":""+a,d.test(a)?a.replace(e,b):a}};s.escape=J(H),s.unescape=J(I),s.result=function(a,b,c){var d=null==a?void 0:a[b];return void 0===d&&(d=c),s.isFunction(d)?d.call(a):d};var K=0;s.uniqueId=function(a){var b=++K+"";return a?a+b:b},s.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var L=/(.)^/,M={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},N=/\\|'|\r|\n|\u2028|\u2029/g,O=function(a){return"\\"+M[a]};s.template=function(a,b,c){!b&&c&&(b=c),b=s.defaults({},b,s.templateSettings);var d=RegExp([(b.escape||L).source,(b.interpolate||L).source,(b.evaluate||L).source].join("|")+"|$","g"),e=0,f="__p+='";a.replace(d,function(b,c,d,g,h){return f+=a.slice(e,h).replace(N,O),e=h+b.length,c?f+="'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'":d?f+="'+\n((__t=("+d+"))==null?'':__t)+\n'":g&&(f+="';\n"+g+"\n__p+='"),b}),f+="';\n",b.variable||(f="with(obj||{}){\n"+f+"}\n"),f="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+f+"return __p;\n";try{var g=new Function(b.variable||"obj","_",f)}catch(h){throw h.source=f,h}var i=function(a){return g.call(this,a,s)},j=b.variable||"obj";return i.source="function("+j+"){\n"+f+"}",i},s.chain=function(a){var b=s(a);return b._chain=!0,b};var P=function(a,b){return a._chain?s(b).chain():b};s.mixin=function(a){s.each(s.functions(a),function(b){var c=s[b]=a[b];s.prototype[b]=function(){var a=[this._wrapped];return j.apply(a,arguments),P(this,c.apply(s,a))}})},s.mixin(s),s.each(["pop","push","reverse","shift","sort","splice","unshift"],function(a){var b=g[a];s.prototype[a]=function(){var c=this._wrapped;return b.apply(c,arguments),"shift"!==a&&"splice"!==a||0!==c.length||delete c[0],P(this,c)}}),s.each(["concat","join","slice"],function(a){var b=g[a];s.prototype[a]=function(){return P(this,b.apply(this._wrapped,arguments))}}),s.prototype.value=function(){return this._wrapped},s.prototype.valueOf=s.prototype.toJSON=s.prototype.value,s.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return s})}.call(this),function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){function c(a){var b=a.length,c=_.type(a);return"function"===c||_.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}function d(a,b,c){if(_.isFunction(b))return _.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return _.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(hb.test(b))return _.filter(b,a,c);b=_.filter(b,a)}return _.grep(a,function(a){return U.call(b,a)>=0!==c})}function e(a,b){for(;(a=a[b])&&1!==a.nodeType;);return a}function f(a){var b=ob[a]={};return _.each(a.match(nb)||[],function(a,c){b[c]=!0}),b}function g(){Z.removeEventListener("DOMContentLoaded",g,!1),a.removeEventListener("load",g,!1),_.ready()}function h(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=_.expando+Math.random()}function i(a,b,c){var d;if(void 0===c&&1===a.nodeType)if(d="data-"+b.replace(ub,"-$1").toLowerCase(),c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:tb.test(c)?_.parseJSON(c):c}catch(e){}sb.set(a,b,c)}else c=void 0;return c}function j(){return!0}function k(){return!1}function l(){try{return Z.activeElement}catch(a){}}function m(a,b){return _.nodeName(a,"table")&&_.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function n(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function o(a){var b=Kb.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function p(a,b){for(var c=0,d=a.length;d>c;c++)rb.set(a[c],"globalEval",!b||rb.get(b[c],"globalEval"))}function q(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(rb.hasData(a)&&(f=rb.access(a),g=rb.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j)for(c=0,d=j[e].length;d>c;c++)_.event.add(b,e,j[e][c])}sb.hasData(a)&&(h=sb.access(a),i=_.extend({},h),sb.set(b,i))}}function r(a,b){var c=a.getElementsByTagName?a.getElementsByTagName(b||"*"):a.querySelectorAll?a.querySelectorAll(b||"*"):[];return void 0===b||b&&_.nodeName(a,b)?_.merge([a],c):c}function s(a,b){var c=b.nodeName.toLowerCase();"input"===c&&yb.test(a.type)?b.checked=a.checked:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}function t(b,c){var d,e=_(c.createElement(b)).appendTo(c.body),f=a.getDefaultComputedStyle&&(d=a.getDefaultComputedStyle(e[0]))?d.display:_.css(e[0],"display");return e.detach(),f}function u(a){var b=Z,c=Ob[a];return c||(c=t(a,b),"none"!==c&&c||(Nb=(Nb||_("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=Nb[0].contentDocument,b.write(),b.close(),c=t(a,b),Nb.detach()),Ob[a]=c),c}function v(a,b,c){var d,e,f,g,h=a.style;return c=c||Rb(a),c&&(g=c.getPropertyValue(b)||c[b]),c&&(""!==g||_.contains(a.ownerDocument,a)||(g=_.style(a,b)),Qb.test(g)&&Pb.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0!==g?g+"":g}function w(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}function x(a,b){if(b in a)return b;for(var c=b[0].toUpperCase()+b.slice(1),d=b,e=Xb.length;e--;)if(b=Xb[e]+c,b in a)return b;return d}function y(a,b,c){var d=Tb.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function z(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=_.css(a,c+wb[f],!0,e)),d?("content"===c&&(g-=_.css(a,"padding"+wb[f],!0,e)),"margin"!==c&&(g-=_.css(a,"border"+wb[f]+"Width",!0,e))):(g+=_.css(a,"padding"+wb[f],!0,e),"padding"!==c&&(g+=_.css(a,"border"+wb[f]+"Width",!0,e)));return g}function A(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=Rb(a),g="border-box"===_.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=v(a,b,f),(0>e||null==e)&&(e=a.style[b]),Qb.test(e))return e;d=g&&(Y.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+z(a,b,c||(g?"border":"content"),d,f)+"px"}function B(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=rb.get(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&xb(d)&&(f[g]=rb.access(d,"olddisplay",u(d.nodeName)))):(e=xb(d),"none"===c&&e||rb.set(d,"olddisplay",e?c:_.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}function C(a,b,c,d,e){return new C.prototype.init(a,b,c,d,e)}function D(){return setTimeout(function(){Yb=void 0}),Yb=_.now()}function E(a,b){var c,d=0,e={height:a};for(b=b?1:0;4>d;d+=2-b)c=wb[d],e["margin"+c]=e["padding"+c]=a;return b&&(e.opacity=e.width=a),e}function F(a,b,c){for(var d,e=(cc[b]||[]).concat(cc["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function G(a,b,c){var d,e,f,g,h,i,j,k,l=this,m={},n=a.style,o=a.nodeType&&xb(a),p=rb.get(a,"fxshow");c.queue||(h=_._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,l.always(function(){l.always(function(){h.unqueued--,_.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[n.overflow,n.overflowX,n.overflowY],j=_.css(a,"display"),k="none"===j?rb.get(a,"olddisplay")||u(a.nodeName):j,"inline"===k&&"none"===_.css(a,"float")&&(n.display="inline-block")),c.overflow&&(n.overflow="hidden",l.always(function(){n.overflow=c.overflow[0],n.overflowX=c.overflow[1],n.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],$b.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(o?"hide":"show")){if("show"!==e||!p||void 0===p[d])continue;o=!0}m[d]=p&&p[d]||_.style(a,d)}else j=void 0;if(_.isEmptyObject(m))"inline"===("none"===j?u(a.nodeName):j)&&(n.display=j);else{p?"hidden"in p&&(o=p.hidden):p=rb.access(a,"fxshow",{}),f&&(p.hidden=!o),o?_(a).show():l.done(function(){_(a).hide()}),l.done(function(){var b;rb.remove(a,"fxshow");for(b in m)_.style(a,b,m[b])});for(d in m)g=F(o?p[d]:0,d,l),d in p||(p[d]=g.start,o&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function H(a,b){var c,d,e,f,g;for(c in a)if(d=_.camelCase(c),e=b[d],f=a[c],_.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=_.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function I(a,b,c){var d,e,f=0,g=bc.length,h=_.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=Yb||D(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:_.extend({},b),opts:_.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:Yb||D(),duration:c.duration,tweens:[],createTween:function(b,c){var d=_.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(H(k,j.opts.specialEasing);g>f;f++)if(d=bc[f].call(j,a,k,j.opts))return d;return _.map(k,F,j),_.isFunction(j.opts.start)&&j.opts.start.call(a,j),_.fx.timer(_.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}function J(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(nb)||[];if(_.isFunction(c))for(;d=f[e++];)"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function K(a,b,c,d){function e(h){var i;return f[h]=!0,_.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||g||f[j]?g?!(i=j):void 0:(b.dataTypes.unshift(j),e(j),!1)}),i}var f={},g=a===vc;return e(b.dataTypes[0])||!f["*"]&&e("*")}function L(a,b){var c,d,e=_.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c]);return d&&_.extend(!0,a,d),a}function M(a,b,c){for(var d,e,f,g,h=a.contents,i=a.dataTypes;"*"===i[0];)i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader("Content-Type"));if(d)for(e in h)if(h[e]&&h[e].test(d)){i.unshift(e);break}if(i[0]in c)f=i[0];else{for(e in c){if(!i[0]||a.converters[e+" "+i[0]]){f=e;break}g||(g=e)}f=f||g}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function N(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];for(f=k.shift();f;)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}function O(a,b,c,d){var e;if(_.isArray(b))_.each(b,function(b,e){c||zc.test(a)?d(a,e):O(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==_.type(b))d(a,b);else for(e in b)O(a+"["+e+"]",b[e],c,d)}function P(a){return _.isWindow(a)?a:9===a.nodeType&&a.defaultView}var Q=[],R=Q.slice,S=Q.concat,T=Q.push,U=Q.indexOf,V={},W=V.toString,X=V.hasOwnProperty,Y={},Z=a.document,$="2.1.1",_=function(a,b){return new _.fn.init(a,b)},ab=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,bb=/^-ms-/,cb=/-([\da-z])/gi,db=function(a,b){return b.toUpperCase()};_.fn=_.prototype={jquery:$,constructor:_,selector:"",length:0,toArray:function(){return R.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:R.call(this)},pushStack:function(a){var b=_.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return _.each(this,a,b)},map:function(a){return this.pushStack(_.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(R.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:T,sort:Q.sort,splice:Q.splice},_.extend=_.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||_.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(a=arguments[h]))for(b in a)c=g[b],d=a[b],g!==d&&(j&&d&&(_.isPlainObject(d)||(e=_.isArray(d)))?(e?(e=!1,f=c&&_.isArray(c)?c:[]):f=c&&_.isPlainObject(c)?c:{},g[b]=_.extend(j,f,d)):void 0!==d&&(g[b]=d));return g},_.extend({expando:"jQuery"+($+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===_.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){return!_.isArray(a)&&a-parseFloat(a)>=0},isPlainObject:function(a){return"object"!==_.type(a)||a.nodeType||_.isWindow(a)?!1:a.constructor&&!X.call(a.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?V[W.call(a)]||"object":typeof a},globalEval:function(a){var b,c=eval;a=_.trim(a),a&&(1===a.indexOf("use strict")?(b=Z.createElement("script"),b.text=a,Z.head.appendChild(b).parentNode.removeChild(b)):c(a))},camelCase:function(a){return a.replace(bb,"ms-").replace(cb,db)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,d){var e,f=0,g=a.length,h=c(a);if(d){if(h)for(;g>f&&(e=b.apply(a[f],d),e!==!1);f++);else for(f in a)if(e=b.apply(a[f],d),e===!1)break}else if(h)for(;g>f&&(e=b.call(a[f],f,a[f]),e!==!1);f++);else for(f in a)if(e=b.call(a[f],f,a[f]),e===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(ab,"")},makeArray:function(a,b){var d=b||[];return null!=a&&(c(Object(a))?_.merge(d,"string"==typeof a?[a]:a):T.call(d,a)),d},inArray:function(a,b,c){return null==b?-1:U.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;c>d;d++)a[e++]=b[d];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,d){var e,f=0,g=a.length,h=c(a),i=[];if(h)for(;g>f;f++)e=b(a[f],f,d),null!=e&&i.push(e);else for(f in a)e=b(a[f],f,d),null!=e&&i.push(e);return S.apply([],i)},guid:1,proxy:function(a,b){var c,d,e;return"string"==typeof b&&(c=a[b],b=a,a=c),_.isFunction(a)?(d=R.call(arguments,2),e=function(){return a.apply(b||this,d.concat(R.call(arguments)))},e.guid=a.guid=a.guid||_.guid++,e):void 0},now:Date.now,support:Y}),_.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){V["[object "+b+"]"]=b.toLowerCase()});var eb=function(a){function b(a,b,c,d){var e,f,g,h,i,j,l,n,o,p;if((b?b.ownerDocument||b:O)!==G&&F(b),b=b||G,c=c||[],!a||"string"!=typeof a)return c;if(1!==(h=b.nodeType)&&9!==h)return[];if(I&&!d){if(e=sb.exec(a))if(g=e[1]){if(9===h){if(f=b.getElementById(g),!f||!f.parentNode)return c;if(f.id===g)return c.push(f),c}else if(b.ownerDocument&&(f=b.ownerDocument.getElementById(g))&&M(b,f)&&f.id===g)return c.push(f),c}else{if(e[2])return _.apply(c,b.getElementsByTagName(a)),c;if((g=e[3])&&v.getElementsByClassName&&b.getElementsByClassName)return _.apply(c,b.getElementsByClassName(g)),c}if(v.qsa&&(!J||!J.test(a))){if(n=l=N,o=b,p=9===h&&a,1===h&&"object"!==b.nodeName.toLowerCase()){for(j=z(a),(l=b.getAttribute("id"))?n=l.replace(ub,"\\$&"):b.setAttribute("id",n),n="[id='"+n+"'] ",i=j.length;i--;)j[i]=n+m(j[i]);o=tb.test(a)&&k(b.parentNode)||b,p=j.join(",")}if(p)try{return _.apply(c,o.querySelectorAll(p)),c}catch(q){}finally{l||b.removeAttribute("id")}}}return B(a.replace(ib,"$1"),b,c,d)}function c(){function a(c,d){return b.push(c+" ")>w.cacheLength&&delete a[b.shift()],a[c+" "]=d}var b=[];return a}function d(a){return a[N]=!0,a}function e(a){var b=G.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function f(a,b){for(var c=a.split("|"),d=a.length;d--;)w.attrHandle[c[d]]=b}function g(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||W)-(~a.sourceIndex||W);if(d)return d;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function h(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function i(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function j(a){return d(function(b){return b=+b,d(function(c,d){for(var e,f=a([],c.length,b),g=f.length;g--;)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function k(a){return a&&typeof a.getElementsByTagName!==V&&a}function l(){}function m(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function n(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=Q++;return b.first?function(b,c,f){for(;b=b[d];)if(1===b.nodeType||e)return a(b,c,f)
}:function(b,c,g){var h,i,j=[P,f];if(g){for(;b=b[d];)if((1===b.nodeType||e)&&a(b,c,g))return!0}else for(;b=b[d];)if(1===b.nodeType||e){if(i=b[N]||(b[N]={}),(h=i[d])&&h[0]===P&&h[1]===f)return j[2]=h[2];if(i[d]=j,j[2]=a(b,c,g))return!0}}}function o(a){return a.length>1?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function p(a,c,d){for(var e=0,f=c.length;f>e;e++)b(a,c[e],d);return d}function q(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function r(a,b,c,e,f,g){return e&&!e[N]&&(e=r(e)),f&&!f[N]&&(f=r(f,g)),d(function(d,g,h,i){var j,k,l,m=[],n=[],o=g.length,r=d||p(b||"*",h.nodeType?[h]:h,[]),s=!a||!d&&b?r:q(r,m,a,h,i),t=c?f||(d?a:o||e)?[]:g:s;if(c&&c(s,t,h,i),e)for(j=q(t,n),e(j,[],h,i),k=j.length;k--;)(l=j[k])&&(t[n[k]]=!(s[n[k]]=l));if(d){if(f||a){if(f){for(j=[],k=t.length;k--;)(l=t[k])&&j.push(s[k]=l);f(null,t=[],j,i)}for(k=t.length;k--;)(l=t[k])&&(j=f?bb.call(d,l):m[k])>-1&&(d[j]=!(g[j]=l))}}else t=q(t===g?t.splice(o,t.length):t),f?f(null,g,t,i):_.apply(g,t)})}function s(a){for(var b,c,d,e=a.length,f=w.relative[a[0].type],g=f||w.relative[" "],h=f?1:0,i=n(function(a){return a===b},g,!0),j=n(function(a){return bb.call(b,a)>-1},g,!0),k=[function(a,c,d){return!f&&(d||c!==C)||((b=c).nodeType?i(a,c,d):j(a,c,d))}];e>h;h++)if(c=w.relative[a[h].type])k=[n(o(k),c)];else{if(c=w.filter[a[h].type].apply(null,a[h].matches),c[N]){for(d=++h;e>d&&!w.relative[a[d].type];d++);return r(h>1&&o(k),h>1&&m(a.slice(0,h-1).concat({value:" "===a[h-2].type?"*":""})).replace(ib,"$1"),c,d>h&&s(a.slice(h,d)),e>d&&s(a=a.slice(d)),e>d&&m(a))}k.push(c)}return o(k)}function t(a,c){var e=c.length>0,f=a.length>0,g=function(d,g,h,i,j){var k,l,m,n=0,o="0",p=d&&[],r=[],s=C,t=d||f&&w.find.TAG("*",j),u=P+=null==s?1:Math.random()||.1,v=t.length;for(j&&(C=g!==G&&g);o!==v&&null!=(k=t[o]);o++){if(f&&k){for(l=0;m=a[l++];)if(m(k,g,h)){i.push(k);break}j&&(P=u)}e&&((k=!m&&k)&&n--,d&&p.push(k))}if(n+=o,e&&o!==n){for(l=0;m=c[l++];)m(p,r,g,h);if(d){if(n>0)for(;o--;)p[o]||r[o]||(r[o]=Z.call(i));r=q(r)}_.apply(i,r),j&&!d&&r.length>0&&n+c.length>1&&b.uniqueSort(i)}return j&&(P=u,C=s),p};return e?d(g):g}var u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N="sizzle"+-new Date,O=a.document,P=0,Q=0,R=c(),S=c(),T=c(),U=function(a,b){return a===b&&(E=!0),0},V="undefined",W=1<<31,X={}.hasOwnProperty,Y=[],Z=Y.pop,$=Y.push,_=Y.push,ab=Y.slice,bb=Y.indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(this[b]===a)return b;return-1},cb="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",db="[\\x20\\t\\r\\n\\f]",eb="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",fb=eb.replace("w","w#"),gb="\\["+db+"*("+eb+")(?:"+db+"*([*^$|!~]?=)"+db+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+fb+"))|)"+db+"*\\]",hb=":("+eb+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+gb+")*)|.*)\\)|)",ib=new RegExp("^"+db+"+|((?:^|[^\\\\])(?:\\\\.)*)"+db+"+$","g"),jb=new RegExp("^"+db+"*,"+db+"*"),kb=new RegExp("^"+db+"*([>+~]|"+db+")"+db+"*"),lb=new RegExp("="+db+"*([^\\]'\"]*?)"+db+"*\\]","g"),mb=new RegExp(hb),nb=new RegExp("^"+fb+"$"),ob={ID:new RegExp("^#("+eb+")"),CLASS:new RegExp("^\\.("+eb+")"),TAG:new RegExp("^("+eb.replace("w","w*")+")"),ATTR:new RegExp("^"+gb),PSEUDO:new RegExp("^"+hb),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+db+"*(even|odd|(([+-]|)(\\d*)n|)"+db+"*(?:([+-]|)"+db+"*(\\d+)|))"+db+"*\\)|)","i"),bool:new RegExp("^(?:"+cb+")$","i"),needsContext:new RegExp("^"+db+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+db+"*((?:-\\d)?\\d*)"+db+"*\\)|)(?=[^-]|$)","i")},pb=/^(?:input|select|textarea|button)$/i,qb=/^h\d$/i,rb=/^[^{]+\{\s*\[native \w/,sb=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,tb=/[+~]/,ub=/'|\\/g,vb=new RegExp("\\\\([\\da-f]{1,6}"+db+"?|("+db+")|.)","ig"),wb=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)};try{_.apply(Y=ab.call(O.childNodes),O.childNodes),Y[O.childNodes.length].nodeType}catch(xb){_={apply:Y.length?function(a,b){$.apply(a,ab.call(b))}:function(a,b){for(var c=a.length,d=0;a[c++]=b[d++];);a.length=c-1}}}v=b.support={},y=b.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},F=b.setDocument=function(a){var b,c=a?a.ownerDocument||a:O,d=c.defaultView;return c!==G&&9===c.nodeType&&c.documentElement?(G=c,H=c.documentElement,I=!y(c),d&&d!==d.top&&(d.addEventListener?d.addEventListener("unload",function(){F()},!1):d.attachEvent&&d.attachEvent("onunload",function(){F()})),v.attributes=e(function(a){return a.className="i",!a.getAttribute("className")}),v.getElementsByTagName=e(function(a){return a.appendChild(c.createComment("")),!a.getElementsByTagName("*").length}),v.getElementsByClassName=rb.test(c.getElementsByClassName)&&e(function(a){return a.innerHTML="<div class='a'></div><div class='a i'></div>",a.firstChild.className="i",2===a.getElementsByClassName("i").length}),v.getById=e(function(a){return H.appendChild(a).id=N,!c.getElementsByName||!c.getElementsByName(N).length}),v.getById?(w.find.ID=function(a,b){if(typeof b.getElementById!==V&&I){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},w.filter.ID=function(a){var b=a.replace(vb,wb);return function(a){return a.getAttribute("id")===b}}):(delete w.find.ID,w.filter.ID=function(a){var b=a.replace(vb,wb);return function(a){var c=typeof a.getAttributeNode!==V&&a.getAttributeNode("id");return c&&c.value===b}}),w.find.TAG=v.getElementsByTagName?function(a,b){return typeof b.getElementsByTagName!==V?b.getElementsByTagName(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){for(;c=f[e++];)1===c.nodeType&&d.push(c);return d}return f},w.find.CLASS=v.getElementsByClassName&&function(a,b){return typeof b.getElementsByClassName!==V&&I?b.getElementsByClassName(a):void 0},K=[],J=[],(v.qsa=rb.test(c.querySelectorAll))&&(e(function(a){a.innerHTML="<select msallowclip=''><option selected=''></option></select>",a.querySelectorAll("[msallowclip^='']").length&&J.push("[*^$]="+db+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||J.push("\\["+db+"*(?:value|"+cb+")"),a.querySelectorAll(":checked").length||J.push(":checked")}),e(function(a){var b=c.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&J.push("name"+db+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||J.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),J.push(",.*:")})),(v.matchesSelector=rb.test(L=H.matches||H.webkitMatchesSelector||H.mozMatchesSelector||H.oMatchesSelector||H.msMatchesSelector))&&e(function(a){v.disconnectedMatch=L.call(a,"div"),L.call(a,"[s!='']:x"),K.push("!=",hb)}),J=J.length&&new RegExp(J.join("|")),K=K.length&&new RegExp(K.join("|")),b=rb.test(H.compareDocumentPosition),M=b||rb.test(H.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},U=b?function(a,b){if(a===b)return E=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!v.sortDetached&&b.compareDocumentPosition(a)===d?a===c||a.ownerDocument===O&&M(O,a)?-1:b===c||b.ownerDocument===O&&M(O,b)?1:D?bb.call(D,a)-bb.call(D,b):0:4&d?-1:1)}:function(a,b){if(a===b)return E=!0,0;var d,e=0,f=a.parentNode,h=b.parentNode,i=[a],j=[b];if(!f||!h)return a===c?-1:b===c?1:f?-1:h?1:D?bb.call(D,a)-bb.call(D,b):0;if(f===h)return g(a,b);for(d=a;d=d.parentNode;)i.unshift(d);for(d=b;d=d.parentNode;)j.unshift(d);for(;i[e]===j[e];)e++;return e?g(i[e],j[e]):i[e]===O?-1:j[e]===O?1:0},c):G},b.matches=function(a,c){return b(a,null,null,c)},b.matchesSelector=function(a,c){if((a.ownerDocument||a)!==G&&F(a),c=c.replace(lb,"='$1']"),!(!v.matchesSelector||!I||K&&K.test(c)||J&&J.test(c)))try{var d=L.call(a,c);if(d||v.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return b(c,G,null,[a]).length>0},b.contains=function(a,b){return(a.ownerDocument||a)!==G&&F(a),M(a,b)},b.attr=function(a,b){(a.ownerDocument||a)!==G&&F(a);var c=w.attrHandle[b.toLowerCase()],d=c&&X.call(w.attrHandle,b.toLowerCase())?c(a,b,!I):void 0;return void 0!==d?d:v.attributes||!I?a.getAttribute(b):(d=a.getAttributeNode(b))&&d.specified?d.value:null},b.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},b.uniqueSort=function(a){var b,c=[],d=0,e=0;if(E=!v.detectDuplicates,D=!v.sortStable&&a.slice(0),a.sort(U),E){for(;b=a[e++];)b===a[e]&&(d=c.push(e));for(;d--;)a.splice(c[d],1)}return D=null,a},x=b.getText=function(a){var b,c="",d=0,e=a.nodeType;if(e){if(1===e||9===e||11===e){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=x(a)}else if(3===e||4===e)return a.nodeValue}else for(;b=a[d++];)c+=x(b);return c},w=b.selectors={cacheLength:50,createPseudo:d,match:ob,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(vb,wb),a[3]=(a[3]||a[4]||a[5]||"").replace(vb,wb),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||b.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&b.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return ob.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&mb.test(c)&&(b=z(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(vb,wb).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=R[a+" "];return b||(b=new RegExp("(^|"+db+")"+a+"("+db+"|$)"))&&R(a,function(a){return b.test("string"==typeof a.className&&a.className||typeof a.getAttribute!==V&&a.getAttribute("class")||"")})},ATTR:function(a,c,d){return function(e){var f=b.attr(e,a);return null==f?"!="===c:c?(f+="","="===c?f===d:"!="===c?f!==d:"^="===c?d&&0===f.indexOf(d):"*="===c?d&&f.indexOf(d)>-1:"$="===c?d&&f.slice(-d.length)===d:"~="===c?(" "+f+" ").indexOf(d)>-1:"|="===c?f===d||f.slice(0,d.length+1)===d+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){for(;p;){for(l=b;l=l[p];)if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){for(k=q[N]||(q[N]={}),j=k[a]||[],n=j[0]===P&&j[1],m=j[0]===P&&j[2],l=n&&q.childNodes[n];l=++n&&l&&l[p]||(m=n=0)||o.pop();)if(1===l.nodeType&&++m&&l===b){k[a]=[P,n,m];break}}else if(s&&(j=(b[N]||(b[N]={}))[a])&&j[0]===P)m=j[1];else for(;(l=++n&&l&&l[p]||(m=n=0)||o.pop())&&((h?l.nodeName.toLowerCase()!==r:1!==l.nodeType)||!++m||(s&&((l[N]||(l[N]={}))[a]=[P,m]),l!==b)););return m-=e,m===d||m%d===0&&m/d>=0}}},PSEUDO:function(a,c){var e,f=w.pseudos[a]||w.setFilters[a.toLowerCase()]||b.error("unsupported pseudo: "+a);return f[N]?f(c):f.length>1?(e=[a,a,"",c],w.setFilters.hasOwnProperty(a.toLowerCase())?d(function(a,b){for(var d,e=f(a,c),g=e.length;g--;)d=bb.call(a,e[g]),a[d]=!(b[d]=e[g])}):function(a){return f(a,0,e)}):f}},pseudos:{not:d(function(a){var b=[],c=[],e=A(a.replace(ib,"$1"));return e[N]?d(function(a,b,c,d){for(var f,g=e(a,null,d,[]),h=a.length;h--;)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,d,f){return b[0]=a,e(b,null,f,c),!c.pop()}}),has:d(function(a){return function(c){return b(a,c).length>0}}),contains:d(function(a){return function(b){return(b.textContent||b.innerText||x(b)).indexOf(a)>-1}}),lang:d(function(a){return nb.test(a||"")||b.error("unsupported lang: "+a),a=a.replace(vb,wb).toLowerCase(),function(b){var c;do if(c=I?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===H},focus:function(a){return a===G.activeElement&&(!G.hasFocus||G.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!w.pseudos.empty(a)},header:function(a){return qb.test(a.nodeName)},input:function(a){return pb.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:j(function(){return[0]}),last:j(function(a,b){return[b-1]}),eq:j(function(a,b,c){return[0>c?c+b:c]}),even:j(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:j(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:j(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:j(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},w.pseudos.nth=w.pseudos.eq;for(u in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[u]=h(u);for(u in{submit:!0,reset:!0})w.pseudos[u]=i(u);return l.prototype=w.filters=w.pseudos,w.setFilters=new l,z=b.tokenize=function(a,c){var d,e,f,g,h,i,j,k=S[a+" "];if(k)return c?0:k.slice(0);for(h=a,i=[],j=w.preFilter;h;){(!d||(e=jb.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),d=!1,(e=kb.exec(h))&&(d=e.shift(),f.push({value:d,type:e[0].replace(ib," ")}),h=h.slice(d.length));for(g in w.filter)!(e=ob[g].exec(h))||j[g]&&!(e=j[g](e))||(d=e.shift(),f.push({value:d,type:g,matches:e}),h=h.slice(d.length));if(!d)break}return c?h.length:h?b.error(a):S(a,i).slice(0)},A=b.compile=function(a,b){var c,d=[],e=[],f=T[a+" "];if(!f){for(b||(b=z(a)),c=b.length;c--;)f=s(b[c]),f[N]?d.push(f):e.push(f);f=T(a,t(e,d)),f.selector=a}return f},B=b.select=function(a,b,c,d){var e,f,g,h,i,j="function"==typeof a&&a,l=!d&&z(a=j.selector||a);if(c=c||[],1===l.length){if(f=l[0]=l[0].slice(0),f.length>2&&"ID"===(g=f[0]).type&&v.getById&&9===b.nodeType&&I&&w.relative[f[1].type]){if(b=(w.find.ID(g.matches[0].replace(vb,wb),b)||[])[0],!b)return c;j&&(b=b.parentNode),a=a.slice(f.shift().value.length)}for(e=ob.needsContext.test(a)?0:f.length;e--&&(g=f[e],!w.relative[h=g.type]);)if((i=w.find[h])&&(d=i(g.matches[0].replace(vb,wb),tb.test(f[0].type)&&k(b.parentNode)||b))){if(f.splice(e,1),a=d.length&&m(f),!a)return _.apply(c,d),c;break}}return(j||A(a,l))(d,b,!I,c,tb.test(a)&&k(b.parentNode)||b),c},v.sortStable=N.split("").sort(U).join("")===N,v.detectDuplicates=!!E,F(),v.sortDetached=e(function(a){return 1&a.compareDocumentPosition(G.createElement("div"))}),e(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||f("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),v.attributes&&e(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||f("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),e(function(a){return null==a.getAttribute("disabled")})||f(cb,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),b}(a);_.find=eb,_.expr=eb.selectors,_.expr[":"]=_.expr.pseudos,_.unique=eb.uniqueSort,_.text=eb.getText,_.isXMLDoc=eb.isXML,_.contains=eb.contains;var fb=_.expr.match.needsContext,gb=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,hb=/^.[^:#\[\.,]*$/;_.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?_.find.matchesSelector(d,a)?[d]:[]:_.find.matches(a,_.grep(b,function(a){return 1===a.nodeType}))},_.fn.extend({find:function(a){var b,c=this.length,d=[],e=this;if("string"!=typeof a)return this.pushStack(_(a).filter(function(){for(b=0;c>b;b++)if(_.contains(e[b],this))return!0}));for(b=0;c>b;b++)_.find(a,e[b],d);return d=this.pushStack(c>1?_.unique(d):d),d.selector=this.selector?this.selector+" "+a:a,d},filter:function(a){return this.pushStack(d(this,a||[],!1))},not:function(a){return this.pushStack(d(this,a||[],!0))},is:function(a){return!!d(this,"string"==typeof a&&fb.test(a)?_(a):a||[],!1).length}});var ib,jb=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,kb=_.fn.init=function(a,b){var c,d;if(!a)return this;if("string"==typeof a){if(c="<"===a[0]&&">"===a[a.length-1]&&a.length>=3?[null,a,null]:jb.exec(a),!c||!c[1]&&b)return!b||b.jquery?(b||ib).find(a):this.constructor(b).find(a);if(c[1]){if(b=b instanceof _?b[0]:b,_.merge(this,_.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:Z,!0)),gb.test(c[1])&&_.isPlainObject(b))for(c in b)_.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c]);return this}return d=Z.getElementById(c[2]),d&&d.parentNode&&(this.length=1,this[0]=d),this.context=Z,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):_.isFunction(a)?"undefined"!=typeof ib.ready?ib.ready(a):a(_):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),_.makeArray(a,this))};kb.prototype=_.fn,ib=_(Z);var lb=/^(?:parents|prev(?:Until|All))/,mb={children:!0,contents:!0,next:!0,prev:!0};_.extend({dir:function(a,b,c){for(var d=[],e=void 0!==c;(a=a[b])&&9!==a.nodeType;)if(1===a.nodeType){if(e&&_(a).is(c))break;d.push(a)}return d},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}}),_.fn.extend({has:function(a){var b=_(a,this),c=b.length;return this.filter(function(){for(var a=0;c>a;a++)if(_.contains(this,b[a]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=fb.test(a)||"string"!=typeof a?_(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&_.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?_.unique(f):f)},index:function(a){return a?"string"==typeof a?U.call(_(a),this[0]):U.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(_.unique(_.merge(this.get(),_(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}}),_.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return _.dir(a,"parentNode")},parentsUntil:function(a,b,c){return _.dir(a,"parentNode",c)},next:function(a){return e(a,"nextSibling")},prev:function(a){return e(a,"previousSibling")},nextAll:function(a){return _.dir(a,"nextSibling")},prevAll:function(a){return _.dir(a,"previousSibling")},nextUntil:function(a,b,c){return _.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return _.dir(a,"previousSibling",c)},siblings:function(a){return _.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return _.sibling(a.firstChild)},contents:function(a){return a.contentDocument||_.merge([],a.childNodes)}},function(a,b){_.fn[a]=function(c,d){var e=_.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=_.filter(d,e)),this.length>1&&(mb[a]||_.unique(e),lb.test(a)&&e.reverse()),this.pushStack(e)}});var nb=/\S+/g,ob={};_.Callbacks=function(a){a="string"==typeof a?ob[a]||f(a):_.extend({},a);var b,c,d,e,g,h,i=[],j=!a.once&&[],k=function(f){for(b=a.memory&&f,c=!0,h=e||0,e=0,g=i.length,d=!0;i&&g>h;h++)if(i[h].apply(f[0],f[1])===!1&&a.stopOnFalse){b=!1;break}d=!1,i&&(j?j.length&&k(j.shift()):b?i=[]:l.disable())},l={add:function(){if(i){var c=i.length;!function f(b){_.each(b,function(b,c){var d=_.type(c);"function"===d?a.unique&&l.has(c)||i.push(c):c&&c.length&&"string"!==d&&f(c)})}(arguments),d?g=i.length:b&&(e=c,k(b))}return this},remove:function(){return i&&_.each(arguments,function(a,b){for(var c;(c=_.inArray(b,i,c))>-1;)i.splice(c,1),d&&(g>=c&&g--,h>=c&&h--)}),this},has:function(a){return a?_.inArray(a,i)>-1:!(!i||!i.length)},empty:function(){return i=[],g=0,this},disable:function(){return i=j=b=void 0,this},disabled:function(){return!i},lock:function(){return j=void 0,b||l.disable(),this},locked:function(){return!j},fireWith:function(a,b){return!i||c&&!j||(b=b||[],b=[a,b.slice?b.slice():b],d?j.push(b):k(b)),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!c}};return l},_.extend({Deferred:function(a){var b=[["resolve","done",_.Callbacks("once memory"),"resolved"],["reject","fail",_.Callbacks("once memory"),"rejected"],["notify","progress",_.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return _.Deferred(function(c){_.each(b,function(b,f){var g=_.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&_.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?_.extend(a,d):d}},e={};return d.pipe=d.then,_.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b,c,d,e=0,f=R.call(arguments),g=f.length,h=1!==g||a&&_.isFunction(a.promise)?g:0,i=1===h?a:_.Deferred(),j=function(a,c,d){return function(e){c[a]=this,d[a]=arguments.length>1?R.call(arguments):e,d===b?i.notifyWith(c,d):--h||i.resolveWith(c,d)}};if(g>1)for(b=new Array(g),c=new Array(g),d=new Array(g);g>e;e++)f[e]&&_.isFunction(f[e].promise)?f[e].promise().done(j(e,d,f)).fail(i.reject).progress(j(e,c,b)):--h;return h||i.resolveWith(d,f),i.promise()}});var pb;_.fn.ready=function(a){return _.ready.promise().done(a),this},_.extend({isReady:!1,readyWait:1,holdReady:function(a){a?_.readyWait++:_.ready(!0)},ready:function(a){(a===!0?--_.readyWait:_.isReady)||(_.isReady=!0,a!==!0&&--_.readyWait>0||(pb.resolveWith(Z,[_]),_.fn.triggerHandler&&(_(Z).triggerHandler("ready"),_(Z).off("ready"))))}}),_.ready.promise=function(b){return pb||(pb=_.Deferred(),"complete"===Z.readyState?setTimeout(_.ready):(Z.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1))),pb.promise(b)},_.ready.promise();var qb=_.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===_.type(c)){e=!0;for(h in c)_.access(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,_.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(_(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f};_.acceptData=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType},h.uid=1,h.accepts=_.acceptData,h.prototype={key:function(a){if(!h.accepts(a))return 0;var b={},c=a[this.expando];if(!c){c=h.uid++;try{b[this.expando]={value:c},Object.defineProperties(a,b)}catch(d){b[this.expando]=c,_.extend(a,b)}}return this.cache[c]||(this.cache[c]={}),c},set:function(a,b,c){var d,e=this.key(a),f=this.cache[e];if("string"==typeof b)f[b]=c;else if(_.isEmptyObject(f))_.extend(this.cache[e],b);else for(d in b)f[d]=b[d];return f},get:function(a,b){var c=this.cache[this.key(a)];return void 0===b?c:c[b]},access:function(a,b,c){var d;return void 0===b||b&&"string"==typeof b&&void 0===c?(d=this.get(a,b),void 0!==d?d:this.get(a,_.camelCase(b))):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d,e,f=this.key(a),g=this.cache[f];if(void 0===b)this.cache[f]={};else{_.isArray(b)?d=b.concat(b.map(_.camelCase)):(e=_.camelCase(b),b in g?d=[b,e]:(d=e,d=d in g?[d]:d.match(nb)||[])),c=d.length;for(;c--;)delete g[d[c]]}},hasData:function(a){return!_.isEmptyObject(this.cache[a[this.expando]]||{})},discard:function(a){a[this.expando]&&delete this.cache[a[this.expando]]}};var rb=new h,sb=new h,tb=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ub=/([A-Z])/g;_.extend({hasData:function(a){return sb.hasData(a)||rb.hasData(a)},data:function(a,b,c){return sb.access(a,b,c)},removeData:function(a,b){sb.remove(a,b)},_data:function(a,b,c){return rb.access(a,b,c)},_removeData:function(a,b){rb.remove(a,b)}}),_.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=sb.get(f),1===f.nodeType&&!rb.get(f,"hasDataAttrs"))){for(c=g.length;c--;)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=_.camelCase(d.slice(5)),i(f,d,e[d])));rb.set(f,"hasDataAttrs",!0)}return e}return"object"==typeof a?this.each(function(){sb.set(this,a)}):qb(this,function(b){var c,d=_.camelCase(a);if(f&&void 0===b){if(c=sb.get(f,a),void 0!==c)return c;if(c=sb.get(f,d),void 0!==c)return c;if(c=i(f,d,void 0),void 0!==c)return c}else this.each(function(){var c=sb.get(this,d);sb.set(this,d,b),-1!==a.indexOf("-")&&void 0!==c&&sb.set(this,a,b)})},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){sb.remove(this,a)})}}),_.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=rb.get(a,b),c&&(!d||_.isArray(c)?d=rb.access(a,b,_.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=_.queue(a,b),d=c.length,e=c.shift(),f=_._queueHooks(a,b),g=function(){_.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return rb.get(a,c)||rb.access(a,c,{empty:_.Callbacks("once memory").add(function(){rb.remove(a,[b+"queue",c])})})}}),_.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?_.queue(this[0],a):void 0===b?this:this.each(function(){var c=_.queue(this,a,b);_._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&_.dequeue(this,a)})},dequeue:function(a){return this.each(function(){_.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=_.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};for("string"!=typeof a&&(b=a,a=void 0),a=a||"fx";g--;)c=rb.get(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var vb=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,wb=["Top","Right","Bottom","Left"],xb=function(a,b){return a=b||a,"none"===_.css(a,"display")||!_.contains(a.ownerDocument,a)},yb=/^(?:checkbox|radio)$/i;!function(){var a=Z.createDocumentFragment(),b=a.appendChild(Z.createElement("div")),c=Z.createElement("input");c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","t"),b.appendChild(c),Y.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",Y.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();var zb="undefined";Y.focusinBubbles="onfocusin"in a;var Ab=/^key/,Bb=/^(?:mouse|pointer|contextmenu)|click/,Cb=/^(?:focusinfocus|focusoutblur)$/,Db=/^([^.]*)(?:\.(.+)|)$/;_.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=rb.get(a);if(q)for(c.handler&&(f=c,c=f.handler,e=f.selector),c.guid||(c.guid=_.guid++),(i=q.events)||(i=q.events={}),(g=q.handle)||(g=q.handle=function(b){return typeof _!==zb&&_.event.triggered!==b.type?_.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(nb)||[""],j=b.length;j--;)h=Db.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n&&(l=_.event.special[n]||{},n=(e?l.delegateType:l.bindType)||n,l=_.event.special[n]||{},k=_.extend({type:n,origType:p,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&_.expr.match.needsContext.test(e),namespace:o.join(".")},f),(m=i[n])||(m=i[n]=[],m.delegateCount=0,l.setup&&l.setup.call(a,d,o,g)!==!1||a.addEventListener&&a.addEventListener(n,g,!1)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),_.event.global[n]=!0)},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=rb.hasData(a)&&rb.get(a);if(q&&(i=q.events)){for(b=(b||"").match(nb)||[""],j=b.length;j--;)if(h=Db.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n){for(l=_.event.special[n]||{},n=(d?l.delegateType:l.bindType)||n,m=i[n]||[],h=h[2]&&new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=f=m.length;f--;)k=m[f],!e&&p!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&("**"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k));g&&!m.length&&(l.teardown&&l.teardown.call(a,o,q.handle)!==!1||_.removeEvent(a,n,q.handle),delete i[n])}else for(n in i)_.event.remove(a,n+b[j],c,d,!0);_.isEmptyObject(i)&&(delete q.handle,rb.remove(a,"events"))}},trigger:function(b,c,d,e){var f,g,h,i,j,k,l,m=[d||Z],n=X.call(b,"type")?b.type:b,o=X.call(b,"namespace")?b.namespace.split("."):[];if(g=h=d=d||Z,3!==d.nodeType&&8!==d.nodeType&&!Cb.test(n+_.event.triggered)&&(n.indexOf(".")>=0&&(o=n.split("."),n=o.shift(),o.sort()),j=n.indexOf(":")<0&&"on"+n,b=b[_.expando]?b:new _.Event(n,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=o.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:_.makeArray(c,[b]),l=_.event.special[n]||{},e||!l.trigger||l.trigger.apply(d,c)!==!1)){if(!e&&!l.noBubble&&!_.isWindow(d)){for(i=l.delegateType||n,Cb.test(i+n)||(g=g.parentNode);g;g=g.parentNode)m.push(g),h=g;h===(d.ownerDocument||Z)&&m.push(h.defaultView||h.parentWindow||a)}for(f=0;(g=m[f++])&&!b.isPropagationStopped();)b.type=f>1?i:l.bindType||n,k=(rb.get(g,"events")||{})[b.type]&&rb.get(g,"handle"),k&&k.apply(g,c),k=j&&g[j],k&&k.apply&&_.acceptData(g)&&(b.result=k.apply(g,c),b.result===!1&&b.preventDefault());return b.type=n,e||b.isDefaultPrevented()||l._default&&l._default.apply(m.pop(),c)!==!1||!_.acceptData(d)||j&&_.isFunction(d[n])&&!_.isWindow(d)&&(h=d[j],h&&(d[j]=null),_.event.triggered=n,d[n](),_.event.triggered=void 0,h&&(d[j]=h)),b.result}},dispatch:function(a){a=_.event.fix(a);var b,c,d,e,f,g=[],h=R.call(arguments),i=(rb.get(this,"events")||{})[a.type]||[],j=_.event.special[a.type]||{};if(h[0]=a,a.delegateTarget=this,!j.preDispatch||j.preDispatch.call(this,a)!==!1){for(g=_.event.handlers.call(this,a,i),b=0;(e=g[b++])&&!a.isPropagationStopped();)for(a.currentTarget=e.elem,c=0;(f=e.handlers[c++])&&!a.isImmediatePropagationStopped();)(!a.namespace_re||a.namespace_re.test(f.namespace))&&(a.handleObj=f,a.data=f.data,d=((_.event.special[f.origType]||{}).handle||f.handler).apply(e.elem,h),void 0!==d&&(a.result=d)===!1&&(a.preventDefault(),a.stopPropagation()));return j.postDispatch&&j.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(!a.button||"click"!==a.type))for(;i!==this;i=i.parentNode||this)if(i.disabled!==!0||"click"!==a.type){for(d=[],c=0;h>c;c++)f=b[c],e=f.selector+" ",void 0===d[e]&&(d[e]=f.needsContext?_(e,this).index(i)>=0:_.find(e,this,null,[i]).length),d[e]&&d.push(f);d.length&&g.push({elem:i,handlers:d})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a
}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button;return null==a.pageX&&null!=b.clientX&&(c=a.target.ownerDocument||Z,d=c.documentElement,e=c.body,a.pageX=b.clientX+(d&&d.scrollLeft||e&&e.scrollLeft||0)-(d&&d.clientLeft||e&&e.clientLeft||0),a.pageY=b.clientY+(d&&d.scrollTop||e&&e.scrollTop||0)-(d&&d.clientTop||e&&e.clientTop||0)),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},fix:function(a){if(a[_.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];for(g||(this.fixHooks[e]=g=Bb.test(e)?this.mouseHooks:Ab.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new _.Event(f),b=d.length;b--;)c=d[b],a[c]=f[c];return a.target||(a.target=Z),3===a.target.nodeType&&(a.target=a.target.parentNode),g.filter?g.filter(a,f):a},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==l()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===l()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&_.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(a){return _.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=_.extend(new _.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?_.event.trigger(e,null,b):_.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},_.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)},_.Event=function(a,b){return this instanceof _.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?j:k):this.type=a,b&&_.extend(this,b),this.timeStamp=a&&a.timeStamp||_.now(),void(this[_.expando]=!0)):new _.Event(a,b)},_.Event.prototype={isDefaultPrevented:k,isPropagationStopped:k,isImmediatePropagationStopped:k,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=j,a&&a.preventDefault&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=j,a&&a.stopPropagation&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=j,a&&a.stopImmediatePropagation&&a.stopImmediatePropagation(),this.stopPropagation()}},_.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){_.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!_.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),Y.focusinBubbles||_.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){_.event.simulate(b,a.target,_.event.fix(a),!0)};_.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=rb.access(d,b);e||d.addEventListener(a,c,!0),rb.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=rb.access(d,b)-1;e?rb.access(d,b,e):(d.removeEventListener(a,c,!0),rb.remove(d,b))}}}),_.fn.extend({on:function(a,b,c,d,e){var f,g;if("object"==typeof a){"string"!=typeof b&&(c=c||b,b=void 0);for(g in a)this.on(g,b,c,a[g],e);return this}if(null==c&&null==d?(d=b,c=b=void 0):null==d&&("string"==typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0)),d===!1)d=k;else if(!d)return this;return 1===e&&(f=d,d=function(a){return _().off(a),f.apply(this,arguments)},d.guid=f.guid||(f.guid=_.guid++)),this.each(function(){_.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,_(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return(b===!1||"function"==typeof b)&&(c=b,b=void 0),c===!1&&(c=k),this.each(function(){_.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){_.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?_.event.trigger(a,b,c,!0):void 0}});var Eb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Fb=/<([\w:]+)/,Gb=/<|&#?\w+;/,Hb=/<(?:script|style|link)/i,Ib=/checked\s*(?:[^=]|=\s*.checked.)/i,Jb=/^$|\/(?:java|ecma)script/i,Kb=/^true\/(.*)/,Lb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Mb={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Mb.optgroup=Mb.option,Mb.tbody=Mb.tfoot=Mb.colgroup=Mb.caption=Mb.thead,Mb.th=Mb.td,_.extend({clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=_.contains(a.ownerDocument,a);if(!(Y.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||_.isXMLDoc(a)))for(g=r(h),f=r(a),d=0,e=f.length;e>d;d++)s(f[d],g[d]);if(b)if(c)for(f=f||r(a),g=g||r(h),d=0,e=f.length;e>d;d++)q(f[d],g[d]);else q(a,h);return g=r(h,"script"),g.length>0&&p(g,!i&&r(a,"script")),h},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,k=b.createDocumentFragment(),l=[],m=0,n=a.length;n>m;m++)if(e=a[m],e||0===e)if("object"===_.type(e))_.merge(l,e.nodeType?[e]:e);else if(Gb.test(e)){for(f=f||k.appendChild(b.createElement("div")),g=(Fb.exec(e)||["",""])[1].toLowerCase(),h=Mb[g]||Mb._default,f.innerHTML=h[1]+e.replace(Eb,"<$1></$2>")+h[2],j=h[0];j--;)f=f.lastChild;_.merge(l,f.childNodes),f=k.firstChild,f.textContent=""}else l.push(b.createTextNode(e));for(k.textContent="",m=0;e=l[m++];)if((!d||-1===_.inArray(e,d))&&(i=_.contains(e.ownerDocument,e),f=r(k.appendChild(e),"script"),i&&p(f),c))for(j=0;e=f[j++];)Jb.test(e.type||"")&&c.push(e);return k},cleanData:function(a){for(var b,c,d,e,f=_.event.special,g=0;void 0!==(c=a[g]);g++){if(_.acceptData(c)&&(e=c[rb.expando],e&&(b=rb.cache[e]))){if(b.events)for(d in b.events)f[d]?_.event.remove(c,d):_.removeEvent(c,d,b.handle);rb.cache[e]&&delete rb.cache[e]}delete sb.cache[c[sb.expando]]}}}),_.fn.extend({text:function(a){return qb(this,function(a){return void 0===a?_.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=a)})},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=m(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=m(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?_.filter(a,this):this,e=0;null!=(c=d[e]);e++)b||1!==c.nodeType||_.cleanData(r(c)),c.parentNode&&(b&&_.contains(c.ownerDocument,c)&&p(r(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(_.cleanData(r(a,!1)),a.textContent="");return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return _.clone(this,a,b)})},html:function(a){return qb(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"==typeof a&&!Hb.test(a)&&!Mb[(Fb.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(Eb,"<$1></$2>");try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(_.cleanData(r(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode,_.cleanData(r(this)),a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=S.apply([],a);var c,d,e,f,g,h,i=0,j=this.length,k=this,l=j-1,m=a[0],p=_.isFunction(m);if(p||j>1&&"string"==typeof m&&!Y.checkClone&&Ib.test(m))return this.each(function(c){var d=k.eq(c);p&&(a[0]=m.call(this,c,d.html())),d.domManip(a,b)});if(j&&(c=_.buildFragment(a,this[0].ownerDocument,!1,this),d=c.firstChild,1===c.childNodes.length&&(c=d),d)){for(e=_.map(r(c,"script"),n),f=e.length;j>i;i++)g=c,i!==l&&(g=_.clone(g,!0,!0),f&&_.merge(e,r(g,"script"))),b.call(this[i],g,i);if(f)for(h=e[e.length-1].ownerDocument,_.map(e,o),i=0;f>i;i++)g=e[i],Jb.test(g.type||"")&&!rb.access(g,"globalEval")&&_.contains(h,g)&&(g.src?_._evalUrl&&_._evalUrl(g.src):_.globalEval(g.textContent.replace(Lb,"")))}return this}}),_.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){_.fn[a]=function(a){for(var c,d=[],e=_(a),f=e.length-1,g=0;f>=g;g++)c=g===f?this:this.clone(!0),_(e[g])[b](c),T.apply(d,c.get());return this.pushStack(d)}});var Nb,Ob={},Pb=/^margin/,Qb=new RegExp("^("+vb+")(?!px)[a-z%]+$","i"),Rb=function(a){return a.ownerDocument.defaultView.getComputedStyle(a,null)};!function(){function b(){g.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",g.innerHTML="",e.appendChild(f);var b=a.getComputedStyle(g,null);c="1%"!==b.top,d="4px"===b.width,e.removeChild(f)}var c,d,e=Z.documentElement,f=Z.createElement("div"),g=Z.createElement("div");g.style&&(g.style.backgroundClip="content-box",g.cloneNode(!0).style.backgroundClip="",Y.clearCloneStyle="content-box"===g.style.backgroundClip,f.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",f.appendChild(g),a.getComputedStyle&&_.extend(Y,{pixelPosition:function(){return b(),c},boxSizingReliable:function(){return null==d&&b(),d},reliableMarginRight:function(){var b,c=g.appendChild(Z.createElement("div"));return c.style.cssText=g.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",c.style.marginRight=c.style.width="0",g.style.width="1px",e.appendChild(f),b=!parseFloat(a.getComputedStyle(c,null).marginRight),e.removeChild(f),b}}))}(),_.swap=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e};var Sb=/^(none|table(?!-c[ea]).+)/,Tb=new RegExp("^("+vb+")(.*)$","i"),Ub=new RegExp("^([+-])=("+vb+")","i"),Vb={position:"absolute",visibility:"hidden",display:"block"},Wb={letterSpacing:"0",fontWeight:"400"},Xb=["Webkit","O","Moz","ms"];_.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=v(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=_.camelCase(b),i=a.style;return b=_.cssProps[h]||(_.cssProps[h]=x(i,h)),g=_.cssHooks[b]||_.cssHooks[h],void 0===c?g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b]:(f=typeof c,"string"===f&&(e=Ub.exec(c))&&(c=(e[1]+1)*e[2]+parseFloat(_.css(a,b)),f="number"),null!=c&&c===c&&("number"!==f||_.cssNumber[h]||(c+="px"),Y.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),g&&"set"in g&&void 0===(c=g.set(a,c,d))||(i[b]=c)),void 0)}},css:function(a,b,c,d){var e,f,g,h=_.camelCase(b);return b=_.cssProps[h]||(_.cssProps[h]=x(a.style,h)),g=_.cssHooks[b]||_.cssHooks[h],g&&"get"in g&&(e=g.get(a,!0,c)),void 0===e&&(e=v(a,b,d)),"normal"===e&&b in Wb&&(e=Wb[b]),""===c||c?(f=parseFloat(e),c===!0||_.isNumeric(f)?f||0:e):e}}),_.each(["height","width"],function(a,b){_.cssHooks[b]={get:function(a,c,d){return c?Sb.test(_.css(a,"display"))&&0===a.offsetWidth?_.swap(a,Vb,function(){return A(a,b,d)}):A(a,b,d):void 0},set:function(a,c,d){var e=d&&Rb(a);return y(a,c,d?z(a,b,d,"border-box"===_.css(a,"boxSizing",!1,e),e):0)}}}),_.cssHooks.marginRight=w(Y.reliableMarginRight,function(a,b){return b?_.swap(a,{display:"inline-block"},v,[a,"marginRight"]):void 0}),_.each({margin:"",padding:"",border:"Width"},function(a,b){_.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+wb[d]+b]=f[d]||f[d-2]||f[0];return e}},Pb.test(a)||(_.cssHooks[a+b].set=y)}),_.fn.extend({css:function(a,b){return qb(this,function(a,b,c){var d,e,f={},g=0;if(_.isArray(b)){for(d=Rb(a),e=b.length;e>g;g++)f[b[g]]=_.css(a,b[g],!1,d);return f}return void 0!==c?_.style(a,b,c):_.css(a,b)},a,b,arguments.length>1)},show:function(){return B(this,!0)},hide:function(){return B(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){xb(this)?_(this).show():_(this).hide()})}}),_.Tween=C,C.prototype={constructor:C,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(_.cssNumber[c]?"":"px")},cur:function(){var a=C.propHooks[this.prop];return a&&a.get?a.get(this):C.propHooks._default.get(this)},run:function(a){var b,c=C.propHooks[this.prop];return this.pos=b=this.options.duration?_.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):C.propHooks._default.set(this),this}},C.prototype.init.prototype=C.prototype,C.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=_.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){_.fx.step[a.prop]?_.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[_.cssProps[a.prop]]||_.cssHooks[a.prop])?_.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},C.propHooks.scrollTop=C.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},_.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},_.fx=C.prototype.init,_.fx.step={};var Yb,Zb,$b=/^(?:toggle|show|hide)$/,_b=new RegExp("^(?:([+-])=|)("+vb+")([a-z%]*)$","i"),ac=/queueHooks$/,bc=[G],cc={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=_b.exec(b),f=e&&e[3]||(_.cssNumber[a]?"":"px"),g=(_.cssNumber[a]||"px"!==f&&+d)&&_b.exec(_.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do h=h||".5",g/=h,_.style(c.elem,a,g+f);while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};_.Animation=_.extend(I,{tweener:function(a,b){_.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++)c=a[d],cc[c]=cc[c]||[],cc[c].unshift(b)},prefilter:function(a,b){b?bc.unshift(a):bc.push(a)}}),_.speed=function(a,b,c){var d=a&&"object"==typeof a?_.extend({},a):{complete:c||!c&&b||_.isFunction(a)&&a,duration:a,easing:c&&b||b&&!_.isFunction(b)&&b};return d.duration=_.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in _.fx.speeds?_.fx.speeds[d.duration]:_.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){_.isFunction(d.old)&&d.old.call(this),d.queue&&_.dequeue(this,d.queue)},d},_.fn.extend({fadeTo:function(a,b,c,d){return this.filter(xb).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=_.isEmptyObject(a),f=_.speed(b,c,d),g=function(){var b=I(this,_.extend({},a),f);(e||rb.get(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=_.timers,g=rb.get(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&ac.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));(b||!c)&&_.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=rb.get(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=_.timers,g=d?d.length:0;for(c.finish=!0,_.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),_.each(["toggle","show","hide"],function(a,b){var c=_.fn[b];_.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(E(b,!0),a,d,e)}}),_.each({slideDown:E("show"),slideUp:E("hide"),slideToggle:E("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){_.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),_.timers=[],_.fx.tick=function(){var a,b=0,c=_.timers;for(Yb=_.now();b<c.length;b++)a=c[b],a()||c[b]!==a||c.splice(b--,1);c.length||_.fx.stop(),Yb=void 0},_.fx.timer=function(a){_.timers.push(a),a()?_.fx.start():_.timers.pop()},_.fx.interval=13,_.fx.start=function(){Zb||(Zb=setInterval(_.fx.tick,_.fx.interval))},_.fx.stop=function(){clearInterval(Zb),Zb=null},_.fx.speeds={slow:600,fast:200,_default:400},_.fn.delay=function(a,b){return a=_.fx?_.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},function(){var a=Z.createElement("input"),b=Z.createElement("select"),c=b.appendChild(Z.createElement("option"));a.type="checkbox",Y.checkOn=""!==a.value,Y.optSelected=c.selected,b.disabled=!0,Y.optDisabled=!c.disabled,a=Z.createElement("input"),a.value="t",a.type="radio",Y.radioValue="t"===a.value}();var dc,ec,fc=_.expr.attrHandle;_.fn.extend({attr:function(a,b){return qb(this,_.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){_.removeAttr(this,a)})}}),_.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f)return typeof a.getAttribute===zb?_.prop(a,b,c):(1===f&&_.isXMLDoc(a)||(b=b.toLowerCase(),d=_.attrHooks[b]||(_.expr.match.bool.test(b)?ec:dc)),void 0===c?d&&"get"in d&&null!==(e=d.get(a,b))?e:(e=_.find.attr(a,b),null==e?void 0:e):null!==c?d&&"set"in d&&void 0!==(e=d.set(a,c,b))?e:(a.setAttribute(b,c+""),c):void _.removeAttr(a,b))},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(nb);if(f&&1===a.nodeType)for(;c=f[e++];)d=_.propFix[c]||c,_.expr.match.bool.test(c)&&(a[d]=!1),a.removeAttribute(c)},attrHooks:{type:{set:function(a,b){if(!Y.radioValue&&"radio"===b&&_.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}}}),ec={set:function(a,b,c){return b===!1?_.removeAttr(a,c):a.setAttribute(c,c),c}},_.each(_.expr.match.bool.source.match(/\w+/g),function(a,b){var c=fc[b]||_.find.attr;fc[b]=function(a,b,d){var e,f;return d||(f=fc[b],fc[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,fc[b]=f),e}});var gc=/^(?:input|select|textarea|button)$/i;_.fn.extend({prop:function(a,b){return qb(this,_.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[_.propFix[a]||a]})}}),_.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(a,b,c){var d,e,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g)return f=1!==g||!_.isXMLDoc(a),f&&(b=_.propFix[b]||b,e=_.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){return a.hasAttribute("tabindex")||gc.test(a.nodeName)||a.href?a.tabIndex:-1}}}}),Y.optSelected||(_.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null}}),_.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){_.propFix[this.toLowerCase()]=this});var hc=/[\t\r\n\f]/g;_.fn.extend({addClass:function(a){var b,c,d,e,f,g,h="string"==typeof a&&a,i=0,j=this.length;if(_.isFunction(a))return this.each(function(b){_(this).addClass(a.call(this,b,this.className))});if(h)for(b=(a||"").match(nb)||[];j>i;i++)if(c=this[i],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(hc," "):" ")){for(f=0;e=b[f++];)d.indexOf(" "+e+" ")<0&&(d+=e+" ");g=_.trim(d),c.className!==g&&(c.className=g)}return this},removeClass:function(a){var b,c,d,e,f,g,h=0===arguments.length||"string"==typeof a&&a,i=0,j=this.length;if(_.isFunction(a))return this.each(function(b){_(this).removeClass(a.call(this,b,this.className))});if(h)for(b=(a||"").match(nb)||[];j>i;i++)if(c=this[i],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(hc," "):"")){for(f=0;e=b[f++];)for(;d.indexOf(" "+e+" ")>=0;)d=d.replace(" "+e+" "," ");g=a?_.trim(d):"",c.className!==g&&(c.className=g)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):this.each(_.isFunction(a)?function(c){_(this).toggleClass(a.call(this,c,this.className,b),b)}:function(){if("string"===c)for(var b,d=0,e=_(this),f=a.match(nb)||[];b=f[d++];)e.hasClass(b)?e.removeClass(b):e.addClass(b);else(c===zb||"boolean"===c)&&(this.className&&rb.set(this,"__className__",this.className),this.className=this.className||a===!1?"":rb.get(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(hc," ").indexOf(b)>=0)return!0;return!1}});var ic=/\r/g;_.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=_.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,_(this).val()):a,null==e?e="":"number"==typeof e?e+="":_.isArray(e)&&(e=_.map(e,function(a){return null==a?"":a+""})),b=_.valHooks[this.type]||_.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return b=_.valHooks[e.type]||_.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(ic,""):null==c?"":c)}}}),_.extend({valHooks:{option:{get:function(a){var b=_.find.attr(a,"value");return null!=b?b:_.trim(_.text(a))}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],!(!c.selected&&i!==e||(Y.optDisabled?c.disabled:null!==c.getAttribute("disabled"))||c.parentNode.disabled&&_.nodeName(c.parentNode,"optgroup"))){if(b=_(c).val(),f)return b;g.push(b)}return g},set:function(a,b){for(var c,d,e=a.options,f=_.makeArray(b),g=e.length;g--;)d=e[g],(d.selected=_.inArray(d.value,f)>=0)&&(c=!0);return c||(a.selectedIndex=-1),f}}}}),_.each(["radio","checkbox"],function(){_.valHooks[this]={set:function(a,b){return _.isArray(b)?a.checked=_.inArray(_(a).val(),b)>=0:void 0}},Y.checkOn||(_.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})}),_.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){_.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),_.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var jc=_.now(),kc=/\?/;_.parseJSON=function(a){return JSON.parse(a+"")},_.parseXML=function(a){var b,c;if(!a||"string"!=typeof a)return null;try{c=new DOMParser,b=c.parseFromString(a,"text/xml")}catch(d){b=void 0}return(!b||b.getElementsByTagName("parsererror").length)&&_.error("Invalid XML: "+a),b};var lc,mc,nc=/#.*$/,oc=/([?&])_=[^&]*/,pc=/^(.*?):[ \t]*([^\r\n]*)$/gm,qc=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,rc=/^(?:GET|HEAD)$/,sc=/^\/\//,tc=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,uc={},vc={},wc="*/".concat("*");try{mc=location.href}catch(xc){mc=Z.createElement("a"),mc.href="",mc=mc.href}lc=tc.exec(mc.toLowerCase())||[],_.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:mc,type:"GET",isLocal:qc.test(lc[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":wc,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":_.parseJSON,"text xml":_.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?L(L(a,_.ajaxSettings),b):L(_.ajaxSettings,a)},ajaxPrefilter:J(uc),ajaxTransport:J(vc),ajax:function(a,b){function c(a,b,c,g){var i,k,r,s,u,w=b;2!==t&&(t=2,h&&clearTimeout(h),d=void 0,f=g||"",v.readyState=a>0?4:0,i=a>=200&&300>a||304===a,c&&(s=M(l,v,c)),s=N(l,s,v,i),i?(l.ifModified&&(u=v.getResponseHeader("Last-Modified"),u&&(_.lastModified[e]=u),u=v.getResponseHeader("etag"),u&&(_.etag[e]=u)),204===a||"HEAD"===l.type?w="nocontent":304===a?w="notmodified":(w=s.state,k=s.data,r=s.error,i=!r)):(r=w,(a||!w)&&(w="error",0>a&&(a=0))),v.status=a,v.statusText=(b||w)+"",i?o.resolveWith(m,[k,w,v]):o.rejectWith(m,[v,w,r]),v.statusCode(q),q=void 0,j&&n.trigger(i?"ajaxSuccess":"ajaxError",[v,l,i?k:r]),p.fireWith(m,[v,w]),j&&(n.trigger("ajaxComplete",[v,l]),--_.active||_.event.trigger("ajaxStop")))}"object"==typeof a&&(b=a,a=void 0),b=b||{};var d,e,f,g,h,i,j,k,l=_.ajaxSetup({},b),m=l.context||l,n=l.context&&(m.nodeType||m.jquery)?_(m):_.event,o=_.Deferred(),p=_.Callbacks("once memory"),q=l.statusCode||{},r={},s={},t=0,u="canceled",v={readyState:0,getResponseHeader:function(a){var b;if(2===t){if(!g)for(g={};b=pc.exec(f);)g[b[1].toLowerCase()]=b[2];b=g[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===t?f:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return t||(a=s[c]=s[c]||a,r[a]=b),this},overrideMimeType:function(a){return t||(l.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>t)for(b in a)q[b]=[q[b],a[b]];else v.always(a[v.status]);return this},abort:function(a){var b=a||u;return d&&d.abort(b),c(0,b),this}};if(o.promise(v).complete=p.add,v.success=v.done,v.error=v.fail,l.url=((a||l.url||mc)+"").replace(nc,"").replace(sc,lc[1]+"//"),l.type=b.method||b.type||l.method||l.type,l.dataTypes=_.trim(l.dataType||"*").toLowerCase().match(nb)||[""],null==l.crossDomain&&(i=tc.exec(l.url.toLowerCase()),l.crossDomain=!(!i||i[1]===lc[1]&&i[2]===lc[2]&&(i[3]||("http:"===i[1]?"80":"443"))===(lc[3]||("http:"===lc[1]?"80":"443")))),l.data&&l.processData&&"string"!=typeof l.data&&(l.data=_.param(l.data,l.traditional)),K(uc,l,b,v),2===t)return v;j=l.global,j&&0===_.active++&&_.event.trigger("ajaxStart"),l.type=l.type.toUpperCase(),l.hasContent=!rc.test(l.type),e=l.url,l.hasContent||(l.data&&(e=l.url+=(kc.test(e)?"&":"?")+l.data,delete l.data),l.cache===!1&&(l.url=oc.test(e)?e.replace(oc,"$1_="+jc++):e+(kc.test(e)?"&":"?")+"_="+jc++)),l.ifModified&&(_.lastModified[e]&&v.setRequestHeader("If-Modified-Since",_.lastModified[e]),_.etag[e]&&v.setRequestHeader("If-None-Match",_.etag[e])),(l.data&&l.hasContent&&l.contentType!==!1||b.contentType)&&v.setRequestHeader("Content-Type",l.contentType),v.setRequestHeader("Accept",l.dataTypes[0]&&l.accepts[l.dataTypes[0]]?l.accepts[l.dataTypes[0]]+("*"!==l.dataTypes[0]?", "+wc+"; q=0.01":""):l.accepts["*"]);for(k in l.headers)v.setRequestHeader(k,l.headers[k]);if(l.beforeSend&&(l.beforeSend.call(m,v,l)===!1||2===t))return v.abort();u="abort";for(k in{success:1,error:1,complete:1})v[k](l[k]);if(d=K(vc,l,b,v)){v.readyState=1,j&&n.trigger("ajaxSend",[v,l]),l.async&&l.timeout>0&&(h=setTimeout(function(){v.abort("timeout")},l.timeout));try{t=1,d.send(r,c)}catch(w){if(!(2>t))throw w;c(-1,w)}}else c(-1,"No Transport");return v},getJSON:function(a,b,c){return _.get(a,b,c,"json")},getScript:function(a,b){return _.get(a,void 0,b,"script")}}),_.each(["get","post"],function(a,b){_[b]=function(a,c,d,e){return _.isFunction(c)&&(e=e||d,d=c,c=void 0),_.ajax({url:a,type:b,dataType:e,data:c,success:d})}}),_.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){_.fn[b]=function(a){return this.on(b,a)}}),_._evalUrl=function(a){return _.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},_.fn.extend({wrapAll:function(a){var b;return _.isFunction(a)?this.each(function(b){_(this).wrapAll(a.call(this,b))}):(this[0]&&(b=_(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstElementChild;)a=a.firstElementChild;return a}).append(this)),this)},wrapInner:function(a){return this.each(_.isFunction(a)?function(b){_(this).wrapInner(a.call(this,b))}:function(){var b=_(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=_.isFunction(a);return this.each(function(c){_(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){_.nodeName(this,"body")||_(this).replaceWith(this.childNodes)}).end()}}),_.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0},_.expr.filters.visible=function(a){return!_.expr.filters.hidden(a)};var yc=/%20/g,zc=/\[\]$/,Ac=/\r?\n/g,Bc=/^(?:submit|button|image|reset|file)$/i,Cc=/^(?:input|select|textarea|keygen)/i;_.param=function(a,b){var c,d=[],e=function(a,b){b=_.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=_.ajaxSettings&&_.ajaxSettings.traditional),_.isArray(a)||a.jquery&&!_.isPlainObject(a))_.each(a,function(){e(this.name,this.value)});else for(c in a)O(c,a[c],b,e);return d.join("&").replace(yc,"+")},_.fn.extend({serialize:function(){return _.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=_.prop(this,"elements");return a?_.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!_(this).is(":disabled")&&Cc.test(this.nodeName)&&!Bc.test(a)&&(this.checked||!yb.test(a))}).map(function(a,b){var c=_(this).val();return null==c?null:_.isArray(c)?_.map(c,function(a){return{name:b.name,value:a.replace(Ac,"\r\n")}}):{name:b.name,value:c.replace(Ac,"\r\n")}}).get()}}),_.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(a){}};var Dc=0,Ec={},Fc={0:200,1223:204},Gc=_.ajaxSettings.xhr();a.ActiveXObject&&_(a).on("unload",function(){for(var a in Ec)Ec[a]()}),Y.cors=!!Gc&&"withCredentials"in Gc,Y.ajax=Gc=!!Gc,_.ajaxTransport(function(a){var b;return Y.cors||Gc&&!a.crossDomain?{send:function(c,d){var e,f=a.xhr(),g=++Dc;if(f.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(e in a.xhrFields)f[e]=a.xhrFields[e];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType),a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");for(e in c)f.setRequestHeader(e,c[e]);b=function(a){return function(){b&&(delete Ec[g],b=f.onload=f.onerror=null,"abort"===a?f.abort():"error"===a?d(f.status,f.statusText):d(Fc[f.status]||f.status,f.statusText,"string"==typeof f.responseText?{text:f.responseText}:void 0,f.getAllResponseHeaders()))}},f.onload=b(),f.onerror=b("error"),b=Ec[g]=b("abort");try{f.send(a.hasContent&&a.data||null)}catch(h){if(b)throw h}},abort:function(){b&&b()}}:void 0}),_.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return _.globalEval(a),a}}}),_.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET")
}),_.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(d,e){b=_("<script>").prop({async:!0,charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove(),c=null,a&&e("error"===a.type?404:200,a.type)}),Z.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Hc=[],Ic=/(=)\?(?=&|$)|\?\?/;_.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Hc.pop()||_.expando+"_"+jc++;return this[a]=!0,a}}),_.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(Ic.test(b.url)?"url":"string"==typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ic.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=_.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(Ic,"$1"+e):b.jsonp!==!1&&(b.url+=(kc.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||_.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,Hc.push(e)),g&&_.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),_.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||Z;var d=gb.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=_.buildFragment([a],b,e),e&&e.length&&_(e).remove(),_.merge([],d.childNodes))};var Jc=_.fn.load;_.fn.load=function(a,b,c){if("string"!=typeof a&&Jc)return Jc.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>=0&&(d=_.trim(a.slice(h)),a=a.slice(0,h)),_.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&_.ajax({url:a,type:e,dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?_("<div>").append(_.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){g.each(c,f||[a.responseText,b,a])}),this},_.expr.filters.animated=function(a){return _.grep(_.timers,function(b){return a===b.elem}).length};var Kc=a.document.documentElement;_.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=_.css(a,"position"),l=_(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=_.css(a,"top"),i=_.css(a,"left"),j=("absolute"===k||"fixed"===k)&&(f+i).indexOf("auto")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),_.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},_.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){_.offset.setOffset(this,a,b)});var b,c,d=this[0],e={top:0,left:0},f=d&&d.ownerDocument;if(f)return b=f.documentElement,_.contains(b,d)?(typeof d.getBoundingClientRect!==zb&&(e=d.getBoundingClientRect()),c=P(f),{top:e.top+c.pageYOffset-b.clientTop,left:e.left+c.pageXOffset-b.clientLeft}):e},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return"fixed"===_.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),_.nodeName(a[0],"html")||(d=a.offset()),d.top+=_.css(a[0],"borderTopWidth",!0),d.left+=_.css(a[0],"borderLeftWidth",!0)),{top:b.top-d.top-_.css(c,"marginTop",!0),left:b.left-d.left-_.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||Kc;a&&!_.nodeName(a,"html")&&"static"===_.css(a,"position");)a=a.offsetParent;return a||Kc})}}),_.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(b,c){var d="pageYOffset"===c;_.fn[b]=function(e){return qb(this,function(b,e,f){var g=P(b);return void 0===f?g?g[c]:b[e]:void(g?g.scrollTo(d?a.pageXOffset:f,d?f:a.pageYOffset):b[e]=f)},b,e,arguments.length,null)}}),_.each(["top","left"],function(a,b){_.cssHooks[b]=w(Y.pixelPosition,function(a,c){return c?(c=v(a,b),Qb.test(c)?_(a).position()[b]+"px":c):void 0})}),_.each({Height:"height",Width:"width"},function(a,b){_.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){_.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return qb(this,function(b,c,d){var e;return _.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?_.css(b,c,g):_.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),_.fn.size=function(){return this.length},_.fn.andSelf=_.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return _});var Lc=a.jQuery,Mc=a.$;return _.noConflict=function(b){return a.$===_&&(a.$=Mc),b&&a.jQuery===_&&(a.jQuery=Lc),_},typeof b===zb&&(a.jQuery=a.$=_),_}),function(a,b){if("function"==typeof define&&define.amd)define("backbone",["underscore","jquery","exports"],function(c,d,e){a.Backbone=b(a,e,c,d)});else if("undefined"!=typeof exports){var c=require("underscore");b(a,exports,c)}else a.Backbone=b(a,{},a._,a.jQuery||a.Zepto||a.ender||a.$)}(this,function(a,b,c,d){{var e=a.Backbone,f=[],g=(f.push,f.slice);f.splice}b.VERSION="1.1.2",b.$=d,b.noConflict=function(){return a.Backbone=e,this},b.emulateHTTP=!1,b.emulateJSON=!1;var h=b.Events={on:function(a,b,c){if(!j(this,"on",a,[b,c])||!b)return this;this._events||(this._events={});var d=this._events[a]||(this._events[a]=[]);return d.push({callback:b,context:c,ctx:c||this}),this},once:function(a,b,d){if(!j(this,"once",a,[b,d])||!b)return this;var e=this,f=c.once(function(){e.off(a,f),b.apply(this,arguments)});return f._callback=b,this.on(a,f,d)},off:function(a,b,d){var e,f,g,h,i,k,l,m;if(!this._events||!j(this,"off",a,[b,d]))return this;if(!a&&!b&&!d)return this._events=void 0,this;for(h=a?[a]:c.keys(this._events),i=0,k=h.length;k>i;i++)if(a=h[i],g=this._events[a]){if(this._events[a]=e=[],b||d)for(l=0,m=g.length;m>l;l++)f=g[l],(b&&b!==f.callback&&b!==f.callback._callback||d&&d!==f.context)&&e.push(f);e.length||delete this._events[a]}return this},trigger:function(a){if(!this._events)return this;var b=g.call(arguments,1);if(!j(this,"trigger",a,b))return this;var c=this._events[a],d=this._events.all;return c&&k(c,b),d&&k(d,arguments),this},stopListening:function(a,b,d){var e=this._listeningTo;if(!e)return this;var f=!b&&!d;d||"object"!=typeof b||(d=this),a&&((e={})[a._listenId]=a);for(var g in e)a=e[g],a.off(b,d,this),(f||c.isEmpty(a._events))&&delete this._listeningTo[g];return this}},i=/\s+/,j=function(a,b,c,d){if(!c)return!0;if("object"==typeof c){for(var e in c)a[b].apply(a,[e,c[e]].concat(d));return!1}if(i.test(c)){for(var f=c.split(i),g=0,h=f.length;h>g;g++)a[b].apply(a,[f[g]].concat(d));return!1}return!0},k=function(a,b){var c,d=-1,e=a.length,f=b[0],g=b[1],h=b[2];switch(b.length){case 0:for(;++d<e;)(c=a[d]).callback.call(c.ctx);return;case 1:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f);return;case 2:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f,g);return;case 3:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f,g,h);return;default:for(;++d<e;)(c=a[d]).callback.apply(c.ctx,b);return}},l={listenTo:"on",listenToOnce:"once"};c.each(l,function(a,b){h[b]=function(b,d,e){var f=this._listeningTo||(this._listeningTo={}),g=b._listenId||(b._listenId=c.uniqueId("l"));return f[g]=b,e||"object"!=typeof d||(e=this),b[a](d,e,this),this}}),h.bind=h.on,h.unbind=h.off,c.extend(b,h);var m=b.Model=function(a,b){var d=a||{};b||(b={}),this.cid=c.uniqueId("c"),this.attributes={},b.collection&&(this.collection=b.collection),b.parse&&(d=this.parse(d,b)||{}),d=c.defaults({},d,c.result(this,"defaults")),this.set(d,b),this.changed={},this.initialize.apply(this,arguments)};c.extend(m.prototype,h,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(){return c.clone(this.attributes)},sync:function(){return b.sync.apply(this,arguments)},get:function(a){return this.attributes[a]},escape:function(a){return c.escape(this.get(a))},has:function(a){return null!=this.get(a)},set:function(a,b,d){var e,f,g,h,i,j,k,l;if(null==a)return this;if("object"==typeof a?(f=a,d=b):(f={})[a]=b,d||(d={}),!this._validate(f,d))return!1;g=d.unset,i=d.silent,h=[],j=this._changing,this._changing=!0,j||(this._previousAttributes=c.clone(this.attributes),this.changed={}),l=this.attributes,k=this._previousAttributes,this.idAttribute in f&&(this.id=f[this.idAttribute]);for(e in f)b=f[e],c.isEqual(l[e],b)||h.push(e),c.isEqual(k[e],b)?delete this.changed[e]:this.changed[e]=b,g?delete l[e]:l[e]=b;if(!i){h.length&&(this._pending=d);for(var m=0,n=h.length;n>m;m++)this.trigger("change:"+h[m],this,l[h[m]],d)}if(j)return this;if(!i)for(;this._pending;)d=this._pending,this._pending=!1,this.trigger("change",this,d);return this._pending=!1,this._changing=!1,this},unset:function(a,b){return this.set(a,void 0,c.extend({},b,{unset:!0}))},clear:function(a){var b={};for(var d in this.attributes)b[d]=void 0;return this.set(b,c.extend({},a,{unset:!0}))},hasChanged:function(a){return null==a?!c.isEmpty(this.changed):c.has(this.changed,a)},changedAttributes:function(a){if(!a)return this.hasChanged()?c.clone(this.changed):!1;var b,d=!1,e=this._changing?this._previousAttributes:this.attributes;for(var f in a)c.isEqual(e[f],b=a[f])||((d||(d={}))[f]=b);return d},previous:function(a){return null!=a&&this._previousAttributes?this._previousAttributes[a]:null},previousAttributes:function(){return c.clone(this._previousAttributes)},fetch:function(a){a=a?c.clone(a):{},void 0===a.parse&&(a.parse=!0);var b=this,d=a.success;return a.success=function(c){return b.set(b.parse(c,a),a)?(d&&d(b,c,a),void b.trigger("sync",b,c,a)):!1},L(this,a),this.sync("read",this,a)},save:function(a,b,d){var e,f,g,h=this.attributes;if(null==a||"object"==typeof a?(e=a,d=b):(e={})[a]=b,d=c.extend({validate:!0},d),e&&!d.wait){if(!this.set(e,d))return!1}else if(!this._validate(e,d))return!1;e&&d.wait&&(this.attributes=c.extend({},h,e)),void 0===d.parse&&(d.parse=!0);var i=this,j=d.success;return d.success=function(a){i.attributes=h;var b=i.parse(a,d);return d.wait&&(b=c.extend(e||{},b)),c.isObject(b)&&!i.set(b,d)?!1:(j&&j(i,a,d),void i.trigger("sync",i,a,d))},L(this,d),f=this.isNew()?"create":d.patch?"patch":"update","patch"===f&&(d.attrs=e),g=this.sync(f,this,d),e&&d.wait&&(this.attributes=h),g},destroy:function(a){a=a?c.clone(a):{};var b=this,d=a.success,e=function(){b.trigger("destroy",b,b.collection,a)};if(a.success=function(c){(a.wait||b.isNew())&&e(),d&&d(b,c,a),b.isNew()||b.trigger("sync",b,c,a)},this.isNew())return a.success(),!1;L(this,a);var f=this.sync("delete",this,a);return a.wait||e(),f},url:function(){var a=c.result(this,"urlRoot")||c.result(this.collection,"url")||K();return this.isNew()?a:a.replace(/([^\/])$/,"$1/")+encodeURIComponent(this.id)},parse:function(a){return a},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(a){return this._validate({},c.extend(a||{},{validate:!0}))},_validate:function(a,b){if(!b.validate||!this.validate)return!0;a=c.extend({},this.attributes,a);var d=this.validationError=this.validate(a,b)||null;return d?(this.trigger("invalid",this,d,c.extend(b,{validationError:d})),!1):!0}});var n=["keys","values","pairs","invert","pick","omit"];c.each(n,function(a){m.prototype[a]=function(){var b=g.call(arguments);return b.unshift(this.attributes),c[a].apply(c,b)}});var o=b.Collection=function(a,b){b||(b={}),b.model&&(this.model=b.model),void 0!==b.comparator&&(this.comparator=b.comparator),this._reset(),this.initialize.apply(this,arguments),a&&this.reset(a,c.extend({silent:!0},b))},p={add:!0,remove:!0,merge:!0},q={add:!0,remove:!1};c.extend(o.prototype,h,{model:m,initialize:function(){},toJSON:function(a){return this.map(function(b){return b.toJSON(a)})},sync:function(){return b.sync.apply(this,arguments)},add:function(a,b){return this.set(a,c.extend({merge:!1},b,q))},remove:function(a,b){var d=!c.isArray(a);a=d?[a]:c.clone(a),b||(b={});var e,f,g,h;for(e=0,f=a.length;f>e;e++)h=a[e]=this.get(a[e]),h&&(delete this._byId[h.id],delete this._byId[h.cid],g=this.indexOf(h),this.models.splice(g,1),this.length--,b.silent||(b.index=g,h.trigger("remove",h,this,b)),this._removeReference(h,b));return d?a[0]:a},set:function(a,b){b=c.defaults({},b,p),b.parse&&(a=this.parse(a,b));var d=!c.isArray(a);a=d?a?[a]:[]:c.clone(a);var e,f,g,h,i,j,k,l=b.at,n=this.model,o=this.comparator&&null==l&&b.sort!==!1,q=c.isString(this.comparator)?this.comparator:null,r=[],s=[],t={},u=b.add,v=b.merge,w=b.remove,x=!o&&u&&w?[]:!1;for(e=0,f=a.length;f>e;e++){if(i=a[e]||{},g=i instanceof m?h=i:i[n.prototype.idAttribute||"id"],j=this.get(g))w&&(t[j.cid]=!0),v&&(i=i===h?h.attributes:i,b.parse&&(i=j.parse(i,b)),j.set(i,b),o&&!k&&j.hasChanged(q)&&(k=!0)),a[e]=j;else if(u){if(h=a[e]=this._prepareModel(i,b),!h)continue;r.push(h),this._addReference(h,b)}h=j||h,!x||!h.isNew()&&t[h.id]||x.push(h),t[h.id]=!0}if(w){for(e=0,f=this.length;f>e;++e)t[(h=this.models[e]).cid]||s.push(h);s.length&&this.remove(s,b)}if(r.length||x&&x.length)if(o&&(k=!0),this.length+=r.length,null!=l)for(e=0,f=r.length;f>e;e++)this.models.splice(l+e,0,r[e]);else{x&&(this.models.length=0);var y=x||r;for(e=0,f=y.length;f>e;e++)this.models.push(y[e])}if(k&&this.sort({silent:!0}),!b.silent){for(e=0,f=r.length;f>e;e++)(h=r[e]).trigger("add",h,this,b);(k||x&&x.length)&&this.trigger("sort",this,b)}return d?a[0]:a},reset:function(a,b){b||(b={});for(var d=0,e=this.models.length;e>d;d++)this._removeReference(this.models[d],b);return b.previousModels=this.models,this._reset(),a=this.add(a,c.extend({silent:!0},b)),b.silent||this.trigger("reset",this,b),a},push:function(a,b){return this.add(a,c.extend({at:this.length},b))},pop:function(a){var b=this.at(this.length-1);return this.remove(b,a),b},unshift:function(a,b){return this.add(a,c.extend({at:0},b))},shift:function(a){var b=this.at(0);return this.remove(b,a),b},slice:function(){return g.apply(this.models,arguments)},get:function(a){return null==a?void 0:this._byId[a]||this._byId[a.id]||this._byId[a.cid]},at:function(a){return this.models[a]},where:function(a,b){return c.isEmpty(a)?b?void 0:[]:this[b?"find":"filter"](function(b){for(var c in a)if(a[c]!==b.get(c))return!1;return!0})},findWhere:function(a){return this.where(a,!0)},sort:function(a){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return a||(a={}),c.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(c.bind(this.comparator,this)),a.silent||this.trigger("sort",this,a),this},pluck:function(a){return c.invoke(this.models,"get",a)},fetch:function(a){a=a?c.clone(a):{},void 0===a.parse&&(a.parse=!0);var b=a.success,d=this;return a.success=function(c){var e=a.reset?"reset":"set";d[e](c,a),b&&b(d,c,a),d.trigger("sync",d,c,a)},L(this,a),this.sync("read",this,a)},create:function(a,b){if(b=b?c.clone(b):{},!(a=this._prepareModel(a,b)))return!1;b.wait||this.add(a,b);var d=this,e=b.success;return b.success=function(a,c){b.wait&&d.add(a,b),e&&e(a,c,b)},a.save(null,b),a},parse:function(a){return a},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(a,b){if(a instanceof m)return a;b=b?c.clone(b):{},b.collection=this;var d=new this.model(a,b);return d.validationError?(this.trigger("invalid",this,d.validationError,b),!1):d},_addReference:function(a){this._byId[a.cid]=a,null!=a.id&&(this._byId[a.id]=a),a.collection||(a.collection=this),a.on("all",this._onModelEvent,this)},_removeReference:function(a){this===a.collection&&delete a.collection,a.off("all",this._onModelEvent,this)},_onModelEvent:function(a,b,c,d){("add"!==a&&"remove"!==a||c===this)&&("destroy"===a&&this.remove(b,d),b&&a==="change:"+b.idAttribute&&(delete this._byId[b.previous(b.idAttribute)],null!=b.id&&(this._byId[b.id]=b)),this.trigger.apply(this,arguments))}});var r=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain","sample"];c.each(r,function(a){o.prototype[a]=function(){var b=g.call(arguments);return b.unshift(this.models),c[a].apply(c,b)}});var s=["groupBy","countBy","sortBy","indexBy"];c.each(s,function(a){o.prototype[a]=function(b,d){var e=c.isFunction(b)?b:function(a){return a.get(b)};return c[a](this.models,e,d)}});var t=b.View=function(a){this.cid=c.uniqueId("view"),a||(a={}),c.extend(this,c.pick(a,v)),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},u=/^(\S+)\s*(.*)$/,v=["model","collection","el","id","attributes","className","tagName","events"];c.extend(t.prototype,h,{tagName:"div",$:function(a){return this.$el.find(a)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(a,c){return this.$el&&this.undelegateEvents(),this.$el=a instanceof b.$?a:b.$(a),this.el=this.$el[0],c!==!1&&this.delegateEvents(),this},delegateEvents:function(a){if(!a&&!(a=c.result(this,"events")))return this;this.undelegateEvents();for(var b in a){var d=a[b];if(c.isFunction(d)||(d=this[a[b]]),d){var e=b.match(u),f=e[1],g=e[2];d=c.bind(d,this),f+=".delegateEvents"+this.cid,""===g?this.$el.on(f,d):this.$el.on(f,g,d)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_ensureElement:function(){if(this.el)this.setElement(c.result(this,"el"),!1);else{var a=c.extend({},c.result(this,"attributes"));this.id&&(a.id=c.result(this,"id")),this.className&&(a["class"]=c.result(this,"className"));var d=b.$("<"+c.result(this,"tagName")+">").attr(a);this.setElement(d,!1)}}}),b.sync=function(a,d,e){var f=x[a];c.defaults(e||(e={}),{emulateHTTP:b.emulateHTTP,emulateJSON:b.emulateJSON});var g={type:f,dataType:"json"};if(e.url||(g.url=c.result(d,"url")||K()),null!=e.data||!d||"create"!==a&&"update"!==a&&"patch"!==a||(g.contentType="application/json",g.data=JSON.stringify(e.attrs||d.toJSON(e))),e.emulateJSON&&(g.contentType="application/x-www-form-urlencoded",g.data=g.data?{model:g.data}:{}),e.emulateHTTP&&("PUT"===f||"DELETE"===f||"PATCH"===f)){g.type="POST",e.emulateJSON&&(g.data._method=f);var h=e.beforeSend;e.beforeSend=function(a){return a.setRequestHeader("X-HTTP-Method-Override",f),h?h.apply(this,arguments):void 0}}"GET"===g.type||e.emulateJSON||(g.processData=!1),"PATCH"===g.type&&w&&(g.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var i=e.xhr=b.ajax(c.extend(g,e));return d.trigger("request",d,i,e),i};var w=!("undefined"==typeof window||!window.ActiveXObject||window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent),x={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};b.ajax=function(){return b.$.ajax.apply(b.$,arguments)};var y=b.Router=function(a){a||(a={}),a.routes&&(this.routes=a.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},z=/\((.*?)\)/g,A=/(\(\?)?:\w+/g,B=/\*\w+/g,C=/[\-{}\[\]+?.,\\\^$|#\s]/g;c.extend(y.prototype,h,{initialize:function(){},route:function(a,d,e){c.isRegExp(a)||(a=this._routeToRegExp(a)),c.isFunction(d)&&(e=d,d=""),e||(e=this[d]);var f=this;return b.history.route(a,function(c){var g=f._extractParameters(a,c);f.execute(e,g),f.trigger.apply(f,["route:"+d].concat(g)),f.trigger("route",d,g),b.history.trigger("route",f,d,g)}),this},execute:function(a,b){a&&a.apply(this,b)},navigate:function(a,c){return b.history.navigate(a,c),this},_bindRoutes:function(){if(this.routes){this.routes=c.result(this,"routes");for(var a,b=c.keys(this.routes);null!=(a=b.pop());)this.route(a,this.routes[a])}},_routeToRegExp:function(a){return a=a.replace(C,"\\$&").replace(z,"(?:$1)?").replace(A,function(a,b){return b?a:"([^/?]+)"}).replace(B,"([^?]*?)"),new RegExp("^"+a+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(a,b){var d=a.exec(b).slice(1);return c.map(d,function(a,b){return b===d.length-1?a||null:a?decodeURIComponent(a):null})}});var D=b.History=function(){this.handlers=[],c.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},E=/^[#\/]|\s+$/g,F=/^\/+|\/+$/g,G=/msie [\w.]+/,H=/\/$/,I=/#.*$/;D.started=!1,c.extend(D.prototype,h,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root},getHash:function(a){var b=(a||this).location.href.match(/#(.*)$/);return b?b[1]:""},getFragment:function(a,b){if(null==a)if(this._hasPushState||!this._wantsHashChange||b){a=decodeURI(this.location.pathname+this.location.search);var c=this.root.replace(H,"");a.indexOf(c)||(a=a.slice(c.length))}else a=this.getHash();return a.replace(E,"")},start:function(a){if(D.started)throw new Error("Backbone.history has already been started");D.started=!0,this.options=c.extend({root:"/"},this.options,a),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var d=this.getFragment(),e=document.documentMode,f=G.exec(navigator.userAgent.toLowerCase())&&(!e||7>=e);if(this.root=("/"+this.root+"/").replace(F,"/"),f&&this._wantsHashChange){var g=b.$('<iframe src="javascript:0" tabindex="-1">');this.iframe=g.hide().appendTo("body")[0].contentWindow,this.navigate(d)}this._hasPushState?b.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!f?b.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=d;var h=this.location;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot())return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+"#"+this.fragment),!0;this._hasPushState&&this.atRoot()&&h.hash&&(this.fragment=this.getHash().replace(E,""),this.history.replaceState({},document.title,this.root+this.fragment))}return this.options.silent?void 0:this.loadUrl()},stop:function(){b.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),D.started=!1},route:function(a,b){this.handlers.unshift({route:a,callback:b})},checkUrl:function(){var a=this.getFragment();return a===this.fragment&&this.iframe&&(a=this.getFragment(this.getHash(this.iframe))),a===this.fragment?!1:(this.iframe&&this.navigate(a),void this.loadUrl())},loadUrl:function(a){return a=this.fragment=this.getFragment(a),c.any(this.handlers,function(b){return b.route.test(a)?(b.callback(a),!0):void 0})},navigate:function(a,b){if(!D.started)return!1;b&&b!==!0||(b={trigger:!!b});var c=this.root+(a=this.getFragment(a||""));if(a=a.replace(I,""),this.fragment!==a){if(this.fragment=a,""===a&&"/"!==c&&(c=c.slice(0,-1)),this._hasPushState)this.history[b.replace?"replaceState":"pushState"]({},document.title,c);else{if(!this._wantsHashChange)return this.location.assign(c);this._updateHash(this.location,a,b.replace),this.iframe&&a!==this.getFragment(this.getHash(this.iframe))&&(b.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,a,b.replace))}return b.trigger?this.loadUrl(a):void 0}},_updateHash:function(a,b,c){if(c){var d=a.href.replace(/(javascript:|#).*$/,"");a.replace(d+"#"+b)}else a.hash="#"+b}}),b.history=new D;var J=function(a,b){var d,e=this;d=a&&c.has(a,"constructor")?a.constructor:function(){return e.apply(this,arguments)},c.extend(d,e,b);var f=function(){this.constructor=d};return f.prototype=e.prototype,d.prototype=new f,a&&c.extend(d.prototype,a),d.__super__=e.prototype,d};m.extend=o.extend=y.extend=t.extend=D.extend=J;var K=function(){throw new Error('A "url" property or function must be specified')},L=function(a,b){var c=b.error;b.error=function(d){c&&c(a,d,b),a.trigger("error",a,d,b)}};return b}),function(a,b){define("backbone.marionette",["underscore","backbone"],b)}(this,function(a,b){var c=function(a,b,c){function d(a,b){var c=new Error(a);throw c.name=b||"Error",c}!function(a,b){var c=a.ChildViewContainer;return a.ChildViewContainer=function(a,b){var c=function(a){this._views={},this._indexByModel={},this._indexByCustom={},this._updateLength(),b.each(a,this.add,this)};b.extend(c.prototype,{add:function(a,b){var c=a.cid;return this._views[c]=a,a.model&&(this._indexByModel[a.model.cid]=c),b&&(this._indexByCustom[b]=c),this._updateLength(),this},findByModel:function(a){return this.findByModelCid(a.cid)},findByModelCid:function(a){var b=this._indexByModel[a];return this.findByCid(b)},findByCustom:function(a){var b=this._indexByCustom[a];return this.findByCid(b)},findByIndex:function(a){return b.values(this._views)[a]},findByCid:function(a){return this._views[a]},remove:function(a){var c=a.cid;return a.model&&delete this._indexByModel[a.model.cid],b.any(this._indexByCustom,function(a,b){return a===c?(delete this._indexByCustom[b],!0):void 0},this),delete this._views[c],this._updateLength(),this},call:function(a){this.apply(a,b.tail(arguments))},apply:function(a,c){b.each(this._views,function(d){b.isFunction(d[a])&&d[a].apply(d,c||[])})},_updateLength:function(){this.length=b.size(this._views)}});var d=["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck"];return b.each(d,function(a){c.prototype[a]=function(){var c=b.values(this._views),d=[c].concat(b.toArray(arguments));return b[a].apply(b,d)}}),c}(a,b),a.ChildViewContainer.VERSION="0.1.4",a.ChildViewContainer.noConflict=function(){return a.ChildViewContainer=c,this},a.ChildViewContainer}(b,c),function(a,b){var c=a.Wreqr,d=a.Wreqr={};return a.Wreqr.VERSION="1.3.1",a.Wreqr.noConflict=function(){return a.Wreqr=c,this},d.Handlers=function(a,b){var c=function(a){this.options=a,this._wreqrHandlers={},b.isFunction(this.initialize)&&this.initialize(a)};return c.extend=a.Model.extend,b.extend(c.prototype,a.Events,{setHandlers:function(a){b.each(a,function(a,c){var d=null;b.isObject(a)&&!b.isFunction(a)&&(d=a.context,a=a.callback),this.setHandler(c,a,d)},this)},setHandler:function(a,b,c){var d={callback:b,context:c};this._wreqrHandlers[a]=d,this.trigger("handler:add",a,b,c)},hasHandler:function(a){return!!this._wreqrHandlers[a]},getHandler:function(a){var b=this._wreqrHandlers[a];if(b)return function(){var a=Array.prototype.slice.apply(arguments);return b.callback.apply(b.context,a)}},removeHandler:function(a){delete this._wreqrHandlers[a]},removeAllHandlers:function(){this._wreqrHandlers={}}}),c}(a,b),d.CommandStorage=function(){var c=function(a){this.options=a,this._commands={},b.isFunction(this.initialize)&&this.initialize(a)};return b.extend(c.prototype,a.Events,{getCommands:function(a){var b=this._commands[a];return b||(b={command:a,instances:[]},this._commands[a]=b),b},addCommand:function(a,b){var c=this.getCommands(a);c.instances.push(b)},clearCommands:function(a){var b=this.getCommands(a);b.instances=[]}}),c}(),d.Commands=function(a){return a.Handlers.extend({storageType:a.CommandStorage,constructor:function(b){this.options=b||{},this._initializeStorage(this.options),this.on("handler:add",this._executeCommands,this);var c=Array.prototype.slice.call(arguments);a.Handlers.prototype.constructor.apply(this,c)},execute:function(a,b){a=arguments[0],b=Array.prototype.slice.call(arguments,1),this.hasHandler(a)?this.getHandler(a).apply(this,b):this.storage.addCommand(a,b)},_executeCommands:function(a,c,d){var e=this.storage.getCommands(a);b.each(e.instances,function(a){c.apply(d,a)}),this.storage.clearCommands(a)},_initializeStorage:function(a){var c,d=a.storageType||this.storageType;c=b.isFunction(d)?new d:d,this.storage=c}})}(d),d.RequestResponse=function(a){return a.Handlers.extend({request:function(){var a=arguments[0],b=Array.prototype.slice.call(arguments,1);return this.hasHandler(a)?this.getHandler(a).apply(this,b):void 0}})}(d),d.EventAggregator=function(a,b){var c=function(){};return c.extend=a.Model.extend,b.extend(c.prototype,a.Events),c}(a,b),d.Channel=function(){var c=function(b){this.vent=new a.Wreqr.EventAggregator,this.reqres=new a.Wreqr.RequestResponse,this.commands=new a.Wreqr.Commands,this.channelName=b};return b.extend(c.prototype,{reset:function(){return this.vent.off(),this.vent.stopListening(),this.reqres.removeAllHandlers(),this.commands.removeAllHandlers(),this},connectEvents:function(a,b){return this._connect("vent",a,b),this},connectCommands:function(a,b){return this._connect("commands",a,b),this},connectRequests:function(a,b){return this._connect("reqres",a,b),this},_connect:function(a,c,d){if(c){d=d||this;var e="vent"===a?"on":"setHandler";b.each(c,function(c,f){this[a][e](f,b.bind(c,d))},this)}}}),c}(d),d.radio=function(a){var c=function(){this._channels={},this.vent={},this.commands={},this.reqres={},this._proxyMethods()};b.extend(c.prototype,{channel:function(a){if(!a)throw new Error("Channel must receive a name");return this._getChannel(a)},_getChannel:function(b){var c=this._channels[b];return c||(c=new a.Channel(b),this._channels[b]=c),c},_proxyMethods:function(){b.each(["vent","commands","reqres"],function(a){b.each(d[a],function(b){this[a][b]=e(this,a,b)},this)},this)}});var d={vent:["on","off","trigger","once","stopListening","listenTo","listenToOnce"],commands:["execute","setHandler","setHandlers","removeHandler","removeAllHandlers"],reqres:["request","setHandler","setHandlers","removeHandler","removeAllHandlers"]},e=function(a,b,c){return function(d){var e=a._getChannel(d)[b],f=Array.prototype.slice.call(arguments,1);return e[c].apply(e,f)}};return new c}(d),a.Wreqr}(b,c);var e={};b.Marionette=e,e.$=b.$;var f=Array.prototype.slice;return e.extend=b.Model.extend,e.getOption=function(a,b){if(a&&b){var c;return c=a.options&&b in a.options&&void 0!==a.options[b]?a.options[b]:a[b]}},e.normalizeMethods=function(a){var b,d={};return c.each(a,function(a,e){b=a,c.isFunction(b)||(b=this[b]),b&&(d[e]=b)},this),d},e.normalizeUIKeys=function(a,b){return"undefined"!=typeof a?(c.each(c.keys(a),function(c){var d=/@ui.[a-zA-Z_$0-9]*/g;c.match(d)&&(a[c.replace(d,function(a){return b[a.slice(4)]})]=a[c],delete a[c])}),a):void 0},e.actAsCollection=function(a,b){var d=["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck"];c.each(d,function(d){a[d]=function(){var a=c.values(c.result(this,b)),e=[a].concat(c.toArray(arguments));return c[d].apply(c,e)}})},e.triggerMethod=function(){function a(a,b,c){return c.toUpperCase()}var b=/(^|:)(\w)/gi,d=function(d){var e="on"+d.replace(b,a),f=this[e];return c.isFunction(this.trigger)&&this.trigger.apply(this,arguments),c.isFunction(f)?f.apply(this,c.tail(arguments)):void 0};return d}(),e.MonitorDOMRefresh=function(a){function b(a){a._isShown=!0,e(a)}function d(a){a._isRendered=!0,e(a)}function e(a){a._isShown&&a._isRendered&&f(a)&&c.isFunction(a.triggerMethod)&&a.triggerMethod("dom:refresh")}function f(b){return a.contains(b.el)}return function(a){a.listenTo(a,"show",function(){b(a)}),a.listenTo(a,"render",function(){d(a)})}}(document.documentElement),function(a){function b(a,b,e,f){var g=f.split(/\s+/);c.each(g,function(c){var f=a[c];f||d("Method '"+c+"' was configured as an event handler, but does not exist."),a.listenTo(b,e,f)})}function e(a,b,c,d){a.listenTo(b,c,d)}function f(a,b,d,e){var f=e.split(/\s+/);c.each(f,function(c){var e=a[c];a.stopListening(b,d,e)})}function g(a,b,c,d){a.stopListening(b,c,d)}function h(a,b,d,e,f){b&&d&&(c.isFunction(d)&&(d=d.call(a)),c.each(d,function(d,g){c.isFunction(d)?e(a,b,g,d):f(a,b,g,d)}))}a.bindEntityEvents=function(a,c,d){h(a,c,d,e,b)},a.unbindEntityEvents=function(a,b,c){h(a,b,c,g,f)}}(e),e.Callbacks=function(){this._deferred=e.$.Deferred(),this._callbacks=[]},c.extend(e.Callbacks.prototype,{add:function(a,b){this._callbacks.push({cb:a,ctx:b}),this._deferred.done(function(c,d){b&&(c=b),a.call(c,d)
})},run:function(a,b){this._deferred.resolve(b,a)},reset:function(){var a=this._callbacks;this._deferred=e.$.Deferred(),this._callbacks=[],c.each(a,function(a){this.add(a.cb,a.ctx)},this)}}),e.Controller=function(a){this.triggerMethod=e.triggerMethod,this.options=a||{},c.isFunction(this.initialize)&&this.initialize(this.options)},e.Controller.extend=e.extend,c.extend(e.Controller.prototype,b.Events,{close:function(){this.stopListening();var a=Array.prototype.slice.call(arguments);this.triggerMethod.apply(this,["close"].concat(a)),this.off()}}),e.Region=function(a){if(this.options=a||{},this.el=e.getOption(this,"el"),this.el||d("An 'el' must be specified for a region.","NoElError"),this.initialize){var b=Array.prototype.slice.apply(arguments);this.initialize.apply(this,b)}},c.extend(e.Region,{buildRegion:function(a,b){var e=c.isString(a),f=c.isString(a.selector),g=c.isUndefined(a.regionType),h=c.isFunction(a);h||e||f||d("Region must be specified as a Region type, a selector string or an object with selector property");var i,j;e&&(i=a),a.selector&&(i=a.selector,delete a.selector),h&&(j=a),!h&&g&&(j=b),a.regionType&&(j=a.regionType,delete a.regionType),(e||h)&&(a={}),a.el=i;var k=new j(a);return a.parentEl&&(k.getEl=function(b){var d=a.parentEl;return c.isFunction(d)&&(d=d()),d.find(b)}),k}}),c.extend(e.Region.prototype,b.Events,{show:function(a,b){this.ensureEl();var d=b||{},f=a.isClosed||c.isUndefined(a.$el),g=a!==this.currentView,h=!!d.preventClose,i=!h&&g;return i&&this.close(),a.render(),e.triggerMethod.call(this,"before:show",a),c.isFunction(a.triggerMethod)?a.triggerMethod("before:show"):e.triggerMethod.call(a,"before:show"),(g||f)&&this.open(a),this.currentView=a,e.triggerMethod.call(this,"show",a),c.isFunction(a.triggerMethod)?a.triggerMethod("show"):e.triggerMethod.call(a,"show"),this},ensureEl:function(){this.$el&&0!==this.$el.length||(this.$el=this.getEl(this.el))},getEl:function(a){return e.$(a)},open:function(a){this.$el.empty().append(a.el)},close:function(){var a=this.currentView;a&&!a.isClosed&&(a.close?a.close():a.remove&&a.remove(),e.triggerMethod.call(this,"close",a),delete this.currentView)},attachView:function(a){this.currentView=a},reset:function(){this.close(),delete this.$el}}),e.Region.extend=e.extend,e.RegionManager=function(a){var b=a.Controller.extend({constructor:function(b){this._regions={},a.Controller.prototype.constructor.call(this,b)},addRegions:function(a,b){var d={};return c.each(a,function(a,e){c.isString(a)&&(a={selector:a}),a.selector&&(a=c.defaults({},a,b));var f=this.addRegion(e,a);d[e]=f},this),d},addRegion:function(b,d){var e,f=c.isObject(d),g=c.isString(d),h=!!d.selector;return e=g||f&&h?a.Region.buildRegion(d,a.Region):c.isFunction(d)?a.Region.buildRegion(d,a.Region):d,this._store(b,e),this.triggerMethod("region:add",b,e),e},get:function(a){return this._regions[a]},removeRegion:function(a){var b=this._regions[a];this._remove(a,b)},removeRegions:function(){c.each(this._regions,function(a,b){this._remove(b,a)},this)},closeRegions:function(){c.each(this._regions,function(a){a.close()},this)},close:function(){this.removeRegions(),a.Controller.prototype.close.apply(this,arguments)},_store:function(a,b){this._regions[a]=b,this._setLength()},_remove:function(a,b){b.close(),b.stopListening(),delete this._regions[a],this._setLength(),this.triggerMethod("region:remove",a,b)},_setLength:function(){this.length=c.size(this._regions)}});return a.actAsCollection(b.prototype,"_regions"),b}(e),e.TemplateCache=function(a){this.templateId=a},c.extend(e.TemplateCache,{templateCaches:{},get:function(a){var b=this.templateCaches[a];return b||(b=new e.TemplateCache(a),this.templateCaches[a]=b),b.load()},clear:function(){var a,b=f.call(arguments),c=b.length;if(c>0)for(a=0;c>a;a++)delete this.templateCaches[b[a]];else this.templateCaches={}}}),c.extend(e.TemplateCache.prototype,{load:function(){if(this.compiledTemplate)return this.compiledTemplate;var a=this.loadTemplate(this.templateId);return this.compiledTemplate=this.compileTemplate(a),this.compiledTemplate},loadTemplate:function(a){var b=e.$(a).html();return b&&0!==b.length||d("Could not find template: '"+a+"'","NoTemplateError"),b},compileTemplate:function(a){return c.template(a)}}),e.Renderer={render:function(a,b){a||d("Cannot render the template since it's false, null or undefined.","TemplateNotFoundError");var c;return(c="function"==typeof a?a:e.TemplateCache.get(a))(b)}},e.View=b.View.extend({constructor:function(a){c.bindAll(this,"render"),this.options=c.extend({},c.result(this,"options"),c.isFunction(a)?a.call(this):a),this.events=this.normalizeUIKeys(c.result(this,"events")),c.isObject(this.behaviors)&&new e.Behaviors(this),b.View.prototype.constructor.apply(this,arguments),e.MonitorDOMRefresh(this),this.listenTo(this,"show",this.onShowCalled)},triggerMethod:e.triggerMethod,normalizeMethods:e.normalizeMethods,getTemplate:function(){return e.getOption(this,"template")},mixinTemplateHelpers:function(a){a=a||{};var b=e.getOption(this,"templateHelpers");return c.isFunction(b)&&(b=b.call(this)),c.extend(a,b)},normalizeUIKeys:function(a){var b=c.result(this,"ui");return e.normalizeUIKeys(a,b)},configureTriggers:function(){if(this.triggers){var a={},b=this.normalizeUIKeys(c.result(this,"triggers"));return c.each(b,function(b,d){var e=c.isObject(b),f=e?b.event:b;a[d]=function(a){if(a){var c=a.preventDefault,d=a.stopPropagation,g=e?b.preventDefault:c,h=e?b.stopPropagation:d;g&&c&&c.apply(a),h&&d&&d.apply(a)}var i={view:this,model:this.model,collection:this.collection};this.triggerMethod(f,i)}},this),a}},delegateEvents:function(a){this._delegateDOMEvents(a),e.bindEntityEvents(this,this.model,e.getOption(this,"modelEvents")),e.bindEntityEvents(this,this.collection,e.getOption(this,"collectionEvents"))},_delegateDOMEvents:function(a){a=a||this.events,c.isFunction(a)&&(a=a.call(this));var d={},e=c.result(this,"behaviorEvents")||{},f=this.configureTriggers();c.extend(d,e,a,f),b.View.prototype.delegateEvents.call(this,d)},undelegateEvents:function(){var a=Array.prototype.slice.call(arguments);b.View.prototype.undelegateEvents.apply(this,a),e.unbindEntityEvents(this,this.model,e.getOption(this,"modelEvents")),e.unbindEntityEvents(this,this.collection,e.getOption(this,"collectionEvents"))},onShowCalled:function(){},close:function(){if(!this.isClosed){var a=Array.prototype.slice.call(arguments),b=this.triggerMethod.apply(this,["before:close"].concat(a));b!==!1&&(this.isClosed=!0,this.triggerMethod.apply(this,["close"].concat(a)),this.unbindUIElements(),this.remove())}},bindUIElements:function(){if(this.ui){this._uiBindings||(this._uiBindings=this.ui);var a=c.result(this,"_uiBindings");this.ui={},c.each(c.keys(a),function(b){var c=a[b];this.ui[b]=this.$(c)},this)}},unbindUIElements:function(){this.ui&&this._uiBindings&&(c.each(this.ui,function(a,b){delete this.ui[b]},this),this.ui=this._uiBindings,delete this._uiBindings)}}),e.ItemView=e.View.extend({constructor:function(){e.View.prototype.constructor.apply(this,arguments)},serializeData:function(){var a={};return this.model?a=this.model.toJSON():this.collection&&(a={items:this.collection.toJSON()}),a},render:function(){this.isClosed=!1,this.triggerMethod("before:render",this),this.triggerMethod("item:before:render",this);var a=this.serializeData();a=this.mixinTemplateHelpers(a);var b=this.getTemplate(),c=e.Renderer.render(b,a);return this.$el.html(c),this.bindUIElements(),this.triggerMethod("render",this),this.triggerMethod("item:rendered",this),this},close:function(){this.isClosed||(this.triggerMethod("item:before:close"),e.View.prototype.close.apply(this,arguments),this.triggerMethod("item:closed"))}}),e.CollectionView=e.View.extend({itemViewEventPrefix:"itemview",constructor:function(){this._initChildViewStorage(),e.View.prototype.constructor.apply(this,arguments),this._initialEvents(),this.initRenderBuffer()},initRenderBuffer:function(){this.elBuffer=document.createDocumentFragment(),this._bufferedChildren=[]},startBuffering:function(){this.initRenderBuffer(),this.isBuffering=!0},endBuffering:function(){this.isBuffering=!1,this.appendBuffer(this,this.elBuffer),this._triggerShowBufferedChildren(),this.initRenderBuffer()},_triggerShowBufferedChildren:function(){this._isShown&&(c.each(this._bufferedChildren,function(a){c.isFunction(a.triggerMethod)?a.triggerMethod("show"):e.triggerMethod.call(a,"show")}),this._bufferedChildren=[])},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this.addChildView),this.listenTo(this.collection,"remove",this.removeItemView),this.listenTo(this.collection,"reset",this.render))},addChildView:function(a){this.closeEmptyView();var b=this.getItemView(a),c=this.collection.indexOf(a);this.addItemView(a,b,c)},onShowCalled:function(){this.children.each(function(a){c.isFunction(a.triggerMethod)?a.triggerMethod("show"):e.triggerMethod.call(a,"show")})},triggerBeforeRender:function(){this.triggerMethod("before:render",this),this.triggerMethod("collection:before:render",this)},triggerRendered:function(){this.triggerMethod("render",this),this.triggerMethod("collection:rendered",this)},render:function(){return this.isClosed=!1,this.triggerBeforeRender(),this._renderChildren(),this.triggerRendered(),this},_renderChildren:function(){this.startBuffering(),this.closeEmptyView(),this.closeChildren(),this.isEmpty(this.collection)?this.showEmptyView():this.showCollection(),this.endBuffering()},showCollection:function(){var a;this.collection.each(function(b,c){a=this.getItemView(b),this.addItemView(b,a,c)},this)},showEmptyView:function(){var a=this.getEmptyView();if(a&&!this._showingEmptyView){this._showingEmptyView=!0;var c=new b.Model;this.addItemView(c,a,0)}},closeEmptyView:function(){this._showingEmptyView&&(this.closeChildren(),delete this._showingEmptyView)},getEmptyView:function(){return e.getOption(this,"emptyView")},getItemView:function(){var a=e.getOption(this,"itemView");return a||d("An `itemView` must be specified","NoItemViewError"),a},addItemView:function(a,b,d){var f=e.getOption(this,"itemViewOptions");c.isFunction(f)&&(f=f.call(this,a,d));var g=this.buildItemView(a,b,f);return this.addChildViewEventForwarding(g),this.triggerMethod("before:item:added",g),this.children.add(g),this.renderItemView(g,d),this._isShown&&!this.isBuffering&&(c.isFunction(g.triggerMethod)?g.triggerMethod("show"):e.triggerMethod.call(g,"show")),this.triggerMethod("after:item:added",g),g},addChildViewEventForwarding:function(a){var b=e.getOption(this,"itemViewEventPrefix");this.listenTo(a,"all",function(){var d=f.call(arguments),g=d[0],h=this.normalizeMethods(this.getItemEvents());d[0]=b+":"+g,d.splice(1,0,a),"undefined"!=typeof h&&c.isFunction(h[g])&&h[g].apply(this,d),e.triggerMethod.apply(this,d)},this)},getItemEvents:function(){return c.isFunction(this.itemEvents)?this.itemEvents.call(this):this.itemEvents},renderItemView:function(a,b){a.render(),this.appendHtml(this,a,b)},buildItemView:function(a,b,d){var e=c.extend({model:a},d);return new b(e)},removeItemView:function(a){var b=this.children.findByModel(a);this.removeChildView(b),this.checkEmpty()},removeChildView:function(a){a&&(a.close?a.close():a.remove&&a.remove(),this.stopListening(a),this.children.remove(a)),this.triggerMethod("item:removed",a)},isEmpty:function(){return!this.collection||0===this.collection.length},checkEmpty:function(){this.isEmpty(this.collection)&&this.showEmptyView()},appendBuffer:function(a,b){a.$el.append(b)},appendHtml:function(a,b){a.isBuffering?(a.elBuffer.appendChild(b.el),a._bufferedChildren.push(b)):a.$el.append(b.el)},_initChildViewStorage:function(){this.children=new b.ChildViewContainer},close:function(){this.isClosed||(this.triggerMethod("collection:before:close"),this.closeChildren(),this.triggerMethod("collection:closed"),e.View.prototype.close.apply(this,arguments))},closeChildren:function(){this.children.each(function(a){this.removeChildView(a)},this),this.checkEmpty()}}),e.CompositeView=e.CollectionView.extend({constructor:function(){e.CollectionView.prototype.constructor.apply(this,arguments)},_initialEvents:function(){this.once("render",function(){this.collection&&(this.listenTo(this.collection,"add",this.addChildView),this.listenTo(this.collection,"remove",this.removeItemView),this.listenTo(this.collection,"reset",this._renderChildren))})},getItemView:function(){var a=e.getOption(this,"itemView")||this.constructor;return a||d("An `itemView` must be specified","NoItemViewError"),a},serializeData:function(){var a={};return this.model&&(a=this.model.toJSON()),a},render:function(){this.isRendered=!0,this.isClosed=!1,this.resetItemViewContainer(),this.triggerBeforeRender();var a=this.renderModel();return this.$el.html(a),this.bindUIElements(),this.triggerMethod("composite:model:rendered"),this._renderChildren(),this.triggerMethod("composite:rendered"),this.triggerRendered(),this},_renderChildren:function(){this.isRendered&&(this.triggerMethod("composite:collection:before:render"),e.CollectionView.prototype._renderChildren.call(this),this.triggerMethod("composite:collection:rendered"))},renderModel:function(){var a={};a=this.serializeData(),a=this.mixinTemplateHelpers(a);var b=this.getTemplate();return e.Renderer.render(b,a)},appendBuffer:function(a,b){var c=this.getItemViewContainer(a);c.append(b)},appendHtml:function(a,b){if(a.isBuffering)a.elBuffer.appendChild(b.el),a._bufferedChildren.push(b);else{var c=this.getItemViewContainer(a);c.append(b.el)}},getItemViewContainer:function(a){if("$itemViewContainer"in a)return a.$itemViewContainer;var b,f=e.getOption(a,"itemViewContainer");if(f){var g=c.isFunction(f)?f.call(a):f;b="@"===g.charAt(0)&&a.ui?a.ui[g.substr(4)]:a.$(g),b.length<=0&&d("The specified `itemViewContainer` was not found: "+a.itemViewContainer,"ItemViewContainerMissingError")}else b=a.$el;return a.$itemViewContainer=b,b},resetItemViewContainer:function(){this.$itemViewContainer&&delete this.$itemViewContainer}}),e.Layout=e.ItemView.extend({regionType:e.Region,constructor:function(a){a=a||{},this._firstRender=!0,this._initializeRegions(a),e.ItemView.prototype.constructor.call(this,a)},render:function(){return this.isClosed&&this._initializeRegions(),this._firstRender?this._firstRender=!1:this.isClosed||this._reInitializeRegions(),e.ItemView.prototype.render.apply(this,arguments)},close:function(){this.isClosed||(this.regionManager.close(),e.ItemView.prototype.close.apply(this,arguments))},addRegion:function(a,b){var c={};return c[a]=b,this._buildRegions(c)[a]},addRegions:function(a){return this.regions=c.extend({},this.regions,a),this._buildRegions(a)},removeRegion:function(a){return delete this.regions[a],this.regionManager.removeRegion(a)},getRegion:function(a){return this.regionManager.get(a)},_buildRegions:function(a){var b=this,c={regionType:e.getOption(this,"regionType"),parentEl:function(){return b.$el}};return this.regionManager.addRegions(a,c)},_initializeRegions:function(a){var b;this._initRegionManager(),b=c.isFunction(this.regions)?this.regions(a):this.regions||{},this.addRegions(b)},_reInitializeRegions:function(){this.regionManager.closeRegions(),this.regionManager.each(function(a){a.reset()})},_initRegionManager:function(){this.regionManager=new e.RegionManager,this.listenTo(this.regionManager,"region:add",function(a,b){this[a]=b,this.trigger("region:add",a,b)}),this.listenTo(this.regionManager,"region:remove",function(a,b){delete this[a],this.trigger("region:remove",a,b)})}}),e.Behavior=function(a,b){function c(b,c){this.view=c,this.defaults=a.result(this,"defaults")||{},this.options=a.extend({},this.defaults,b),this.$=function(){return this.view.$.apply(this.view,arguments)},this.initialize.apply(this,arguments)}return a.extend(c.prototype,b.Events,{initialize:function(){},close:function(){this.stopListening()},triggerMethod:e.triggerMethod}),c.extend=e.extend,c}(c,b),e.Behaviors=function(a,b){function c(a){this.behaviors=c.parseBehaviors(a,b.result(a,"behaviors")),c.wrap(a,this.behaviors,["bindUIElements","unbindUIElements","delegateEvents","undelegateEvents","behaviorEvents","triggerMethod","setElement","close"])}var d={setElement:function(a,c){a.apply(this,b.tail(arguments,2)),b.each(c,function(a){a.$el=this.$el},this)},close:function(a,c){var d=b.tail(arguments,2);a.apply(this,d),b.invoke(c,"close",d)},bindUIElements:function(a,c){a.apply(this),b.invoke(c,a)},unbindUIElements:function(a,c){a.apply(this),b.invoke(c,a)},triggerMethod:function(a,c){var d=b.tail(arguments,2);a.apply(this,d),b.each(c,function(b){a.apply(b,d)})},delegateEvents:function(c,d){var e=b.tail(arguments,2);c.apply(this,e),b.each(d,function(b){a.bindEntityEvents(b,this.model,a.getOption(b,"modelEvents")),a.bindEntityEvents(b,this.collection,a.getOption(b,"collectionEvents"))},this)},undelegateEvents:function(c,d){var e=b.tail(arguments,2);c.apply(this,e),b.each(d,function(b){a.unbindEntityEvents(b,this.model,a.getOption(b,"modelEvents")),a.unbindEntityEvents(b,this.collection,a.getOption(b,"collectionEvents"))},this)},behaviorEvents:function(c,d){var e={},f=b.result(this,"ui");return b.each(d,function(c,d){var g={},h=b.clone(b.result(c,"events"))||{},i=b.result(c,"ui"),j=b.extend({},f,i);h=a.normalizeUIKeys(h,j),b.each(b.keys(h),function(a){var e=new Array(d+2).join(" "),f=a+e,i=b.isFunction(h[a])?h[a]:c[h[a]];g[f]=b.bind(i,c)}),e=b.extend(e,g)}),e}};return b.extend(c,{behaviorsLookup:function(){throw new Error("You must define where your behaviors are stored. See https://github.com/marionettejs/backbone.marionette/blob/master/docs/marionette.behaviors.md#behaviorslookup")},getBehaviorClass:function(a,d){return a.behaviorClass?a.behaviorClass:b.isFunction(c.behaviorsLookup)?c.behaviorsLookup.apply(this,arguments)[d]:c.behaviorsLookup[d]},parseBehaviors:function(a,d){return b.map(d,function(b,d){var e=c.getBehaviorClass(b,d);return new e(b,a)})},wrap:function(a,c,e){b.each(e,function(e){a[e]=b.partial(d[e],a[e],c)})}}),c}(e,c),e.AppRouter=b.Router.extend({constructor:function(a){b.Router.prototype.constructor.apply(this,arguments),this.options=a||{};var c=e.getOption(this,"appRoutes"),d=this._getController();this.processAppRoutes(d,c),this.on("route",this._processOnRoute,this)},appRoute:function(a,b){var c=this._getController();this._addAppRoute(c,a,b)},_processOnRoute:function(a,b){var d=c.invert(this.appRoutes)[a];c.isFunction(this.onRoute)&&this.onRoute(a,d,b)},processAppRoutes:function(a,b){if(b){var d=c.keys(b).reverse();c.each(d,function(c){this._addAppRoute(a,c,b[c])},this)}},_getController:function(){return e.getOption(this,"controller")},_addAppRoute:function(a,b,e){var f=a[e];f||d("Method '"+e+"' was not found on the controller"),this.route(b,e,c.bind(f,a))}}),e.Application=function(a){this._initRegionManager(),this._initCallbacks=new e.Callbacks,this.vent=new b.Wreqr.EventAggregator,this.commands=new b.Wreqr.Commands,this.reqres=new b.Wreqr.RequestResponse,this.submodules={},c.extend(this,a),this.triggerMethod=e.triggerMethod},c.extend(e.Application.prototype,b.Events,{execute:function(){this.commands.execute.apply(this.commands,arguments)},request:function(){return this.reqres.request.apply(this.reqres,arguments)},addInitializer:function(a){this._initCallbacks.add(a)},start:function(a){this.triggerMethod("initialize:before",a),this._initCallbacks.run(a,this),this.triggerMethod("initialize:after",a),this.triggerMethod("start",a)},addRegions:function(a){return this._regionManager.addRegions(a)},closeRegions:function(){this._regionManager.closeRegions()},removeRegion:function(a){this._regionManager.removeRegion(a)},getRegion:function(a){return this._regionManager.get(a)},module:function(a,b){var c=e.Module.getClass(b),d=f.call(arguments);return d.unshift(this),c.create.apply(c,d)},_initRegionManager:function(){this._regionManager=new e.RegionManager,this.listenTo(this._regionManager,"region:add",function(a,b){this[a]=b}),this.listenTo(this._regionManager,"region:remove",function(a){delete this[a]})}}),e.Application.extend=e.extend,e.Module=function(a,b,d){this.moduleName=a,this.options=c.extend({},this.options,d),this.initialize=d.initialize||this.initialize,this.submodules={},this._setupInitializersAndFinalizers(),this.app=b,this.startWithParent=!0,this.triggerMethod=e.triggerMethod,c.isFunction(this.initialize)&&this.initialize(this.options,a,b)},e.Module.extend=e.extend,c.extend(e.Module.prototype,b.Events,{initialize:function(){},addInitializer:function(a){this._initializerCallbacks.add(a)},addFinalizer:function(a){this._finalizerCallbacks.add(a)},start:function(a){this._isInitialized||(c.each(this.submodules,function(b){b.startWithParent&&b.start(a)}),this.triggerMethod("before:start",a),this._initializerCallbacks.run(a,this),this._isInitialized=!0,this.triggerMethod("start",a))},stop:function(){this._isInitialized&&(this._isInitialized=!1,e.triggerMethod.call(this,"before:stop"),c.each(this.submodules,function(a){a.stop()}),this._finalizerCallbacks.run(void 0,this),this._initializerCallbacks.reset(),this._finalizerCallbacks.reset(),e.triggerMethod.call(this,"stop"))},addDefinition:function(a,b){this._runModuleDefinition(a,b)},_runModuleDefinition:function(a,d){if(a){var f=c.flatten([this,this.app,b,e,e.$,c,d]);a.apply(this,f)}},_setupInitializersAndFinalizers:function(){this._initializerCallbacks=new e.Callbacks,this._finalizerCallbacks=new e.Callbacks}}),c.extend(e.Module,{create:function(a,b,d){var e=a,g=f.call(arguments);g.splice(0,3),b=b.split(".");var h=b.length,i=[];return i[h-1]=d,c.each(b,function(b,c){var f=e;e=this._getModule(f,b,a,d),this._addModuleDefinition(f,e,i[c],g)},this),e},_getModule:function(a,b,d,e){var f=c.extend({},e),g=this.getClass(e),h=a[b];return h||(h=new g(b,d,f),a[b]=h,a.submodules[b]=h),h},getClass:function(a){var b=e.Module;return a?a.prototype instanceof b?a:a.moduleClass||b:b},_addModuleDefinition:function(a,b,c,d){var e=this._getDefine(c),f=this._getStartWithParent(c,b);e&&b.addDefinition(e,d),this._addStartWithParent(a,b,f)},_getStartWithParent:function(a,b){var d;return c.isFunction(a)&&a.prototype instanceof e.Module?(d=b.constructor.prototype.startWithParent,c.isUndefined(d)?!0:d):c.isObject(a)?(d=a.startWithParent,c.isUndefined(d)?!0:d):!0},_getDefine:function(a){return!c.isFunction(a)||a.prototype instanceof e.Module?c.isObject(a)?a.define:null:a},_addStartWithParent:function(a,b,c){b.startWithParent=b.startWithParent&&c,b.startWithParent&&!b.startWithParentIsConfigured&&(b.startWithParentIsConfigured=!0,a.addInitializer(function(a){b.startWithParent&&b.start(a)}))}}),e}(this,b,a);return c}),define("singleton/StringUtils",[],function(){var a={endsWith:function(a,b){return"undefined"==typeof a||"undefined"==typeof b?!1:""===b?!0:(a=String(a),b=String(b),a.length>=b.length&&a.indexOf(b)===a.length-b.length)},ucFirst:function(a){return a.charAt(0).toUpperCase()+a.slice(1)}};return a}),define("lib/amd-wrapped/modernizr",[],function(){window.Modernizr=function(a,b,c){function d(a){s.cssText=a}function e(a,b){return typeof a===b}function f(a,b){return!!~(""+a).indexOf(b)}function g(a,b){for(var d in a){var e=a[d];if(!f(e,"-")&&s[e]!==c)return"pfx"==b?e:!0}return!1}function h(a,b,d){for(var f in a){var g=b[a[f]];if(g!==c)return d===!1?a[f]:e(g,"function")?g.bind(d||b):g}return!1}function i(a,b,c){var d=a.charAt(0).toUpperCase()+a.slice(1),f=(a+" "+x.join(d+" ")+d).split(" ");return e(b,"string")||e(b,"undefined")?g(f,b):(f=(a+" "+y.join(d+" ")+d).split(" "),h(f,b,c))}function j(){n.input=function(c){for(var d=0,e=c.length;e>d;d++)C[c[d]]=!!(c[d]in t);return C.list&&(C.list=!(!b.createElement("datalist")||!a.HTMLDataListElement)),C}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),n.inputtypes=function(a){for(var d,e,f,g=0,h=a.length;h>g;g++)t.setAttribute("type",e=a[g]),d="text"!==t.type,d&&(t.value=u,t.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(e)&&t.style.WebkitAppearance!==c?(p.appendChild(t),f=b.defaultView,d=f.getComputedStyle&&"textfield"!==f.getComputedStyle(t,null).WebkitAppearance&&0!==t.offsetHeight,p.removeChild(t)):/^(search|tel)$/.test(e)||(d=/^(url|email)$/.test(e)?t.checkValidity&&t.checkValidity()===!1:t.value!=u)),B[a[g]]=!!d;return B}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var k,l,m="2.8.3",n={},o=!0,p=b.documentElement,q="modernizr",r=b.createElement(q),s=r.style,t=b.createElement("input"),u=":)",v=({}.toString," -webkit- -moz- -o- -ms- ".split(" ")),w="Webkit Moz O ms",x=w.split(" "),y=w.toLowerCase().split(" "),z={svg:"http://www.w3.org/2000/svg"},A={},B={},C={},D=[],E=D.slice,F=function(a,c,d,e){var f,g,h,i,j=b.createElement("div"),k=b.body,l=k||b.createElement("body");if(parseInt(d,10))for(;d--;)h=b.createElement("div"),h.id=e?e[d]:q+(d+1),j.appendChild(h);return f=["&#173;",'<style id="s',q,'">',a,"</style>"].join(""),j.id=q,(k?j:l).innerHTML+=f,l.appendChild(j),k||(l.style.background="",l.style.overflow="hidden",i=p.style.overflow,p.style.overflow="hidden",p.appendChild(l)),g=c(j,a),k?j.parentNode.removeChild(j):(l.parentNode.removeChild(l),p.style.overflow=i),!!g},G=function(b){var c=a.matchMedia||a.msMatchMedia;if(c)return c(b)&&c(b).matches||!1;var d;return F("@media "+b+" { #"+q+" { position: absolute; } }",function(b){d="absolute"==(a.getComputedStyle?getComputedStyle(b,null):b.currentStyle).position}),d},H={}.hasOwnProperty;l=e(H,"undefined")||e(H.call,"undefined")?function(a,b){return b in a&&e(a.constructor.prototype[b],"undefined")}:function(a,b){return H.call(a,b)},Function.prototype.bind||(Function.prototype.bind=function(a){var b=this;if("function"!=typeof b)throw new TypeError;var c=E.call(arguments,1),d=function(){if(this instanceof d){var e=function(){};e.prototype=b.prototype;var f=new e,g=b.apply(f,c.concat(E.call(arguments)));return Object(g)===g?g:f}return b.apply(a,c.concat(E.call(arguments)))};return d}),A.touch=function(){var c;return"ontouchstart"in a||a.DocumentTouch&&b instanceof DocumentTouch?c=!0:F(["@media (",v.join("touch-enabled),("),q,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(a){c=9===a.offsetTop}),c},A.csstransforms=function(){return!!i("transform")},A.csstransforms3d=function(){var a=!!i("perspective");return a&&"webkitPerspective"in p.style&&F("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(b){a=9===b.offsetLeft&&3===b.offsetHeight}),a},A.csstransitions=function(){return i("transition")},A.localstorage=function(){try{return localStorage.setItem(q,q),localStorage.removeItem(q),!0}catch(a){return!1}},A.svg=function(){return!!b.createElementNS&&!!b.createElementNS(z.svg,"svg").createSVGRect},A.inlinesvg=function(){var a=b.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==z.svg};for(var I in A)l(A,I)&&(k=I.toLowerCase(),n[k]=A[I](),D.push((n[k]?"":"no-")+k));return n.input||j(),n.addTest=function(a,b){if("object"==typeof a)for(var d in a)l(a,d)&&n.addTest(d,a[d]);else{if(a=a.toLowerCase(),n[a]!==c)return n;b="function"==typeof b?b():b,"undefined"!=typeof o&&o&&(p.className+=" "+(b?"":"no-")+a),n[a]=b}return n},d(""),r=t=null,n._version=m,n._prefixes=v,n._domPrefixes=y,n._cssomPrefixes=x,n.mq=G,n.testProp=function(a){return g([a])},n.testAllProps=i,n.testStyles=F,n.prefixed=function(a,b,c){return b?i(a,b,c):i(a,"pfx")},p.className=p.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(o?" js "+D.join(" "):""),n}(this,this.document),Modernizr.addTest("contenteditable","contentEditable"in document.documentElement),Modernizr.addTest("xhr2","FormData"in window),Modernizr.addTest("ipad",function(){return!!navigator.userAgent.match(/iPad/i)}),Modernizr.addTest("iphone",function(){return!!navigator.userAgent.match(/iPhone/i)}),Modernizr.addTest("ipod",function(){return!!navigator.userAgent.match(/iPod/i)}),Modernizr.addTest("appleios",function(){return Modernizr.ipad||Modernizr.ipod||Modernizr.iphone}),Modernizr.addTest("positionfixed",function(){var a=document.createElement("div"),b=a.cloneNode(!1),c=!1,d=document.body||function(){return c=!0,document.documentElement.appendChild(document.createElement("body"))}(),e=d.style.cssText;d.style.cssText="padding:0;margin:0",a.style.cssText="position:fixed;top:42px",d.appendChild(a),d.appendChild(b);var f=a.offsetTop!==b.offsetTop;return d.removeChild(a),d.removeChild(b),d.style.cssText=e,c&&document.documentElement.removeChild(d),f&&!Modernizr.appleios});var a=navigator.userAgent.match(/Android ([\d+\.]{3,5})/)||[],b=a.length&&a.length>1;if(Modernizr.addTest("android",function(){return b}),b){var c=a[1].charAt(0);Modernizr.addTest("android"+c,!0)}return Modernizr.addTest("ioswebview",function(){return Modernizr.appleios&&!/Safari/.test(navigator.userAgent)}),Modernizr.addTest("facebookapp",function(){return/FBAV/.test(navigator.userAgent)}),Modernizr}),function(a,b){if("function"==typeof define&&define.amd)define("lib/foundation/foundation",["jquery"],b);else if("object"==typeof exports){var c=require("jquery");module.exports=b(c)}else a.Foundation=b(a.jQuery||a.$)}(this,function(a){function b(a){return("string"==typeof a||a instanceof String)&&(a=a.replace(/^['\\/"]+|(;\s?})+|['\\/"]+$/g,"")),a}var c=function(b){for(var c=b.length,d=a("head");c--;)0===d.has("."+b[c]).length&&d.append('<meta class="'+b[c]+'" />')};c(["foundation-mq-small","foundation-mq-small-only","foundation-mq-medium","foundation-mq-medium-only","foundation-mq-large","foundation-mq-large-only","foundation-mq-xlarge","foundation-mq-xlarge-only","foundation-mq-xxlarge","foundation-data-attribute-namespace"]),a(function(){"undefined"!=typeof FastClick&&"undefined"!=typeof document.body&&FastClick.attach(document.body)});var d=function(b,c){if("string"==typeof b){if(c){var d;if(c.jquery){if(d=c[0],!d)return c}else d=c;return a(d.querySelectorAll(b))}return a(document.querySelectorAll(b))}return a(b,c)},e=function(a){var b=[];return a||b.push("data"),this.namespace.length>0&&b.push(this.namespace),b.push(this.name),b.join("-")},f=function(a){for(var b=a.split("-"),c=b.length,d=[];c--;)0!==c?d.push(b[c]):this.namespace.length>0?d.push(this.namespace,b[c]):d.push(b[c]);return d.reverse().join("-")},g=function(b,c){var e=this,f=function(){var f=d(this),g=!f.data(e.attr_name(!0)+"-init");f.data(e.attr_name(!0)+"-init",a.extend({},e.settings,c||b,e.data_options(f))),g&&e.events(this)};return d(this.scope).is("["+this.attr_name()+"]")?f.call(this.scope):d("["+this.attr_name()+"]",this.scope).each(f),"string"==typeof b?this[b].call(this,c):void 0},h=function(a,b){function c(){b(a[0])}function d(){if(this.one("load",c),/MSIE (\d+\.\d+);/.test(navigator.userAgent)){var a=this.attr("src"),b=a.match(/\?/)?"&":"?";b+="random="+(new Date).getTime(),this.attr("src",a+b)}}return a.attr("src")?void(a[0].complete||4===a[0].readyState?c():d.call(a)):void c()};return window.matchMedia||(window.matchMedia=function(){var a=window.styleMedia||window.media;if(!a){var b=document.createElement("style"),c=document.getElementsByTagName("script")[0],d=null;b.type="text/css",b.id="matchmediajs-test",c.parentNode.insertBefore(b,c),d="getComputedStyle"in window&&window.getComputedStyle(b,null)||b.currentStyle,a={matchMedium:function(a){var c="@media "+a+"{ #matchmediajs-test { width: 1px; } }";return b.styleSheet?b.styleSheet.cssText=c:b.textContent=c,"1px"===d.width}}}return function(b){return{matches:a.matchMedium(b||"all"),media:b||"all"}}}()),function(a){function b(){c&&(f(b),h&&a.fx.tick())}for(var c,d=0,e=["webkit","moz"],f=window.requestAnimationFrame,g=window.cancelAnimationFrame,h="undefined"!=typeof a.fx;d<e.length&&!f;d++)f=window[e[d]+"RequestAnimationFrame"],g=g||window[e[d]+"CancelAnimationFrame"]||window[e[d]+"CancelRequestAnimationFrame"];f?(window.requestAnimationFrame=f,window.cancelAnimationFrame=g,h&&(a.fx.timer=function(d){d()&&a.timers.push(d)&&!c&&(c=!0,b())},a.fx.stop=function(){c=!1})):(window.requestAnimationFrame=function(a){var b=(new Date).getTime(),c=Math.max(0,16-(b-d)),e=window.setTimeout(function(){a(b+c)
},c);return d=b+c,e},window.cancelAnimationFrame=function(a){clearTimeout(a)})}(a),window.Foundation={name:"Foundation",version:"5.5.2",media_queries:{small:d(".foundation-mq-small").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),"small-only":d(".foundation-mq-small-only").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),medium:d(".foundation-mq-medium").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),"medium-only":d(".foundation-mq-medium-only").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),large:d(".foundation-mq-large").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),"large-only":d(".foundation-mq-large-only").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),xlarge:d(".foundation-mq-xlarge").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),"xlarge-only":d(".foundation-mq-xlarge-only").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),xxlarge:d(".foundation-mq-xxlarge").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,"")},stylesheet:a("<style></style>").appendTo("head")[0].sheet,global:{namespace:""},init:function(a,b,c,e,f){var g=[a,c,e,f],h=[];if(this.rtl=/rtl/i.test(d("html").attr("dir")),this.scope=a||this.scope,this.set_namespace(),b&&"string"==typeof b&&!/reflow/i.test(b))this.libs.hasOwnProperty(b)&&h.push(this.init_lib(b,g));else for(var i in this.libs)h.push(this.init_lib(i,b));return d(window).load(function(){d(window).trigger("resize.fndtn.clearing").trigger("resize.fndtn.dropdown").trigger("resize.fndtn.equalizer").trigger("resize.fndtn.interchange").trigger("resize.fndtn.joyride").trigger("resize.fndtn.magellan").trigger("resize.fndtn.topbar").trigger("resize.fndtn.slider")}),a},init_lib:function(b,c){return this.libs.hasOwnProperty(b)?(this.patch(this.libs[b]),c&&c.hasOwnProperty(b)?("undefined"!=typeof this.libs[b].settings?a.extend(!0,this.libs[b].settings,c[b]):"undefined"!=typeof this.libs[b].defaults&&a.extend(!0,this.libs[b].defaults,c[b]),this.libs[b].init.apply(this.libs[b],[this.scope,c[b]])):(c=c instanceof Array?c:new Array(c),this.libs[b].init.apply(this.libs[b],c))):function(){}},patch:function(a){a.scope=this.scope,a.namespace=this.global.namespace,a.rtl=this.rtl,a.data_options=this.utils.data_options,a.attr_name=e,a.add_namespace=f,a.bindings=g,a.S=this.utils.S},inherit:function(a,b){for(var c=b.split(" "),d=c.length;d--;)this.utils.hasOwnProperty(c[d])&&(a[c[d]]=this.utils[c[d]])},set_namespace:function(){var b=void 0===this.global.namespace?a(".foundation-data-attribute-namespace").css("font-family"):this.global.namespace;this.global.namespace=void 0===b||/false/i.test(b)?"":b},libs:{},utils:{S:d,throttle:function(a,b){var c=null;return function(){var d=this,e=arguments;null==c&&(c=setTimeout(function(){a.apply(d,e),c=null},b))}},debounce:function(a,b,c){var d,e;return function(){var f=this,g=arguments,h=function(){d=null,c||(e=a.apply(f,g))},i=c&&!d;return clearTimeout(d),d=setTimeout(h,b),i&&(e=a.apply(f,g)),e}},data_options:function(b,c){function d(a){return!isNaN(a-0)&&null!==a&&""!==a&&a!==!1&&a!==!0}function e(b){return"string"==typeof b?a.trim(b):b}c=c||"options";var f,g,h,i={},j=function(a){var b=Foundation.global.namespace;return a.data(b.length>0?b+"-"+c:c)},k=j(b);if("object"==typeof k)return k;for(h=(k||":").split(";"),f=h.length;f--;)g=h[f].split(":"),g=[g[0],g.slice(1).join(":")],/true/i.test(g[1])&&(g[1]=!0),/false/i.test(g[1])&&(g[1]=!1),d(g[1])&&(g[1]=-1===g[1].indexOf(".")?parseInt(g[1],10):parseFloat(g[1])),2===g.length&&g[0].length>0&&(i[e(g[0])]=e(g[1]));return i},register_media:function(c,d){void 0===Foundation.media_queries[c]&&(a("head").append('<meta class="'+d+'"/>'),Foundation.media_queries[c]=b(a("."+d).css("font-family")))},add_custom_rule:function(a,b){if(void 0===b&&Foundation.stylesheet)Foundation.stylesheet.insertRule(a,Foundation.stylesheet.cssRules.length);else{var c=Foundation.media_queries[b];void 0!==c&&Foundation.stylesheet.insertRule("@media "+Foundation.media_queries[b]+"{ "+a+" }",Foundation.stylesheet.cssRules.length)}},image_loaded:function(a,b){function c(a){for(var b=a.length,c=b-1;c>=0;c--)if(void 0===a.attr("height"))return!1;return!0}var d=this,e=a.length;(0===e||c(a))&&b(a),a.each(function(){h(d.S(this),function(){e-=1,0===e&&b(a)})})},random_str:function(){return this.fidx||(this.fidx=0),this.prefix=this.prefix||[this.name||"F",(+new Date).toString(36)].join("-"),this.prefix+(this.fidx++).toString(36)},match:function(a){return window.matchMedia(a).matches},is_small_up:function(){return this.match(Foundation.media_queries.small)},is_medium_up:function(){return this.match(Foundation.media_queries.medium)},is_large_up:function(){return this.match(Foundation.media_queries.large)},is_xlarge_up:function(){return this.match(Foundation.media_queries.xlarge)},is_xxlarge_up:function(){return this.match(Foundation.media_queries.xxlarge)},is_small_only:function(){return!(this.is_medium_up()||this.is_large_up()||this.is_xlarge_up()||this.is_xxlarge_up())},is_medium_only:function(){return this.is_medium_up()&&!this.is_large_up()&&!this.is_xlarge_up()&&!this.is_xxlarge_up()},is_large_only:function(){return this.is_medium_up()&&this.is_large_up()&&!this.is_xlarge_up()&&!this.is_xxlarge_up()},is_xlarge_only:function(){return this.is_medium_up()&&this.is_large_up()&&this.is_xlarge_up()&&!this.is_xxlarge_up()},is_xxlarge_only:function(){return this.is_medium_up()&&this.is_large_up()&&this.is_xlarge_up()&&this.is_xxlarge_up()}}},a.fn.foundation=function(){var a=Array.prototype.slice.call(arguments,0);return this.each(function(){return Foundation.init.apply(Foundation,[this].concat(a)),this})},Foundation}),function(a,b){if("function"==typeof define&&define.amd)define("lib/foundation/foundation.dropdown",["jquery","./foundation"],b);else if("object"==typeof exports){var c=require("jquery"),d=require("./foundation");module.exports=b(c,d)}else b(a.jQuery||a.$,a.Foundation)}(this,function(a,b){b.libs.dropdown={name:"dropdown",version:"5.5.2",settings:{active_class:"open",disabled_class:"disabled",mega_class:"mega",align:"bottom",is_hover:!1,hover_timeout:150,opened:function(){},closed:function(){}},init:function(c,d,e){b.inherit(this,"throttle"),a.extend(!0,this.settings,d,e),this.bindings(d,e)},events:function(){var b=this,c=b.S;c(this.scope).off(".dropdown").on("click.fndtn.dropdown","["+this.attr_name()+"]",function(d){var e=c(this).data(b.attr_name(!0)+"-init")||b.settings;(!e.is_hover||Modernizr.touch)&&(d.preventDefault(),c(this).parent("[data-reveal-id]").length&&d.stopPropagation(),b.toggle(a(this)))}).on("mouseenter.fndtn.dropdown","["+this.attr_name()+"], ["+this.attr_name()+"-content]",function(a){var d,e,f=c(this);clearTimeout(b.timeout),f.data(b.data_attr())?(d=c("#"+f.data(b.data_attr())),e=f):(d=f,e=c("["+b.attr_name()+'="'+d.attr("id")+'"]'));var g=e.data(b.attr_name(!0)+"-init")||b.settings;c(a.currentTarget).data(b.data_attr())&&g.is_hover&&b.closeall.call(b),g.is_hover&&b.open.apply(b,[d,e])}).on("mouseleave.fndtn.dropdown","["+this.attr_name()+"], ["+this.attr_name()+"-content]",function(){var a,d=c(this);if(d.data(b.data_attr()))a=d.data(b.data_attr(!0)+"-init")||b.settings;else var e=c("["+b.attr_name()+'="'+c(this).attr("id")+'"]'),a=e.data(b.attr_name(!0)+"-init")||b.settings;b.timeout=setTimeout(function(){d.data(b.data_attr())?a.is_hover&&b.close.call(b,c("#"+d.data(b.data_attr()))):a.is_hover&&b.close.call(b,d)}.bind(this),a.hover_timeout)}).on("click.fndtn.dropdown",function(d){var e=c(d.target).closest("["+b.attr_name()+"-content]"),f=e.find("a");return f.length>0&&"false"!==e.attr("aria-autoclose")&&b.close.call(b,c("["+b.attr_name()+"-content]")),d.target!==document&&!a.contains(document.documentElement,d.target)||c(d.target).closest("["+b.attr_name()+"]").length>0?void 0:!c(d.target).data("revealId")&&e.length>0&&(c(d.target).is("["+b.attr_name()+"-content]")||a.contains(e.first()[0],d.target))?void d.stopPropagation():void b.close.call(b,c("["+b.attr_name()+"-content]"))}).on("opened.fndtn.dropdown","["+b.attr_name()+"-content]",function(){b.settings.opened.call(this)}).on("closed.fndtn.dropdown","["+b.attr_name()+"-content]",function(){b.settings.closed.call(this)}),c(window).off(".dropdown").on("resize.fndtn.dropdown",b.throttle(function(){b.resize.call(b)},50)),this.resize()},close:function(c){var d=this;c.each(function(e){var f=a("["+d.attr_name()+"="+c[e].id+"]")||a("aria-controls="+c[e].id+"]");f.attr("aria-expanded","false"),d.S(this).hasClass(d.settings.active_class)&&(d.S(this).css(b.rtl?"right":"left","-99999px").attr("aria-hidden","true").removeClass(d.settings.active_class).prev("["+d.attr_name()+"]").removeClass(d.settings.active_class).removeData("target"),d.S(this).trigger("closed.fndtn.dropdown",[c]))}),c.removeClass("f-open-"+this.attr_name(!0))},closeall:function(){var b=this;a.each(b.S(".f-open-"+this.attr_name(!0)),function(){b.close.call(b,b.S(this))})},open:function(a,b){this.css(a.addClass(this.settings.active_class),b),a.prev("["+this.attr_name()+"]").addClass(this.settings.active_class),a.data("target",b.get(0)).trigger("opened.fndtn.dropdown",[a,b]),a.attr("aria-hidden","false"),b.attr("aria-expanded","true"),a.focus(),a.addClass("f-open-"+this.attr_name(!0))},data_attr:function(){return this.namespace.length>0?this.namespace+"-"+this.name:this.name},toggle:function(a){if(!a.hasClass(this.settings.disabled_class)){var b=this.S("#"+a.data(this.data_attr()));0!==b.length&&(this.close.call(this,this.S("["+this.attr_name()+"-content]").not(b)),b.hasClass(this.settings.active_class)?(this.close.call(this,b),b.data("target")!==a.get(0)&&this.open.call(this,b,a)):this.open.call(this,b,a))}},resize:function(){var b=this.S("["+this.attr_name()+"-content].open"),c=a(b.data("target"));b.length&&c.length&&this.css(b,c)},css:function(a,c){var d=Math.max((c.width()-a.width())/2,8),e=c.data(this.attr_name(!0)+"-init")||this.settings,f=a.parent().css("overflow-y")||a.parent().css("overflow");if(this.clear_idx(),this.small()){var g=this.dirs.bottom.call(a,c,e);a.attr("style","").removeClass("drop-left drop-right drop-top").css({position:"absolute",width:"95%","max-width":"none",top:g.top}),a.css(b.rtl?"right":"left",d)}else if("visible"!==f){var h=c[0].offsetTop+c[0].offsetHeight;a.attr("style","").css({position:"absolute",top:h}),a.css(b.rtl?"right":"left",d)}else this.style(a,c,e);return a},style:function(b,c,d){var e=a.extend({position:"absolute"},this.dirs[d.align].call(b,c,d));b.attr("style","").css(e)},dirs:{_base:function(a){var b=this.offsetParent(),c=b.offset(),d=a.offset();d.top-=c.top,d.left-=c.left,d.missRight=!1,d.missTop=!1,d.missLeft=!1,d.leftRightFlag=!1;var e;e=document.getElementsByClassName("row")[0]?document.getElementsByClassName("row")[0].clientWidth:window.innerWidth;var f=(window.innerWidth-e)/2,g=e;return this.hasClass("mega")||(a.offset().top<=this.outerHeight()&&(d.missTop=!0,g=window.innerWidth-f,d.leftRightFlag=!0),a.offset().left+this.outerWidth()>a.offset().left+f&&a.offset().left-f>this.outerWidth()&&(d.missRight=!0,d.missLeft=!1),a.offset().left-this.outerWidth()<=0&&(d.missLeft=!0,d.missRight=!1)),d},top:function(a,c){var d=b.libs.dropdown,e=d.dirs._base.call(this,a);return this.addClass("drop-top"),1==e.missTop&&(e.top=e.top+a.outerHeight()+this.outerHeight(),this.removeClass("drop-top")),1==e.missRight&&(e.left=e.left-this.outerWidth()+a.outerWidth()),(a.outerWidth()<this.outerWidth()||d.small()||this.hasClass(c.mega_menu))&&d.adjust_pip(this,a,c,e),b.rtl?{left:e.left-this.outerWidth()+a.outerWidth(),top:e.top-this.outerHeight()}:{left:e.left,top:e.top-this.outerHeight()}},bottom:function(a,c){var d=b.libs.dropdown,e=d.dirs._base.call(this,a);return 1==e.missRight&&(e.left=e.left-this.outerWidth()+a.outerWidth()),(a.outerWidth()<this.outerWidth()||d.small()||this.hasClass(c.mega_menu))&&d.adjust_pip(this,a,c,e),d.rtl?{left:e.left-this.outerWidth()+a.outerWidth(),top:e.top+a.outerHeight()}:{left:e.left,top:e.top+a.outerHeight()}},left:function(a){var c=b.libs.dropdown.dirs._base.call(this,a);return this.addClass("drop-left"),1==c.missLeft&&(c.left=c.left+this.outerWidth(),c.top=c.top+a.outerHeight(),this.removeClass("drop-left")),{left:c.left-this.outerWidth(),top:c.top}},right:function(a,c){var d=b.libs.dropdown.dirs._base.call(this,a);this.addClass("drop-right"),1==d.missRight?(d.left=d.left-this.outerWidth(),d.top=d.top+a.outerHeight(),this.removeClass("drop-right")):d.triggeredRight=!0;var e=b.libs.dropdown;return(a.outerWidth()<this.outerWidth()||e.small()||this.hasClass(c.mega_menu))&&e.adjust_pip(this,a,c,d),{left:d.left+a.outerWidth(),top:d.top}}},adjust_pip:function(a,c,d,e){var f=b.stylesheet,g=8;a.hasClass(d.mega_class)?g=e.left+c.outerWidth()/2-8:this.small()&&(g+=e.left-8),this.rule_idx=f.cssRules.length;var h=".f-dropdown.open:before",i=".f-dropdown.open:after",j="left: "+g+"px;",k="left: "+(g-1)+"px;";1==e.missRight&&(g=a.outerWidth()-23,h=".f-dropdown.open:before",i=".f-dropdown.open:after",j="left: "+g+"px;",k="left: "+(g-1)+"px;"),1==e.triggeredRight&&(h=".f-dropdown.open:before",i=".f-dropdown.open:after",j="left:-12px;",k="left:-14px;"),f.insertRule?(f.insertRule([h,"{",j,"}"].join(" "),this.rule_idx),f.insertRule([i,"{",k,"}"].join(" "),this.rule_idx+1)):(f.addRule(h,j,this.rule_idx),f.addRule(i,k,this.rule_idx+1))},clear_idx:function(){var a=b.stylesheet;"undefined"!=typeof this.rule_idx&&(a.deleteRule(this.rule_idx),a.deleteRule(this.rule_idx),delete this.rule_idx)},small:function(){return matchMedia(b.media_queries.small).matches&&!matchMedia(b.media_queries.medium).matches},off:function(){this.S(this.scope).off(".fndtn.dropdown"),this.S("html, body").off(".fndtn.dropdown"),this.S(window).off(".fndtn.dropdown"),this.S("[data-dropdown-content]").off(".fndtn.dropdown")},reflow:function(){}}}),define("gawkerlib/jquery.foundation.dropdownhover",["jquery","lib/amd-wrapped/modernizr","lib/foundation/foundation","lib/foundation/foundation.dropdown"],function(a,b,c){return c.libs.dropdownhover=a.extend({},c.libs.dropdown,{name:"dropdownhover",version:"2.0.0",init:function(a,b,d){c.inherit(this,"throttle"),this.bindings(b,d,a)},events:function(){var c=this;a(this.scope).off(".dropdownhover").on("click.fndtn.dropdownhover","[data-dropdownhover]",function(d){var e=a(this);b.touch&&(e.hasClass("clicked")||(e.addClass("clicked"),d.stopPropagation(),d.preventDefault(),c.toggle(a(this))))}).on("mouseenter.fndtn.dropdownhover","[data-dropdownhover], [data-dropdownhover-content], [data-dropdownhover-anchor]",function(){if(!b.touch){c.close.call(c,a("[data-dropdownhover-content]"));var d,e,f=this.hasAttribute("data-dropdownhover-anchor")?a(this).closest("[data-dropdownhover-container]").find("[data-dropdownhover]"):a(this);window.clearTimeout(c.timeout),f.data("dropdownhover")?(d=a("#"+f.data("dropdownhover")),e=f):(d=f,e=a('[data-dropdownhover="'+d.attr("id")+'"]')),c.open.apply(c,[d,e])}}).on("mouseleave.fndtn.dropdownhover","[data-dropdownhover], [data-dropdownhover-content], [data-dropdownhover-anchor]",function(){if(!b.touch){var d=this.hasAttribute("data-dropdownhover-anchor")?a(this).closest("[data-dropdownhover-container]").find("[data-dropdownhover]"):a(this);c.timeout=window.setTimeout(function(){d.data("dropdownhover")?c.close.call(c,a("#"+d.data("dropdownhover"))):c.close.call(c,d)}.bind(this),150)}}).on("click.fndtn.dropdownhover",function(b){var d=a(b.target).closest("[data-dropdownhover-content]");if(!a(b.target).data("dropdownhover")&&!a(b.target).parent().data("dropdownhover")){if(!a(b.target).data("revealId")&&d.length>0&&(a(b.target).is("[data-dropdownhover-content]")||a.contains(d.first()[0],b.target)))return void b.stopPropagation();a("[data-dropdownhover]").removeClass("clicked"),c.close.call(c,a("[data-dropdownhover-content]"))}}).on("opened.fndtn.dropdownhover","[data-dropdownhover-content]",this.settings.opened).on("closed.fndtn.dropdownhover","[data-dropdownhover-content]",this.settings.closed),a(window).off(".dropdownhover").on("resize.fndtn.dropdownhover",c.throttle(function(){c.resize.call(c)},50)).trigger("resize")},toggle:function(b){var c=a("#"+b.data("dropdownhover"));0!==c.length&&(this.close.call(this,a("[data-dropdownhover-content]").not(c)),c.hasClass(this.settings.active_class)?this.close.call(this,c):(this.close.call(this,a("[data-dropdownhover-content]")),this.open.call(this,c,b)))},resize:function(){var b=a("[data-dropdownhover-content]."+this.settings.active_class),c=a('[data-dropdownhover="'+b.attr("id")+'"]');b.length&&c.length&&this.css(b,c)},off:function(){a(this.scope).off(".fndtn.dropdownhover"),a("html, body").off(".fndtn.dropdownhover"),a(window).off(".fndtn.dropdownhover"),a("[data-dropdownhover-content]").off(".fndtn.dropdownhover"),this.settings.init=!1}}),c.libs.dropdownhover}),define("lib/jquery.cloudinarySimple",["jquery"],function(a){!function(a){function b(a){if(null===a||"undefined"==typeof a)return"";var b,c,d=a+"",e="",f=0;b=c=0,f=d.length;for(var g=0;f>g;g++){var h=d.charCodeAt(g),i=null;128>h?c++:i=h>127&&2048>h?String.fromCharCode(h>>6|192,63&h|128):String.fromCharCode(h>>12|224,h>>6&63|128,63&h|128),null!==i&&(c>b&&(e+=d.slice(b,c)),e+=i,b=c=g+1)}return c>b&&(e+=d.slice(b,f)),e}function c(a){a=b(a);var c="00000000 77073096 EE0E612C 990951BA 076DC419 706AF48F E963A535 9E6495A3 0EDB8832 79DCB8A4 E0D5E91E 97D2D988 09B64C2B 7EB17CBD E7B82D07 90BF1D91 1DB71064 6AB020F2 F3B97148 84BE41DE 1ADAD47D 6DDDE4EB F4D4B551 83D385C7 136C9856 646BA8C0 FD62F97A 8A65C9EC 14015C4F 63066CD9 FA0F3D63 8D080DF5 3B6E20C8 4C69105E D56041E4 A2677172 3C03E4D1 4B04D447 D20D85FD A50AB56B 35B5A8FA 42B2986C DBBBC9D6 ACBCF940 32D86CE3 45DF5C75 DCD60DCF ABD13D59 26D930AC 51DE003A C8D75180 BFD06116 21B4F4B5 56B3C423 CFBA9599 B8BDA50F 2802B89E 5F058808 C60CD9B2 B10BE924 2F6F7C87 58684C11 C1611DAB B6662D3D 76DC4190 01DB7106 98D220BC EFD5102A 71B18589 06B6B51F 9FBFE4A5 E8B8D433 7807C9A2 0F00F934 9609A88E E10E9818 7F6A0DBB 086D3D2D 91646C97 E6635C01 6B6B51F4 1C6C6162 856530D8 F262004E 6C0695ED 1B01A57B 8208F4C1 F50FC457 65B0D9C6 12B7E950 8BBEB8EA FCB9887C 62DD1DDF 15DA2D49 8CD37CF3 FBD44C65 4DB26158 3AB551CE A3BC0074 D4BB30E2 4ADFA541 3DD895D7 A4D1C46D D3D6F4FB 4369E96A 346ED9FC AD678846 DA60B8D0 44042D73 33031DE5 AA0A4C5F DD0D7CC9 5005713C 270241AA BE0B1010 C90C2086 5768B525 206F85B3 B966D409 CE61E49F 5EDEF90E 29D9C998 B0D09822 C7D7A8B4 59B33D17 2EB40D81 B7BD5C3B C0BA6CAD EDB88320 9ABFB3B6 03B6E20C 74B1D29A EAD54739 9DD277AF 04DB2615 73DC1683 E3630B12 94643B84 0D6D6A3E 7A6A5AA8 E40ECF0B 9309FF9D 0A00AE27 7D079EB1 F00F9344 8708A3D2 1E01F268 6906C2FE F762575D 806567CB 196C3671 6E6B06E7 FED41B76 89D32BE0 10DA7A5A 67DD4ACC F9B9DF6F 8EBEEFF9 17B7BE43 60B08ED5 D6D6A3E8 A1D1937E 38D8C2C4 4FDFF252 D1BB67F1 A6BC5767 3FB506DD 48B2364B D80D2BDA AF0A1B4C 36034AF6 41047A60 DF60EFC3 A867DF55 316E8EEF 4669BE79 CB61B38C BC66831A 256FD2A0 5268E236 CC0C7795 BB0B4703 220216B9 5505262F C5BA3BBE B2BD0B28 2BB45A92 5CB36A04 C2D7FFA7 B5D0CF31 2CD99E8B 5BDEAE1D 9B64C2B0 EC63F226 756AA39C 026D930A 9C0906A9 EB0E363F 72076785 05005713 95BF4A82 E2B87A14 7BB12BAE 0CB61B38 92D28E9B E5D5BE0D 7CDCEFB7 0BDBDF21 86D3D2D4 F1D4E242 68DDB3F8 1FDA836E 81BE16CD F6B9265B 6FB077E1 18B74777 88085AE6 FF0F6A70 66063BCA 11010B5C 8F659EFF F862AE69 616BFFD3 166CCF45 A00AE278 D70DD2EE 4E048354 3903B3C2 A7672661 D06016F7 4969474D 3E6E77DB AED16A4A D9D65ADC 40DF0B66 37D83BF0 A9BCAE53 DEBB9EC5 47B2CF7F 30B5FFE9 BDBDF21C CABAC28A 53B39330 24B4A3A6 BAD03605 CDD70693 54DE5729 23D967BF B3667A2E C4614AB8 5D681B02 2A6F2B94 B40BBE37 C30C8EA1 5A05DF1B 2D02EF8D",d=0,e=0,f=0;d=-1^d;for(var g=0,h=a.length;h>g;g++)f=255&(d^a.charCodeAt(g)),e="0x"+c.substr(9*f,8),d=d>>>8^e;return d=-1^d,0>d&&(d+=4294967296),d}function d(a,b,c){var d=a[b];return delete a[b],"undefined"==typeof d?c:d}function e(b){return b?a.isArray(b)?b:[b]:[]}function f(a){return"undefined"!=typeof a&&(""+a).length>0}function g(b){var c=b.width,h=b.height,i=d(b,"size");if(i){var j=i.split("x");b.width=c=j[0],b.height=h=j[1]}var k=b.overlay||b.underlay,l=d(b,"crop"),m=e(d(b,"angle")).join("."),n=k||f(m)||"fit"==l||"limit"==l||"lfill"==l;c&&(n||parseFloat(c)<1)&&delete b.width,h&&(n||parseFloat(h)<1)&&delete b.height,l||k||(c=h=void 0);var o=d(b,"background");o=o&&o.replace(/^#/,"rgb:");var p=d(b,"color");p=p&&p.replace(/^#/,"rgb:");var q=e(d(b,"transformation",[])),r=[];a.grep(q,function(a){return"object"==typeof a}).length>0?q=a.map(q,function(b){return g("object"==typeof b?a.extend({},b):{transformation:b})}):(r=a.grep(q,function(){return null!=this&&""!=this}).join("."),q=[]);var s=d(b,"effect");a.isArray(s)&&(s=s.join(":"));var t=d(b,"border");if(a.isPlainObject(t)){var u=""+(t.width||2),v=(t.color||"black").replace(/^#/,"rgb:");t=u+"px_solid_"+v}var w=e(d(b,"flags")).join("."),x=[["c",l],["t",r],["w",c],["h",h],["b",o],["co",p],["e",s],["a",m],["bo",t],["fl",w]],y={x:"x",y:"y",radius:"r",gravity:"g",quality:"q",prefix:"p",default_image:"d",underlay:"u",overlay:"l",fetch_format:"f",density:"dn",page:"pg",color_space:"cl",delay:"dl",opacity:"o"};for(var z in y)x.push([y[z],d(b,z)]);x.sort(function(a,b){return a[0]<b[0]?-1:a[0]>b[0]?1:0}),x.push([d(b,"raw_transformation")]);var A=a.map(a.grep(x,function(a){var b=a[a.length-1];return f(b)}),function(a){return a.join("_")}).join(",");return q.push(A),a.grep(q,f).join("/")}function h(a){return n||(n=document.createElement("img")),n.src=a,a=n.src,n.src=null,a}function i(b,e){e=e||{};var i=d(e,"type","upload");"fetch"==i&&(e.fetch_format=e.fetch_format||d(e,"format"));var j=g(e),l=d(e,"resource_type","image"),n=d(e,"version"),o=d(e,"format"),p=d(e,"cloud_name",a.cloudinary.config().cloud_name);if(!p)throw"Unknown cloud_name";var q=d(e,"private_cdn",a.cloudinary.config().private_cdn),r=d(e,"secure_distribution",a.cloudinary.config().secure_distribution),s=d(e,"cname",a.cloudinary.config().cname),t=d(e,"cdn_subdomain",a.cloudinary.config().cdn_subdomain),u=d(e,"shorten",a.cloudinary.config().shorten),v=d(e,"secure","https:"==window.location.protocol),w=d(e,"protocol",a.cloudinary.config().protocol);if("fetch"==i&&(b=h(b)),b.match(/^https?:/)){if("upload"==i||"asset"==i)return b;b=encodeURIComponent(b).replace(/%3A/g,":").replace(/%2F/g,"/")}else b=encodeURIComponent(decodeURIComponent(b)).replace(/%3A/g,":").replace(/%2F/g,"/"),o&&(b=b.replace(/\.(jpg|png|gif|webp)$/,"")+"."+o);var x=v?"https://":window.location.protocol+"//";if(x=w?w+"//":x,p.match(/^\//)&&!v)x="/res"+p;else{var y=!q;if(v)r&&r!=k||(r=q?p+"-res.cloudinary.com":m),y=y||r==m,x+=r;else{var z=t?"a"+(c(b)%5+1)+".":"";host=s||(q?p+"-res.cloudinary.com":"res.cloudinary.com"),x+=z+host}y&&(x+="/"+p)}u&&"image"==l&&"upload"==i&&(l="iu",i=void 0),b.search("/")>=0&&!b.match(/^v[0-9]+/)&&!b.match(/^https?:\//)&&!f(n)&&(n=1);var A=[x,l,i,j,n?"v"+n:"",b].join("/").replace(/([^:])\/+/g,"$1/");return A}var j="d3jpl91pxevbkh.cloudfront.net",k="cloudinary-a.akamaihd.net",l="res.cloudinary.com",m=l,n=void 0,o=void 0;a.cloudinary={CF_SHARED_CDN:j,OLD_AKAMAI_SHARED_CDN:k,AKAMAI_SHARED_CDN:l,SHARED_CDN:m,config:function(b,c){if(o||(o={},a('meta[name^="cloudinary_"]').each(function(){o[a(this).attr("name").replace("cloudinary_","")]=a(this).attr("content")})),"undefined"!=typeof c)o[b]=c;else{if("string"==typeof b)return o[b];b&&(o=b)}return o},url:function(b,c){return c=a.extend({},c),i(b,c)}}}(a)}),define("gawkerlib/imageUrl",["jquery","lib/jquery.cloudinarySimple"],function(a){window.kinja=window.kinja||{},window.kinja.imageUrl=function(){a.cloudinary.config({cloud_name:"gawker-media",api_key:"196565315244936",cname:"i.kinja-img.com"});var b=window.kinja.meta&&window.kinja.meta.imageSizes?window.kinja.meta.imageSizes:{},c=function(c,d,e){var f;return f=e?e:"jpg",a.cloudinary.url(c+"."+f,a.extend({secure:!0,secure_distribution:"i.kinja-img.com"},b[d]))};return c}()}),define("gawkerlib/readMore",["jquery"],function(a){window.kinja=window.kinja||{},window.kinja.readMore=function(){var b=function(b,c,d){var e,f;return e=a("<div></div>").css("display","none").appendTo("body"),a(b).appendTo(e),e.find(d).replaceWith(c),f=e.html(),e.remove(),f};return b}()}),define("singleton/Utils",["jquery","underscore","singleton/StringUtils","gawkerlib/jquery.foundation.dropdownhover","gawkerlib/imageUrl","gawkerlib/readMore"],function(a,b,c,d){var e=["com","org","edu","gov","net","mil","int","xxx","co","info","me","biz"],f={kinjaMeta:null!==window.kinja.meta?a.extend(a.extend(window.kinja.meta,window.kinja.postMeta),window.kinja.tagMeta):null,features:null,htmlCleaner:document.createElement("div"),previousTimestamp:0,imageUrl:window.kinja.imageUrl,readMore:window.kinja.readMore,pageTypes:{blacklist:"blacklist",dashboard:"dashboard",dfppromote:"dfppromote",editor:"editor",error:"error",frontpage:"frontpage",leaderboard:"leaderboard",manageblog:"manageblog",performancestats:"performancestats",permalink:"permalink",rules:"rules",search:"search",splash:"splash",stats:"stats",tag:"tag",usersettings:"usersettings"},getParameterByName:function(a){var b="[\\?&]"+a+"=([^&#]*)",c=new RegExp(b),d=c.exec(window.location.search),e="";return d?decodeURIComponent(d[1].replace(/\+/g," ")):e},getKinjaMeta:function(){return this.kinjaMeta},getFeatures:function(){if(null===this.features){var b,c,d,e,f={},g=a("body").attr("class")||"";g.split(/\s+/).forEach(function(a){0===a.indexOf("f_")&&(b=a.indexOf("_"),c=a.lastIndexOf("_"),c>b&&(d=a.substring(b+1,c-b+1),e=a.substring(c+1),f[d]=e))}),this.features=f}return this.features},getKinjaHost:function(){var a=window.location.host.match(/\.(dev|xip\.io)(\:\d+)?$/);return"kinja"+(a?a[0]:".com")},getRenderableData:function(c,d){var e=this,f=this.getKinjaMeta(),g=a.extend({meta:f,features:b.reduce(e.getFeatures(),function(a,b,c){return"off"!==b&&(a[c]=b),a},{})},d||{});return c=c||{},c.pageType=this.getKinjaMeta().pageType,c.blog=f.blog,c.currentUrl=f.currentUrl,{data:c,injected:g}},cut:function(a,b){return a&&a.length>b&&(a=a.substring(0,b),a=a.replace(/\s(\w+)?$/,""),a+="…"),a},cutSentence:function(a,b){var c,d,e=a;return a&&a.length>b&&(e=a.substring(0,b),c=a.substring(b),d=c.match(/(.*?[\!\?\.])/),null!==d&&(e+=d[0])),e},cutHtml:function(a,b,c){var d,e,f="",g=0,h=!1,i=a.length;for(e=0;i>e&&b+1>g;e+=1)d=a[e],("<"===d||"&"===d)&&(h=!0),h||(g+=1),(">"===d||";"===d)&&(h=!1),f+=d;return f.length<i&&(f=f.replace(/,?\s([\w<>]+)?$/,""),void 0!==c&&(f+=c),f=this.fixMarkup(f)),f},fixMarkup:function(a){return this.htmlCleaner.innerHTML=a,this.htmlCleaner.innerHTML},requireModule:function(a,c){window.console&&console.warn&&console.warn("Call to deprecated method requireModule");var d=b.isArray(a)?a:[a],e=b.map(d,function(a){return a},this);require(e,c)},requireModuleWithCss:function(d,e,f){var g,h,i,j=a("head>meta[id="+e+"-css-url]");1===j.length?(g=j.attr("content"),h=0,i=function(){var a=b.find(document.styleSheets,function(a){return c.endsWith(a.href,g)});return"undefined"!=typeof a},document.createStyleSheet?document.createStyleSheet(g):a("head").append('<link rel="stylesheet" type="text/css" href="'+g+'" />'),j.remove(),require([d],function(){if(i())f.apply();else var a=window.setInterval(function(){(i()||h>99)&&(window.clearInterval(a),f.apply()),h+=1},250)})):require([d],f)},dropdownSentinel:function(){var b=a("[data-dropdown-content]");b.find("a:not(.no-sentinel)").off("click.dropdown.inner").on("click.dropdown.inner",function(){d.close(a(this).closest("[data-dropdown-content]"))})},clickedOnLink:function(c){function d(a){return a.nodeName.toLowerCase()}function e(a,b){return d(a)===b}function f(){var a=b.toArray(arguments);return function(c){return b.chain(a).map(b.partial(e,c)).some().value()}}function g(c){return b.some(j.targetValues,function(b){return b===a(c).attr("target")})}function h(b){return a(b).parents(j.ancestors.join(", ")).length>0}var i=c.target,j={elements:[i,i.parentNode],targetValues:["_blank","_self"],ancestors:[".whitelisted-links"]};return b.chain(j.elements).filter(f("button","a")).some(function(a){return g(a)||h(a)}).value()?!0:!1},normalizeUrl:function(a){var b;return a=encodeURI(a),b=a.match(/^https?/),a=a.replace(/\/$/,""),a=a.replace(/^https?:\/\//,""),a=a.replace(/^www./,""),a=(b?b[0]:"http")+"://www."+a},getHostname:function(a){var b=document.createElement("a");return b.setAttribute("href",a),b.hostname},getMainDomain:function(a){var b=a.split("."),c=function(a){return-1!==e.indexOf(a)},d=function(a){return b[b.length-a]};return d(c(d(2))?3:2)},cachebustUrl:function(b){var c=this.getKinjaMeta().mode;return b+=-1===b.indexOf("?")?"?":"&",b+="rev="+a.now(),"default"!==c&&"ci_test"!==c||!b?b:b.replace(".com",".dev")},markTimeForPageType:function(a,b){this.getKinjaMeta().pageType===a&&window.markUserTime(b)},markTimeForPermalink:function(a){this.markTimeForPageType(this.pageTypes.permalink,a)}};return f}),define("router/AppRouter",["jquery","backbone","underscore","singleton/Utils"],function(a,b,c,d){var e={"settings(/:section)":"userSettings"},f="error"===d.getKinjaMeta().pageType?{"*notFound":"errorPage"}:c.extend(e,{"write(/:id)":"editorPage",kindr:"kindrPage","ui-kit":"uiKit",latest:"frontPage",dashboard:"dashboardPage","dashboard/notifications":"notificationsPage","manage(/*param)(/:filter)":"manageBlogsApps","manage(/*param)":"dashboardPage",search:"searchPage","tag/(*tag)":"tagPage",features:"featuresPage","features/gmg":"gmgFeaturesPage",blacklist:"blacklistPage",rules:"rulesPage","postdebug/:postid":"postDebugPage","stats/amazon(/)(:type)":"statsPage","stats/leaderboard":"leaderboardStatsPage","stats/leaderboard/slide/(*num)":"leaderboardStatsPage","stats/performance":"performancePage","dfp/promotions/:postid":"dfpPromotePage","dfp/promotion/:promotionId":"dfpPromoteEditPage","dfp/promotions":"dfpPromotePage",":path(/*title)":"pageTypeRouter","preview/:path(/*title)":"pageTypeRouter","":"frontPage"}),g=b.Router.extend({routes:f,app:null,routeHandled:!1,initialize:function(){this.on("route",function(){this.routeHandled===!1&&this.initApp("module/BaseApp",{el:a("body")})},this)},pageTypeRouter:function(){var a=d.getKinjaMeta().pageType;"permalink"===a?this.postPage.apply(this,arguments):"profilepage"===a?this.profilePage.apply(this,arguments):this.routeHandled=!1},postPage:function(){var a=parseInt(d.getKinjaMeta().postId,10);return"permalink"!==d.getKinjaMeta().pageType||isNaN(a)?!1:void this.initApp("module/PostApp",{id:a})},userSettings:function(b){this.initApp("module/UserSettingsApp",{el:a(".js_user-settings"),section:b})},notificationsPage:function(){this.initApp("module/DashboardPageApp",{pageType:"notifications"})},frontPage:function(){"#!"===window.location.hash.substring(0,2)&&(window.location="/"+window.location.hash.substring(2));var a=d.getKinjaMeta().pageType;"splash"===a?this.initApp("module/SplashPageApp"):"frontpage"===a&&this.initApp("module/FrontPageApp")},profilePage:function(){this.initApp("module/ProfilePageApp")},manageBlogsApps:function(a,b){switch(b){case null:case"posts":case"drafts":this.dashboardPage();break;case"flagged":this.dashboardFlaggingPage();break;case"settings":case"members":case"followed":case"blocked":this.manageBlogsApp(b)}},dashboardPage:function(){this.initApp("module/DashboardPageApp")},dashboardFlaggingPage:function(){this.initApp("module/DashboardPageApp"),require(["module/FlaggedRepliesApp"],function(a){a.start()})},manageBlogsApp:function(a){this.initApp("module/DashboardPageApp"),require(["module/ManageBlogsApp"],function(b){b.start(a)})},searchPage:function(){this.initApp("module/SearchPageApp")},tagPage:function(){this.initApp("module/TagPageApp")},uiKit:function(){this.initApp("module/UIKitApp")},featuresPage:function(){this.initApp("module/FeaturesPageApp",{el:a(".js_features-page")})},blacklistPage:function(){this.initApp("module/BlacklistPageApp",{el:a(".js_blacklist-page")})},gmgFeaturesPage:function(){this.initApp("module/GmgFeaturesPageApp",{el:a(".js_features-page")})},postDebugPage:function(b){this.initApp("module/PostDebugPageApp",{el:a(".js_debug-tools"),id:b})},statsPage:function(b){this.initApp("module/StatsPageApp",{el:a(".js_amzn_report_container"),type:b})
},leaderboardStatsPage:function(b){this.initApp("module/LeaderboardStatsPageApp",{el:a(".js_stats_report_container"),requestedSlideNumber:b})},performancePage:function(){this.initApp("module/StatsPerformanceApp",{el:a(".js_performance_report_container")})},rulesPage:function(){this.initApp("module/RuleSystemApp",{el:a(".js_rules-page")})},dfpPromotePage:function(b,c){this.initApp("module/PromotedPostAdminApp",{el:a(".js_dfp_promotionadmin_container"),postId:b,query:c})},dfpPromoteEditPage:function(b,c){this.initApp("module/PromotedPostAdminApp",{el:a(".js_dfp_promotionadmin_container"),action:"edit",promotionId:b,query:c})},kindrPage:function(){this.initApp("module/KindrApp",{el:a("body")})},editorPage:function(){this.initApp("module/EditorApp")},errorPage:function(){this.initApp("module/ErrorPageApp")},initApp:function(a,b){var c=this;b=b||{},this.routeHandled=!0,require([a],function(a){c.app=new a(b),c.app.start()})}});return g}),define("config-default",[],function(){var a="/ajax/image/upload";return{api:{analytics:{url:"http://kinja.com/api/analytics",urlWoProtocol:"//kinja.com/api/analytics"},profile:{url:"/api/profile",secureUrl:"https://kinja.com/api/profile",jsonpUrl:"https://kinja.com/api/profile"},notification:{url:"/api/notification"},core:{url:"/api/core",secureUrl:"https://kinja.com/api/core"},mantle:{url:"/ajax"}},graphite:{url:"http://statsporn.kinja-ops.com/"},chomp:{imgRoot:"http://img.gawkerassets.com/img/"},image:{uploadUrl:a,host:"i.kinja-img.com"},avatar:{uploadUrl:a+"?eager=avt-small,avt-medium,avt-large&async=false"},blogLogo:{uploadUrl:a+"?eager=blg-logo&async=false"},ownSites:[4,7,8,9,11,12,17,39,879,19292,474833009,512288369,510682837],logEnabled:!0,captchaKey:"6LfSor8SAAAAAKQnBZMKP3wYxbQWb_sjCvAaFxos"}}),define("config",["config-default"],function(a){return a.logEnabled=!1,a}),define("apiclient/apirequest",["underscore","jquery"],function(a,b){var c,d;return d={urlTemplate:function(a,b){var c=a.match(/\{\{(.+?)\}\}/g);return c&&c.forEach(function(c){var d=c.slice(2,-2);a=a.replace(c,b[d]),delete b[d]}),a},getUrl:function(c,e){var f,g=b.Deferred(),h=a.partial(d.urlTemplate,a,e);return"string"==typeof c?g.resolve(h(c)):"function"==typeof c&&(f=c.call(this,e),"object"==typeof f&&"function"==typeof f.promise?f.done(a.compose(g.resolve,h)):g.resolve(h(f))),g.promise()}},c={prepareOpts:function(b,c){var d=a.pick(b,c);return a.each(c,function(a){delete b[a]}),d},getJson:function(c,e){return e=e||{},function(f,g){var h,i,j,k=b.Deferred(),l=a.extend({},e,f||{});return h=a.extend({type:"GET",dataType:"json",timeout:6e4,contentType:"application/json; charset=utf-8"},g),h.data=l,i=function(a,b,c){a=a||{},k.resolve(a.data,a.meta,c)},j=function(a){var b=JSON.parse(a.responseText),c=b.meta||{error:{code:"NETWORK_ERROR",message:"Network connection timed out",uid:""}};k.reject(c,a)},d.getUrl(c,l).done(function(a){h.url=a,b.ajax(h).done(i).fail(j)}),k.promise()}},getJsonp:function(c,e){return e=e||{},function(f,g){var h,i,j=b.Deferred(),k=a.extend({},e,f||{});return h=a.extend({type:"GET",dataType:"jsonp",jsonp:"jsonp",timeout:6e4},g),h.data=k,i=function(a,b,c){if(a&&a.meta&&200===a.meta.status)j.resolve(a.data,a.meta,c);else{var d=a.meta||{error:{code:"NETWORK_ERROR",message:"Network connection timed out",uid:""}};j.reject(d,c)}},d.getUrl(c,k).done(function(a){h.url=a,b.ajax(h).always(i)}),j.promise()}},postJson:function(c,e){return e=e||{},function(f,g){var h,i,j,k=b.Deferred(),l=a.extend({},e,f||{});return h=a.extend({type:"POST",dataType:"json",timeout:6e4,contentType:"application/json; charset=utf-8"},g),h.data=JSON.stringify(l),i=function(a,b,c){a=a||{},k.resolve(a.data,a.meta,c)},j=function(a){var b=JSON.parse(a.responseText),c=b.meta||{error:{code:"NETWORK_ERROR",message:"Network connection timed out",uid:""}};k.reject(c,a)},d.getUrl(c,l).done(function(a){h.url=a,b.ajax(h).done(i).fail(j)}),k.promise()}},deleteJson:function(c,e){return e=e||{},function(f,g){var h,i,j,k=b.Deferred(),l=a.extend({},e,f||{});return h=a.extend({type:"DELETE",dataType:"json",timeout:6e4,contentType:"application/json; charset=utf-8"},g),h.data=JSON.stringify(l),i=function(a,b,c){a=a||{},k.resolve(a.data,a.meta,c)},j=function(a){var b=JSON.parse(a.responseText),c=b.meta||{error:{code:"NETWORK_ERROR",message:"Network connection timed out",uid:""}};k.reject(c,a)},d.getUrl(c,l).done(function(a){h.url=a,b.ajax(h).done(i).fail(j)}),k.promise()}}}}),function(a){"function"==typeof define&&define.amd?define("lib/jquery.cookie",["jquery"],a):a("object"==typeof exports?require("jquery"):jQuery)}(function(a){function b(a){return h.raw?a:encodeURIComponent(a)}function c(a){return h.raw?a:decodeURIComponent(a)}function d(a){return b(h.json?JSON.stringify(a):String(a))}function e(a){0===a.indexOf('"')&&(a=a.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return a=decodeURIComponent(a.replace(g," ")),h.json?JSON.parse(a):a}catch(b){}}function f(b,c){var d=h.raw?b:e(b);return a.isFunction(c)?c(d):d}var g=/\+/g,h=a.cookie=function(e,g,i){if(void 0!==g&&!a.isFunction(g)){if(i=a.extend({},h.defaults,i),"number"==typeof i.expires){var j=i.expires,k=i.expires=new Date;k.setTime(+k+864e5*j)}return document.cookie=[b(e),"=",d(g),i.expires?"; expires="+i.expires.toUTCString():"",i.path?"; path="+i.path:"",i.domain?"; domain="+i.domain:"",i.secure?"; secure":""].join("")}for(var l=e?void 0:{},m=document.cookie?document.cookie.split("; "):[],n=0,o=m.length;o>n;n++){var p=m[n].split("="),q=c(p.shift()),r=p.join("=");if(e&&e===q){l=f(r,g);break}e||void 0===(r=f(r))||(l[q]=r)}return l};h.defaults={},a.removeCookie=function(b,c){return void 0===a.cookie(b)?!1:(a.cookie(b,"",a.extend({},c,{expires:-1})),!a.cookie(b))}}),define("apiclient/gettoken",["jquery","config","apiclient/apirequest","lib/jquery.cookie"],function(a,b,c){var d={append:function(b,c){var d=c||this.existing;return function(c){var e="string"==typeof b?b:b.call(this,c),f=a.Deferred();return d().done(function(a){var b=e+(-1!==e.indexOf("?")?"&":"?")+"token="+a;f.resolve(b)}),f.promise()}},existing:function(){var b=a.Deferred();return b.resolve(a.cookie("KinjaToken")),b.promise()},fresh:function(){var d=a.Deferred();return c.getJsonp(b.api.profile.jsonpUrl+"/token")().done(function(a){d.resolve(a.token)}).fail(d.reject),d.promise()},secure:function(){var d=a.Deferred();return c.getJsonp(b.api.profile.jsonpUrl+"/token/create/secure")().done(function(a){d.resolve(a.token)}).fail(d.reject),d.promise()}};return d}),define("apiclient/feature",["config","apiclient/apirequest","apiclient/gettoken"],function(a,b,c){var d;return d={getBlogFeatures:b.getJson(a.api.core.url+"/blog/{{blogId}}/features"),getAjaxFeatures:b.getJson(a.api.mantle.url+"/features"),setAjaxFeatureCookie:b.postJson(a.api.mantle.url+"/feature/set?{{syncParams}}"),sendPerHourFeatureTick:b.postJson(a.api.mantle.url+"/stats/feature/increment"),readFeature:b.getJson(c.append(a.api.core.url+"/feature/{{modelId}}",c.fresh)),getSegmentFeature:b.getJson(a.api.core.url+"/feature/segment"),createFeature:b.postJson(c.append(a.api.core.secureUrl+"/feature/add",c.secure)),updateFeature:b.postJson(c.append(a.api.core.secureUrl+"/feature/{{modelId}}/update",c.secure)),deleteFeature:b.postJson(c.append(a.api.core.secureUrl+"/feature/{{modelId}}/delete",c.secure)),enableFeature:b.postJson(c.append(a.api.core.secureUrl+"/feature/{{modelId}}/enable",c.secure)),disableFeature:b.postJson(c.append(a.api.core.secureUrl+"/feature/{{modelId}}/disable",c.secure)),setBlogFeatureGMG:b.postJson(c.append(a.api.core.url+"/blog/{{blogId}}/setfeature?{{data}}",c.fresh))}}),define("gawkerlib/jquery.parseParams",["jquery"],function(a){var b=/([^&=]+)=?([^&]*)/g,c=/\+/g,d=function(a){return decodeURIComponent(a.replace(c," "))};a.parseParams=function(a){void 0===a&&(a=window.location.href.match(/\?(.+)$/),a=null!==a&&a.length>0?a[1]:"");for(var c,e,f,g={};null!==(c=b.exec(a));)e=d(c[1]),f=d(c[2]),void 0!==g[e]?(void 0===g[e].push&&(g[e]=[g[e]]),g[e].push(f)):g[e]=f;return g}}),define("singleton/Feature",["jquery","backbone","underscore","singleton/Utils","apiclient/feature","gawkerlib/jquery.parseParams"],function(a,b,c,d,e){var f=b.Model.extend({initialize:function(){this.syncCookies()},syncCookies:function(a,b){var c={};b=b||!1,c.manual=!a&&d.getKinjaMeta().syncFeatures&&d.getKinjaMeta().syncFeatures.length>0||!1,c.syncParams=a||d.getKinjaMeta().syncFeatures||"",c.syncParams.length>0&&e.setAjaxFeatureCookie(c,{async:!b})},isOn:function(a){return"on"===d.getFeatures()[a]},value:function(a){return d.getFeatures()[a]}});return new f}),define("apiclient/profile",["config","apiclient/apirequest","apiclient/gettoken"],function(a,b,c){var d,e=a.api.profile.url,f=a.api.core.url;return d={getUser:b.getJson(c.append(e+"/user/{{userId}}",c.fresh)),getBlog:b.getJson(c.append(e+"/blog/{{blogId}}",c.fresh)),getBlogByName:b.getJson(e+"/blog/byname/{{blogName}}"),updateBlog:b.postJson(c.append(a.api.profile.secureUrl+"/blog/{{id}}",c.secure)),createBlog:b.postJson(c.append(a.api.profile.secureUrl+"/blog",c.secure)),setBlogFeature:b.postJson(c.append(f+"/blog/{{blogId}}/setfeature?{{featuresUrlString}}",c.fresh)),getFollowedBlogIds:b.getJson(e+"/blogfollow/views/followedBy"),getBlogMembers:b.getJson(e+"/blogmembership/views/manageBlogMembers"),addBlogMember:b.postJson(c.append(a.api.profile.secureUrl+"/blogmembership/addMember",c.secure)),removeBlogMember:b.postJson(c.append(a.api.profile.secureUrl+"/blogmembership/removeMember",c.secure)),updateBlogMember:b.postJson(c.append(a.api.profile.secureUrl+"/blogmembership/updateMember",c.secure)),setBlogOwner:b.postJson(c.append(a.api.profile.secureUrl+"/blogmembership/setOwner",c.secure)),follow:b.postJson(c.append(e+"/userfollow/follow")),unfollow:b.postJson(c.append(e+"/userfollow/unfollow")),getBlogSales:b.getJson(c.append(f+"/blogsales/get/{{blogId}}",c.fresh)),saveBlogSales:b.postJson(c.append(f+"/blogsales/save",c.secure)),setUserAvatar:b.postJson(c.append(a.api.profile.secureUrl+"/user/setAvatar?id={{cloudinaryId}}&format={{format}}",c.secure)),getUserSettings:b.getJson(c.append("/settings.json",c.fresh)),setUserSettings:b.postJson(c.append(a.api.profile.secureUrl+"/user/setScreenNameWithBlog",c.secure)),setScreenName:b.postJson(c.append(a.api.profile.secureUrl+"/user/setScreenName",c.secure)),followAndApprove:b.postJson(c.append("/ajax/post/{{postId}}/followAndApprove/blog/{{targetBlogId}}/by/{{blogId}}?authorId={{authorId}}",c.fresh)),followBlogForBlog:b.postJson(c.append(a.api.profile.url+"/blogfollow/follow",c.fresh)),unfollowBlogForBlog:b.postJson(c.append(a.api.profile.url+"/blogfollow/unfollow",c.fresh)),blogBlock:b.postJson(c.append(a.api.profile.url+"/blogblock/block"),c.fresh),blogUnblock:b.postJson(c.append(a.api.profile.url+"/blogblock/unblock"),c.fresh),getBlogProperties:b.getJson(e+"/blogprop/views/byblog/{{blogId}}"),getBlogProperty:b.getJson(e+"/blogprop/{{id}}"),createBlogProperty:b.postJson(c.append(e+"/blogprop",c.fresh)),updateBlogProperty:b.postJson(c.append(e+"/blogprop/{{id}}",c.fresh)),deleteBlogProperty:b.deleteJson(c.append(e+"/blogprop/{{propertyId}}",c.fresh))}}),define("model/user/User",["jquery","underscore","config","backbone","singleton/Utils","singleton/Feature","apiclient/profile"],function(a,b,c,d,e,f,g){var h=d.Model.extend({defaults:{permissions:[],membership:new d.Collection},_tempMembership:null,rolePriorities:{FOUNDER:4,OWNER:3,ADMIN:2,AUTHOR:1,MODERATOR:0},conformsTo:function(a,b){return this.rolePriorities[a]>=this.rolePriorities[b]},parse:function(a){if(void 0===a||void 0===a.data)return{};var b=a.data;return void 0!==b.membership&&null!==b.membership?(this._tempMembership=b.membership,delete b.membership):this._tempMembership=null,b.avatar&&b.avatar.id&&(b.avatar={url:e.imageUrl(b.avatar.id,"avt-medium",b.avatar.format),id:b.avatar.id,format:b.avatar.format}),b},updateMembership:function(){null!==this._tempMembership&&(this.get("membership").reset(this._tempMembership),this._tempMembership=null)},hasPermission:function(a){var c=this.get("permissions");return b.any(c,function(b){return b===a})},hasRole:function(a,b){return this.get("membership").any(function(c){return this.conformsTo(c.get("role"),a)&&c.get("blogId")===b},this)},hasGMGRole:function(a){return this.get("membership").any(function(d){return-1!==b.indexOf(c.ownSites,d.get("blogId"))&&this.conformsTo(d.get("role"),a)},this)},followUser:function(a){return g.follow({userId:this.id,targetType:"User",target:a,token:this.get("token")}).done(function(){this.get("followedAuthorIds").push(""+a)}.bind(this))},unfollowUser:function(a){return g.unfollow({userId:this.id,targetType:"User",target:a,token:this.get("token")}).done(function(){this.set("followedAuthorIds",this.get("followedAuthorIds").filter(function(b){return b!==a}))}.bind(this))},followBlog:function(a){return g.follow({userId:this.id,targetType:"Blog",target:a,token:this.get("token")}).done(function(){this.get("followedBlogIds").push(a)}.bind(this))},unfollowBlog:function(a){return g.unfollow({userId:this.id,targetType:"Blog",target:a,token:this.get("token")}).done(function(){this.set("followedBlogIds",this.get("followedBlogIds").filter(function(b){return b!==a}))}.bind(this))},setBlogAction:function(c,d,f,h){var i,j,k,l,m=["blogfollow","follow","unfollow","block","unblock"],n=this;if(!c||-1===b.indexOf(m,c))throw new Error("User:setBlogAction(): Invalid action: "+c);if(!d)throw new Error("User:setBlogAction(): Invalid blogId: "+d);if(!f)throw new Error("User:setBlogAction(): Invalid targetBlogId: "+f);switch(h=a.extend({success:a.noop,error:a.noop},h),k=function(a,e){var g,i;if(void 0!==e){switch(c){case"follow":n.get("defaultBlogId")===d&&n.get("followedBlogIds").push(f);break;case"unfollow":n.get("defaultBlogId")===d&&(g=b.filter(n.get("followedBlogIds"),function(a){return a!==f},this),n.set("followedBlogIds",g));break;case"block":n.get("defaultBlogId")===d&&n.get("blockedBlogIds").push(f);break;case"unblock":n.get("defaultBlogId")===d&&(i=b.filter(n.get("blockedBlogIds"),function(a){return a!==f},this),n.set("blockedBlogIds",i))}h.success.call(n,a)}else h.error.call(n,{reason:"action error"})},l=function(){h.error.call(this,{reason:"ajax error"})},c){case"blogfollow":i=require("model/Blog"),j=new i({id:f}),j.fetch().done(function(){g.followAndApprove({postId:e.getKinjaMeta().post.id,targetBlogId:f,blogId:d,authorId:j.get("ownerId")},h).done(k).fail(l)});break;case"follow":g.followBlogForBlog({targetBlogId:f,sourceBlogId:d}).done(k).fail(l);break;case"unfollow":g.unfollowBlogForBlog({targetBlogId:f,sourceBlogId:d}).done(k).fail(l);break;case"block":g.blogBlock({blocked:f,blocking:d}).done(k).fail(l);break;case"unblock":g.blogUnblock({blocked:f,blocking:d}).done(k).fail(l)}},getBlogs:function(a){a=a||{};var c=this,d=this.get("defaultBlogId"),e=this.get("membership").filter(function(b){return!a.filterForAuthorship||c.conformsTo(b.get("role"),"AUTHOR")}),f=b(e).map(function(a){return a.get("blog")});return b.filter(f,function(b){return"DISABLED"!==b.status&&!(a.filterForGroupBlogs&&b.id===d)})},hasBlog:function(a){var b,c=this.get("membership");for(b=0;b<c.length;b++)if(c.models[b].get("blogId")===a)return!0;return!1},hasRemote:function(a){return this.has("remotes")&&void 0!==this.get("remotes")[a]},isLoggedInWithRemote:function(a){return this.get("authName")===a},isBurner:function(){return"burner"===this.get("authName")},isSuperUser:function(){return this.get("isSuperUser")===!0},register:function(){return g.setScreenName(this.attributes)}});return h}),define("app/account/account.channel",["backbone","underscore"],function(a,b){return b.extend({},a.Events)}),define("apiclient/authentication",["config","apiclient/apirequest"],function(a,b){var c;return c={getToken:b.getJsonp(a.api.profile.jsonpUrl+"/token"),logout:b.getJsonp(a.api.profile.jsonpUrl+"/account/logout"),fetchState:b.getJsonp(a.api.profile.jsonpUrl+"/accountwithtoken",{newFollows:!0}),burnerLogin:b.getJsonp(a.api.profile.jsonpUrl+"/account/burner/login"),burnerCheck:b.getJsonp(a.api.profile.jsonpUrl+"/account/burner/check"),burnerRegister:b.getJsonp(a.api.profile.jsonpUrl+"/account/burner/register")}}),define("model/user/LoginUser",["config","jquery","underscore","model/user/User","app/account/account.channel","apiclient/authentication","lib/jquery.cookie"],function(a,b,c,d,e,f){var g=d.extend({ERROR_CODE_TOKEN_REFRESH_FAILED:"tokenRefreshFailed",_hasSession:!1,_loggedIn:!1,defaults:c.extend({},d.prototype.defaults),onAuth:b.Deferred(),onLogin:b.Deferred(),onLoggedIn:b.Deferred(),_oldId:"",initialize:function(){this.on("authenticated",function(){this.onAuth.resolve(),this.isLoggedIn()?(this.setUserCookie("kinjaads.displayName",window.escape(this.get("displayName"))),this.setUserCookie("kinjaads.isBurner",this.isBurner()),this.onLoggedIn.resolve()):(this.setUserCookie("kinjaads.displayName",null),this.setUserCookie("kinjaads.isBurner",null))},this)},sync:function(a,b,c){return f.fetchState({},c)},requireLogin:function(a){var c,d=this,f=b.Deferred();return this.isLoggedIn()?f.resolve():(this.listenToOnce(this,"authenticated",function(){d.isLoggedIn()?f.resolve():f.reject()}),c=void 0!==a?{source:a}:void 0,e.trigger("loginRequired",c)),f.promise()},setUserCookie:function(a,c){null===c?b.removeCookie(a,{path:"/"}):b.cookie(a,c,{path:"/"})},getCookieDomain:function(a){var c=window.location.hostname.split("."),d=window.location.hostname,e=["www"];return c.length>2&&(d=c[c.length-2]+"."+c[c.length-1],a||("kinja"===c[c.length-2]||-1===b.inArray(c[c.length-3],e))&&(d=c[c.length-3]+"."+d)),d},setTokenCookie:function(a){this.clearTokenCookie(),b.cookie("KinjaToken",a,{path:"/",expires:new Date((new Date).getTime()+33e5)})},clearTokenCookie:function(){var a=this.getCookieDomain();b.removeCookie("KinjaToken",{path:"/",domain:"."+this.getCookieDomain(!0)}),b.removeCookie("KinjaToken",{path:"/",domain:"."+a}),b.removeCookie("KinjaToken",{path:"/"})},token:function(){var a=b.Deferred();return f.getToken().done(b.proxy(function(b){this.setTokenCookie(b.token),this.set({token:b.token}),a.resolve(b.token)},this)).fail(function(b){a.reject({meta:b})}),a.promise()},validToken:function(){var a=b.Deferred(),c=this.token(),d=this.ERROR_CODE_TOKEN_REFRESH_FAILED;return c.fail(a.reject).done(function(b){0===b.indexOf("dummy")?a.reject({meta:d}):a.resolve(b)}),a},getTokenAndAccountState:function(){var a=this;return this.fetch().done(function(b){a.setTokenCookie(b.token.token),a.handleAuthentication(a)}).fail(function(b){a.handleAuthentication(a,{meta:b})})},logout:function(){return f.logout().done(b.proxy(function(){this._loggedIn=!1,this.onLoggedIn=b.Deferred(),this.clearUser(),this.handleAuthentication(this),this.trigger("logoutReset")},this))},load:function(a){var c=this,d=c.get("token"),e=new b.Deferred;return this.clearUser(),-1===window.location.search.indexOf("nosso=1")&&void 0===window.KINJA_NO_SSO?void 0!==a?(c.set(c.parse(a),{silent:!0}),c.set({token:d},{silent:!0}),c.handleAuthentication(c,a),e.resolve()):this.getTokenAndAccountState().done(function(){e.resolve()}):(-1===window.location.search.indexOf("nosso=1")&&this.handleAuthentication(c,void 0),e.resolve()),e.promise()},parse:function(a){var b;return b=a.data.accountState&&a.data.token.token?c.extend({},a.data.accountState,{token:a.data.token.token}):a.data,d.prototype.parse.call(this,{data:b})},handleAuthentication:function(a,b){var c=a.hasIncompleteRegistration(),d=b&&b.meta&&b.meta.error,e=a.get("id"),f=a._oldId;if(e!==f&&(a._oldId=e,a.trigger("changeIdentity")),a._hasSession=!0,a._loggedIn=!!a.id&&!c,a.updateMembership(),a.trigger("authenticated",a),c)if(d&&d.code){if("ILLEGAL_SCREEN_NAME"!==d.code)throw new Error("Invalid error code: "+d.code+"["+typeof d.code+"]");a.trigger("incompleteRegistration",{model:a,error:d})}else a.trigger("incompleteRegistration",{model:a,error:{code:"INCOMPLETE_REGISTRATION"}})},hasIncompleteRegistration:function(){return"incomplete"===this.get("status")||""===this.get("displayName")},hasSession:function(){return this._hasSession},isLoggedIn:function(){return this._loggedIn},isSuperuser:function(){return this.isLoggedIn&&this.get("isSuperUser")===!0},isSalesperson:function(){return this.isLoggedIn()&&this.hasPermission("SALES")},clearUser:function(){this.get("membership").reset(),this.clear({silent:!0}),this.set(this.defaults,{silent:!0})},clearNotifications:function(){this.trigger("clearNotifications")},get:function(a){var c;return c="token"===a?b.cookie("KinjaToken")||d.prototype.get.apply(this,arguments):d.prototype.get.apply(this,arguments)},has:function(a){var c;return c="token"===a?!!b.cookie("KinjaToken"):d.prototype.has.apply(this,arguments)}});return g}),define("singleton/CurrentUser",["model/user/LoginUser"],function(a){var b=new a;return b}),define("collection/blog.subscribersCollection",["config","jquery","underscore","backbone","singleton/CurrentUser"],function(a,b,c,d,e){var f=d.Collection.extend({idCache:[],initialize:function(a,b){if(!b||b&&(!b.blogId||!b.type))throw new Error("Missing options for BlogSubscribersCollection");this.type=b.type,this.blogId=b.blogId,b.userId&&(this.userId=b.userId),void 0!==b.withNames&&(this.withNames=b.withNames),this.enableShortening=b.enableShortening||!1,this.on("add remove request sync",function(){this.idCache=[]})},parse:function(a){var b=this,d=a&&a.data?a.data:null,e=[];return d&&(e=d.map(this.withNames?function(a){return c.isUndefined(a.id)&&(a.id=a.authorId?a.defaultBlogId:a.blogId),a.sourceBlogId=b.blogId,a}:function(a){return{id:a}})),this.enableShortening===!0&&e.length>1e3&&(e=e.slice(e.length-1e3,e.length),this.shortened=!0),e},sync:function(b,f,g){var h,i;switch(this.idCache=[],b){case"read":switch(h="GET",f.type){case"followed":i=this.withNames?a.api.profile.url+"/blogfollow/views/followedByWithNames?blogId="+f.blogId:a.api.profile.url+"/blogfollow/views/followedBy?blogId="+f.blogId;break;case"followers":i=a.api.profile.url+"/blogfollow/views/followersOf?blogId="+f.blogId;break;case"followedUsers":i=a.api.profile.url+"/userfollow/views/followedUsers?userId="+f.userId+"&token="+e.get("token");break;case"followedBlogs":i=a.api.profile.url+"/userfollow/views/followedBlogs?userId="+f.userId+"&token="+e.get("token");break;case"blocked":i=this.withNames?a.api.profile.url+"/blogblock/views/byBlogWithNames?blogId="+f.blogId:a.api.profile.url+"/blogblock/views/byBlog?blogId="+f.blogId;break;default:throw new Error("blog.subscribersCollection.sync(): unsupported method in sync")}break;default:throw new Error("blog.subscribersCollection.sync(): unsupported method in sync")}return d.ajax(c.extend({type:h,dataType:"json",url:i},g))},getIds:function(){var a=this.idCache.length;return a&&a===this.length?this.idCache:this.pluck("id")}});return f}),define("singleton/CurrentBlog",["jquery","underscore","collection/blog.subscribersCollection","singleton/Utils","apiclient/profile"],function(a,b,c,d,e){var f=d.getKinjaMeta(),g=f.blog||{};return g.language=(g.locale||"en").substring(0,2),g.blogSales=f.blogSales||{},g.defaultAdSiteName="gm."+g.name,g.defaultAdNetworkId=4246,g.features=b.object(b.map(g.features,function(a){return a.split("=")})),g.followedBlogIds=[],g.getFollowedBlogIds=function(){var b=a.Deferred();return g.followedBlogIds.length?b.resolve(g.followedBlogIds):e.getFollowedBlogIds({blogId:g.id}).done(function(a){g.followedBlogIds=a,b.resolve(g.followedBlogIds)}),b},g}),define("singleton/LogProvider",["underscore","config","singleton/Feature"],function(a,b,c){function d(b){var c,d,e;return c=new RegExp("[\\?&]"+b+"=([^&#]*)"),d=c.exec(window.location.search),e=a.isNull(d)?null:decodeURIComponent(d[1].replace(/\+/g," ")),e=a.isNaN(parseInt(e,10))?e:parseInt(e,10)}function e(){var b=d("jsloglevel");return a.isNull(b)?b:a.isNumber(b)?b:4}function f(){var b=d("jsloglevel");return a.isString(b)?b.split(","):[]}function g(a){if(!a)return"";var b=a.split("\n")[2];return b=b.indexOf(" (")>=0?b.split(" (")[1].substring(0,b.length-1):b.split("at ")[1],"@("+b}function h(b){return b instanceof Error&&(b.stack?b=b.message&&a.contains(b.stack,b.message)?"Error: "+b.message+"\n"+b.stack:b.stack:b.sourceURL&&(b=b.message+"\n"+b.sourceURL+":"+b.line)),b}function i(b){var c=window.console||{},d=c[b]||c.log||a.identity,e=!1;try{e=!!d.apply}catch(f){}return e?function(){var b=[];return a.each(arguments,function(a){b.push(h(a))}),d.apply(c,b)}:function(b,c){d(b,a.isNull(c)?"":c)}}var j,k,l,m,n;return l=["error","warn","log","info"],n=e(),m={enabled:b.logEnabled||c.isOn("jsdebug")||!a.isNull(n),enableTrace:!0,logLevel:n,enabledGroups:f()},j=function(){function b(b){if(!m.enabled||l.indexOf(b)+1>m.logLevel)return a.identity;var e=i(b);return function(){var f=Array.prototype.slice.call(arguments,0),h="",i=a.last(a.toArray(arguments));return(a.isEmpty(m.enabledGroups)||a.contains(m.enabledGroups,i))&&(m.enableTrace&&(h=g((new Error).stack)),e.apply(c,f.concat([h]))),a.contains(d,b)}}var c=this,d=["error","warn"];return{info:b("info"),log:b("log"),warn:b("warn"),error:b("error")}},k=k||new j}),define("singleton/RavenConfig",["jquery","singleton/CurrentUser","singleton/CurrentBlog","singleton/Feature","singleton/LogProvider","singleton/Utils"],function(a,b,c,d,e,f){function g(){var a,d=f.getKinjaMeta().blogOwner,e=c.id,g=d&&b.id===d.id;return b.isSuperuser()?a="superuser":g?a="owner":b.hasRole("ADMIN",e)?a="admin":b.hasRole("AUTHOR",e)&&(a="author"),a}function h(Raven){b.onLoggedIn.done(function(){var a={logged_in:!0},c=g();c&&(a.role=c),Raven.setTagsContext(a),b.isBurner()||Raven.setUserContext({id:b.id,username:b.get("displayName"),email:b.id+"@kinja.com"})})}function i(){require(["module/Raven"],h)}return{init:i}}),function(a){function b(a,b,c){switch(arguments.length){case 2:return null!=a?a:b;case 3:return null!=a?a:null!=b?b:c;default:throw new Error("Implement me")}}function c(a,b){return zb.call(a,b)}function d(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function e(a){tb.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+a)}function f(a,b){var c=!0;return m(function(){return c&&(e(a),c=!1),b.apply(this,arguments)},b)}function g(a,b){qc[a]||(e(b),qc[a]=!0)}function h(a,b){return function(c){return p(a.call(this,c),b)}}function i(a,b){return function(c){return this.localeData().ordinal(a.call(this,c),b)}}function j(){}function k(a,b){b!==!1&&F(a),n(this,a),this._d=new Date(+a._d)}function l(a){var b=y(a),c=b.year||0,d=b.quarter||0,e=b.month||0,f=b.week||0,g=b.day||0,h=b.hour||0,i=b.minute||0,j=b.second||0,k=b.millisecond||0;this._milliseconds=+k+1e3*j+6e4*i+36e5*h,this._days=+g+7*f,this._months=+e+3*d+12*c,this._data={},this._locale=tb.localeData(),this._bubble()}function m(a,b){for(var d in b)c(b,d)&&(a[d]=b[d]);return c(b,"toString")&&(a.toString=b.toString),c(b,"valueOf")&&(a.valueOf=b.valueOf),a}function n(a,b){var c,d,e;if("undefined"!=typeof b._isAMomentObject&&(a._isAMomentObject=b._isAMomentObject),"undefined"!=typeof b._i&&(a._i=b._i),"undefined"!=typeof b._f&&(a._f=b._f),"undefined"!=typeof b._l&&(a._l=b._l),"undefined"!=typeof b._strict&&(a._strict=b._strict),"undefined"!=typeof b._tzm&&(a._tzm=b._tzm),"undefined"!=typeof b._isUTC&&(a._isUTC=b._isUTC),"undefined"!=typeof b._offset&&(a._offset=b._offset),"undefined"!=typeof b._pf&&(a._pf=b._pf),"undefined"!=typeof b._locale&&(a._locale=b._locale),Ib.length>0)for(c in Ib)d=Ib[c],e=b[d],"undefined"!=typeof e&&(a[d]=e);return a}function o(a){return 0>a?Math.ceil(a):Math.floor(a)}function p(a,b,c){for(var d=""+Math.abs(a),e=a>=0;d.length<b;)d="0"+d;return(e?c?"+":"":"-")+d}function q(a,b){var c={milliseconds:0,months:0};return c.months=b.month()-a.month()+12*(b.year()-a.year()),a.clone().add(c.months,"M").isAfter(b)&&--c.months,c.milliseconds=+b-+a.clone().add(c.months,"M"),c}function r(a,b){var c;return b=K(b,a),a.isBefore(b)?c=q(a,b):(c=q(b,a),c.milliseconds=-c.milliseconds,c.months=-c.months),c}function s(a,b){return function(c,d){var e,f;return null===d||isNaN(+d)||(g(b,"moment()."+b+"(period, number) is deprecated. Please use moment()."+b+"(number, period)."),f=c,c=d,d=f),c="string"==typeof c?+c:c,e=tb.duration(c,d),t(this,e,a),this}}function t(a,b,c,d){var e=b._milliseconds,f=b._days,g=b._months;d=null==d?!0:d,e&&a._d.setTime(+a._d+e*c),f&&nb(a,"Date",mb(a,"Date")+f*c),g&&lb(a,mb(a,"Month")+g*c),d&&tb.updateOffset(a,f||g)}function u(a){return"[object Array]"===Object.prototype.toString.call(a)}function v(a){return"[object Date]"===Object.prototype.toString.call(a)||a instanceof Date}function w(a,b,c){var d,e=Math.min(a.length,b.length),f=Math.abs(a.length-b.length),g=0;for(d=0;e>d;d++)(c&&a[d]!==b[d]||!c&&A(a[d])!==A(b[d]))&&g++;return g+f}function x(a){if(a){var b=a.toLowerCase().replace(/(.)s$/,"$1");a=jc[a]||kc[b]||b}return a}function y(a){var b,d,e={};for(d in a)c(a,d)&&(b=x(d),b&&(e[b]=a[d]));return e}function z(b){var c,d;if(0===b.indexOf("week"))c=7,d="day";else{if(0!==b.indexOf("month"))return;c=12,d="month"}tb[b]=function(e,f){var g,h,i=tb._locale[b],j=[];if("number"==typeof e&&(f=e,e=a),h=function(a){var b=tb().utc().set(d,a);return i.call(tb._locale,b,e||"")},null!=f)return h(f);for(g=0;c>g;g++)j.push(h(g));return j}}function A(a){var b=+a,c=0;return 0!==b&&isFinite(b)&&(c=b>=0?Math.floor(b):Math.ceil(b)),c}function B(a,b){return new Date(Date.UTC(a,b+1,0)).getUTCDate()}function C(a,b,c){return hb(tb([a,11,31+b-c]),b,c).week}function D(a){return E(a)?366:365}function E(a){return a%4===0&&a%100!==0||a%400===0}function F(a){var b;a._a&&-2===a._pf.overflow&&(b=a._a[Bb]<0||a._a[Bb]>11?Bb:a._a[Cb]<1||a._a[Cb]>B(a._a[Ab],a._a[Bb])?Cb:a._a[Db]<0||a._a[Db]>23?Db:a._a[Eb]<0||a._a[Eb]>59?Eb:a._a[Fb]<0||a._a[Fb]>59?Fb:a._a[Gb]<0||a._a[Gb]>999?Gb:-1,a._pf._overflowDayOfYear&&(Ab>b||b>Cb)&&(b=Cb),a._pf.overflow=b)}function G(a){return null==a._isValid&&(a._isValid=!isNaN(a._d.getTime())&&a._pf.overflow<0&&!a._pf.empty&&!a._pf.invalidMonth&&!a._pf.nullInput&&!a._pf.invalidFormat&&!a._pf.userInvalidated,a._strict&&(a._isValid=a._isValid&&0===a._pf.charsLeftOver&&0===a._pf.unusedTokens.length)),a._isValid}function H(a){return a?a.toLowerCase().replace("_","-"):a}function I(a){for(var b,c,d,e,f=0;f<a.length;){for(e=H(a[f]).split("-"),b=e.length,c=H(a[f+1]),c=c?c.split("-"):null;b>0;){if(d=J(e.slice(0,b).join("-")))return d;if(c&&c.length>=b&&w(e,c,!0)>=b-1)break;b--}f++}return null}function J(a){var b=null;if(!Hb[a]&&Jb)try{b=tb.locale(),require("./locale/"+a),tb.locale(b)}catch(c){}return Hb[a]}function K(a,b){return b._isUTC?tb(a).zone(b._offset||0):tb(a).local()}function L(a){return a.match(/\[[\s\S]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}function M(a){var b,c,d=a.match(Nb);for(b=0,c=d.length;c>b;b++)d[b]=pc[d[b]]?pc[d[b]]:L(d[b]);return function(e){var f="";for(b=0;c>b;b++)f+=d[b]instanceof Function?d[b].call(e,a):d[b];return f}}function N(a,b){return a.isValid()?(b=O(b,a.localeData()),lc[b]||(lc[b]=M(b)),lc[b](a)):a.localeData().invalidDate()}function O(a,b){function c(a){return b.longDateFormat(a)||a}var d=5;for(Ob.lastIndex=0;d>=0&&Ob.test(a);)a=a.replace(Ob,c),Ob.lastIndex=0,d-=1;return a}function P(a,b){var c,d=b._strict;switch(a){case"Q":return Zb;case"DDDD":return _b;case"YYYY":case"GGGG":case"gggg":return d?ac:Rb;case"Y":case"G":case"g":return cc;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return d?bc:Sb;case"S":if(d)return Zb;case"SS":if(d)return $b;case"SSS":if(d)return _b;case"DDD":return Qb;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return Ub;case"a":case"A":return b._locale._meridiemParse;case"X":return Xb;case"Z":case"ZZ":return Vb;case"T":return Wb;case"SSSS":return Tb;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return d?$b:Pb;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return Pb;case"Do":return Yb;default:return c=new RegExp(Y(X(a.replace("\\","")),"i"))}}function Q(a){a=a||"";var b=a.match(Vb)||[],c=b[b.length-1]||[],d=(c+"").match(hc)||["-",0,0],e=+(60*d[1])+A(d[2]);
return"+"===d[0]?-e:e}function R(a,b,c){var d,e=c._a;switch(a){case"Q":null!=b&&(e[Bb]=3*(A(b)-1));break;case"M":case"MM":null!=b&&(e[Bb]=A(b)-1);break;case"MMM":case"MMMM":d=c._locale.monthsParse(b),null!=d?e[Bb]=d:c._pf.invalidMonth=b;break;case"D":case"DD":null!=b&&(e[Cb]=A(b));break;case"Do":null!=b&&(e[Cb]=A(parseInt(b,10)));break;case"DDD":case"DDDD":null!=b&&(c._dayOfYear=A(b));break;case"YY":e[Ab]=tb.parseTwoDigitYear(b);break;case"YYYY":case"YYYYY":case"YYYYYY":e[Ab]=A(b);break;case"a":case"A":c._isPm=c._locale.isPM(b);break;case"H":case"HH":case"h":case"hh":e[Db]=A(b);break;case"m":case"mm":e[Eb]=A(b);break;case"s":case"ss":e[Fb]=A(b);break;case"S":case"SS":case"SSS":case"SSSS":e[Gb]=A(1e3*("0."+b));break;case"X":c._d=new Date(1e3*parseFloat(b));break;case"Z":case"ZZ":c._useUTC=!0,c._tzm=Q(b);break;case"dd":case"ddd":case"dddd":d=c._locale.weekdaysParse(b),null!=d?(c._w=c._w||{},c._w.d=d):c._pf.invalidWeekday=b;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":a=a.substr(0,1);case"gggg":case"GGGG":case"GGGGG":a=a.substr(0,2),b&&(c._w=c._w||{},c._w[a]=A(b));break;case"gg":case"GG":c._w=c._w||{},c._w[a]=tb.parseTwoDigitYear(b)}}function S(a){var c,d,e,f,g,h,i;c=a._w,null!=c.GG||null!=c.W||null!=c.E?(g=1,h=4,d=b(c.GG,a._a[Ab],hb(tb(),1,4).year),e=b(c.W,1),f=b(c.E,1)):(g=a._locale._week.dow,h=a._locale._week.doy,d=b(c.gg,a._a[Ab],hb(tb(),g,h).year),e=b(c.w,1),null!=c.d?(f=c.d,g>f&&++e):f=null!=c.e?c.e+g:g),i=ib(d,e,f,h,g),a._a[Ab]=i.year,a._dayOfYear=i.dayOfYear}function T(a){var c,d,e,f,g=[];if(!a._d){for(e=V(a),a._w&&null==a._a[Cb]&&null==a._a[Bb]&&S(a),a._dayOfYear&&(f=b(a._a[Ab],e[Ab]),a._dayOfYear>D(f)&&(a._pf._overflowDayOfYear=!0),d=db(f,0,a._dayOfYear),a._a[Bb]=d.getUTCMonth(),a._a[Cb]=d.getUTCDate()),c=0;3>c&&null==a._a[c];++c)a._a[c]=g[c]=e[c];for(;7>c;c++)a._a[c]=g[c]=null==a._a[c]?2===c?1:0:a._a[c];a._d=(a._useUTC?db:cb).apply(null,g),null!=a._tzm&&a._d.setUTCMinutes(a._d.getUTCMinutes()+a._tzm)}}function U(a){var b;a._d||(b=y(a._i),a._a=[b.year,b.month,b.day,b.hour,b.minute,b.second,b.millisecond],T(a))}function V(a){var b=new Date;return a._useUTC?[b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate()]:[b.getFullYear(),b.getMonth(),b.getDate()]}function W(a){if(a._f===tb.ISO_8601)return void $(a);a._a=[],a._pf.empty=!0;var b,c,d,e,f,g=""+a._i,h=g.length,i=0;for(d=O(a._f,a._locale).match(Nb)||[],b=0;b<d.length;b++)e=d[b],c=(g.match(P(e,a))||[])[0],c&&(f=g.substr(0,g.indexOf(c)),f.length>0&&a._pf.unusedInput.push(f),g=g.slice(g.indexOf(c)+c.length),i+=c.length),pc[e]?(c?a._pf.empty=!1:a._pf.unusedTokens.push(e),R(e,c,a)):a._strict&&!c&&a._pf.unusedTokens.push(e);a._pf.charsLeftOver=h-i,g.length>0&&a._pf.unusedInput.push(g),a._isPm&&a._a[Db]<12&&(a._a[Db]+=12),a._isPm===!1&&12===a._a[Db]&&(a._a[Db]=0),T(a),F(a)}function X(a){return a.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,b,c,d,e){return b||c||d||e})}function Y(a){return a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Z(a){var b,c,e,f,g;if(0===a._f.length)return a._pf.invalidFormat=!0,void(a._d=new Date(0/0));for(f=0;f<a._f.length;f++)g=0,b=n({},a),null!=a._useUTC&&(b._useUTC=a._useUTC),b._pf=d(),b._f=a._f[f],W(b),G(b)&&(g+=b._pf.charsLeftOver,g+=10*b._pf.unusedTokens.length,b._pf.score=g,(null==e||e>g)&&(e=g,c=b));m(a,c||b)}function $(a){var b,c,d=a._i,e=dc.exec(d);if(e){for(a._pf.iso=!0,b=0,c=fc.length;c>b;b++)if(fc[b][1].exec(d)){a._f=fc[b][0]+(e[6]||" ");break}for(b=0,c=gc.length;c>b;b++)if(gc[b][1].exec(d)){a._f+=gc[b][0];break}d.match(Vb)&&(a._f+="Z"),W(a)}else a._isValid=!1}function _(a){$(a),a._isValid===!1&&(delete a._isValid,tb.createFromInputFallback(a))}function ab(a,b){var c,d=[];for(c=0;c<a.length;++c)d.push(b(a[c],c));return d}function bb(b){var c,d=b._i;d===a?b._d=new Date:v(d)?b._d=new Date(+d):null!==(c=Kb.exec(d))?b._d=new Date(+c[1]):"string"==typeof d?_(b):u(d)?(b._a=ab(d.slice(0),function(a){return parseInt(a,10)}),T(b)):"object"==typeof d?U(b):"number"==typeof d?b._d=new Date(d):tb.createFromInputFallback(b)}function cb(a,b,c,d,e,f,g){var h=new Date(a,b,c,d,e,f,g);return 1970>a&&h.setFullYear(a),h}function db(a){var b=new Date(Date.UTC.apply(null,arguments));return 1970>a&&b.setUTCFullYear(a),b}function eb(a,b){if("string"==typeof a)if(isNaN(a)){if(a=b.weekdaysParse(a),"number"!=typeof a)return null}else a=parseInt(a,10);return a}function fb(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}function gb(a,b,c){var d=tb.duration(a).abs(),e=yb(d.as("s")),f=yb(d.as("m")),g=yb(d.as("h")),h=yb(d.as("d")),i=yb(d.as("M")),j=yb(d.as("y")),k=e<mc.s&&["s",e]||1===f&&["m"]||f<mc.m&&["mm",f]||1===g&&["h"]||g<mc.h&&["hh",g]||1===h&&["d"]||h<mc.d&&["dd",h]||1===i&&["M"]||i<mc.M&&["MM",i]||1===j&&["y"]||["yy",j];return k[2]=b,k[3]=+a>0,k[4]=c,fb.apply({},k)}function hb(a,b,c){var d,e=c-b,f=c-a.day();return f>e&&(f-=7),e-7>f&&(f+=7),d=tb(a).add(f,"d"),{week:Math.ceil(d.dayOfYear()/7),year:d.year()}}function ib(a,b,c,d,e){var f,g,h=db(a,0,1).getUTCDay();return h=0===h?7:h,c=null!=c?c:e,f=e-h+(h>d?7:0)-(e>h?7:0),g=7*(b-1)+(c-e)+f+1,{year:g>0?a:a-1,dayOfYear:g>0?g:D(a-1)+g}}function jb(b){var c=b._i,d=b._f;return b._locale=b._locale||tb.localeData(b._l),null===c||d===a&&""===c?tb.invalid({nullInput:!0}):("string"==typeof c&&(b._i=c=b._locale.preparse(c)),tb.isMoment(c)?new k(c,!0):(d?u(d)?Z(b):W(b):bb(b),new k(b)))}function kb(a,b){var c,d;if(1===b.length&&u(b[0])&&(b=b[0]),!b.length)return tb();for(c=b[0],d=1;d<b.length;++d)b[d][a](c)&&(c=b[d]);return c}function lb(a,b){var c;return"string"==typeof b&&(b=a.localeData().monthsParse(b),"number"!=typeof b)?a:(c=Math.min(a.date(),B(a.year(),b)),a._d["set"+(a._isUTC?"UTC":"")+"Month"](b,c),a)}function mb(a,b){return a._d["get"+(a._isUTC?"UTC":"")+b]()}function nb(a,b,c){return"Month"===b?lb(a,c):a._d["set"+(a._isUTC?"UTC":"")+b](c)}function ob(a,b){return function(c){return null!=c?(nb(this,a,c),tb.updateOffset(this,b),this):mb(this,a)}}function pb(a){return 400*a/146097}function qb(a){return 146097*a/400}function rb(a){tb.duration.fn[a]=function(){return this._data[a]}}function sb(a){"undefined"==typeof ender&&(ub=xb.moment,xb.moment=a?f("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",tb):tb)}for(var tb,ub,vb,wb="2.8.3",xb="undefined"!=typeof global?global:this,yb=Math.round,zb=Object.prototype.hasOwnProperty,Ab=0,Bb=1,Cb=2,Db=3,Eb=4,Fb=5,Gb=6,Hb={},Ib=[],Jb="undefined"!=typeof module&&module.exports,Kb=/^\/?Date\((\-?\d+)/i,Lb=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Mb=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,Nb=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,Ob=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,Pb=/\d\d?/,Qb=/\d{1,3}/,Rb=/\d{1,4}/,Sb=/[+\-]?\d{1,6}/,Tb=/\d+/,Ub=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Vb=/Z|[\+\-]\d\d:?\d\d/gi,Wb=/T/i,Xb=/[\+\-]?\d+(\.\d{1,3})?/,Yb=/\d{1,2}/,Zb=/\d/,$b=/\d\d/,_b=/\d{3}/,ac=/\d{4}/,bc=/[+-]?\d{6}/,cc=/[+-]?\d+/,dc=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ec="YYYY-MM-DDTHH:mm:ssZ",fc=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],gc=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],hc=/([\+\-]|\d\d)/gi,ic=("Date|Hours|Minutes|Seconds|Milliseconds".split("|"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),jc={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},kc={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},lc={},mc={s:45,m:45,h:22,d:26,M:11},nc="DDD w W M D d".split(" "),oc="M D H h m s w W".split(" "),pc={M:function(){return this.month()+1},MMM:function(a){return this.localeData().monthsShort(this,a)},MMMM:function(a){return this.localeData().months(this,a)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(a){return this.localeData().weekdaysMin(this,a)},ddd:function(a){return this.localeData().weekdaysShort(this,a)},dddd:function(a){return this.localeData().weekdays(this,a)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return p(this.year()%100,2)},YYYY:function(){return p(this.year(),4)},YYYYY:function(){return p(this.year(),5)},YYYYYY:function(){var a=this.year(),b=a>=0?"+":"-";return b+p(Math.abs(a),6)},gg:function(){return p(this.weekYear()%100,2)},gggg:function(){return p(this.weekYear(),4)},ggggg:function(){return p(this.weekYear(),5)},GG:function(){return p(this.isoWeekYear()%100,2)},GGGG:function(){return p(this.isoWeekYear(),4)},GGGGG:function(){return p(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return A(this.milliseconds()/100)},SS:function(){return p(A(this.milliseconds()/10),2)},SSS:function(){return p(this.milliseconds(),3)},SSSS:function(){return p(this.milliseconds(),3)},Z:function(){var a=-this.zone(),b="+";return 0>a&&(a=-a,b="-"),b+p(A(a/60),2)+":"+p(A(a)%60,2)},ZZ:function(){var a=-this.zone(),b="+";return 0>a&&(a=-a,b="-"),b+p(A(a/60),2)+p(A(a)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()},Q:function(){return this.quarter()}},qc={},rc=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];nc.length;)vb=nc.pop(),pc[vb+"o"]=i(pc[vb],vb);for(;oc.length;)vb=oc.pop(),pc[vb+vb]=h(pc[vb],2);pc.DDDD=h(pc.DDD,3),m(j.prototype,{set:function(a){var b,c;for(c in a)b=a[c],"function"==typeof b?this[c]=b:this["_"+c]=b},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(a){return this._months[a.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(a){return this._monthsShort[a.month()]},monthsParse:function(a){var b,c,d;for(this._monthsParse||(this._monthsParse=[]),b=0;12>b;b++)if(this._monthsParse[b]||(c=tb.utc([2e3,b]),d="^"+this.months(c,"")+"|^"+this.monthsShort(c,""),this._monthsParse[b]=new RegExp(d.replace(".",""),"i")),this._monthsParse[b].test(a))return b},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(a){return this._weekdays[a.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(a){return this._weekdaysShort[a.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(a){return this._weekdaysMin[a.day()]},weekdaysParse:function(a){var b,c,d;for(this._weekdaysParse||(this._weekdaysParse=[]),b=0;7>b;b++)if(this._weekdaysParse[b]||(c=tb([2e3,1]).day(b),d="^"+this.weekdays(c,"")+"|^"+this.weekdaysShort(c,"")+"|^"+this.weekdaysMin(c,""),this._weekdaysParse[b]=new RegExp(d.replace(".",""),"i")),this._weekdaysParse[b].test(a))return b},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(a){var b=this._longDateFormat[a];return!b&&this._longDateFormat[a.toUpperCase()]&&(b=this._longDateFormat[a.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a]=b),b},isPM:function(a){return"p"===(a+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(a,b,c){return a>11?c?"pm":"PM":c?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(a,b){var c=this._calendar[a];return"function"==typeof c?c.apply(b):c},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(a,b,c,d){var e=this._relativeTime[c];return"function"==typeof e?e(a,b,c,d):e.replace(/%d/i,a)},pastFuture:function(a,b){var c=this._relativeTime[a>0?"future":"past"];return"function"==typeof c?c(b):c.replace(/%s/i,b)},ordinal:function(a){return this._ordinal.replace("%d",a)},_ordinal:"%d",preparse:function(a){return a},postformat:function(a){return a},week:function(a){return hb(a,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),tb=function(b,c,e,f){var g;return"boolean"==typeof e&&(f=e,e=a),g={},g._isAMomentObject=!0,g._i=b,g._f=c,g._l=e,g._strict=f,g._isUTC=!1,g._pf=d(),jb(g)},tb.suppressDeprecationWarnings=!1,tb.createFromInputFallback=f("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(a){a._d=new Date(a._i)}),tb.min=function(){var a=[].slice.call(arguments,0);return kb("isBefore",a)},tb.max=function(){var a=[].slice.call(arguments,0);return kb("isAfter",a)},tb.utc=function(b,c,e,f){var g;return"boolean"==typeof e&&(f=e,e=a),g={},g._isAMomentObject=!0,g._useUTC=!0,g._isUTC=!0,g._l=e,g._i=b,g._f=c,g._strict=f,g._pf=d(),jb(g).utc()},tb.unix=function(a){return tb(1e3*a)},tb.duration=function(a,b){var d,e,f,g,h=a,i=null;return tb.isDuration(a)?h={ms:a._milliseconds,d:a._days,M:a._months}:"number"==typeof a?(h={},b?h[b]=a:h.milliseconds=a):(i=Lb.exec(a))?(d="-"===i[1]?-1:1,h={y:0,d:A(i[Cb])*d,h:A(i[Db])*d,m:A(i[Eb])*d,s:A(i[Fb])*d,ms:A(i[Gb])*d}):(i=Mb.exec(a))?(d="-"===i[1]?-1:1,f=function(a){var b=a&&parseFloat(a.replace(",","."));return(isNaN(b)?0:b)*d},h={y:f(i[2]),M:f(i[3]),d:f(i[4]),h:f(i[5]),m:f(i[6]),s:f(i[7]),w:f(i[8])}):"object"==typeof h&&("from"in h||"to"in h)&&(g=r(tb(h.from),tb(h.to)),h={},h.ms=g.milliseconds,h.M=g.months),e=new l(h),tb.isDuration(a)&&c(a,"_locale")&&(e._locale=a._locale),e},tb.version=wb,tb.defaultFormat=ec,tb.ISO_8601=function(){},tb.momentProperties=Ib,tb.updateOffset=function(){},tb.relativeTimeThreshold=function(b,c){return mc[b]===a?!1:c===a?mc[b]:(mc[b]=c,!0)},tb.lang=f("moment.lang is deprecated. Use moment.locale instead.",function(a,b){return tb.locale(a,b)}),tb.locale=function(a,b){var c;return a&&(c="undefined"!=typeof b?tb.defineLocale(a,b):tb.localeData(a),c&&(tb.duration._locale=tb._locale=c)),tb._locale._abbr},tb.defineLocale=function(a,b){return null!==b?(b.abbr=a,Hb[a]||(Hb[a]=new j),Hb[a].set(b),tb.locale(a),Hb[a]):(delete Hb[a],null)},tb.langData=f("moment.langData is deprecated. Use moment.localeData instead.",function(a){return tb.localeData(a)}),tb.localeData=function(a){var b;if(a&&a._locale&&a._locale._abbr&&(a=a._locale._abbr),!a)return tb._locale;if(!u(a)){if(b=J(a))return b;a=[a]}return I(a)},tb.isMoment=function(a){return a instanceof k||null!=a&&c(a,"_isAMomentObject")},tb.isDuration=function(a){return a instanceof l};for(vb=rc.length-1;vb>=0;--vb)z(rc[vb]);tb.normalizeUnits=function(a){return x(a)},tb.invalid=function(a){var b=tb.utc(0/0);return null!=a?m(b._pf,a):b._pf.userInvalidated=!0,b},tb.parseZone=function(){return tb.apply(null,arguments).parseZone()},tb.parseTwoDigitYear=function(a){return A(a)+(A(a)>68?1900:2e3)},m(tb.fn=k.prototype,{clone:function(){return tb(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var a=tb(this).utc();return 0<a.year()&&a.year()<=9999?N(a,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):N(a,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var a=this;return[a.year(),a.month(),a.date(),a.hours(),a.minutes(),a.seconds(),a.milliseconds()]},isValid:function(){return G(this)},isDSTShifted:function(){return this._a?this.isValid()&&w(this._a,(this._isUTC?tb.utc(this._a):tb(this._a)).toArray())>0:!1},parsingFlags:function(){return m({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(a){return this.zone(0,a)},local:function(a){return this._isUTC&&(this.zone(0,a),this._isUTC=!1,a&&this.add(this._dateTzOffset(),"m")),this},format:function(a){var b=N(this,a||tb.defaultFormat);return this.localeData().postformat(b)},add:s(1,"add"),subtract:s(-1,"subtract"),diff:function(a,b,c){var d,e,f,g=K(a,this),h=6e4*(this.zone()-g.zone());return b=x(b),"year"===b||"month"===b?(d=432e5*(this.daysInMonth()+g.daysInMonth()),e=12*(this.year()-g.year())+(this.month()-g.month()),f=this-tb(this).startOf("month")-(g-tb(g).startOf("month")),f-=6e4*(this.zone()-tb(this).startOf("month").zone()-(g.zone()-tb(g).startOf("month").zone())),e+=f/d,"year"===b&&(e/=12)):(d=this-g,e="second"===b?d/1e3:"minute"===b?d/6e4:"hour"===b?d/36e5:"day"===b?(d-h)/864e5:"week"===b?(d-h)/6048e5:d),c?e:o(e)},from:function(a,b){return tb.duration({to:this,from:a}).locale(this.locale()).humanize(!b)},fromNow:function(a){return this.from(tb(),a)},calendar:function(a){var b=a||tb(),c=K(b,this).startOf("day"),d=this.diff(c,"days",!0),e=-6>d?"sameElse":-1>d?"lastWeek":0>d?"lastDay":1>d?"sameDay":2>d?"nextDay":7>d?"nextWeek":"sameElse";return this.format(this.localeData().calendar(e,this))},isLeapYear:function(){return E(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(a){var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=a?(a=eb(a,this.localeData()),this.add(a-b,"d")):b},month:ob("Month",!0),startOf:function(a){switch(a=x(a)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===a?this.weekday(0):"isoWeek"===a&&this.isoWeekday(1),"quarter"===a&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(a){return a=x(a),this.startOf(a).add(1,"isoWeek"===a?"week":a).subtract(1,"ms")},isAfter:function(a,b){return b=x("undefined"!=typeof b?b:"millisecond"),"millisecond"===b?(a=tb.isMoment(a)?a:tb(a),+this>+a):+this.clone().startOf(b)>+tb(a).startOf(b)},isBefore:function(a,b){return b=x("undefined"!=typeof b?b:"millisecond"),"millisecond"===b?(a=tb.isMoment(a)?a:tb(a),+a>+this):+this.clone().startOf(b)<+tb(a).startOf(b)},isSame:function(a,b){return b=x(b||"millisecond"),"millisecond"===b?(a=tb.isMoment(a)?a:tb(a),+this===+a):+this.clone().startOf(b)===+K(a,this).startOf(b)},min:f("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(a){return a=tb.apply(null,arguments),this>a?this:a}),max:f("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(a){return a=tb.apply(null,arguments),a>this?this:a}),zone:function(a,b){var c,d=this._offset||0;return null==a?this._isUTC?d:this._dateTzOffset():("string"==typeof a&&(a=Q(a)),Math.abs(a)<16&&(a=60*a),!this._isUTC&&b&&(c=this._dateTzOffset()),this._offset=a,this._isUTC=!0,null!=c&&this.subtract(c,"m"),d!==a&&(!b||this._changeInProgress?t(this,tb.duration(d-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,tb.updateOffset(this,!0),this._changeInProgress=null)),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.zone(this._tzm):"string"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(a){return a=a?tb(a).zone():0,(this.zone()-a)%60===0},daysInMonth:function(){return B(this.year(),this.month())},dayOfYear:function(a){var b=yb((tb(this).startOf("day")-tb(this).startOf("year"))/864e5)+1;return null==a?b:this.add(a-b,"d")},quarter:function(a){return null==a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)},weekYear:function(a){var b=hb(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==a?b:this.add(a-b,"y")},isoWeekYear:function(a){var b=hb(this,1,4).year;return null==a?b:this.add(a-b,"y")},week:function(a){var b=this.localeData().week(this);return null==a?b:this.add(7*(a-b),"d")},isoWeek:function(a){var b=hb(this,1,4).week;return null==a?b:this.add(7*(a-b),"d")},weekday:function(a){var b=(this.day()+7-this.localeData()._week.dow)%7;return null==a?b:this.add(a-b,"d")},isoWeekday:function(a){return null==a?this.day()||7:this.day(this.day()%7?a:a-7)},isoWeeksInYear:function(){return C(this.year(),1,4)},weeksInYear:function(){var a=this.localeData()._week;return C(this.year(),a.dow,a.doy)},get:function(a){return a=x(a),this[a]()},set:function(a,b){return a=x(a),"function"==typeof this[a]&&this[a](b),this},locale:function(b){var c;return b===a?this._locale._abbr:(c=tb.localeData(b),null!=c&&(this._locale=c),this)},lang:f("moment().lang() is deprecated. Use moment().localeData() instead.",function(b){return b===a?this.localeData():this.locale(b)}),localeData:function(){return this._locale},_dateTzOffset:function(){return 15*Math.round(this._d.getTimezoneOffset()/15)}}),tb.fn.millisecond=tb.fn.milliseconds=ob("Milliseconds",!1),tb.fn.second=tb.fn.seconds=ob("Seconds",!1),tb.fn.minute=tb.fn.minutes=ob("Minutes",!1),tb.fn.hour=tb.fn.hours=ob("Hours",!0),tb.fn.date=ob("Date",!0),tb.fn.dates=f("dates accessor is deprecated. Use date instead.",ob("Date",!0)),tb.fn.year=ob("FullYear",!0),tb.fn.years=f("years accessor is deprecated. Use year instead.",ob("FullYear",!0)),tb.fn.days=tb.fn.day,tb.fn.months=tb.fn.month,tb.fn.weeks=tb.fn.week,tb.fn.isoWeeks=tb.fn.isoWeek,tb.fn.quarters=tb.fn.quarter,tb.fn.toJSON=tb.fn.toISOString,m(tb.duration.fn=l.prototype,{_bubble:function(){var a,b,c,d=this._milliseconds,e=this._days,f=this._months,g=this._data,h=0;g.milliseconds=d%1e3,a=o(d/1e3),g.seconds=a%60,b=o(a/60),g.minutes=b%60,c=o(b/60),g.hours=c%24,e+=o(c/24),h=o(pb(e)),e-=o(qb(h)),f+=o(e/30),e%=30,h+=o(f/12),f%=12,g.days=e,g.months=f,g.years=h},abs:function(){return this._milliseconds=Math.abs(this._milliseconds),this._days=Math.abs(this._days),this._months=Math.abs(this._months),this._data.milliseconds=Math.abs(this._data.milliseconds),this._data.seconds=Math.abs(this._data.seconds),this._data.minutes=Math.abs(this._data.minutes),this._data.hours=Math.abs(this._data.hours),this._data.months=Math.abs(this._data.months),this._data.years=Math.abs(this._data.years),this},weeks:function(){return o(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*A(this._months/12)},humanize:function(a){var b=gb(this,!a,this.localeData());return a&&(b=this.localeData().pastFuture(+this,b)),this.localeData().postformat(b)},add:function(a,b){var c=tb.duration(a,b);return this._milliseconds+=c._milliseconds,this._days+=c._days,this._months+=c._months,this._bubble(),this},subtract:function(a,b){var c=tb.duration(a,b);return this._milliseconds-=c._milliseconds,this._days-=c._days,this._months-=c._months,this._bubble(),this},get:function(a){return a=x(a),this[a.toLowerCase()+"s"]()},as:function(a){var b,c;if(a=x(a),"month"===a||"year"===a)return b=this._days+this._milliseconds/864e5,c=this._months+12*pb(b),"month"===a?c:c/12;switch(b=this._days+qb(this._months/12),a){case"week":return b/7+this._milliseconds/6048e5;case"day":return b+this._milliseconds/864e5;case"hour":return 24*b+this._milliseconds/36e5;case"minute":return 24*b*60+this._milliseconds/6e4;case"second":return 24*b*60*60+this._milliseconds/1e3;case"millisecond":return Math.floor(24*b*60*60*1e3)+this._milliseconds;default:throw new Error("Unknown unit "+a)}},lang:tb.fn.lang,locale:tb.fn.locale,toIsoString:f("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",function(){return this.toISOString()}),toISOString:function(){var a=Math.abs(this.years()),b=Math.abs(this.months()),c=Math.abs(this.days()),d=Math.abs(this.hours()),e=Math.abs(this.minutes()),f=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(a?a+"Y":"")+(b?b+"M":"")+(c?c+"D":"")+(d||e||f?"T":"")+(d?d+"H":"")+(e?e+"M":"")+(f?f+"S":""):"P0D"},localeData:function(){return this._locale}}),tb.duration.fn.toString=tb.duration.fn.toISOString;for(vb in ic)c(ic,vb)&&rb(vb.toLowerCase());tb.duration.fn.asMilliseconds=function(){return this.as("ms")},tb.duration.fn.asSeconds=function(){return this.as("s")},tb.duration.fn.asMinutes=function(){return this.as("m")},tb.duration.fn.asHours=function(){return this.as("h")},tb.duration.fn.asDays=function(){return this.as("d")},tb.duration.fn.asWeeks=function(){return this.as("weeks")},tb.duration.fn.asMonths=function(){return this.as("M")},tb.duration.fn.asYears=function(){return this.as("y")},tb.locale("en",{ordinal:function(a){var b=a%10,c=1===A(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+c}}),Jb?module.exports=tb:"function"==typeof define&&define.amd?(define("moment",["require","exports","module"],function(a,b,c){return c.config&&c.config()&&c.config().noGlobal===!0&&(xb.moment=ub),tb}),sb(!0)):sb()}.call(this),function(a,b){"function"==typeof define&&define.amd?define("moment-timezone",["moment"],b):"object"==typeof exports?module.exports=b(require("moment")):b(a.moment)}(this,function(a){function b(a){return a>96?a-87:a>64?a-29:a-48}function c(a){var c,d=0,e=a.split("."),f=e[0],g=e[1]||"",h=1,i=0,j=1;for(45===a.charCodeAt(0)&&(d=1,j=-1),d;d<f.length;d++)c=b(f.charCodeAt(d)),i=60*i+c;for(d=0;d<g.length;d++)h/=60,c=b(g.charCodeAt(d)),i+=c*h;return i*j}function d(a){for(var b=0;b<a.length;b++)a[b]=c(a[b])}function e(a,b){for(var c=0;b>c;c++)a[c]=Math.round((a[c-1]||0)+6e4*a[c]);a[b-1]=1/0}function f(a,b){var c,d=[];for(c=0;c<b.length;c++)d[c]=a[b[c]];return d}function g(a){var b=a.split("|"),c=b[2].split(" "),g=b[3].split(""),h=b[4].split(" ");return d(c),d(g),d(h),e(h,g.length),{name:b[0],abbrs:f(b[1].split(" "),g),offsets:f(c,g),untils:h}}function h(a){a&&this._set(g(a))}function i(a){return(a||"").toLowerCase().replace(/\//g,"_")}function j(a){var b,c,d;for("string"==typeof a&&(a=[a]),b=0;b<a.length;b++)c=new h(a[b]),d=i(c.name),y[d]=c,n(d)}function k(a){return y[i(a)]||null}function l(){var a,b=[];for(a in y)y.hasOwnProperty(a)&&y[a]&&b.push(y[a].name);return b.sort()}function m(a){var b,c;for("string"==typeof a&&(a=[a]),b=0;b<a.length;b++)c=a[b].split("|"),p(c[0],c[1]),p(c[1],c[0])}function n(a){if(z[a]){var b,c=y[a],d=z[a];for(b=0;b<d.length;b++)o(c,d[b]);z[a]=null}}function o(a,b){var c=y[i(b)]=new h;c._set(a),c.name=b}function p(a,b){a=i(a),y[a]?o(y[a],b):(z[a]=z[a]||[],z[a].push(b))}function q(a){j(a.zones),m(a.links),u.dataVersion=a.version}function r(a){return r.didShowError||(r.didShowError=!0,t("moment.tz.zoneExists('"+a+"') has been deprecated in favor of !moment.tz.zone('"+a+"')")),!!k(a)}function s(a){return!(!a._a||void 0!==a._tzm)}function t(a){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(a)}function u(){var b=Array.prototype.slice.call(arguments,0,-1),c=arguments[arguments.length-1],d=k(c),e=a.utc.apply(null,b);return d&&s(e)&&e.add(d.parse(e),"minutes"),e.tz(c),e}function v(a){return function(){return this._z?this._z.abbr(this):a.call(this)}}function w(a){return function(){return this._z=null,a.apply(this,arguments)}}if(void 0!==a.tz)return a;var x="0.2.2",y={},z={},A=a.version.split("."),B=+A[0],C=+A[1];(2>B||2===B&&6>C)&&t("Moment Timezone requires Moment.js >= 2.6.0. You are using Moment.js "+a.version+". See momentjs.com"),h.prototype={_set:function(a){this.name=a.name,this.abbrs=a.abbrs,this.untils=a.untils,this.offsets=a.offsets},_index:function(a){var b,c=+a,d=this.untils;for(b=0;b<d.length;b++)if(c<d[b])return b},parse:function(a){var b,c,d,e,f=+a,g=this.offsets,h=this.untils,i=h.length-1;for(e=0;i>e;e++)if(b=g[e],c=g[e+1],d=g[e?e-1:e],c>b&&u.moveAmbiguousForward?b=c:b>d&&u.moveInvalidForward&&(b=d),f<h[e]-6e4*b)return g[e];return g[i]},abbr:function(a){return this.abbrs[this._index(a)]},offset:function(a){return this.offsets[this._index(a)]}},u.version=x,u.dataVersion="",u._zones=y,u._links=z,u.add=j,u.link=m,u.load=q,u.zone=k,u.zoneExists=r,u.names=l,u.Zone=h,u.unpack=g,u.unpackBase60=c,u.needsOffset=s,u.moveInvalidForward=!0,u.moveAmbiguousForward=!1;var D=a.fn;a.tz=u,a.updateOffset=function(a,b){var c;a._z&&(c=a._z.offset(a),Math.abs(c)<16&&(c/=60),a.zone(c,b))},D.tz=function(b){return b?(this._z=k(b),this._z?a.updateOffset(this):t("Moment Timezone has no data for "+b+". See http://momentjs.com/timezone/docs/#/data-loading/."),this):this._z?this._z.name:void 0},D.zoneName=v(D.zoneName),D.zoneAbbr=v(D.zoneAbbr),D.utc=w(D.utc);var E=a.momentProperties;return"[object Array]"===Object.prototype.toString.call(E)?(E.push("_z"),E.push("_a")):E&&(E._z=null),a}),define("lib/amd-wrapped/momentjs/moment-jdateformatparser",["moment"],function(a){(function(){var b={},c={},d={d:"D",dd:"DD",yy:"YY",yyyy:"YYYY",a:"a",A:"A",M:"M",MM:"MM",MMM:"MMM",MMMM:"MMMM",h:"h",hh:"hh",H:"H",HH:"HH",m:"m",mm:"mm",s:"s",ss:"ss",S:"SSS",SS:"SSS",SSS:"SSS",E:"ddd",EEEE:"dddd",D:"DDD",w:"W",ww:"WW",z:"ZZ",zzzz:"Z",Z:"ZZ",X:"ZZ",XX:"ZZ",XXX:"Z",u:"E"},e={D:"d",DD:"dd",YY:"yy",YYYY:"yyyy",a:"a",A:"A",M:"M",MM:"MM",MMM:"MMM",MMMM:"MMMM",h:"h",hh:"hh",H:"H",HH:"HH",m:"m",mm:"mm",s:"s",ss:"ss",S:"S",SS:"S",SSS:"S",ddd:"E",dddd:"EEEE",DDD:"D",W:"w",WW:"ww",ZZ:"z",Z:"XXX",E:"u"},f=function(a,b){for(var c=a.length,d=0,e=-1,f=null,h="",i="";c>d;d++)h=a[d],(null===f||f!==h)&&(i=g(a,b,e,d,i),e=d),f=h;return g(a,b,e,d,i)},g=function(a,b,c,d,e){var f;return-1!==c&&(f=a.substring(c,d),b[f]&&(f=b[f]),e=e.concat(f)),e};a.fn.__translateJavaFormat=f,a.fn.toMomentFormatString=function(a){return b[a]||(b[a]=f(a,d)),b[a]},a.fn.formatWithJDF=function(a){return this.format(this.toMomentFormatString(a))},a.fn.toJDFString=function(a){return c[a]||(c[a]=f(a,e)),c[a]},"undefined"!=typeof module&&null!==module?module.exports=a:this.moment=a}).call(this)}),define("lib/amd-wrapped/momentjs/moment-timezones",["moment-timezone"],function(a){return a.tz.add(["America/Los_Angeles|PST PDT PWT PPT|80 70 70 70|010102301010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-261q0 1nX0 11B0 1nX0 SgN0 8x10 iy0 5Wp0 1Vb0 3dB0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/New_York|EST EDT EWT EPT|50 40 40 40|01010101010101010101010101010101010101010101010102301010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-261t0 1nX0 11B0 1nX0 11B0 1qL0 1a10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 RB0 8x40 iv0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","Europe/Budapest|CET CEST|-10 -20|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2aFe0 11d0 1iO0 11A0 1ip0 17b0 1op0 1tb0 Q2m0 3Ne0 WM0 1fA0 1cM0 1cM0 1oJ0 1dc0 1030 1fA0 1cM0 1cM0 1cM0 1cM0 1fA0 1a00 1iM0 1fA0 8Ha0 Rb0 1wN0 Rb0 1BB0 Lz0 1C20 LB0 SNX0 1a10 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00"]),a
}),define("gawkerlib/formatTime",["moment-timezone","lib/amd-wrapped/momentjs/moment-jdateformatparser","lib/amd-wrapped/momentjs/moment-timezones"],function(a){return window.kinja=window.kinja||{},window.kinja.formatTime=function(b,c,d,e){return a(b).lang(e).tz(d).formatWithJDF(c)},window.kinja.formatTime}),define("lib/jquery.truncate",["jquery"],function(a){var b=/(\s*\S+|\s)$/;a.truncate=function(b,c){return a("<div></div>").append(b).truncate(c).html()},a.fn.truncate=function(c){a.isNumeric(c)&&(c={length:c});var d=a.extend({},a.truncate.defaults,c);return this.each(function(){var c=a(this);d.noBreaks&&c.find("br").replaceWith(" ");var e=c.text(),f=e.length-d.length;d.stripTags&&c.text(e),d.words&&f>0&&(f=e.length-e.slice(0,d.length).replace(b,"").length-1),0>f||!f&&!d.truncated||a.each(c.contents().get().reverse(),function(b,c){var e=a(c),g=e.text(),h=g.length;return f>=h?(d.truncated=!0,f-=h,void e.remove()):3===c.nodeType?(a(c.splitText(h-f-1)).replaceWith(d.ellipsis),!1):(e.truncate(a.extend(d,{length:h-f})),!1)})})},a.truncate.defaults={stripTags:!1,words:!1,noBreaks:!1,length:1/0,ellipsis:"…"}}),define("gawkerlib/truncateHtml",["jquery","lib/jquery.truncate"],function(a){return window.kinja=window.kinja||{},window.kinja.truncateHtml=function(b,c){return a.truncate(b,{length:c,words:!0})},window.kinja.truncateHtml}),define("gawkerlib/stripHtmlTags",[],function(){window.kinja=window.kinja||{},window.kinja.stripHtmlTags=function(a,b){b=(((b||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");var c=/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi;return a.replace(c,function(a,c){return b.indexOf("<"+c.toLowerCase()+">")>-1?a:""})}}),define("lib/amd-wrapped/soyutils",["gawkerlib/imageUrl","gawkerlib/formatTime","gawkerlib/truncateHtml","gawkerlib/readMore","gawkerlib/stripHtmlTags"],function(){var a=a||{};a.DEBUG=!1,a.inherits=function(a,b){function c(){}c.prototype=b.prototype,a.superClass_=b.prototype,a.prototype=new c,a.prototype.constructor=a},a.userAgent||(a.userAgent=function(){var a="";"undefined"!=typeof navigator&&navigator&&"string"==typeof navigator.userAgent&&(a=navigator.userAgent);var b=0==a.indexOf("Opera");return{jscript:{HAS_JSCRIPT:"ScriptEngine"in this},OPERA:b,IE:!b&&-1!=a.indexOf("MSIE"),WEBKIT:!b&&-1!=a.indexOf("WebKit")}}()),a.asserts||(a.asserts={assert:function(a){if(!a)throw Error("Assertion error")},fail:function(){}}),a.dom||(a.dom={},a.dom.DomHelper=function(a){this.document_=a||document},a.dom.DomHelper.prototype.getDocument=function(){return this.document_},a.dom.DomHelper.prototype.createElement=function(a){return this.document_.createElement(a)},a.dom.DomHelper.prototype.createDocumentFragment=function(){return this.document_.createDocumentFragment()}),a.format||(a.format={insertWordBreaks:function(b,c){b=String(b);for(var d=[],e=0,f=!1,g=!1,h=0,i=0,j=0,k=b.length;k>j;++j){var l=b.charCodeAt(j);if(h>=c&&32!=l&&(d[e++]=b.substring(i,j),i=j,d[e++]=a.format.WORD_BREAK,h=0),f)62==l&&(f=!1);else if(g)switch(l){case 59:g=!1,++h;break;case 60:g=!1,f=!0;break;case 32:g=!1,h=0}else switch(l){case 60:f=!0;break;case 38:g=!0;break;case 32:h=0;break;default:++h}}return d[e++]=b.substring(i),d.join("")},WORD_BREAK:a.userAgent.WEBKIT?"<wbr></wbr>":a.userAgent.OPERA?"&shy;":"<wbr>"}),a.i18n||(a.i18n={bidi:{detectRtlDirectionality:function(a,b){return a=d.$$bidiStripHtmlIfNecessary_(a,b),d.$$bidiRtlWordRatio_(a)>d.$$bidiRtlDetectionThreshold_}}}),a.i18n.bidi.Dir={RTL:-1,UNKNOWN:0,LTR:1},a.i18n.bidi.toDir=function(b){return"number"==typeof b?b>0?a.i18n.bidi.Dir.LTR:0>b?a.i18n.bidi.Dir.RTL:a.i18n.bidi.Dir.UNKNOWN:b?a.i18n.bidi.Dir.RTL:a.i18n.bidi.Dir.LTR},a.i18n.BidiFormatter=function(b){this.dir_=a.i18n.bidi.toDir(b)},a.i18n.BidiFormatter.prototype.dirAttr=function(a,c){var d=b.$$bidiTextDir(a,c);return d&&d!=this.dir_?0>d?'dir="rtl"':'dir="ltr"':""},a.i18n.BidiFormatter.prototype.endEdge=function(){return this.dir_<0?"left":"right"},a.i18n.BidiFormatter.prototype.mark=function(){return this.dir_>0?"‎":this.dir_<0?"‏":""},a.i18n.BidiFormatter.prototype.markAfter=function(a,c){var e=b.$$bidiTextDir(a,c);return d.$$bidiMarkAfterKnownDir_(this.dir_,e,a,c)},a.i18n.BidiFormatter.prototype.spanWrap=function(a){a=String(a);var c=b.$$bidiTextDir(a,!0),e=d.$$bidiMarkAfterKnownDir_(this.dir_,c,a,!0);return c>0&&this.dir_<=0?a='<span dir="ltr">'+a+"</span>":0>c&&this.dir_>=0&&(a='<span dir="rtl">'+a+"</span>"),a+e},a.i18n.BidiFormatter.prototype.startEdge=function(){return this.dir_<0?"right":"left"},a.i18n.BidiFormatter.prototype.unicodeWrap=function(a){a=String(a);var c=b.$$bidiTextDir(a,!0),e=d.$$bidiMarkAfterKnownDir_(this.dir_,c,a,!0);return c>0&&this.dir_<=0?a="‪"+a+"‬":0>c&&this.dir_>=0&&(a="‫"+a+"‬"),a+e},a.string={newLineToBr:function(b,c){return b=String(b),a.string.NEWLINE_TO_BR_RE_.test(b)?b.replace(/(\r\n|\r|\n)/g,c?"<br />":"<br>"):b},urlEncode:encodeURIComponent,NEWLINE_TO_BR_RE_:/[\r\n]/},a.string.StringBuffer=function(b){this.buffer_=a.userAgent.jscript.HAS_JSCRIPT?[]:"",null!=b&&this.append.apply(this,arguments)},a.string.StringBuffer.prototype.bufferLength_=0,a.string.StringBuffer.prototype.append=function(b,c){if(a.userAgent.jscript.HAS_JSCRIPT)if(null==c)this.buffer_[this.bufferLength_++]=b;else{var d=this.buffer_;d.push.apply(d,arguments),this.bufferLength_=this.buffer_.length}else if(this.buffer_+=b,null!=c)for(var e=1;e<arguments.length;e++)this.buffer_+=arguments[e];return this},a.string.StringBuffer.prototype.clear=function(){a.userAgent.jscript.HAS_JSCRIPT?(this.buffer_.length=0,this.bufferLength_=0):this.buffer_=""},a.string.StringBuffer.prototype.toString=function(){if(a.userAgent.jscript.HAS_JSCRIPT){var b=this.buffer_.join("");return this.clear(),b&&this.append(b),b}return this.buffer_},a.soy||(a.soy={renderAsElement:function(a,b,c,e){return d.$$renderWithWrapper_(a,b,e,!0,c)},renderAsFragment:function(a,b,c,e){return d.$$renderWithWrapper_(a,b,e,!1,c)},renderElement:function(a,b,c,d){a.innerHTML=b(c,null,d)},data:{}}),a.soy.data.SanitizedContentKind={HTML:{},JS:a.DEBUG?{sanitizedContentJsStrChars:!0}:{},JS_STR_CHARS:{},URI:{},ATTRIBUTES:a.DEBUG?{sanitizedContentHtmlAttribute:!0}:{},CSS:{},TEXT:{}},a.soy.data.SanitizedContent=function(){throw Error("Do not instantiate directly")},a.soy.data.SanitizedContent.prototype.contentKind,a.soy.data.SanitizedContent.prototype.content,a.soy.data.SanitizedContent.prototype.toString=function(){return this.content};var b={esc:{}},c={};c.VERY_UNSAFE={};var d={$$DEFAULT_TEMPLATE_DATA_:{}};return d.$$renderWithWrapper_=function(a,b,c,e,f){var g=c||document,h=g.createElement("div");if(h.innerHTML=a(b||d.$$DEFAULT_TEMPLATE_DATA_,void 0,f),1==h.childNodes.length){var i=h.firstChild;if(!e||1==i.nodeType)return i}if(e)return h;for(var j=g.createDocumentFragment();h.firstChild;)j.appendChild(h.firstChild);return j},d.$$bidiMarkAfterKnownDir_=function(a,b,c,e){return a>0&&(0>b||d.$$bidiIsRtlExitText_(c,e))?"‎":0>a&&(b>0||d.$$bidiIsLtrExitText_(c,e))?"‏":""},d.$$bidiStripHtmlIfNecessary_=function(a,b){return b?a.replace(d.$$BIDI_HTML_SKIP_RE_," "):a},d.$$BIDI_HTML_SKIP_RE_=/<[^>]*>|&[^;]+;/g,d.$$bidiLtrChars_="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿Ⰰ-﬜﷾-﹯﻽-￿",d.$$bidiNeutralChars_="\x00- !-@[-`{-¿×÷ʹ-˿ -⯿",d.$$bidiRtlChars_="֑-߿יִ-﷽ﹰ-ﻼ",d.$$bidiRtlDirCheckRe_=new RegExp("^[^"+d.$$bidiLtrChars_+"]*["+d.$$bidiRtlChars_+"]"),d.$$bidiNeutralDirCheckRe_=new RegExp("^["+d.$$bidiNeutralChars_+"]*$|^http://"),d.$$bidiIsRtlText_=function(a){return d.$$bidiRtlDirCheckRe_.test(a)},d.$$bidiIsNeutralText_=function(a){return d.$$bidiNeutralDirCheckRe_.test(a)},d.$$bidiRtlDetectionThreshold_=.4,d.$$bidiRtlWordRatio_=function(a){for(var b=0,c=0,e=a.split(" "),f=0;f<e.length;f++)d.$$bidiIsRtlText_(e[f])?(b++,c++):d.$$bidiIsNeutralText_(e[f])||c++;return 0==c?0:b/c},d.$$bidiLtrExitDirCheckRe_=new RegExp("["+d.$$bidiLtrChars_+"][^"+d.$$bidiRtlChars_+"]*$"),d.$$bidiRtlExitDirCheckRe_=new RegExp("["+d.$$bidiRtlChars_+"][^"+d.$$bidiLtrChars_+"]*$"),d.$$bidiIsLtrExitText_=function(a,b){return a=d.$$bidiStripHtmlIfNecessary_(a,b),d.$$bidiLtrExitDirCheckRe_.test(a)},d.$$bidiIsRtlExitText_=function(a,b){return a=d.$$bidiStripHtmlIfNecessary_(a,b),d.$$bidiRtlExitDirCheckRe_.test(a)},b.StringBuilder=a.string.StringBuffer,c.SanitizedContentKind=a.soy.data.SanitizedContentKind,c.SanitizedHtml=function(){a.soy.data.SanitizedContent.call(this)},a.inherits(c.SanitizedHtml,a.soy.data.SanitizedContent),c.SanitizedHtml.prototype.contentKind=c.SanitizedContentKind.HTML,c.SanitizedJs=function(){a.soy.data.SanitizedContent.call(this)},a.inherits(c.SanitizedJs,a.soy.data.SanitizedContent),c.SanitizedJs.prototype.contentKind=c.SanitizedContentKind.JS,c.SanitizedJsStrChars=function(){a.soy.data.SanitizedContent.call(this)},a.inherits(c.SanitizedJsStrChars,a.soy.data.SanitizedContent),c.SanitizedJsStrChars.prototype.contentKind=c.SanitizedContentKind.JS_STR_CHARS,c.SanitizedUri=function(){a.soy.data.SanitizedContent.call(this)},a.inherits(c.SanitizedUri,a.soy.data.SanitizedContent),c.SanitizedUri.prototype.contentKind=c.SanitizedContentKind.URI,c.SanitizedHtmlAttribute=function(){a.soy.data.SanitizedContent.call(this)},a.inherits(c.SanitizedHtmlAttribute,a.soy.data.SanitizedContent),c.SanitizedHtmlAttribute.prototype.contentKind=c.SanitizedContentKind.ATTRIBUTES,c.SanitizedCss=function(){a.soy.data.SanitizedContent.call(this)},a.inherits(c.SanitizedCss,a.soy.data.SanitizedContent),c.SanitizedCss.prototype.contentKind=c.SanitizedContentKind.CSS,c.UnsanitizedText=function(a){this.content=String(a)},a.inherits(c.UnsanitizedText,a.soy.data.SanitizedContent),c.UnsanitizedText.prototype.contentKind=c.SanitizedContentKind.TEXT,c.$$makeSanitizedContentFactory_=function(a){function b(){}return b.prototype=a.prototype,function(a){var c=new b;return c.content=String(a),c}},c.markUnsanitizedText=function(a){return new c.UnsanitizedText(a)},c.VERY_UNSAFE.ordainSanitizedHtml=c.$$makeSanitizedContentFactory_(c.SanitizedHtml),c.VERY_UNSAFE.ordainSanitizedJs=c.$$makeSanitizedContentFactory_(c.SanitizedJs),c.VERY_UNSAFE.ordainSanitizedJsStrChars=c.$$makeSanitizedContentFactory_(c.SanitizedJsStrChars),c.VERY_UNSAFE.ordainSanitizedUri=c.$$makeSanitizedContentFactory_(c.SanitizedUri),c.VERY_UNSAFE.ordainSanitizedHtmlAttribute=c.$$makeSanitizedContentFactory_(c.SanitizedHtmlAttribute),c.VERY_UNSAFE.ordainSanitizedCss=c.$$makeSanitizedContentFactory_(c.SanitizedCss),b.renderElement=a.soy.renderElement,b.renderAsFragment=function(b,c,d,e){return a.soy.renderAsFragment(b,c,e,new a.dom.DomHelper(d))},b.renderAsElement=function(b,c,d,e){return a.soy.renderAsElement(b,c,e,new a.dom.DomHelper(d))},b.$$augmentMap=function(a,b){function c(){}c.prototype=a;var d=new c;for(var e in b)d[e]=b[e];return d},b.$$checkMapKey=function(a){if("string"!=typeof a)throw Error("Map literal's key expression must evaluate to string (encountered type \""+typeof a+'").');return a},b.$$getMapKeys=function(a){var b=[];for(var c in a)b.push(c);return b},b.$$getDelTemplateId=function(a){return a},b.$$DELEGATE_REGISTRY_PRIORITIES_={},b.$$DELEGATE_REGISTRY_FUNCTIONS_={},b.$$registerDelegateFn=function(a,c,d,e){var f="key_"+a+":"+c,g=b.$$DELEGATE_REGISTRY_PRIORITIES_[f];if(void 0===g||d>g)b.$$DELEGATE_REGISTRY_PRIORITIES_[f]=d,b.$$DELEGATE_REGISTRY_FUNCTIONS_[f]=e;else if(d==g)throw Error('Encountered two active delegates with the same priority ("'+a+":"+c+'").')},b.$$getDelegateFn=function(a,c,d){var e=b.$$DELEGATE_REGISTRY_FUNCTIONS_["key_"+a+":"+c];if(e||""==c||(e=b.$$DELEGATE_REGISTRY_FUNCTIONS_["key_"+a+":"]),e)return e;if(d)return b.$$EMPTY_TEMPLATE_FN_;throw Error('Found no active impl for delegate call to "'+a+":"+c+'" (and not allowemptydefault="true").')},b.$$EMPTY_TEMPLATE_FN_=function(){return""},b.$$escapeHtml=function(d){return d&&d.contentKind&&d.contentKind===a.soy.data.SanitizedContentKind.HTML?(a.asserts.assert(d.constructor===c.SanitizedHtml),d.content):b.esc.$$escapeHtmlHelper(d)},b.$$cleanHtml=function(d){return d&&d.contentKind&&d.contentKind===a.soy.data.SanitizedContentKind.HTML?(a.asserts.assert(d.constructor===c.SanitizedHtml),d.content):b.$$stripHtmlTags(d,b.esc.$$SAFE_TAG_WHITELIST_)},b.$$escapeHtmlRcdata=function(d){return d&&d.contentKind&&d.contentKind===a.soy.data.SanitizedContentKind.HTML?(a.asserts.assert(d.constructor===c.SanitizedHtml),b.esc.$$normalizeHtmlHelper(d.content)):b.esc.$$escapeHtmlHelper(d)},b.$$HTML5_VOID_ELEMENTS_=new RegExp("^<(?:area|base|br|col|command|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)\\b"),b.$$stripHtmlTags=function(a,c){if(!c)return String(a).replace(b.esc.$$HTML_TAG_REGEX_,"").replace(b.esc.$$LT_REGEX_,"&lt;");var d=String(a).replace(/\[/g,"&#91;"),e=[];d=d.replace(b.esc.$$HTML_TAG_REGEX_,function(a,b){if(b&&(b=b.toLowerCase(),c.hasOwnProperty(b)&&c[b])){var d="/"===a.charAt(1)?"</":"<",f=e.length;return e[f]=d+b+">","["+f+"]"}return""}),d=b.esc.$$normalizeHtmlHelper(d);var f=b.$$balanceTags_(e);return d=d.replace(/\[(\d+)\]/g,function(a,b){return e[b]}),d+f},b.$$balanceTags_=function(a){for(var c=[],d=0,e=a.length;e>d;++d){var f=a[d];if("/"===f.charAt(1)){for(var g=c.length-1;g>=0&&c[g]!=f;)g--;0>g?a[d]="":(a[d]=c.slice(g).reverse().join(""),c.length=g)}else b.$$HTML5_VOID_ELEMENTS_.test(f)||c.push("</"+f.substring(1))}return c.reverse().join("")},b.$$escapeHtmlAttribute=function(d){return d&&d.contentKind&&d.contentKind===a.soy.data.SanitizedContentKind.HTML?(a.asserts.assert(d.constructor===c.SanitizedHtml),b.esc.$$normalizeHtmlHelper(b.$$stripHtmlTags(d.content))):b.esc.$$escapeHtmlHelper(d)},b.$$escapeHtmlAttributeNospace=function(d){return d&&d.contentKind&&d.contentKind===a.soy.data.SanitizedContentKind.HTML?(a.asserts.assert(d.constructor===c.SanitizedHtml),b.esc.$$normalizeHtmlNospaceHelper(b.$$stripHtmlTags(d.content))):b.esc.$$escapeHtmlNospaceHelper(d)},b.$$filterHtmlAttributes=function(d){return d&&d.contentKind===a.soy.data.SanitizedContentKind.ATTRIBUTES?(a.asserts.assert(d.constructor===c.SanitizedHtmlAttribute),d.content.replace(/([^"'\s])$/,"$1 ")):b.esc.$$filterHtmlAttributesHelper(d)},b.$$filterHtmlElementName=function(a){return b.esc.$$filterHtmlElementNameHelper(a)},b.$$escapeJs=function(a){return b.$$escapeJsString(a)},b.$$escapeJsString=function(d){return d&&d.contentKind===a.soy.data.SanitizedContentKind.JS_STR_CHARS?(a.asserts.assert(d.constructor===c.SanitizedJsStrChars),d.content):b.esc.$$escapeJsStringHelper(d)},b.$$escapeJsValue=function(d){if(null==d)return" null ";if(d.contentKind==a.soy.data.SanitizedContentKind.JS)return a.asserts.assert(d.constructor===c.SanitizedJs),d.content;switch(typeof d){case"boolean":case"number":return" "+d+" ";default:return"'"+b.esc.$$escapeJsStringHelper(String(d))+"'"}},b.$$escapeJsRegex=function(a){return b.esc.$$escapeJsRegexHelper(a)},b.$$problematicUriMarks_=/['()]/g,b.$$pctEncode_=function(a){return"%"+a.charCodeAt(0).toString(16)},b.$$escapeUri=function(d){if(d&&d.contentKind===a.soy.data.SanitizedContentKind.URI)return a.asserts.assert(d.constructor===c.SanitizedUri),b.$$normalizeUri(d);var e=b.esc.$$escapeUriHelper(d);return b.$$problematicUriMarks_.lastIndex=0,b.$$problematicUriMarks_.test(e)?e.replace(b.$$problematicUriMarks_,b.$$pctEncode_):e},b.$$normalizeUri=function(a){return b.esc.$$normalizeUriHelper(a)},b.$$filterNormalizeUri=function(d){return d&&d.contentKind==a.soy.data.SanitizedContentKind.URI?(a.asserts.assert(d.constructor===c.SanitizedUri),b.$$normalizeUri(d)):b.esc.$$filterNormalizeUriHelper(d)},b.$$escapeCssString=function(a){return b.esc.$$escapeCssStringHelper(a)},b.$$filterCssValue=function(d){return d&&d.contentKind===a.soy.data.SanitizedContentKind.CSS?(a.asserts.assert(d.constructor===c.SanitizedCss),d.content):null==d?"":b.esc.$$filterCssValueHelper(d)},b.$$filterNoAutoescape=function(b){return b&&b.contentKind===a.soy.data.SanitizedContentKind.TEXT?(a.asserts.fail("Tainted SanitizedContentKind.TEXT for |noAutoescape: `%s`",[b.content]),"zSoyz"):String(b)},b.$$changeNewlineToBr=function(b){return a.string.newLineToBr(String(b),!1)},b.$$insertWordBreaks=function(b,c){return a.format.insertWordBreaks(String(b),c)},b.$$truncate=function(a,c,d){return a=String(a),a.length<=c?a:(d&&(c>3?c-=3:d=!1),b.$$isHighSurrogate_(a.charAt(c-1))&&b.$$isLowSurrogate_(a.charAt(c))&&(c-=1),a=a.substring(0,c),d&&(a+="..."),a)},b.$$isHighSurrogate_=function(a){return a>=55296&&56319>=a},b.$$isLowSurrogate_=function(a){return a>=56320&&57343>=a},b.$$bidiFormatterCache_={},b.$$getBidiFormatterInstance_=function(c){return b.$$bidiFormatterCache_[c]||(b.$$bidiFormatterCache_[c]=new a.i18n.BidiFormatter(c))},b.$$bidiTextDir=function(b,c){return b?a.i18n.bidi.detectRtlDirectionality(b,c)?-1:1:0},b.$$bidiDirAttr=function(a,d,e){return c.VERY_UNSAFE.ordainSanitizedHtmlAttribute(b.$$getBidiFormatterInstance_(a).dirAttr(d,e))},b.$$bidiMarkAfter=function(a,c,d){var e=b.$$getBidiFormatterInstance_(a);return e.markAfter(c,d)},b.$$bidiSpanWrap=function(a,c){var d=b.$$getBidiFormatterInstance_(a);return d.spanWrap(c+"",!0)},b.$$bidiUnicodeWrap=function(a,c){var d=b.$$getBidiFormatterInstance_(a);return d.unicodeWrap(c+"",!0)},b.esc.$$escapeUriHelper=function(a){return encodeURIComponent(String(a))},b.esc.$$ESCAPE_MAP_FOR_ESCAPE_HTML__AND__NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_={"\x00":"&#0;",'"':"&quot;","&":"&amp;","'":"&#39;","<":"&lt;",">":"&gt;","	":"&#9;","\n":"&#10;","":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;","-":"&#45;","/":"&#47;","=":"&#61;","`":"&#96;","":"&#133;"," ":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"},b.esc.$$REPLACER_FOR_ESCAPE_HTML__AND__NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_=function(a){return b.esc.$$ESCAPE_MAP_FOR_ESCAPE_HTML__AND__NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_[a]},b.esc.$$ESCAPE_MAP_FOR_ESCAPE_JS_STRING__AND__ESCAPE_JS_REGEX_={"\x00":"\\x00","\b":"\\x08","	":"\\t","\n":"\\n","":"\\x0b","\f":"\\f","\r":"\\r",'"':"\\x22","&":"\\x26","'":"\\x27","/":"\\/","<":"\\x3c","=":"\\x3d",">":"\\x3e","\\":"\\\\","":"\\x85","\u2028":"\\u2028","\u2029":"\\u2029",$:"\\x24","(":"\\x28",")":"\\x29","*":"\\x2a","+":"\\x2b",",":"\\x2c","-":"\\x2d",".":"\\x2e",":":"\\x3a","?":"\\x3f","[":"\\x5b","]":"\\x5d","^":"\\x5e","{":"\\x7b","|":"\\x7c","}":"\\x7d"},b.esc.$$REPLACER_FOR_ESCAPE_JS_STRING__AND__ESCAPE_JS_REGEX_=function(a){return b.esc.$$ESCAPE_MAP_FOR_ESCAPE_JS_STRING__AND__ESCAPE_JS_REGEX_[a]},b.esc.$$ESCAPE_MAP_FOR_ESCAPE_CSS_STRING_={"\x00":"\\0 ","\b":"\\8 ","	":"\\9 ","\n":"\\a ","":"\\b ","\f":"\\c ","\r":"\\d ",'"':"\\22 ","&":"\\26 ","'":"\\27 ","(":"\\28 ",")":"\\29 ","*":"\\2a ","/":"\\2f ",":":"\\3a ",";":"\\3b ","<":"\\3c ","=":"\\3d ",">":"\\3e ","@":"\\40 ","\\":"\\5c ","{":"\\7b ","}":"\\7d ","":"\\85 "," ":"\\a0 ","\u2028":"\\2028 ","\u2029":"\\2029 "},b.esc.$$REPLACER_FOR_ESCAPE_CSS_STRING_=function(a){return b.esc.$$ESCAPE_MAP_FOR_ESCAPE_CSS_STRING_[a]},b.esc.$$ESCAPE_MAP_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_={"\x00":"%00","":"%01","":"%02","":"%03","":"%04","":"%05","":"%06","":"%07","\b":"%08","	":"%09","\n":"%0A","":"%0B","\f":"%0C","\r":"%0D","":"%0E","":"%0F","":"%10","":"%11","":"%12","":"%13","":"%14","":"%15","":"%16","":"%17","":"%18","":"%19","":"%1A","":"%1B","":"%1C","":"%1D","":"%1E","":"%1F"," ":"%20",'"':"%22","'":"%27","(":"%28",")":"%29","<":"%3C",">":"%3E","\\":"%5C","{":"%7B","}":"%7D","":"%7F","":"%C2%85"," ":"%C2%A0","\u2028":"%E2%80%A8","\u2029":"%E2%80%A9","！":"%EF%BC%81","＃":"%EF%BC%83","＄":"%EF%BC%84","＆":"%EF%BC%86","＇":"%EF%BC%87","（":"%EF%BC%88","）":"%EF%BC%89","＊":"%EF%BC%8A","＋":"%EF%BC%8B","，":"%EF%BC%8C","／":"%EF%BC%8F","：":"%EF%BC%9A","；":"%EF%BC%9B","＝":"%EF%BC%9D","？":"%EF%BC%9F","＠":"%EF%BC%A0","［":"%EF%BC%BB","］":"%EF%BC%BD"},b.esc.$$REPLACER_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_=function(a){return b.esc.$$ESCAPE_MAP_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_[a]},b.esc.$$MATCHER_FOR_ESCAPE_HTML_=/[\x00\x22\x26\x27\x3c\x3e]/g,b.esc.$$MATCHER_FOR_NORMALIZE_HTML_=/[\x00\x22\x27\x3c\x3e]/g,b.esc.$$MATCHER_FOR_ESCAPE_HTML_NOSPACE_=/[\x00\x09-\x0d \x22\x26\x27\x2d\/\x3c-\x3e`\x85\xa0\u2028\u2029]/g,b.esc.$$MATCHER_FOR_NORMALIZE_HTML_NOSPACE_=/[\x00\x09-\x0d \x22\x27\x2d\/\x3c-\x3e`\x85\xa0\u2028\u2029]/g,b.esc.$$MATCHER_FOR_ESCAPE_JS_STRING_=/[\x00\x08-\x0d\x22\x26\x27\/\x3c-\x3e\\\x85\u2028\u2029]/g,b.esc.$$MATCHER_FOR_ESCAPE_JS_REGEX_=/[\x00\x08-\x0d\x22\x24\x26-\/\x3a\x3c-\x3f\x5b-\x5e\x7b-\x7d\x85\u2028\u2029]/g,b.esc.$$MATCHER_FOR_ESCAPE_CSS_STRING_=/[\x00\x08-\x0d\x22\x26-\x2a\/\x3a-\x3e@\\\x7b\x7d\x85\xa0\u2028\u2029]/g,b.esc.$$MATCHER_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_=/[\x00- \x22\x27-\x29\x3c\x3e\\\x7b\x7d\x7f\x85\xa0\u2028\u2029\uff01\uff03\uff04\uff06-\uff0c\uff0f\uff1a\uff1b\uff1d\uff1f\uff20\uff3b\uff3d]/g,b.esc.$$FILTER_FOR_FILTER_CSS_VALUE_=/^(?!-*(?:expression|(?:moz-)?binding))(?:[.#]?-?(?:[_a-z0-9-]+)(?:-[_a-z0-9-]+)*-?|-?(?:[0-9]+(?:\.[0-9]*)?|\.[0-9]+)(?:[a-z]{1,2}|%)?|!important|)$/i,b.esc.$$FILTER_FOR_FILTER_NORMALIZE_URI_=/^(?:(?:https?|mailto):|[^&:\/?#]*(?:[\/?#]|$))/i,b.esc.$$FILTER_FOR_FILTER_HTML_ATTRIBUTES_=/^(?!style|on|action|archive|background|cite|classid|codebase|data|dsync|href|longdesc|src|usemap)(?:[a-z0-9_$:-]*)$/i,b.esc.$$FILTER_FOR_FILTER_HTML_ELEMENT_NAME_=/^(?!script|style|title|textarea|xmp|no)[a-z0-9_$:-]*$/i,b.esc.$$escapeHtmlHelper=function(a){var c=String(a);return c.replace(b.esc.$$MATCHER_FOR_ESCAPE_HTML_,b.esc.$$REPLACER_FOR_ESCAPE_HTML__AND__NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_)},b.esc.$$normalizeHtmlHelper=function(a){var c=String(a);return c.replace(b.esc.$$MATCHER_FOR_NORMALIZE_HTML_,b.esc.$$REPLACER_FOR_ESCAPE_HTML__AND__NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_)},b.esc.$$escapeHtmlNospaceHelper=function(a){var c=String(a);return c.replace(b.esc.$$MATCHER_FOR_ESCAPE_HTML_NOSPACE_,b.esc.$$REPLACER_FOR_ESCAPE_HTML__AND__NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_)},b.esc.$$normalizeHtmlNospaceHelper=function(a){var c=String(a);return c.replace(b.esc.$$MATCHER_FOR_NORMALIZE_HTML_NOSPACE_,b.esc.$$REPLACER_FOR_ESCAPE_HTML__AND__NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_)},b.esc.$$escapeJsStringHelper=function(a){var c=String(a);return c.replace(b.esc.$$MATCHER_FOR_ESCAPE_JS_STRING_,b.esc.$$REPLACER_FOR_ESCAPE_JS_STRING__AND__ESCAPE_JS_REGEX_)},b.esc.$$escapeJsRegexHelper=function(a){var c=String(a);return c.replace(b.esc.$$MATCHER_FOR_ESCAPE_JS_REGEX_,b.esc.$$REPLACER_FOR_ESCAPE_JS_STRING__AND__ESCAPE_JS_REGEX_)},b.esc.$$escapeCssStringHelper=function(a){var c=String(a);return c.replace(b.esc.$$MATCHER_FOR_ESCAPE_CSS_STRING_,b.esc.$$REPLACER_FOR_ESCAPE_CSS_STRING_)},b.esc.$$filterCssValueHelper=function(a){var c=String(a);return b.esc.$$FILTER_FOR_FILTER_CSS_VALUE_.test(c)?c:"zSoyz"},b.esc.$$normalizeUriHelper=function(a){var c=String(a);return c.replace(b.esc.$$MATCHER_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_,b.esc.$$REPLACER_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_)},b.esc.$$filterNormalizeUriHelper=function(a){var c=String(a);return b.esc.$$FILTER_FOR_FILTER_NORMALIZE_URI_.test(c)?c.replace(b.esc.$$MATCHER_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_,b.esc.$$REPLACER_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_):"#zSoyz"},b.esc.$$filterHtmlAttributesHelper=function(a){var c=String(a);return b.esc.$$FILTER_FOR_FILTER_HTML_ATTRIBUTES_.test(c)?c:"zSoyz"},b.esc.$$filterHtmlElementNameHelper=function(a){var c=String(a);return b.esc.$$FILTER_FOR_FILTER_HTML_ELEMENT_NAME_.test(c)?c:"zSoyz"},b.esc.$$HTML_TAG_REGEX_=/<(?:!|\/?([a-zA-Z][a-zA-Z0-9:\-]*))(?:[^>'"]|"[^"]*"|'[^']*')*>/g,b.esc.$$LT_REGEX_=/</g,b.esc.$$SAFE_TAG_WHITELIST_={b:1,br:1,em:1,i:1,s:1,sub:1,sup:1,u:1},b}),define("singleton/Renderer",["lib/amd-wrapped/soyutils"],function(a){var b={renderTemplate:function(b,c,d){return a.renderAsFragment(b,c,void 0,d||{})}};return b}),define("view/BaseView",["jquery","underscore","backbone","singleton/Renderer","singleton/Utils","singleton/Feature"],function(a,b,c,d,e,f){var g=c.View.extend({constructor:function(a){a&&a.services&&(this.services=a.services,delete a.services),this.options=a||{},c.View.prototype.constructor.apply(this,arguments),this.delegateTemplates&&f.value("template")&&this.loadDelegateTemplates()},CACHEBUSTER_KEY:"rev",postForm:null,pageType:null,soyToHtml:function(a,b,c){var f=e.getRenderableData(b,c);return d.renderTemplate(a,f.data,f.injected)},t:function(b){return a.trim(b())},cachebuster:function(a){return a+=-1===a.indexOf("?")?"?":"&",a+=this.CACHEBUSTER_KEY+"="+this.cachebusterValue()},cachebusterValue:function(){return Math.floor((new Date).getTime()/1e3)},getHtml:function(b){var c=a("<div />");return c.append(b),c.html()},getPageType:function(){return null===this.pageType&&(this.pageType=e.getKinjaMeta().pageType||"frontpage"),this.pageType},loadDelegateTemplates:function(){require(b.map(this.delegateTemplates,function(a){return"templates/"+f.value("template")+"/"+a}))}});return g}),define("singleton/ChartbeatBlog",["singleton/CurrentBlog","singleton/StringUtils"],function(a,b){var c={reportedHost:function(c){var d="",e=c||a.canonicalHost||window.location.hostname;return d="es.gizmodo.com"===e?"es.gizmodo.com":b.endsWith(e,"jalopnik.com")?"jalopnik.com":b.endsWith(e,"io9.com")?"io9.com":b.endsWith(e,"kotaku.com")?"kotaku.com":b.endsWith(e,"gizmodo.com")?"gizmodo.com":b.endsWith(e,"gawker.com")?"gawker.com":b.endsWith(e,"cink.hu")?"cink.hu":b.endsWith(e,"deadspin.com")?"deadspin.com":b.endsWith(e,"jezebel.com")?"jezebel.com":b.endsWith(e,"lifehacker.com")?"lifehacker.com":"kinja.com"}};return c}),define("singleton/EventDispatcher",["backbone","underscore"],function(a,b){var c=b.extend({},a.Events);return void 0!==window.orientation&&window.addEventListener("orientationchange",function(){c.trigger(90===Math.abs(window.orientation)?"orientation:toLandscape":"orientation:toPortrait"),c.trigger("orientation:change")},!1),c}),define("singleton/Twitter",["jquery","singleton/Feature"],function(a,b){function c(b,c,d,e){var f=g[c],h=d.querySelector("iframe"),i=a.Deferred();return f&&h?(h.contentDocument.getElementsByTagName("html")[0].innerHTML=f,i.resolve(),i.promise()):b.widgets.createTweet(c,d,e).then(function(a){g[c]=a.contentDocument.getElementsByTagName("html")[0].innerHTML})}function d(a,c){b.isOn("nosocialscripts")||require([f],function(){window.twttr&&window.twttr.widgets&&a(window.twttr)},function(){c&&c()})}function e(a,b,c){d(function(b){b.widgets.load(a)},b,c)}var f="//platform.twitter.com/widgets.js",g={};return{ensureLoaded:d,loadTweets:e,createTweetCached:c}}),define("singleton/trackers/GoogleTrackers",["jquery","underscore","singleton/Feature","singleton/Utils","singleton/CurrentBlog"],function(a,b,c,d,e){c.isOn("optimizely")&&(window.optimizely=window.optimizely||[]);var f={_getDimensions:function(){var b=a.cookie("kinjaads.displayName"),d=c.isOn("optimizely")?window.optimizely.activeExperiments||[]:[],e="No Experiment";return d.length>0&&(e=window.optimizely.variationNamesMap[d[0]]),{loginState:b&&""!==b?"Logged in":"Logged out",optimizely:e,windowWidth:String(window.innerWidth||0),windowHeight:String(window.innerHeight||0)}},createUniversalLinkedGABlogPageView:function(a){var g,h,i=["kinja.com","gawker.com","deadspin.com","gizmodo.com","io9.com","jalopnik.com","jezebel.com","kotaku.com","lifehacker.com","cink.hu","gawker-labs.com"],j=f._getDimensions();void 0!==e.canonicalHost&&("atlatszooktatas.cink.hu"===e.canonicalHost?(g="UA-41411601-1",ga("create",g,"auto",{name:"atlatszooktatas",allowLinker:!0}),ga("linker:autoLink",i,!0),c.isOn("optimizely")&&window.optimizely.push("activateUniversalAnalytics"),ga("atlatszooktatas.send","pageview",{dimension1:j.loginState,dimension2:j.optimizely,metric1:j.windowWidth,metric2:j.windowHeight})):d.getKinjaMeta().blog&&d.getKinjaMeta().blog.googleAnalyticsID&&(g=d.getKinjaMeta().blog.googleAnalyticsID,h={name:"unique",allowLinker:!0},b.isUndefined(a)||(h.clientId=a),ga("create",g,"auto",h),ga("linker:autoLink",i,!0),c.isOn("optimizely")&&window.optimizely.push("activateUniversalAnalytics"),ga("unique.send","pageview",{dimension1:j.loginState,dimension2:j.optimizely,metric1:j.windowWidth,metric2:j.windowHeight})))},createCrossDomainLinker:function(){var a,b="UA-142218-33",d=["kinja.com","gawker.com","deadspin.com","gizmodo.com","io9.com","jalopnik.com","jezebel.com","kotaku.com","lifehacker.com","cink.hu","gawker-labs.com"],e={allowLinker:!0},g=f._getDimensions();ga("create",b,"auto",e),ga("require","linker"),ga("linker:autoLink",d,!0),ga(function(b){a=b.get("clientId")}),f.createUniversalLinkedGABlogPageView(a),c.isOn("optimizely")&&window.optimizely.push("activateUniversalAnalytics"),ga("send","pageview",{dimension1:g.loginState,dimension2:g.optimizely,metric1:g.windowWidth,metric2:g.windowHeight,hitCallback:function(){window.location.hash&&window.location.hash.match(/_ga/)&&"function"==typeof window.history.replaceState&&window.history.replaceState({},window.title,window.location.href.split("#")[0])}})},API:{addUniversalGAEvents:function(){f.createCrossDomainLinker()}}};return f.API}),define("module/ads/singleton/SocialReferrerHelper",[],function(){var a={regex:/\b(?:facebook|instagram|pinterest|reddit|twitter|tumblr|t\.co)\b/i,brandMap:{"t.co":"twitter"},scanForSocialReferrers:function(){var a=(document.referrer||"").match(this.regex);return a&&(a=a[0].toLowerCase()),this.brandMap[a]||a}};return a}),define("singleton/Trackers",["jquery","underscore","moment","view/BaseView","singleton/CurrentBlog","singleton/ChartbeatBlog","singleton/EventDispatcher","singleton/Feature","singleton/Utils","singleton/Twitter","singleton/trackers/GoogleTrackers","module/ads/singleton/SocialReferrerHelper","lib/jquery.cookie"],function(a,b,c,d,e,f,g,h,i,j,k,l){var m=document.location.protocol,n=d.extend({$trackerContainer:a("#trackers"),tagLengthLimit:1e3,initialize:function(){var b=this.getPageType();this.addNielsen(),h.isOn("cleanwaterfall")||this.addChartbeat(),this.addGoogleAnalyticsUniversalScript(),this.addUniversalGAEvents(),this.addQuantcast(),this.addKruxControlTag(),"editor"!==b&&this.addSkimLinks(),this.addComScore(),"kinja.roadandtrack.com"===e.canonicalHost&&this.addOmnitureTracker("//www.adobetag.com/d1/v2/ZDEtaGVhcnN0bWFnYXppbmVzLTMzOTItMzIwMy0=/amc.js"),!i.kinjaMeta.blog||"frontpage"!==b&&"permalink"!==b||(this.addGptAudienceTracker(),this.addGptInboundAudienceTracker(),a(".row.page").on("click",'a[href^="http"]',a.proxy(this.addGptOutboundAudienceTracker,this))),this.trackDescriptionLinks()},addUniversalGAEvents:function(){k.addUniversalGAEvents()},addNielsen:function(){var b=a.cookie("geocc");!b||"AU"!==b&&"NZ"!==b?this.createTrackerImage("//secure-us.imrworldwide.com/cgi-bin/m?ci=us-803450h&cg=0&cc=1&si="+encodeURIComponent(window.location.href)+"&rp="+encodeURIComponent(document.referrer)+"&ts=compact&rnd="+(new Date).getTime()):a("body").hasClass("platform-mobile")===!0?this.createTrackerImage("//secure-au.imrworldwide.com/cgi-bin/m?ci=alluremedia&cg=0&cc=1&ts=noscript"):a.getScript("http://secure-au.imrworldwide.com/v60.js?ver=3.4.2",function(){var a=window.nol_t({cid:"alluremedia",content:"0",server:"secure-au"});a.record().post()})},addChartbeat:function(){var a=this.createScriptTag("//static.chartbeat.com/js/chartbeat.js"),b=window._sf_async_config||{},c=e.canonicalHost,d=i.kinjaMeta.tags||"";d.length>0&&(c=c+","+d),b.uid=3012,b.domain=f.reportedHost(),b.useCanonical=!0,b.sections=c,b.authors=i.kinjaMeta.authors||"",window._sf_async_config=b,window._sf_endpt=(new Date).getTime(),this.insertTracker(a)},addKruxControlTag:function(){var a=e&&e.kruxId?e.kruxId:"JO5QwU-I",b=("https:"===m?"https:":"http:")+"//cdn.krxd.net/controltag?confid="+a,c=this.createScriptTag(b);this.insertTracker(c),this.addKruxPixels()},addKruxPixels:function(){var b=this,c=a("iframe.youtube"),d=a("iframe.vimeo");c.length&&this.loadYoutubeAPI().done(function(){b.youtubeIsTriggered(c)}),d.length&&require(["lib/amd-wrapped/froogaloop"],function(){Froogaloop&&b.vimeoIsTriggered(d)
}),this.kruxLinkClickTracking(),this.twitterWidgetClick()},loadYoutubeAPI:function(){return a.getScript("http://www.youtube.com/player_api")},youtubeIsTriggered:function(c){function d(a){return function(c){var d=b.contains(g,a);f&&!d&&c.data===YT.PlayerState.PLAYING&&(e.triggerKruxLinkPixel("JTSiOctO"),g.push(a))}}var e=this,f={},g=[];window.onYouTubeIframeAPIReady=function(){c.each(function(){var b=a(this).attr("data-chomp-id"),c="youtube-"+b;c&&(f[c]=new YT.Player(c,{events:{onStateChange:d(c)}}))})}},vimeoIsTriggered:function(c){function d(c){var d=a("#"+c).attr("id"),g=b.contains(f,d);g||(e.triggerKruxLinkPixel("JTSiOctO"),f.push(d))}var e=this,f=[];c.each(function(){var a=new Froogaloop(this);a.addEvent("play",d)})},twitterWidgetClick:function(){var b=this;a(".twitter-tweet").length&&j.loadTweets(void 0,function(a){a.ready(function(a){a.events.bind("click",function(){b.triggerKruxLinkPixel("JTS_oslC")})})})},kruxLinkClickTracking:function(){var c=this,d={"amazon.com":{eventId:"JTS-IXvt"},"ebay.com":{eventId:"JTS-spFt"},"bestbuy.com":{eventId:"JTS-spFt"},"walmart.com":{eventId:"JTS-spFt"},"smears.com":{eventId:"JTS-spFt"},"twitter.com":{eventId:"JTS_oslC"},"facebook.com":{eventId:"JTS_azAt"},"instagram.com":{eventId:"JTS_wO-8"},"dreamhost.com":{eventId:"JTS-geuH"},"hostgator.com":{eventId:"JTS-geuH"},"bluehost.com":{eventId:"JTS-geuH"},"asmallorange.com":{eventId:"JTS-geuH"}};a(".entry-content a, .item-content a").on("click",function(){var e,f,g=a(this).attr("href");g&&(e=g.replace(/(www)?http(s)?:\/\//,"").split(/[/?#]/)[0],f=b.find(b.keys(d),function(a){return-1!==e.indexOf(a)})),f&&c.triggerKruxLinkPixel(d[f].eventId)})},triggerKruxLinkPixel:function(a){(new Image).src=("https:"===m?"https:":"http:")+"//beacon.krxd.net/event.gif?event_id="+a+"&event_type=cact"},addGoogleAnalytics:function(){var b="//stats.g.doubleclick.net/dc.js",c=this.createScriptTag(b),d=window._gaq||[],f=a.cookie("kinjaads.displayName");d.push(["_setAccount","UA-142218-33"]),void 0!==e.canonicalHost&&d.push(["_setDomainName",e.canonicalHost]),d.push(["_setCustomVar",1,"Login state",f&&""!==f?"Logged in":"Logged out",2]),d.push(["_trackPageview"]),"atlatszooktatas.cink.hu"===e.canonicalHost&&(d.push(["atlatszooktatas._setAccount","UA-41411601-1"]),d.push(["atlatszooktatas._trackPageview"])),i.getKinjaMeta().blog&&""!==i.getKinjaMeta().blog.googleAnalyticsID&&(d.push(["unique._setAccount",i.getKinjaMeta().blog.googleAnalyticsID]),d.push(["unique._trackPageview"])),window._gaq=d,this.insertTracker(c)},addGoogleAnalyticsUniversalScript:function(){!function(a,b,c,d,e,f,g){a.GoogleAnalyticsObject=e,a[e]=a[e]||function(){(a[e].q=a[e].q||[]).push(arguments)},a[e].l=(new Date).getTime(),f=b.createElement(c),g=b.getElementsByTagName(c)[0],f.async=1,f.src=d,g.parentNode.insertBefore(f,g)}(window,document,"script","//www.google-analytics.com/analytics.js","ga")},addComScore:function(){var a=("https:"===m?"https://sb":"http://b")+".scorecardresearch.com/beacon.js",b=this.createScriptTag(a),c=window._comscore||[];c.push({c1:"2",c2:"6770184"}),window._comscore=c,this.insertTracker(b)},addQuantcast:function(){var a,b,d,e=("https:"===m?"https://secure":"http://edge")+".quantserve.com/quant.js",f=this.createScriptTag(e),g=window._qevents||[],h={qacct:"p-d4P3FpSypJrlA"};"permalink"===i.kinjaMeta.pageType&&i.kinjaMeta.post&&(b=""!==i.kinjaMeta.post.headline?i.kinjaMeta.post.headline.replace(/,|\./g,""):i.kinjaMeta.post.first100Characters.replace(/,|\./g,""),d=c(i.kinjaMeta.post.publishTimeMillis).format("YYYY-MM-DD"),a="Author."+i.kinjaMeta.authors.replace(/,|\./g,"")+"."+b+",Post Title."+b+",Post Publish Date."+d,void 0!==i.kinjaMeta.post.tags[0]&&(a+=",Primary Tag."+i.kinjaMeta.post.tags[0].desc.replace(/,|\./g,"")),h.labels=a),g.push(h),window._qevents=g,this.insertTracker(f)},addSkimLinks:function(){var a,b="//s.skimresources.com/js/";switch(e.canonicalHost){case"jalopnik.com":case"oppositelock.jalopnik.com":case"drive.jalopnik.com":case"thefusionproject.jalopnik.com":a="33330X911653";break;case"io9.com":case"observationdeck.io9.com":a="33330X911651";break;case"kotaku.com":case"live.kotaku.com":a="33330X911644";break;case"gizmodo.com":case"live.gizmodo.com":case"paleofuture.gizmodo.com":a="33330X911642";break;case"gawker.com":case"defamer.gawker.com":case"valleywag.gawker.com":a="33330X911623";break;case"deadspin.com":a="33330X911648";break;case"jezebel.com":a="33330X911650";break;case"lifehacker.com":a="33330X911647";break;default:window.skimlinks_tracking=e.canonicalHost,a="33330X1169095"}this.insertTracker(this.createScriptTag(b+a+".skimlinks.js"))},addOmnitureTracker:function(a){var b,c=window.amc||{};c.on||(c.on=c.call=function(){}),b=this.createScriptTag(a),this.insertTracker(b)},_gptAudienceUrl:function(a,b,c){var d,e=4246,f="http://pubads.g.doubleclick.net/activity;dc_iu=/"+e+"/DFP_Audience_Pixel",g=1e13*Math.random(),h=i.getKinjaMeta(),j=h.postId||"",k=h.tags||"";return d=[f,"dc_seg="+a,"blog="+h.blog.name,"ord="+g,"postId="+j],k.length<=this.tagLengthLimit&&!c&&d.push("tags="+k),d.join(";")+(b||"")+"?"},addGptAudienceTracker:function(){this.createTrackerImage(this._gptAudienceUrl(22540930))},addGptInboundAudienceTracker:function(){var a=document.referrer,b=";refer="+a,c=l.scanForSocialReferrers();c&&(b+=";refer=social"),this.createTrackerImage(this._gptAudienceUrl(23702290,b))},addGptOutboundAudienceTracker:function(b){var c=a(b.currentTarget).prop("hostname").split(".").slice(-2).join("."),d=";outbound="+c;this.createTrackerImage(this._gptAudienceUrl(23753410,d,!0))},trackDescriptionLinks:function(){a(".description-content a").each(function(){var b='window._gaq.push(["_trackEvent", "Site description tag links", "Tag clicked", "'+this.href+'"]);';a(this).attr("onclick",b)})},createTrackerImage:function(a){var b=new Image(1,1);b.src=a,this.insertTracker(b)},createScriptTag:function(a){var b=document.createElement("script");return b.setAttribute("language","javascript"),b.setAttribute("type","text/javascript"),b.setAttribute("src",a),b.setAttribute("async","async"),b},insertTracker:function(a){this.$trackerContainer.append(a)},trackError:function(){this.addUniversalGAEvents()}},{loadDummyTrackers:function(){window._gaq=[],window.ga=function(){}}});return{load:b.once(function(){return new n}),loadDummy:n.loadDummyTrackers,trackError:function(){var a=new n;a.trackError()}}}),function(){var a=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1},b=[].slice;!function(a,b){return"function"==typeof define&&define.amd?define("lib/waypoints",["jquery"],function(c){return b(c,a)}):b(a.jQuery,a)}(this,function(c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t;return e=c(d),l=a.call(d,"ontouchstart")>=0,h={horizontal:{},vertical:{}},i=1,k={},j="waypoints-context-id",o="resize.waypoints",p="scroll.waypoints",q=1,r="waypoints-waypoint-ids",s="waypoint",t="waypoints",f=function(){function a(a){var b=this;this.$element=a,this.element=a[0],this.didResize=!1,this.didScroll=!1,this.id="context"+i++,this.oldScroll={x:a.scrollLeft(),y:a.scrollTop()},this.waypoints={horizontal:{},vertical:{}},a.data(j,this.id),k[this.id]=this,a.bind(p,function(){var a;return b.didScroll||l?void 0:(b.didScroll=!0,a=function(){return b.doScroll(),b.didScroll=!1},d.setTimeout(a,c[t].settings.scrollThrottle))}),a.bind(o,function(){var a;return b.didResize?void 0:(b.didResize=!0,a=function(){return c[t]("refresh"),b.didResize=!1},d.setTimeout(a,c[t].settings.resizeThrottle))})}return a.prototype.doScroll=function(){var a,b=this;return a={horizontal:{newScroll:this.$element.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.$element.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}},!l||a.vertical.oldScroll&&a.vertical.newScroll||c[t]("refresh"),c.each(a,function(a,d){var e,f,g;return g=[],f=d.newScroll>d.oldScroll,e=f?d.forward:d.backward,c.each(b.waypoints[a],function(a,b){var c,e;return d.oldScroll<(c=b.offset)&&c<=d.newScroll?g.push(b):d.newScroll<(e=b.offset)&&e<=d.oldScroll?g.push(b):void 0}),g.sort(function(a,b){return a.offset-b.offset}),f||g.reverse(),c.each(g,function(a,b){return b.options.continuous||a===g.length-1?b.trigger([e]):void 0})}),this.oldScroll={x:a.horizontal.newScroll,y:a.vertical.newScroll}},a.prototype.refresh=function(){var a,b,d,e=this;return d=c.isWindow(this.element),b=this.$element.offset(),this.doScroll(),a={horizontal:{contextOffset:d?0:b.left,contextScroll:d?0:this.oldScroll.x,contextDimension:this.$element.width(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:d?0:b.top,contextScroll:d?0:this.oldScroll.y,contextDimension:d?c[t]("viewportHeight"):this.$element.height(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}},c.each(a,function(a,b){return c.each(e.waypoints[a],function(a,d){var e,f,g,h,i;return e=d.options.offset,g=d.offset,f=c.isWindow(d.element)?0:d.$element.offset()[b.offsetProp],c.isFunction(e)?e=e.apply(d.element):"string"==typeof e&&(e=parseFloat(e),d.options.offset.indexOf("%")>-1&&(e=Math.ceil(b.contextDimension*e/100))),d.offset=f-b.contextOffset+b.contextScroll-e,d.options.onlyOnScroll&&null!=g||!d.enabled?void 0:null!==g&&g<(h=b.oldScroll)&&h<=d.offset?d.trigger([b.backward]):null!==g&&g>(i=b.oldScroll)&&i>=d.offset?d.trigger([b.forward]):null===g&&b.oldScroll>=d.offset?d.trigger([b.forward]):void 0})})},a.prototype.checkEmpty=function(){return c.isEmptyObject(this.waypoints.horizontal)&&c.isEmptyObject(this.waypoints.vertical)?(this.$element.unbind([o,p].join(" ")),delete k[this.id]):void 0},a}(),g=function(){function a(a,b,d){var e,f;d=c.extend({},c.fn[s].defaults,d),"bottom-in-view"===d.offset&&(d.offset=function(){var a;return a=c[t]("viewportHeight"),c.isWindow(b.element)||(a=b.$element.height()),a-c(this).outerHeight()}),this.$element=a,this.element=a[0],this.axis=d.horizontal?"horizontal":"vertical",this.callback=d.handler,this.context=b,this.enabled=d.enabled,this.id="waypoints"+q++,this.offset=null,this.options=d,b.waypoints[this.axis][this.id]=this,h[this.axis][this.id]=this,e=null!=(f=a.data(r))?f:[],e.push(this.id),a.data(r,e)}return a.prototype.trigger=function(a){return this.enabled?(null!=this.callback&&this.callback.apply(this.element,a),this.options.triggerOnce?this.destroy():void 0):void 0},a.prototype.disable=function(){return this.enabled=!1},a.prototype.enable=function(){return this.context.refresh(),this.enabled=!0},a.prototype.destroy=function(){return delete h[this.axis][this.id],delete this.context.waypoints[this.axis][this.id],this.context.checkEmpty()},a.getWaypointsByElement=function(a){var b,d;return(d=c(a).data(r))?(b=c.extend({},h.horizontal,h.vertical),c.map(d,function(a){return b[a]})):[]},a}(),n={init:function(a,b){var d;return null==b&&(b={}),null==(d=b.handler)&&(b.handler=a),this.each(function(){var a,d,e,h;return a=c(this),e=null!=(h=b.context)?h:c.fn[s].defaults.context,c.isWindow(e)||(e=a.closest(e)),e=c(e),d=k[e.data(j)],d||(d=new f(e)),new g(a,d,b)}),c[t]("refresh"),this},disable:function(){return n._invoke(this,"disable")},enable:function(){return n._invoke(this,"enable")},destroy:function(){return n._invoke(this,"destroy")},prev:function(a,b){return n._traverse.call(this,a,b,function(a,b,c){return b>0?a.push(c[b-1]):void 0})},next:function(a,b){return n._traverse.call(this,a,b,function(a,b,c){return b<c.length-1?a.push(c[b+1]):void 0})},_traverse:function(a,b,e){var f,g;return null==a&&(a="vertical"),null==b&&(b=d),g=m.aggregate(b),f=[],this.each(function(){var b;return b=c.inArray(this,g[a]),e(f,b,g[a])}),this.pushStack(f)},_invoke:function(a,b){return a.each(function(){var a;return a=g.getWaypointsByElement(this),c.each(a,function(a,c){return c[b](),!0})}),this}},c.fn[s]=function(){var a,d;return d=arguments[0],a=2<=arguments.length?b.call(arguments,1):[],n[d]?n[d].apply(this,a):c.isFunction(d)?n.init.apply(this,arguments):c.isPlainObject(d)?n.init.apply(this,[null,d]):c.error(d?"The "+d+" method does not exist in jQuery Waypoints.":"jQuery Waypoints needs a callback function or handler option.")},c.fn[s].defaults={context:d,continuous:!0,enabled:!0,horizontal:!1,offset:0,triggerOnce:!1},m={refresh:function(){return c.each(k,function(a,b){return b.refresh()})},viewportHeight:function(){var a;return null!=(a=d.innerHeight)?a:e.height()},aggregate:function(a){var b,d,e;return b=h,a&&(b=null!=(e=k[c(a).data(j)])?e.waypoints:void 0),b?(d={horizontal:[],vertical:[]},c.each(d,function(a,e){return c.each(b[a],function(a,b){return e.push(b)}),e.sort(function(a,b){return a.offset-b.offset}),d[a]=c.map(e,function(a){return a.element}),d[a]=c.unique(d[a])}),d):[]},above:function(a){return null==a&&(a=d),m._filter(a,"vertical",function(a,b){return b.offset<=a.oldScroll.y})},below:function(a){return null==a&&(a=d),m._filter(a,"vertical",function(a,b){return b.offset>a.oldScroll.y})},left:function(a){return null==a&&(a=d),m._filter(a,"horizontal",function(a,b){return b.offset<=a.oldScroll.x})},right:function(a){return null==a&&(a=d),m._filter(a,"horizontal",function(a,b){return b.offset>a.oldScroll.x})},enable:function(){return m._invoke("enable")},disable:function(){return m._invoke("disable")},destroy:function(){return m._invoke("destroy")},extendFn:function(a,b){return n[a]=b},_invoke:function(a){var b;return b=c.extend({},h.vertical,h.horizontal),c.each(b,function(b,c){return c[a](),!0})},_filter:function(a,b,d){var e,f;return(e=k[c(a).data(j)])?(f=[],c.each(e.waypoints[b],function(a,b){return d(e,b)?f.push(b):void 0}),f.sort(function(a,b){return a.offset-b.offset}),c.map(f,function(a){return a.element})):[]}},c[t]=function(){var a,c;return c=arguments[0],a=2<=arguments.length?b.call(arguments,1):[],m[c]?m[c].apply(null,a):m.aggregate.call(null,c)},c[t].settings={resizeThrottle:100,scrollThrottle:30},e.load(function(){return c[t]("refresh")})})}.call(this),function(){!function(a,b){return"function"==typeof define&&define.amd?define("lib/waypoints-sticky",["jquery","lib/waypoints"],b):b(a.jQuery)}(window,function(a){var b,c;return b={wrapper:'<div class="sticky-wrapper" />',stuckClass:"stuck",direction:"down right"},c=function(a,b){var c;return a.wrap(b.wrapper),c=a.parent(),c.data("isWaypointStickyWrapper",!0)},a.waypoints("extendFn","sticky",function(d){var e,f,g;return f=a.extend({},a.fn.waypoint.defaults,b,d),e=c(this,f),g=f.handler,f.handler=function(b){var c,d;return c=a(this).children(":first"),d=-1!==f.direction.indexOf(b),c.toggleClass(f.stuckClass,d),e.height(d?c.outerHeight():""),null!=g?g.call(this,b):void 0},e.waypoint(f),this.data("stuckClass",f.stuckClass)}),a.waypoints("extendFn","unsticky",function(){var a;return a=this.parent(),a.data("isWaypointStickyWrapper")?(a.waypoint("destroy"),this.unwrap(),this.removeClass(this.data("stuckClass"))):this})})}.call(this),define("singleton/WindowController",["underscore","jquery","backbone.marionette","lib/amd-wrapped/modernizr","lib/waypoints","lib/waypoints-sticky"],function(a,b,c,d){var e,f,g,h,i=b(document),j=b(window);return e=["-webkit-transform","-o-transform","-ms-transform","-moz-transform","transform"],g=c.Controller.extend({isSmall:function(){return d.mq("(max-width:639px)")},isMedium:function(){return d.mq("(min-width:640px) and (max-width:1023px)")},isMediumDown:function(){return d.mq("(max-width:1023px)")},isMediumUp:function(){return d.mq("(min-width:640px)")},isMlargeUp:function(){return d.mq("(min-width:768px)")},isLarge:function(){return d.mq("(min-width:1024px) and (max-width:1439px)")},isLargeUp:function(){return d.mq("(min-width:1024px)")},isXlarge:function(){return d.mq("(min-width:1440px) and (max-width:1919px)")},isXxlarge:function(){return d.mq("(min-width:1920px)")},isPartiallyVisible:function(a){var b=a.offset(),c=j.scrollTop(),d=b.top-c,e=d+a.outerHeight(!0),f=j.height();return f>d&&d>0||f>e&&e>0},getTransformProperties:function(){if(!window.getComputedStyle)return!1;if(f)return f;var b=document.createElement("p"),c=[];return document.body.insertBefore(b,null),a.each(e,function(a){void 0!==b.style[a]&&(b.style[a]="translate3d(1px, 1px, 1px)",window.getComputedStyle(b).getPropertyValue(a)&&c.push(a))}),document.body.removeChild(b),c.length&&(f=c),c},getTransformValues:function(a){var b,c,d,e=window.getComputedStyle(a[0]),g=[];return d={translate:null,scale:1,skew:"0deg",rotate:"0deg"},f&&f.length||h.getTransformProperties(),b=f[0],c=e[b].match(/\-?[0-9]+/g).map(Number),g.push(c[4]),g.push(c[5]),d.translate=g,d},translateElement:function(b,c){var d="";c&&c.length&&(d="translate3d("+c[0]+"px, "+c[1]+"px, "+c[2]+"px)"),a.each(h.getTransformProperties(),function(a){b.css(a,d)})},_events:{},registerEvent:function(b,c,d){d?j.on(b,a.throttle(c,d)):j.on(b,c),this._events[b]=c},teardownEvent:function(a){j.off(a),delete this._events[a]},registerWaypoint:function(a,b,c){a.waypoint({handler:function(a){c.call(this,a)},offset:b})},teardownWaypoint:function(a){a.waypoint("destroy")},unbindScrollAutohide:function(){this.teardownEvent("scroll.autohide")},scrollAutohide:function(a,b){var c,d,e,f,g,h,k,l,m,n,o,p,q,r=j.height(),s=b.waypoint.offset().top,t=0,u=(new Date).getTime(),v=.8,w=3e3;p=function(){a.addClass("shown").trigger("autohide.pushdown.show")},q=function(){a.removeClass("shown").trigger("autohide.pushdown.hide")},m=function(){l=window.setTimeout(function(){q(),n()},w)},n=function(){window.clearInterval(l),l=0},o=function(b){d=j.scrollTop(),c=i.innerHeight(),e=b.timeStamp,f=d-t,g=0>f?"up":"down",k=Math.abs(f/(e-u)),u=e,t=d;var o=0>=d,w=d+r>=c-a.innerHeight(),x=k>v;x&&"up"===g||w?(p(),n()):o?(a.addClass("animated").addClass("notransition"),p(),a.removeClass("notransition"),n()):x&&"down"===g&&d>s&&q(),"down"!==g||h===g||l?"up"===g&&l&&n():m(),h=g},this.registerEvent("scroll.autohide",o,100)}}),h=new g}),define("singleton/DeviceController",["jquery","backbone.marionette","lib/amd-wrapped/modernizr","singleton/WindowController"],function(a,b,c,d){var e,f,g=function(){return navigator.userAgent.match(/safari/i)&&!navigator.userAgent.match(/chrome|chromium/i)}();return e=b.Controller.extend({isDesktopLike:function(){return d.isMlargeUp()&&!c.touch},isTabletLike:function(){return d.isMediumUp()&&c.touch},isMobileLike:function(){return d.isSmall()&&c.touch},deviceType:function(){return this.isMobileLike()?e.deviceType.MOBILE:this.isTabletLike()?e.deviceType.TABLET:e.deviceType.DESKTOP},setDevice:function(){var b=a("body");g&&b.addClass("browser-safari"),this.isMobileLike()?b.addClass("platform-mobile"):this.isTabletLike()&&b.addClass("platform-tablet")}},{deviceType:{MOBILE:"mobile",TABLET:"tablet",DESKTOP:"computer"}}),f=new e}),define("singleton/PerfTracker",["jquery"],function(a){function b(a,b){var c,d=null,e=g.gaDefaultCategory;b=Math.round(b),0>b||b>=36e5||(c=a.split(" - "),c.length>1&&(e=c.shift(),a=c.join(" - ")),window.ga=window.ga||[],window.ga("send","event",e,a,b,d,g.gaSampling))}function c(b){var c=Object.keys(b),d=function(a){return a.replace(/ /gi,"_").toLowerCase()},e=[];0!==c.length&&(e=c.map(function(a){return{beaconId:d(a),timing:Math.round(b[a])}}),i=i.concat(e),a.ajax({url:"/stats/beacon?pageType="+h,processData:!1,contentType:"application/json",data:JSON.stringify({beacons:e}),type:"POST"}))}function d(){function a(a,b){(void 0===i[a]||b>i[a])&&(i[a]=b)}var d,e,h,i={};if(f.getEntriesByType&&f.clearMarks&&f.measure&&f.clearMeasures){if(d=f.getEntriesByType("mark"),f.clearMarks(),e=f.getEntriesByType("measure"),f.clearMeasures(),d.forEach(function(b){a(b.name,b.startTime)}),e.forEach(function(b){a(b.name,b.duration)}),g.gaTracking)for(h in i)i.hasOwnProperty(h)&&b(h,i[h]);g.statsdTracking&&c(i)}}function e(){window.setTimeout(function(){var a=f.timing||{};g.measuredTimingEvents.forEach(function(b){a[b]>0&&f.measure(b,"navigationStart",b)})},0)}var f=window.performance,g={gaSampling:1,gaDefaultCategory:"UserTimings",interval:3,gaTracking:!1,statsdTracking:!0,measuredTimingEvents:["connectEnd","domComplete","domContentLoadedEventEnd","responseEnd","responseStart"]},h=window.kinja&&window.kinja.meta&&window.kinja.meta.pageType?window.kinja.meta.pageType:"default",i=[];return{start:function(){window.addEventListener("load",e,!1),d(),window.setInterval(d,1e3*g.interval)},getProcessedMarks:function(){function a(a,b){return a.timing-b.timing}return i.sort(a)}}}),define("lib/amd-wrapped/postscribe",[],function(){return function(){function a(a,h){a=a||"",h=h||{};for(var i in b)b.hasOwnProperty(i)&&(h.autoFix&&(h["fix_"+i]=!0),h.fix=h.fix||h["fix_"+i]);var j=[],k=document.createElement("div"),l=function(a){return"string"==typeof a&&-1!==a.indexOf("&")?(k.innerHTML=a,k.textContent||k.innerText||a):a},m=function(b){a+=b},n=function(b){a=b+a},o={comment:/^<!--/,endTag:/^<\//,atomicTag:/^<\s*(script|style|noscript|iframe|textarea)[\s\/>]/i,startTag:/^</,chars:/^[^<]/},p={comment:function(){var b=a.indexOf("-->");return b>=0?{content:a.substr(4,b),length:b+3}:void 0},endTag:function(){var b=a.match(d);return b?{tagName:b[1],length:b[0].length}:void 0},atomicTag:function(){var b=p.startTag();if(b){var c=a.slice(b.length);if(c.match(new RegExp("</\\s*"+b.tagName+"\\s*>","i"))){var d=c.match(new RegExp("([\\s\\S]*?)</\\s*"+b.tagName+"\\s*>","i"));if(d)return{tagName:b.tagName,attrs:b.attrs,content:d[1],length:d[0].length+b.length}}}},startTag:function(){var b=a.indexOf(">");if(-1===b)return null;var d=a.match(c);if(d){var g={};return d[2].replace(e,function(a,b){var c=arguments[2]||arguments[3]||arguments[4]||f.test(b)&&b||null;g[b]=l(c)}),{tagName:d[1],attrs:g,unary:!!d[3],length:d[0].length}}},chars:function(){var b=a.indexOf("<");return{length:b>=0?b:a.length}}},q=function(){for(var b in o)if(o[b].test(a)){g&&console.log("suspected "+b);var c=p[b]();return c?(g&&console.log("parsed "+b,c),c.type=c.type||b,c.text=a.substr(0,c.length),a=a.slice(c.length),c):null}},r=function(a){for(var b;b=q();)if(a[b.type]&&a[b.type](b)===!1)return},s=function(){var b=a;return a="",b},t=function(){return a};return h.fix&&!function(){var b=/^(AREA|BASE|BASEFONT|BR|COL|FRAME|HR|IMG|INPUT|ISINDEX|LINK|META|PARAM|EMBED)$/i,c=/^(COLGROUP|DD|DT|LI|OPTIONS|P|TD|TFOOT|TH|THEAD|TR)$/i,d=[];d.last=function(){return this[this.length-1]},d.lastTagNameEq=function(a){var b=this.last();return b&&b.tagName&&b.tagName.toUpperCase()===a.toUpperCase()},d.containsTagName=function(a){for(var b,c=0;b=this[c];c++)if(b.tagName===a)return!0;return!1};var e=function(a){return a&&"startTag"===a.type&&(a.unary=b.test(a.tagName)||a.unary),a},f=q,g=function(){var b=a,c=e(f());return a=b,c},i=function(){var a=d.pop();n("</"+a.tagName+">")},j={startTag:function(a){var b=a.tagName;"TR"===b.toUpperCase()&&d.lastTagNameEq("TABLE")?(n("<TBODY>"),l()):h.fix_selfClose&&c.test(b)&&d.containsTagName(b)?d.lastTagNameEq(b)?i():(n("</"+a.tagName+">"),l()):a.unary||d.push(a)},endTag:function(a){var b=d.last();b?h.fix_tagSoup&&!d.lastTagNameEq(a.tagName)?i():d.pop():h.fix_tagSoup&&k()}},k=function(){f(),l()},l=function(){var a=g();a&&j[a.type]&&j[a.type](a)};q=function(){return l(),e(f())}}(),{append:m,readToken:q,readTokens:r,clear:s,rest:t,stack:j}}var b=function(){var a,b={},c=this.document.createElement("div");return a="<P><I></P></I>",c.innerHTML=a,b.tagSoup=c.innerHTML!==a,c.innerHTML="<P><i><P></P></i></P>",b.selfClose=2===c.childNodes.length,b}(),c=/^<([\-A-Za-z0-9_]+)((?:\s+[\w\-]+(?:\s*=?\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,d=/^<\/([\-A-Za-z0-9_]+)[^>]*>/,e=/([\-A-Za-z0-9_]+)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))?/g,f=/^(checked|compact|declare|defer|disabled|ismap|multiple|nohref|noresize|noshade|nowrap|readonly|selected)$/i,g=!1;a.supports=b,a.tokenToString=function(a){var b={comment:function(a){return"<--"+a.content+"-->"},endTag:function(a){return"</"+a.tagName+">"},atomicTag:function(a){return console.log(a),b.startTag(a)+a.content+b.endTag(a)},startTag:function(a){var b="<"+a.tagName;for(var c in a.attrs){var d=a.attrs[c];b+=" "+c+'="'+(d?d.replace(/(^|[^\\])"/g,'$1\\"'):"")+'"'}return b+(a.unary?"/>":">")},chars:function(a){return a.text}};return b[a.type](a)},a.escapeAttributes=function(a){var b={};for(var c in a){var d=a[c];b[c]=d&&d.replace(/(^|[^\\])"/g,'$1\\"')}return b};for(var h in b)a.browserHasFlaw=a.browserHasFlaw||!b[h]&&h;this.htmlParser=a}(),function(){function a(){}function b(a){return a!==m&&null!==a}function c(a){return"function"==typeof a}function d(a,b,c){var d,e=a&&a.length||0;for(d=0;e>d;d++)b.call(c,a[d],d)}function e(a,b,c){var d;for(d in a)a.hasOwnProperty(d)&&b.call(c,d,a[d])}function f(a,b){return e(b,function(b,c){a[b]=c}),a}function g(a,c){return a=a||{},e(c,function(c,d){b(a[c])||(a[c]=d)}),a}function h(a){try{return o.call(a)}catch(b){var c=[];return d(a,function(a){c.push(a)}),c}}function i(a){return a&&"tagName"in a?!!~a.tagName.toLowerCase().indexOf("script"):!1}function j(a){return a&&"tagName"in a?!!~a.tagName.toLowerCase().indexOf("style"):!1}var k={afterAsync:a,afterDequeue:a,afterStreamStart:a,afterWrite:a,beforeEnqueue:a,beforeWrite:function(a){return a},done:a,error:function(a){throw a},releaseAsync:!1},l=this,m=void 0;if(!l.postscribe){var n=!1,o=Array.prototype.slice,p=function(a){return a[a.length-1]},q=function(){function a(a,c,d){var e=k+c;if(2===arguments.length){var f=a.getAttribute(e);return b(f)?String(f):f}b(d)&&""!==d?a.setAttribute(e,d):a.removeAttribute(e)}function g(b,c){var d=b.ownerDocument;f(this,{root:b,options:c,win:d.defaultView||d.parentWindow,doc:d,parser:htmlParser("",{autoFix:!0}),actuals:[b],proxyHistory:"",proxyRoot:d.createElement(b.nodeName),scriptStack:[],writeQueue:[]}),a(this.proxyRoot,"proxyof",0)}var k="data-ps-";return g.prototype.write=function(){[].push.apply(this.writeQueue,arguments);for(var a;!this.deferredRemote&&this.writeQueue.length;)a=this.writeQueue.shift(),c(a)?this.callFunction(a):this.writeImpl(a)},g.prototype.callFunction=function(a){var b={type:"function",value:a.name||a.toString()};this.onScriptStart(b),a.call(this.win,this.doc),this.onScriptDone(b)},g.prototype.writeImpl=function(a){this.parser.append(a);for(var b,c,d,e=[];(b=this.parser.readToken())&&!(c=i(b))&&!(d=j(b));)e.push(b);this.writeStaticTokens(e),c&&this.handleScriptToken(b),d&&this.handleStyleToken(b)},g.prototype.writeStaticTokens=function(a){var b=this.buildChunk(a);if(b.actual)return b.html=this.proxyHistory+b.actual,this.proxyHistory+=b.proxy,this.proxyRoot.innerHTML=b.html,n&&(b.proxyInnerHTML=this.proxyRoot.innerHTML),this.walkChunk(),n&&(b.actualInnerHTML=this.root.innerHTML),b},g.prototype.buildChunk=function(a){var b=this.actuals.length,c=[],e=[],f=[];return d(a,function(a){if(c.push(a.text),a.attrs){if(!/^noscript$/i.test(a.tagName)){var d=b++;e.push(a.text.replace(/(\/?>)/," "+k+"id="+d+" $1")),"ps-script"!==a.attrs.id&&"ps-style"!==a.attrs.id&&f.push("atomicTag"===a.type?"":"<"+a.tagName+" "+k+"proxyof="+d+(a.unary?" />":">"))}}else e.push(a.text),f.push("endTag"===a.type?a.text:"")}),{tokens:a,raw:c.join(""),actual:e.join(""),proxy:f.join("")}},g.prototype.walkChunk=function(){for(var c,d=[this.proxyRoot];b(c=d.shift());){var e=1===c.nodeType,f=e&&a(c,"proxyof");if(!f){e&&(this.actuals[a(c,"id")]=c,a(c,"id",null));var g=c.parentNode&&a(c.parentNode,"proxyof");g&&this.actuals[g].appendChild(c)}d.unshift.apply(d,h(c.childNodes))}},g.prototype.handleScriptToken=function(a){var b=this.parser.clear();b&&this.writeQueue.unshift(b),a.src=a.attrs.src||a.attrs.SRC,a.src&&this.scriptStack.length?this.deferredRemote=a:this.onScriptStart(a);var c=this;this.writeScriptToken(a,function(){c.onScriptDone(a)})},g.prototype.handleStyleToken=function(a){var b=this.parser.clear();b&&this.writeQueue.unshift(b),a.type=a.attrs.type||a.attrs.TYPE||"text/css",this.writeStyleToken(a),b&&this.write()},g.prototype.writeStyleToken=function(a){var b=this.buildStyle(a);this.insertStyle(b),a.content&&(b.styleSheet&&!b.sheet?b.styleSheet.cssText=a.content:b.appendChild(this.doc.createTextNode(a.content)))},g.prototype.buildStyle=function(a){var b=this.doc.createElement(a.tagName);return b.setAttribute("type",a.type),e(a.attrs,function(a,c){b.setAttribute(a,c)}),b},g.prototype.insertStyle=function(a){this.writeImpl('<span id="ps-style"/>');var b=this.doc.getElementById("ps-style");b.parentNode.replaceChild(a,b)},g.prototype.onScriptStart=function(a){a.outerWrites=this.writeQueue,this.writeQueue=[],this.scriptStack.unshift(a)},g.prototype.onScriptDone=function(a){return a!==this.scriptStack[0]?void this.options.error({message:"Bad script nesting or script finished twice"}):(this.scriptStack.shift(),this.write.apply(this,a.outerWrites),void(!this.scriptStack.length&&this.deferredRemote&&(this.onScriptStart(this.deferredRemote),this.deferredRemote=null)))},g.prototype.writeScriptToken=function(a,b){var c=this.buildScript(a),d=this.shouldRelease(c),e=this.options.afterAsync;a.src&&(c.src=a.src,this.scriptLoadHandler(c,d?e:function(){b(),e()}));try{this.insertScript(c),(!a.src||d)&&b()}catch(f){this.options.error(f),b()}},g.prototype.buildScript=function(a){var b=this.doc.createElement(a.tagName);return e(a.attrs,function(a,c){b.setAttribute(a,c)}),a.content&&(b.text=a.content),b},g.prototype.insertScript=function(a){this.writeImpl('<span id="ps-script"/>');var b=this.doc.getElementById("ps-script");b.parentNode.replaceChild(a,b)},g.prototype.scriptLoadHandler=function(a,b){function c(){a=a.onload=a.onreadystatechange=a.onerror=null}function d(){c(),b()}function e(a){c(),g(a),b()}var g=this.options.error;f(a,{onload:function(){d()},onreadystatechange:function(){/^(loaded|complete)$/.test(a.readyState)&&d()},onerror:function(){e({message:"remote script failed "+a.src})}})},g.prototype.shouldRelease=function(a){var b=/^script$/i.test(a.nodeName);return!b||!!(this.options.releaseAsync&&a.src&&a.hasAttribute("async"))},g}();l.postscribe=function(){function b(){var a,b=j.shift();b&&(a=p(b),a.afterDequeue(),b.stream=d.apply(null,b),a.afterStreamStart())}function d(c,d,g){function j(a){a=g.beforeWrite(a),m.write(a),g.afterWrite(a)}m=new q(c,g),m.id=i++,m.name=g.name||m.id,e.streams[m.name]=m;var k=c.ownerDocument,l={close:k.close,open:k.open,write:k.write,writeln:k.writeln};f(k,{close:a,open:a,write:function(){return j(h(arguments).join(""))},writeln:function(){return j(h(arguments).join("")+"\n")}});var n=m.win.onerror||a;return m.win.onerror=function(a,b,c){g.error({msg:a+" - "+b+":"+c}),n.apply(m.win,arguments)},m.write(d,function(){f(k,l),m.win.onerror=n,g.done(),m=null,b()}),m}function e(d,e,f){c(f)&&(f={done:f}),f=g(f,k),d=/^#/.test(d)?l.document.getElementById(d.substr(1)):d.jquery?d[0]:d;var h=[d,e,f];return d.postscribe={cancel:function(){h.stream?h.stream.abort():h[1]=a}},f.beforeEnqueue(h),j.push(h),m||b(),d.postscribe}var i=0,j=[],m=null;return f(e,{streams:{},queue:j,WriteStream:q})}()}}(),this.postscribe}),define("module/ads/ads.events",["backbone","underscore"],function(a,b){return b.clone(a.Events)}),define("app/MarionetteApp",["jquery","backbone.marionette","singleton/Renderer","singleton/Utils","singleton/Feature","lib/amd-wrapped/soyutils"],function(a,b,c,d,e,f){var g=new b.Application;return g.addRegions({postRegion:"#editorplaceholder",modalRegion:"#modalplaceholder",duimodalregion:"#js_placeholder--duimodal",notificationRegion:".js_notif-wrapper",notificationDropdownRegion:"#js_notifications--dropdown",notificationOffcanvasRegion:"#js_notifications--offcanvas",userDropdownRegion:"#js_usermenu--dropdown",userOffcanvasRegion:"#js_usermenu--offcanvas",flaggingListRegion:".js_flagging-admin",discussionRegion:"#js_discussion-region",channelsRegion:"#js_channels"}),b.Renderer.render=function(a,b,c){var e=d.getRenderableData(b,c);return f.renderAsFragment(a,e.data,void 0,e.injected)},g}),define("singleton/ModalManager",["jquery","underscore","singleton/EventDispatcher"],function(a,b,c){var d=a("body"),e=["afterinsert"],f=function(f,g){var h=["open.fndtn.reveal","opened.fndtn.reveal","close.fndtn.reveal","closed.fndtn.reveal"];return this._events=[],this.init=function(){return this.$el=f,this.name=this._genName(),this.options=g,this.initEvents(),this
},this.initEvents=function(){this.$el.on("closed.fndtn.reveal",b.bind(this.destroy,this))},this._genName=function(){return this.$el.attr("id")||"todo-uid"},this.bind=function(a,b){return h.indexOf(a)>=0?this.$el.bind(a,b):(this._events.push({name:a,fn:b}),c[e.indexOf(a)?"once":"on"](a,b)),this},this.on=this.bind,this.open=function(){return a.contains(document.documentElement,this.$el[0])||(d.append(this.$el),this._getEvent("afterinsert")&&c.trigger("afterinsert",this)),this.$el.foundation("reveal",g),this.$el.foundation("reveal","open"),this},this.destroy=function(){g.destroyOnClose&&this.$el.remove(),b.each(this._events,function(a){c.off(a.name,a.fn)})},this.close=function(){this.$el.foundation("reveal","close")},this._getEvent=function(a){return b.find(this._events,function(b){return b.name===a})},this},g={modals:{},modalOptions:{destroyOnClose:!0,close_on_background_click:!0,animation_speed:0},initialize:function(){return this.initialize.done?!1:void(this.initialize.done=!0)},create:function(d,e){d.on("click",function(a){a.stopPropagation()}),a(document.body).one("opened.fndtn.reveal","[data-reveal]",function(){a(".reveal-modal, .reveal-modal-bg").off("click.closeManually").one("click.closeManually",function(b){var d=a(b.target),e=["close-reveal-modal","reveal-modal-bg","js_close","js_cancel"];e.forEach(function(a){d.hasClass(a)&&c.trigger("modal:close:manual")})})}),this.initialize();var g=b.extend({},this.modalOptions,e),h=new f(d,g);return this.currentModal=h.init(),this._register()._initEvents(),this.currentModal},_register:function(a){return a=a||this.currentModal,this.modals[a.name]=a,this},_initEvents:function(a){return a=a||this.currentModal,a.bind("closed",b.bind(function(){this._destroy(a)},this)),this},_destroy:function(a){var b=(a||{}).name;this.modals.hasOwnProperty(b)&&(this.modals[b].destroy(),delete this.modals[b])}};return g}),define("overlord",[],function(){return window.overlord=window.overlord||{},window.overlord}),define("tiger",[],function(){return window.tiger=window.tiger||{},window.tiger}),define("mantle",[],function(){return window.mantle=window.mantle||{},window.mantle}),define("templates/tiger/components/forms/modals/modal-headers",["overlord","tiger","mantle","lib/amd-wrapped/soyutils"],function(a,b,c,d){b.components.forms.modals.headers.layout=function(a,b){a=a||{};var c=b||new d.StringBuilder;return c.append("	<header><h3>",d.$$escapeHtml(a.name),a.disableClose?"":'<a class="js_cancel modal-close-x">&times;</a>',"</h3></header>"),b?"":c.toString()},b.components.forms.modals.headers.avatarLayout=function(a,b){var c=b||new d.StringBuilder;return c.append('	<header class="avatar-header"><h3><div class="row collapse show-for-large-up"><div class="columns large-1"><img id="avatarImg" class="avatar" src="',d.$$escapeHtml(window.kinja.imageUrl(a.avatarId,"avt-medium",a.avatarFormat)),'" /></div><div class="columns large-4"><div class="height-container primary-name-container"><span class="primary-name">',d.$$escapeHtml(a.primaryName),'</span></div></div><div class="columns large-7"><div class="height-container"><span class="secondary-name">',d.$$escapeHtml(a.secondaryName),'</span><a class="js_cancel modal-close-x">&times;</a></div></div></div><div class="row collapse hide-for-large-up"><div class="columns"><div class="height-container"><span class="secondary-name">',d.$$escapeHtml(a.secondaryName),'</span><a class="js_cancel modal-close-x">&times;</a></div></div></div></h3></header>'),b?"":c.toString()},b.components.forms.modals.headers.account=function(a,c,e){var f=c||new d.StringBuilder;return f.append("	"),b.components.forms.modals.headers.avatarLayout({primaryName:d.$$escapeHtml(a.userName),avatarId:d.$$escapeHtml(a.avatarId),avatarFormat:d.$$escapeHtml(a.avatarFormat),secondaryName:"Manage Kinja account"},f,e),c?"":f.toString()},b.components.forms.modals.headers.invite=function(a,c,e){var f=c||new d.StringBuilder;return f.append("	"),b.components.forms.modals.headers.layout({name:"Send Invite To Post"},f,e),c?"":f.toString()},b.components.forms.modals.headers.editorLink=function(a,c,e){var f=c||new d.StringBuilder;return f.append("	"),b.components.forms.modals.headers.layout({name:"Link"},f,e),c?"":f.toString()},b.components.forms.modals.headers.autosaveRecovery=function(a,c,e){var f=c||new d.StringBuilder;return f.append("	"),b.components.forms.modals.headers.layout({name:"Post Recovery"},f,e),c?"":f.toString()},b.components.forms.modals.headers.resend=function(a,c,e){var f=c||new d.StringBuilder;return f.append("	"),b.components.forms.modals.headers.layout({name:"Resend your invitation"},f,e),c?"":f.toString()},b.components.forms.modals.headers.login=function(a,c,e){var f=c||new d.StringBuilder;return f.append("	"),b.components.forms.modals.headers.layout({name:"Log into your Kinja account"},f,e),c?"":f.toString()},b.components.forms.modals.headers.signup=function(a,c,e){var f=c||new d.StringBuilder;return f.append("	"),b.components.forms.modals.headers.layout({name:"Sign up for a Kinja account"},f,e),c?"":f.toString()},b.components.forms.modals.headers.createburner=function(a,c,e){var f=c||new d.StringBuilder;return f.append("	"),b.components.forms.modals.headers.layout({name:"Create a burner account"},f,e),c?"":f.toString()},b.components.forms.modals.headers.burnercreated=function(a,c,e){var f=c||new d.StringBuilder;return f.append("	"),b.components.forms.modals.headers.layout({name:"Burner account created"},f,e),c?"":f.toString()},b.components.forms.modals.headers.createblog=function(a,c,e){var f=c||new d.StringBuilder;return f.append("	"),b.components.forms.modals.headers.layout({name:"Create blog"},f,e),c?"":f.toString()},b.components.forms.modals.headers.manageblog=function(a,c,e){var f=c||new d.StringBuilder;return f.append("	"),b.components.forms.modals.headers.layout({name:"Manage blog"},f,e),c?"":f.toString()},b.components.forms.modals.headers.featureedit=function(a,c,e){var f=c||new d.StringBuilder;return f.append("	"),b.components.forms.modals.headers.layout({name:"Edit feature"},f,e),c?"":f.toString()},b.components.forms.modals.headers.featurenew=function(a,c,e){var f=c||new d.StringBuilder;return f.append("	"),b.components.forms.modals.headers.layout({name:"Create feature"},f,e),c?"":f.toString()},b.components.forms.modals.headers.image=function(a,c,e){var f=c||new d.StringBuilder;return f.append("	"),b.components.forms.modals.headers.layout({name:"Insert image"},f,e),c?"":f.toString()},b.components.forms.modals.headers.media=function(a,c,e){var f=c||new d.StringBuilder;return f.append("	"),b.components.forms.modals.headers.layout({name:"Insert media"},f,e),c?"":f.toString()},b.components.forms.modals.headers.poststatus=function(a,c,e){var f=c||new d.StringBuilder;return f.append("	"),b.components.forms.modals.headers.layout({name:"Post Status"},f,e),c?"":f.toString()},b.components.forms.modals.headers.flagreason=function(a,b){var c=b||new d.StringBuilder;return c.append('	<header><h3>Why are you flagging this?<a class="hover-icon help-link icon icon-question-circle" href="http://help.gawker.com/customer/portal/articles/1726140-what-is-flagging-?b_id=5895" target="_blank"></a><a class="js_cancel modal-close-x">×</a></h3></header>'),b?"":c.toString()},b.components.forms.modals.headers.business=function(a,c,e){var f=c||new d.StringBuilder;return f.append("	"),b.components.forms.modals.headers.layout({name:"Business"},f,e),c?"":f.toString()},b.components.forms.modals.headers.adInfo=function(a,c,e){var f=c||new d.StringBuilder;return f.append("	"),b.components.forms.modals.headers.layout({name:"Ad Info"},f,e),c?"":f.toString()},b.components.forms.modals.headers.promotion=function(a,c,e){var f=c||new d.StringBuilder;return f.append("	"),b.components.forms.modals.headers.layout({name:"Promotions"},f,e),c?"":f.toString()}}),define("view/modal/modal.header",["jquery","backbone","backbone.marionette","singleton/Utils","templates/tiger/components/forms/modals/modal-headers"],function(a,b,c,d){var e=c.ItemView.extend({ui:{avatar:"img#avatarImg"},initialize:function(){this.model=new b.Model(this.options.headerAttributes),this.template=tiger.components.forms.modals.headers[this.options.name]},updateAvatar:function(a){this.ui.avatar.attr("src",d.imageUrl(a.get("id"),"avt-medium",a.get("format")))},updateName:function(a){this.options.name=a,this.template=tiger.components.forms.modals.headers[a],this.render()}});return e}),define("view/modal/modal.tabBehavior",["jquery","underscore","backbone.marionette"],function(a,b,c){var d=c.Behavior.extend({events:{"keydown select:not([disabled]), input:not([disabled]), textarea:not([disabled]), button, .button:not(div), a:not(.modal-close-x)":"onFieldKeydown"},focusFieldsSelector:"select:not([disabled]), input:not([disabled]), textarea:not([disabled]), button, .button:not(div), a:not(.modal-close-x)",onFieldKeydown:function(b){var c,d,e,f,g,h,i;9===b.which&&(b.preventDefault(),c=this.$el.find(this.focusFieldsSelector),d=c.first(),e=c.last(),f=a(b.currentTarget),f.is(e)&&!b.shiftKey?d.focus():f.is(d)&&b.shiftKey?e.focus():(g=c.index(f),b.shiftKey?(i=a(c[g-1]),i.focus()):(h=a(c[g+1]),h.focus())))}});return d}),define("templates/tiger/components/forms/modals/modal",["overlord","tiger","mantle","lib/amd-wrapped/soyutils"],function(a,b,c,d){b.components.forms.modals.modal.container=function(a,c,e){var f=c||new d.StringBuilder;return f.append("	"),a.disableClose?b.components.forms.modals.header({name:d.$$escapeHtml(a.name),disableClose:d.$$escapeHtml(a.disableClose)},f,e):b.components.forms.modals.header({name:d.$$escapeHtml(a.name)},f,e),f.append('<div class="modal-body proxima">',d.$$filterNoAutoescape(a.body),"</div>"),c?"":f.toString()},b.components.forms.modals.modal.layout=function(a,b){var c=b||new d.StringBuilder;return c.append('	<div id="modalheader_placeholder" class="modal-header-container"></div><div id="modalbody_placeholder"></div>'),b?"":c.toString()},b.components.forms.modals.modal.body=function(a,b){var c=b||new d.StringBuilder;return c.append('	<div id="modalsubnav_placeholder"></div><div id="modalcontent_placeholder"></div>'),b?"":c.toString()}}),define("view/modal/modal.layout",["jquery","backbone.marionette","view/modal/modal.header","view/modal/modal.tabBehavior","templates/tiger/components/forms/modals/modal"],function(a,b,c,d){var e=b.Layout.extend({template:tiger.components.forms.modals.modal.layout,events:{"click .js_cancel":"onCancelClick"},attributes:{"data-reveal":""},regions:{header:"#modalheader_placeholder",body:"#modalbody_placeholder"},behaviors:{TabBehavior:{behaviorClass:d}},initialize:function(){this.headerView=new c({name:this.options.name,headerAttributes:this.options.headerAttributes})},onRender:function(){this.headerView&&this.header.show(this.headerView),this.options.body&&this.body.show(this.options.body)},onCancelClick:function(a){return a.preventDefault(),this.options.vent.trigger("modal:close"),!1},switchContent:function(a,b){this.body.show(b?new a(b):new a)},updateHeaderAvatar:function(a){this.headerView.updateAvatar(a)},updateName:function(a){this.headerView.updateName(a)}});return e}),define("app/modal/modal.controller",["jquery","underscore","backbone","singleton/CurrentUser","singleton/CurrentBlog","singleton/Utils","app/MarionetteApp","singleton/ModalManager","view/modal/modal.layout"],function(a,b,c,d,e,f,g,h,i){var j={vent:b.extend({},c.Events),_initModal:function(b,c){var d=g.modalRegion,e={};c=c||{},d.show(b),d.listenTo(d.currentView,"modal:close",j.API.close),e.close_on_background_click=c.close_on_background_click,j.API.activeModal=h.create(b.$el,e),a(document).on("close.fndtn.reveal",function(){c&&c.onClose&&c.onClose(),j.API.activeModal=null,a(document).off("close.fndtn.reveal")}),j.API.activeModal.open()},_registerEvents:function(){j.vent.on("modal:close",j.API.close)},_destroyEvents:function(){j.vent.off("modal:close",j.API.close)},API:{instantiate:function(b,d){d={viewData:d.viewData||{},templateData:d.templateData||{}};var e=new c.Model(d.templateData);a.extend(d.viewData,{model:e});var f=new b(d.viewData);return f},create:function(a,b){var c={vent:j.vent,body:a};b&&(b.addClassName&&(b.className=b.className+" "+b.addClassName),c.className=b.className||"reveal-modal kinja-modal proxima medium",c.name=b.name,c.headerAttributes={userName:b.userName,avatarId:b.avatarId,avatarFormat:b.avatarFormat}),j.API.open(function(){j._initModal(new i(c),b)})},open:function(a){if(j.API.close(),j._registerEvents(),"function"!=typeof a)throw new Error("Invalid modal type supplied to ModalController.open");a()},close:function(){j._destroyEvents(),j.API.activeModal&&(j.API.activeModal.close(),j.API.activeModal=null),g.modalRegion.reset()},change:function(a,b){j.API.activeModal&&g.modalRegion.currentView.switchContent(a,b)},updateHeaderAvatar:function(a){j.API.activeModal&&g.modalRegion.currentView.updateHeaderAvatar(a)},updateHeaderName:function(a){j.API.activeModal&&g.modalRegion.currentView.updateName(a)}}};return j.API}),define("module/ads/singleton/KeywordHelper",["jquery","underscore","view/BaseView","singleton/Feature","lib/jquery.cookie"],function(a,b,c,d){var e,f="pageDepth",g=parseInt(a.cookie(f)||1,10);return d.isOn("ad_module")||5>g&&(g+=1,a.cookie(f,g,{expires:1,path:"/"})),new(e=c.extend({keywordsFromPage:function(a){var c={},d=function(a,b){c.hasOwnProperty(a)?c[a].push(b):c[a]=[b]},e=function(){d("mtfIFPath","/assets/vendor/doubleclick/"),d("page",this.getPageType()),d("pd",g),"default"!==a.slot&&d("slot",a.slot)}.bind(this),f=function(){var a=window.crtg_content?window.crtg_content.split(";"):[];b.each(a,function(a){var b=a.split("=");2===b.length&&d(b[0],b[1])})};return e(),f(),c}}))}),define("module/ads/singleton/RestrictedCompanyHelper",["jquery","underscore"],function(a,b){var c={regex:/\b(?:accenture|amex|apple|bestbuy|bing|blackberry|bmw|ca|computer|capgemini|chrome|chrysler|cisco|comcast|dell|ea|electronic arts|ebay|ford|ge|general electric|gm|general motors|google|hp|hewlitt packard|htc|ibm|intel|internet explorer|lenovo|microsoft|motorola|msn|nintendo|oracle|oreo|outlook|outlook\.com|playstation|porsche|radioshack|samsung|sap|sas|siemens|sony|sprint|tmobile|virgin|virginamerica|visa|xbox)\b/i,brandMap:{playstation:"sony",bing:"microsoft","internet explorer":"microsoft",msn:"microsoft",outlook:"microsoft","outlook.com":"microsoft",xbox:"microsoft"},scanForCompanies:b.once(function(c){var d=b.map(c.tags,function(a){return a.name}).join(""),e=c.headline.match(this.regex)||d.match(this.regex)||a("article.post").text().match(this.regex);return e&&(e=e[0].toLowerCase()),this.brandMap[e]||e})};return c}),define("module/ads/model/ads.abstractSlotModel",["jquery","underscore","backbone","singleton/Feature","module/ads/singleton/KeywordHelper","singleton/EventDispatcher","singleton/CurrentBlog","singleton/Utils","module/ads/singleton/RestrictedCompanyHelper","module/ads/singleton/SocialReferrerHelper","gawkerlib/jquery.parseParams"],function(a,b,c,d,e,f,g,h,i,j){var k=h.getKinjaMeta(),l=k.pageType,m=k.post,n=m?m.id:null,o=m?m.adZone:null,p=a.parseParams().adzone,q=k.tags,r=/why your team sucks|wyts/,s=/nsfw|gamergate/,t=r.test(q),u=s.test(q),v=m?i.scanForCompanies(m):null,w=c.Model.extend({initialize:function(){var a,b,c,d;this.get("forcedAdZone")||(c=this.computeForcedZone(),this.set("forcedAdZone",c)),a=this.computeAdZone(c),this.set("adZone",a),d=this.computeZoneSource(),this.set("zoneSource",d),b=this.computeCollapseState(a),this.set("collapsed",b)},adInfo:function(){var a=b.map(this.keywords(),function(a,b){return b+"="+a}).join(", ");return{pageType:l,zoneType:this.get("zoneType"),sizes:this.sizes(),slotId:this.get("slotId"),unitName:this.unitName(),adZone:this.get("adZone"),adZoneSource:this.get("zoneSource"),isEmpty:this.get("empty")||"UNKNOWN",status:this.stateName(),keywords:a,tags:q||"NONE",company:v||"NONE",forcedAdZone:this.get("forcedAdZone")||"false",postId:n||"NONE",blogName:g.name,referer:document.referrer||"NONE",socialReferrer:j.scanForSocialReferrers()||"NONE"}},navData:function(){return{text:this.get("zoneType"),msgText:"ad info modal "+this.get("slotId"),subViewSelector:"#"+this.get("slotId")+"-info",render:!0,slotModel:this}},computeForcedZone:function(){var a=!t&&u?"collapse":null;return p||a||o},computeAdZone:function(a){return a&&"collapse"===a?"collapse":"frontpage"===l?"front":l},computeCollapseState:function(a){return"collapse"===a},computeZoneSource:function(){return p?"URL param":o?"Post":!t&&u?"Tag force collapse":"Page type / GPT"},keywords:function(){return e.keywordsFromPage({slot:"default"})},setEmptiness:function(a){this.set("empty",a?"TRUE":"FALSE")},unitName:function(){throw"NOT IMPLEMENTED!"},stateName:function(){throw"NOT IMPLEMENTED!"},sizes:function(){throw"NOT IMPLEMENTED!"}});return w}),define("module/ads/model/ads.slotModel",["jquery","underscore","backbone","module/ads/model/ads.abstractSlotModel","singleton/Feature","singleton/EventDispatcher","singleton/CurrentBlog","singleton/Utils","module/ads/singleton/RestrictedCompanyHelper","singleton/WindowController","module/ads/singleton/SocialReferrerHelper","gawkerlib/jquery.parseParams"],function(a,b,c,d,e,f,g,h,i,j,k){var l=h.getKinjaMeta(),m=l.post,n=m?m.id:null,o=(g.blogSales||{}).adSlotsDisabled||[],p=m?i.scanForCompanies(m):null,q=g.blogSales&&g.blogSales.adNetworkId||g.defaultAdNetworkId,r=g.blogSales&&g.blogSales.adSiteName||g.defaultAdSiteName,s=d.extend({initialize:function(){var a,c,e,f,g=this.get("zoneType");this.set("adState",s.states.INITIALIZING),d.prototype.initialize.call(this),c=b.contains(o,s.config[g].legacySizes),this.set("disabled",c),f=s.config[g],e=f.gptSizes,this.set("zoneConfig",f),this.set("gptSizes",e),a=this.get("adZone"),!a||c||this.get("collapsed")||this.createGptSlot(this.unitName(a),e,this.get("slotId")),this.set("adState",s.states.INITIALIZED)},adInfo:function(){return b.extend(d.prototype.adInfo.call(this),{diagnosticsUrl:this.get("diagnosticsUrl"),creativeUrl:this.get("creativeUrl"),pos:this.targetingPairs().pos||""})},targetingPairs:function(){return b.extend({postId:n,company:p||"none",forcedAdZone:this.get("forcedAdZone")||"false",socialReferrer:k.scanForSocialReferrers()},s.config[this.get("zoneType")].targetingPairs)},createGptSlot:function(a,c,d){window.googletag.cmd.push(function(){var e,f=window.googletag.defineSlot(a,c,d);b.each(this.targetingPairs(),function(a,b){f.setTargeting(b,a)}),b.each(this.keywords(),function(a,b){f.setTargeting(b,a)}),f.addService(window.googletag.pubads()),e=f.renderEnded,f.renderEnded=function(a){var b=f.getContentUrl();this.set("diagnosticsUrl",this.getDiagnosticsUrl(b)),this.set("creativeUrl",this.getCreativeUrl(b)),this.set("gptData",a),this.trigger("ads.zonerendered"),e()}.bind(this),this.set("gptSlot",f),window.googletag.display(this.get("slotId"))}.bind(this))},getDiagnosticsUrl:function(a){var b=a.split("?");return"https://www.google.com/dfp/inventory#diagnostics/"+b[1]+"&base_url=http%3A%2F%2Fpubads.g.doubleclick.net%2Fgampad%2Fads"},getCreativeUrl:function(a){return a.replace("output=json_html","output=html")+"&base_url=http%3A%2F%2Fpubads.g.doubleclick.net%2Fgampad%2Fads"},unitName:function(a){return"/"+[q,r,a].join("/")},_getDimensionComponents:function(a){var c="width"===a?0:1;return b.reduce(this.get("gptSizes"),function(a,b){return a.push(b[c]),a},[])},sizes:function(){return b.map(this.get("gptSizes"),function(a){return a.join("x")}).join(", ")},widths:function(){return this._getDimensionComponents("width")},heights:function(){return this._getDimensionComponents("height")},setRendered:function(){this.set("adState",s.states.RENDERED)},setShown:function(){this.set("adState",s.states.SHOWN)},setHidden:function(){this.set("adState",s.states.HIDDEN)},stateName:function(){var a;switch(this.get("adState")){case s.states.INITIALIZING:a="initializing";break;case s.states.INITIALIZED:a="initialized";break;case s.states.RENDERED:a="rendered";break;case s.states.HIDDEN:a="hidden";break;case s.states.SHOWN:a="shown";break;default:a="error"}return a},isGptEmpty:function(){return this.get("gptData").isEmpty}},{config:{TRACKER:{gptSizes:[[1,1]],legacySize:"1x1",shouldRun:!0},TOP_BANNER:{gptSizes:[[970,90],[970,251],[728,90]],legacySize:"970x90",shouldRun:j.isMlargeUp,targetingPairs:{pos:"top"}},BILLBOARD:{gptSizes:[[970,250],[728,90]],legacySize:"970x250",shouldRun:j.isMlargeUp,targetingPairs:{pos:"bottom"}},LEFT_RAIL:{gptSizes:[[300,250],[300,600]],legacySize:"300x250",shouldRun:j.isLargeUp,targetingPairs:{pos:"left"}},LEFT_RAIL_DYNAMIC:{gptSizes:[[300,250],[300,600]],legacySize:"300x250",shouldRun:j.isLargeUp,targetingPairs:{pos:"left_dynamic"}},MOBILE:{gptSizes:[[300,250],[320,50]],legacySize:"300x50",shouldRun:j.isSmall},ADHESION:{gptSizes:[[3,3]],legacySize:"3x3",shouldRun:j.isSmall},PROMOTION:{gptSizes:[[2,2]],legacySize:"2x2",shouldRun:j.isLargeUp},PROMOTION_MOBILE:{gptSizes:[[2,2]],legacySize:"2x2",shouldRun:j.isMediumDown},SPLASHYTOP:{gptSizes:[[1280,720],[970,415]],isResponsive:!0,shouldSlideDown:!0,viewportVOffset:175,maxHeight:720,maxWidth:"100%",legacySize:"970x415",fallbackSize:"970x415",shouldRun:e.isOn("ad_module")?!1:!0},SPLASHYBOTTOM:{gptSizes:[[1280,721]],isResponsive:!0,shouldSlideDown:!1,viewportVOffset:175,maxHeight:720,maxWidth:"100%",legacySize:"970x415",shouldRun:e.isOn("ad_module")?!1:!0}},zoneTypes:{TRACKER:"TRACKER",TOP_BANNER:"TOP_BANNER",BILLBOARD:"BILLBOARD",LEFT_RAIL:"LEFT_RAIL",MOBILE:"MOBILE",ADHESION:"ADHESION",PROMOTION:"PROMOTION",PROMOTION_MOBILE:"PROMOTION_MOBILE",SPLASHYTOP:"SPLASHYTOP",SPLASHYBOTTOM:"SPLASHYBOTTOM"},states:{INITIALIZING:1,INITIALIZED:2,RENDERED:3,HIDDEN:4,SHOWN:5},shouldRun:function(a){var b=s.config[a],c=b?b.shouldRun:!1;return"function"==typeof c?c():c}});return s}),define("module/ads/model/ads.videoSlotModel",["jquery","underscore","backbone","module/ads/model/ads.abstractSlotModel","singleton/Feature","singleton/EventDispatcher","singleton/CurrentBlog","singleton/Utils","singleton/DeviceController","gawkerlib/jquery.parseParams","lib/jquery.cookie"],function(a,b,c,d,e,f,g,h,i){var j=h.getKinjaMeta(),k=j.pageType,l=j.post,m=(g.blogSales||{}).adSlotsDisabled||[],n=g.blogSales&&g.blogSales.adSiteName||g.defaultAdSiteName,o=d.extend({initialize:function(){var a;this.set("zoneType","VIDEO"),this.set("slotId","foreplay"),this.set("adState",o.states.INITIAILIZING),d.prototype.initialize.call(this),a=b.contains(m,o.config.size),this.set("disabled",a),!this.get("adZone")||a||this.get("collapsed")||this.loadJwplayer(),this.set("adState",o.states.INITIAILIZED)},setPlaying:function(){this.set("adState",o.states.PLAYING_INVALID_IMPRESSION)},setValidImpression:function(){this.set("adState",o.states.PLAYING_VALID_IMPRESSION)},hasValidImpression:function(){return this.get("adState")>o.states.PLAYING_INVALID_IMPRESSION},setComplete:function(){this.set("adState",o.states.COMPLETED)},loadJwplayer:function(){var a;require(["module/JWPlayer"]),a=window.setInterval(function(){window.jwplayer&&(window.clearInterval(a),this.setupJwplayer(),this.trigger("ads.jwplayer.loaded"))}.bind(this),o.config.jwPlayerPollInterval)},setupJwplayer:function(){jwplayer.key="nO4NxCWRcKVQRGrsXfNPjFlcUmY2/ainbLHfAQ==",jwplayer("jwPlayerVideo").setup({primary:e.isOn("html5_jwplayer")?"html5":"flash",flashplayer:"/assets/javascripts/lib/jwplayer/jwplayer.flash.swf",file:"/assets/javascripts/lib/jwplayer/blank.mp4",base:"/assets/javascripts/lib/jwplayer/",autostart:"true",controls:!1,height:360,width:640,mute:!0,advertising:{client:"googima",admessage:" ",tag:"http://ad.doubleclick.net/N4246/pfadx/"+this.dfpParams()}}),this.setTriggered(),jwplayer().onAdComplete(function(a){this.set("adState",o.states.COMPLETED),this.trigger("ads.jwplayer.adcomplete",a)}.bind(this)),jwplayer().onAdClick(function(a){this.set("adState",o.states.COMPLETED),this.trigger("ads.jwplayer.adclick",a)}.bind(this)),jwplayer().onAdError(function(a){this.trigger("ads.jwplayer.aderror",a)}.bind(this)),jwplayer().onAdImpression(function(a){this.setEmptiness(!1),this.trigger("ads.jwplayer.adimpression",a)}.bind(this))},setTriggered:function(){a.cookie(o.config.triggeredCookieKey,"1",{path:"/",expires:1})},dfpParams:function(){var a=this.unitName(this.get("adZone")),c=this.keywords(),d={forcedAdZone:this.get("forcedAdZone")||"false",blogName:g.name||"",sz:o.config.size,tile:1,ord:Math.floor(9e7*Math.random())+1e7},e=[a];return b.each(c,function(a,c){b.each(a,function(a){e.push(c+"="+a)})}),b.each(d,function(a,b){e.push(b+"="+a)}),e.join(";")},sizes:function(){return o.config.size},unitName:function(a){return[n,a].join("/")},stateName:function(){var a;switch(this.get("adState")){case o.states.INITIALIZING:a="initializing";break;case o.states.INITIALIZED:a="initialized";break;case o.states.PLAYING_INVALID_IMPRESSION:a="playing (invalid)";break;case o.states.PLAYING_VALID_IMPRESSION:a="playing (valid)";break;case o.states.COMPLETED:a="completed";break;default:a="error"}return a}},{config:{size:"640x480",jwPlayerPollInterval:1e3,triggeredCookieKey:"foreplay_triggered"},states:{INITIALIZING:1,INITIALIZED:2,PLAYING_INVALID_IMPRESSION:3,PLAYING_VALID_IMPRESSION:4,COMPLETED:5},shouldRun:function(){return"permalink"===k&&"1"!==a.cookie(this.config.triggeredCookieKey)&&!l.sponsored&&i.isDesktopLike()}});return o}),define("module/ads/collection/ads.slotCollection",["backbone","module/ads/model/ads.slotModel"],function(a,b){var c=a.Collection.extend({model:b,toNavigation:function(){var a=this.map(function(a){return a.navData()});return a.length&&(a[0].active=!0),a}});return c}),define("module/ads/view/ads.slotView",["jquery","underscore","backbone.marionette","singleton/Feature","singleton/CurrentBlog","module/ads/ads.events"],function(a,b,c,d,e,f){var g=e.blogSales.adNetworkId===e.defaultAdNetworkId,h=c.ItemView.extend({modelEvents:{"ads.zonerendered":"onZoneRendered"},showAd:function(){var a=this.model.get("zoneConfig");this.$el.addClass("js_slot-displayed"),this.$el.show(),d.isOn("splashy_ad")&&a.isResponsive===!0?(this.setDimensions(),a.shouldSlideDown===!0?this.$el.parents(".splashy-ad-container").slideDown(400,function(){this.triggerDisplayedEvent(),f.trigger("ads.zonedisplayed",this)}.bind(this)):(this.$el.parents(".splashy-ad-container").show(),this.triggerDisplayedEvent(),f.trigger("ads.zonedisplayed",this))):(this.triggerDisplayedEvent(),f.trigger("ads.zonedisplayed",this),this.setDimensions()),this.model.setShown()},hideAd:function(){this.$el.addClass("hide js_slot-hidden"),this.triggerHideEvent(),f.trigger("ads.zonedisplayed",this),this.model.setHidden()},triggerDisplayedEvent:function(){f.trigger("kinjaads."+this.model.get("zoneType")+".displayed",{element:this.$el}),f.trigger("kinjaads."+this.model.get("slotId")+".displayed",{zone:this})},triggerHideEvent:function(){f.trigger("kinjaads."+this.model.get("zoneType")+".hide",{element:this.$el}),f.trigger("kinjaads."+this.model.get("slotId")+".hide",{zone:this})},setDimensions:function(){var a,b=this.model.get("gptData"),c=this.model.get("zoneConfig"),e=b.size[0],f=b.size[1],g=e+"x"+f;d.isOn("splashy_ad")&&c.isResponsive?g===c.fallbackSize?(this._setDimensionStyle(e,f),this._setIframeDimensions(e,f),this._handleStaticFallback()):(a=this.calculateResponsiveAdZoneDimensions(),this._setDimensionStyle(a[0],a[1]),this._setIframeDimensions(a[0],a[1]),this.adjustResponsiveAdContainerHeight(a[1])):(this._setDimensionStyle(e,f),this._setIframeDimensions(e,f))},calculateResponsiveAdZoneDimensions:function(){var b=[],c=this.model.get("zoneConfig"),d=a(window).height();return b[0]=c.maxWidth,b[1]=Math.min(c.maxHeight,d-c.viewportVOffset),b},adjustResponsiveAdContainerHeight:function(a){var b=this.$el.find("div:first-child"),c=this.$el.find("iframe:first-child");b.length&&b.height()>a&&b.css({height:a,overflow:"hidden"}),c.length&&c.height()>a&&c.css("height",a)},_setDimensionStyle:function(a,b){this.$el.css({width:a,height:b})},_setIframeDimensions:function(a,b){var c,d=this.$("div > iframe");d.attr("width",a),d.attr("height",b);try{c=d.contents().find("body").css("text-align","center")}catch(e){console.log("cannot set iframe body css")}},_handleStaticFallback:function(){this.$el.addClass("centered"),this.$el.parent(".js_ad-unit").addClass("static-fallback")},isEmpty:function(){var b,c,d,e,f,g=!1,h=this.$el,i=this.$("> div > iframe",h).eq(0);if(i.length>0)try{c=i.contents(),d=c.find("body"),e=c.find("head, body"),c&&!c.length?g=this.treatInaccessibleIframeAsEmpty():(b=d.html(),f=e.find("[src]"),g=this.checkIframeEmptiness(i))}catch(j){g=this.treatInaccessibleIframeAsEmpty()}else b=h.html(),f=a("[src]",h),g=this.checkAdEmptiness(b,f);return g},checkIframeEmptiness:function(a){var b,c,d,e,f;try{return b=a.contents(),c=b.find("body"),d=b.find("head, body"),e=c.html(),f=d.find("[src]"),this.checkAdEmptiness(e,f)}catch(g){return this.treatInaccessibleIframeAsEmpty()}},treatInaccessibleIframeAsEmpty:function(){return g},checkAdEmptiness:function(c,d){var e;return 0===a.trim(c).length?!0:(b.find(d,function(a){var b=/817-(grey|grey_|blank|blank_)\.gif/,c=/ads\/collapser.gif/;a&&a.src&&(a.src.match(b)||a.src.match(c))&&(e=!0)}),e)},onZoneRendered:function(){var a=!1,b=/(?:https?:\/\/)(?:[\w]+\.)([a-zA-Z\.]{2,63})([\/\w\.-]*)*\/?/i,c=function(){this.model.setEmptiness(!0),this.hideAd()}.bind(this),e=function(){this.model.setEmptiness(!1),this.showAd()}.bind(this),f=function(){this.model.isGptEmpty()?c():this.isEmpty()===!0?a?c():(window.setTimeout(f,h.config.checkEmptinessDelay),a=!0):e()}.bind(this),g=this.$el[0],i=this.$("> div > iframe",g).eq(0),j=i.attr("src");this.model.setRendered(),i.length?d.isOn("splashy_ad")&&j&&null===j.match(b)?f():i.load(function(){f()}.bind(this)):f()}},{config:{dimensionTolerance:4,iframeMaxWaitTime:750,checkEmptinessDelay:750}});return h}),define("module/ads/view/ads.videoSlotView",["jquery","underscore","backbone.marionette","singleton/Feature"],function(a,b,c,d){var e,f=a("body"),g=a(".main-column"),h=a(".ad-background"),i=c.ItemView.extend({modelEvents:{"ads.jwplayer.loaded":"onJwplayerLoaded","ads.jwplayer.adcomplete":"hideAd","ads.jwplayer.adclick":"hideAd","ads.jwplayer.aderror":"hideAd","ads.jwplayer.adimpression":"onAdImpression"},ui:{closeLink:".js_foreplay-close"},events:{"click @ui.closeLink":"onCloseLinkClick"},triggerAd:function(){this.$el.css("display","block")},setAdPlaying:function(){g.css("-webkit-transform","none"),h.show(),this.$el.css({visibility:"visible",display:"block"}).addClass("js_foreplay-locked"),this.$el.focus().addClass("foreplay-fixed"),f.addClass("lock-body-onpreroll"),this.model.setPlaying()},hideAd:function(){e&&window.clearInterval(e),window.setTimeout(function(){f.removeClass("lock-body-onpreroll"),g.css("-webkit-transform","translate3d(0,0,0)"),this.$el.css({visibility:"hidden",display:"none"}),h.hide()}.bind(this),i.config.jwPlayerCloseDelayTime)},disableBGCloseEvents:function(){h.off("click").off("click.reveal").css({cursor:"default"})},enableBGCloseEvents:function(){h.css({cursor:"pointer"}),this.listenTo(h,"click.foreplay",this.hideAd)},onJwplayerLoaded:function(){g.before(this.$el),d.isOn("html5_jwplayer")||this.$el.css("display","block")},onAdImpression:function(a){if(!a||a.tag){var b=5,c=function(){b-=1,0===b?d():this.ui.closeLink.text("You can skip this ad in "+b+" seconds.")}.bind(this),d=function(){var a="Skip ad";window.clearInterval(e),e=null,this.ui.closeLink.text(a),this.model.setValidImpression(),this.enableBGCloseEvents()}.bind(this);this.disableBGCloseEvents(),this.setAdPlaying(),e=window.setInterval(c,i.config.jwPlayerCountdownInterval)}},onCloseLinkClick:function(){return this.model.hasValidImpression()&&(this.hideAd(),this.model.setComplete()),!1}},{config:{jwPlayerCloseDelayTime:100,jwPlayerCountdownInterval:1e3}});return i}),define("templates/tiger/components/forms/modals/subnav",["overlord","tiger","mantle","lib/amd-wrapped/soyutils"],function(a,b,c,d){b.components.forms.modals.subnav=function(a,b){var c=b||new d.StringBuilder;c.append('	<div class="phl text-center filter-selector mbx"><dl class="sub-nav inline-block mbn">');
for(var e=a.items,f=e.length,g=0;f>g;g++){var h=e[g];c.append(1==h.render?'<dd class="js_navigate '+d.$$escapeHtml(h.active?"active":"")+'" data-sub-view="'+d.$$escapeHtml(h.subViewSelector)+'"><a href="#" class="hover-icon">'+(1==h.superuserTab?'<span class="icon icon-gear"></span>':"")+" "+d.$$escapeHtml(h.text)+"</a></dd>":"")}return c.append("</dl></div>"),b?"":c.toString()}}),define("view/modal/modal.subnav",["jquery","backbone","backbone.marionette","templates/tiger/components/forms/modals/subnav"],function(a,b,c){var d=c.ItemView.extend({template:tiger.components.forms.modals.subnav,events:{"click .js_navigate":"onNavigateClick"},ui:{navElements:".js_navigate"},onNavigateClick:function(b){var c=a(b.currentTarget),d=this.collection.findWhere({subViewSelector:c.attr("data-sub-view")});return this.collection.trigger("modal:navigate",d),!1}});return d}),define("module/ads/view/ads.adInfoLayout",["jquery","underscore","backbone","backbone.marionette","view/modal/modal.subnav","templates/tiger/components/forms/modals/modal"],function(a,b,c,d,e){var f=d.Layout.extend({template:tiger.components.forms.modals.modal.body,className:"modal-body proxima",regions:{subnav:"#modalsubnav_placeholder",content:"#modalcontent_placeholder"},onRender:function(){this.subnav.show(new e({collection:this.options.navigation})),this.content.show(new this.options.view({vent:this.options.vent,model:this.options.viewOptions.model}))}});return f}),define("templates/tiger/components/ad/adInfo",["overlord","tiger","mantle","lib/amd-wrapped/soyutils"],function(a,b,c,d){b.components.ad.info=function(a,b){var c=b||new d.StringBuilder;return c.append('	<dl class="tabs" data-tab></div><div class="ad-info__content js_ad-info__content tabs-content mbn pam"></div>;'),b?"":c.toString()},b.components.ad.infoItem=function(a,b){var c=b||new d.StringBuilder;return c.append('	<div class="ad-info-item__entry"><span class="ad-info-item-title">Page Type:</span> ',d.$$escapeHtml(a.pageType),'</div><div class="ad-info-item__entry"><span class="ad-info-item-title">Zone Type:</span> ',d.$$escapeHtml(a.zoneType),'</div><div class="ad-info-item__entry"><span class="ad-info-item-title">Sizes:</span> ',d.$$escapeHtml(a.sizes),'</div><div class="ad-info-item__entry"><span class="ad-info-item-title">Slot Id:</span> ',d.$$escapeHtml(a.slotId),'</div><div class="ad-info-item__entry"><span class="ad-info-item-title">Unit Name:</span> ',d.$$escapeHtml(a.unitName),'</div><div class="ad-info-item__entry"><span class="ad-info-item-title">Ad Zone:</span> ',d.$$escapeHtml(a.adZone),'</div><div class="ad-info-item__entry"><span class="ad-info-item-title">Position:</span> ',d.$$escapeHtml(a.pos),'</div><div class="ad-info-item__entry"><span class="ad-info-item-title">Ad Zone Source:</span> ',d.$$escapeHtml(a.adZoneSource),'</div><div class="ad-info-item__entry"><span class="ad-info-item-title">Forced Ad Zone:</span> ',d.$$escapeHtml(a.forcedAdZone),'</div><div class="ad-info-item__entry"><span class="ad-info-item-title">Empty:</span> ',d.$$escapeHtml(a.isEmpty),'</div><div class="ad-info-item__entry"><span class="ad-info-item-title">Status:</span> ',d.$$escapeHtml(a.status),'</div><div class="ad-info-item__entry"><span class="ad-info-item-title">Keywords:</span> ',d.$$escapeHtml(a.keywords),'</div><div class="ad-info-item__entry"><span class="ad-info-item-title">Tags:</span> ',d.$$escapeHtml(a.tags),'</div><div class="ad-info-item__entry"><span class="ad-info-item-title">Company:</span> ',d.$$escapeHtml(a.company),'</div><div class="ad-info-item__entry"><span class="ad-info-item-title">Post Id:</span> ',d.$$escapeHtml(a.postId),'</div><div class="ad-info-item__entry"><span class="ad-info-item-title">Blog Name:</span> ',d.$$escapeHtml(a.blogName),'</div><div class="ad-info-item__entry"><span class="ad-info-item-title">Referer:</span> ',d.$$escapeHtml(a.referer),'</div><div class="ad-info-item__entry"><span class="ad-info-item-title">Social Referrer:</span> ',d.$$escapeHtml(a.socialReferrer),"</div>",a.diagnosticsUrl?'<div class="ad-info-item__entry"><span class="ad-info-item-title">Diagnostics Url:</span> <a href="'+d.$$escapeHtml(a.diagnosticsUrl)+'">'+d.$$truncate(d.$$escapeHtml(a.diagnosticsUrl),100,!0)+"</a></div>":"",a.creativeUrl?'<div class="ad-info-item__entry"><span class="ad-info-item-title">Creative Url:</span> <a href="'+d.$$escapeHtml(a.creativeUrl)+'">'+d.$$truncate(d.$$escapeHtml(a.creativeUrl),100,!0)+"</a></div>":""),b?"":c.toString()}}),define("module/ads/view/ads.adInfoItemView",["backbone.marionette","templates/tiger/components/ad/adInfo"],function(a){var b=a.ItemView.extend({template:tiger.components.ad.infoItem,className:"content ad-info-item js_ad-info-item",id:function(){return this.model.get("slotId")+"-info"},serializeData:function(){return this.model.adInfo()}});return b}),define("module/ads/ads.controller",["config","jquery","underscore","backbone","moment","lib/amd-wrapped/postscribe","singleton/CurrentBlog","singleton/Utils","singleton/Feature","singleton/Trackers","singleton/DeviceController","singleton/EventDispatcher","module/ads/ads.events","app/modal/modal.controller","module/ads/model/ads.slotModel","module/ads/model/ads.videoSlotModel","module/ads/collection/ads.slotCollection","module/ads/view/ads.slotView","module/ads/view/ads.videoSlotView","module/ads/view/ads.adInfoLayout","module/ads/view/ads.adInfoItemView"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){var v=[],w=[],x=!1,y=new q,z={_bindEvents:function(){var a=z;m.on("ads.dynamicad.load",a.onDynamicAdLoad),m.on("ads.zonerendered",a.onZoneRendered),m.on("ads.zonedisplayed",a.onZoneDisplayed)},onDynamicAdLoad:function(a,b){var c,d,e;d=a.attr("id"),e=a.data().forcedAdZone,c=z._initZone(b,a,d,e)[1],z._refreshZones(c.model.get("gptSlot"))},onZoneRendered:function(){x||(h.markTimeForPermalink("JS - first ad rendered"),x=!0)},onZoneDisplayed:function(a){var b=z;w=c.chain(b.renderingZones).without(a.cid).compact().value(),!w.length&&x&&(h.markTimeForPermalink("JS - ads displayed"),m.off("ads.zonedisplayed"))},_adsEnabled:function(){return!(!g.blogSales||!g.blogSales.adsEnabled)},_initAmazonMatchbuy:function(a){var c=function(){try{window.amznads.getAds("3076")}catch(a){console.log(a.message)}};b.getScript("//c.amazon-adsystem.com/aax2/amzn_ads.js",function(){f("#matchbuy-placeholder",c,{done:a})})},_initGpt:function(){var a,c=window.googletag=window.googletag||{};c.cmd=c.cmd||[],b.getScript("//www.googletagservices.com/tag/js/gpt.js"),c.cmd.push(function(){a=c.pubads(),a.collapseEmptyDivs(),a.enableAsyncRendering(),a.setTargeting("tags",(h.getKinjaMeta().tags||"").split(",")),a.setTargeting("refer",document.referrer),a.setTargeting("blogName",g.name),a.setTargeting("ksg",window.Krux.segments),a.setTargeting("kuid",window.Krux.user),i.isOn("amazon_matchbuy")&&window.amznads.setTargetingForGPTAsync("amznslots"),a.enableSingleRequest(),a.disableInitialLoad(),c.enableServices()})},_refreshZones:function(a){var b,c=a;c&&!Array.isArray(c)&&(c=[c]),b=function(){c&&c.length?window.googletag.pubads().refresh(c):window.googletag.pubads().refresh()},window.googletag.cmd.push(function(){if(i.isOn("amazon_matchbuy")){window.googletag.pubads().clearTargeting();var a=function(){var a=window.location.href;window.amznads.setTargetingForGPTAsync("amznslots"),-1!==a.indexOf("#")&&""===window.location.hash&&"function"==typeof window.history.replaceState&&window.history.replaceState({},window.title,a.split("#")[0]),b()};window.amznads.getAdsCallback("3076",a),window.googletag.pubads().clearTargeting("amznslots")}else b()})},_renderZones:function(){var a=!1,b=[];c.each(v,function(c){var d=c.model;!d.get("adZone")||d.get("collapsed")||d.get("disabled")?c.hideAd():(a=!0,b.push(d.get("gptSlot")))},this),a&&(i.isOn("ad_module")?z._refreshZones(b):z._refreshZones(),h.markTimeForPermalink("JS - before ads fetched"))},_registerZone:function(a){v.push(a),w.push(a.cid)},_initZone:function(a,b,c,d){var e,f;return e=new o({zoneType:a,slotId:c,forcedAdZone:d}),f=new r({model:e,el:b}),f.bindUIElements(),y.add(e),[e,f]},_initPreroll:function(){var a,c;return a=new p,c=new s({model:a,el:b("#foreplay")}),c.bindUIElements(),a},_setMobileWidth:function(a){var c=b(".main-column"),d=c.css("margin-left").replace(/[^0-9.]/g,""),e=c.css("padding-left").replace(/[^0-9.]/g,""),f=-1*d+-1*e;i.isOn("permalink_body_mobile_ad")||i.isOn("permalink_body_mobile_ad_label")||a.css({width:b(window).width(),"margin-left":f})},_bindMobileEvents:function(a){l.on("orientation:change",function(){this._setMobileWidth(a)}.bind(this)),m.on("kinjaads.MOBILE.displayed",function(){a.removeClass("hide-contents")})},_initZones:function(){var a,e,f,g=[];p.shouldRun()&&(a=this._initPreroll(),y.add(a)),e=b(".js_ad-container:not(.initialized)"),c.each(e,function(a){var d,e,f,h,i,j=a.dataset.zoneType,k=a.id,l=a.dataset.forcedAdZone,n=a.dataset.postId;if(j===o.zoneTypes.TRACKER){if(c.contains(g,n))return!1;g.push(n)}i=b(a),o.shouldRun(j)?(j===o.zoneTypes.MOBILE&&(h=i.closest(".js_ad-unit"),this._setMobileWidth(h),this._bindMobileEvents(h)),d=this._initZone(j,a,k,l),e=d[0],f=d[1],i.addClass("initialized"),this._registerZone(f)):(i.addClass("hide js_slot-inactive"),m.trigger("ads."+j+".inactive"))}.bind(this)),y.length&&(m.on("ads.info.show",function(){f=new d.Collection(y.toNavigation()),f.activeModel=f.at(0),f.on("modal:navigate",this.onAdInfoNavigation),this._showInfoModal(f)}.bind(this)),this._renderZones())},_showInfoModal:function(a){n.create(new t({navigation:a,vent:m,view:u,viewOptions:{model:a.at(0).get("slotModel")}}),{name:"adInfo"})},onAdInfoNavigation:function(a){var b=a.collection;b.activeModel.set("active",!1),a.set("active",!0),b.activeModel=a,n.change(t,{navigation:b,vent:m,view:u,viewOptions:{model:a.get("slotModel")}})},API:{startAds:function(){var a=z,b=function(){i.isOn("ad_module")||a._initGpt(),a._initZones()};a._adsEnabled()?(h.markTimeForPermalink("JS - before ad controller initialized"),a._bindEvents(),i.isOn("amazon_matchbuy")?a._initAmazonMatchbuy(b):b()):m.trigger("kinjaads.disabled")},showInfo:function(){m.trigger("ads.info.show")}}};return window.ads=window.kinjaads=window.ads||{},window.ads.showInfo=window.kinjaads.showInfo=z.API.showInfo,z.API}),define("lib/kriteo",["singleton/Feature"],function(a){function b(a){var b,c,d,e=document.cookie.split(";");for(b=0;b<e.length;b++)if(c=e[b].substr(0,e[b].indexOf("=")),d=e[b].substr(e[b].indexOf("=")+1),c=c.replace(/^\s+|\s+$/g,""),c===a)return unescape(d);return""}if(a.isOn("no3rdparty"))return!1;var c="1482",d="cto_gawk",e=(b(d),Math.floor(99999999999*Math.random())),f=(a.isOn("linkswoprotocol")?"":"http:")+"//rtax.criteo.com/delivery/rta/rta.js?netId="+escape(c);f+="&cookieName="+escape(d),f+="&rnd="+e,f+="&varName=crtg_content";var g=document.createElement("script");g.type="text/javascript",g.src=f,g.async=!0,document.getElementsByTagName("head").length>0?document.getElementsByTagName("head")[0].appendChild(g):document.getElementsByTagName("body").length>0&&document.getElementsByTagName("body")[0].appendChild(g)}),define("lib/jquery.browser.mobile",["jquery"],function(a){!function(b){(a.browser=a.browser||{}).mobile=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino|android|ipad|playbook|silk/i.test(b)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(b.substr(0,4))}(navigator.userAgent||navigator.vendor||window.opera)}),define("singleton/VideoUtils",["jquery","lib/jquery.browser.mobile"],function(a){var b,c,d,e=a(document.body);return c=function(c){a.browser.mobile&&(c&&b?b.show():c||(b=e.find(".flex-video iframe:visible, .flex-video video:visible").hide()))},d=function(){a(document.body).on("opened.fndtn.reveal","[data-reveal]",function(){c(!1)}).on("close.fndtn.reveal","[data-reveal]",function(){c(!0)})},{hideVideosOnModalOpen:d}}),define("lib/amd-wrapped/tap.js/tap",[],function(){function a(a){this.el="object"==typeof a?a:document.getElementById(a),this.moved=!1,this.startX=0,this.startY=0,this.hasTouchEventOccured=!1,this.el.addEventListener("touchstart",this,!1),this.el.addEventListener("mousedown",this,!1)}return a.prototype.start=function(a){"touchstart"===a.type?(this.hasTouchEventOccured=!0,this.el.addEventListener("touchmove",this,!1),this.el.addEventListener("touchend",this,!1),this.el.addEventListener("touchcancel",this,!1)):"mousedown"===a.type&&this.el.addEventListener("mouseup",this,!1),this.moved=!1,this.startX="touchstart"===a.type?a.touches[0].clientX:a.clientX,this.startY="touchstart"===a.type?a.touches[0].clientY:a.clientY},a.prototype.move=function(a){(Math.abs(a.touches[0].clientX-this.startX)>10||Math.abs(a.touches[0].clientY-this.startY)>10)&&(this.moved=!0)},a.prototype.end=function(a){var b;this.el.removeEventListener("touchmove",this,!1),this.el.removeEventListener("touchend",this,!1),this.el.removeEventListener("touchcancel",this,!1),this.el.removeEventListener("mouseup",this,!1),this.moved||("function"==typeof window.CustomEvent?b=new window.CustomEvent("tap",{bubbles:!0,cancelable:!0}):(b=document.createEvent("Event"),b.initEvent("tap",!0,!0)),a.stopPropagation(),a.target.dispatchEvent(b)||a.preventDefault())},a.prototype.cancel=function(){this.hasTouchEventOccured=!1,this.moved=!1,this.startX=0,this.startY=0},a.prototype.destroy=function(){this.el.removeEventListener("touchstart",this,!1),this.el.removeEventListener("touchmove",this,!1),this.el.removeEventListener("touchend",this,!1),this.el.removeEventListener("touchcancel",this,!1),this.el.removeEventListener("mousedown",this,!1),this.el.removeEventListener("mouseup",this,!1)},a.prototype.handleEvent=function(a){switch(a.type){case"touchstart":this.start(a);break;case"touchmove":this.move(a);break;case"touchend":this.end(a);break;case"touchcancel":this.cancel(a);break;case"mousedown":this.start(a);break;case"mouseup":this.end(a)}},a}),define("jquery.tap",["lib/amd-wrapped/tap.js/tap","jquery"],function(a,b){b.event.special.tap=function(){if(!document.addEventListener)return{bindType:"click",delegateType:"click"};var c="tap.js";return{setup:function(){return b.data(this,c,new a(this)),!1},teardown:function(){var a=b.data(this,c);return a&&a.destroy&&(a.destroy(),b.removeData(this,c)),!1}}}.call(this)}),function(a,b){if("function"==typeof define&&define.amd)define("lib/foundation/foundation.alert",["jquery","./foundation"],b);else if("object"==typeof exports){var c=require("jquery"),d=require("./foundation");module.exports=b(c,d)}else b(a.jQuery||a.$,a.Foundation)}(this,function(a,b){b.libs.alert={name:"alert",version:"5.5.2",settings:{callback:function(){}},init:function(a,b,c){this.bindings(b,c)},events:function(){var b=this,c=this.S;a(this.scope).off(".alert").on("click.fndtn.alert","["+this.attr_name()+"] .close",function(a){var d=c(this).closest("["+b.attr_name()+"]"),e=d.data(b.attr_name(!0)+"-init")||b.settings;a.preventDefault(),Modernizr.csstransitions?(d.addClass("alert-close"),d.on("transitionend webkitTransitionEnd oTransitionEnd",function(){c(this).trigger("close.fndtn.alert").remove(),e.callback()})):d.fadeOut(300,function(){c(this).trigger("close.fndtn.alert").remove(),e.callback()})})},reflow:function(){}}}),function(a,b){if("function"==typeof define&&define.amd)define("lib/foundation/foundation.interchange",["jquery","./foundation"],b);else if("object"==typeof exports){var c=require("jquery"),d=require("./foundation");module.exports=b(c,d)}else b(a.jQuery||a.$,a.Foundation)}(this,function(a,b){b.libs.interchange={name:"interchange",version:"5.5.2",cache:{},images_loaded:!1,nodes_loaded:!1,settings:{load_attr:"interchange",named_queries:{"default":"only screen",small:b.media_queries.small,"small-only":b.media_queries["small-only"],medium:b.media_queries.medium,"medium-only":b.media_queries["medium-only"],large:b.media_queries.large,"large-only":b.media_queries["large-only"],xlarge:b.media_queries.xlarge,"xlarge-only":b.media_queries["xlarge-only"],xxlarge:b.media_queries.xxlarge,landscape:"only screen and (orientation: landscape)",portrait:"only screen and (orientation: portrait)",retina:"only screen and (-webkit-min-device-pixel-ratio: 2),only screen and (min--moz-device-pixel-ratio: 2),only screen and (-o-min-device-pixel-ratio: 2/1),only screen and (min-device-pixel-ratio: 2),only screen and (min-resolution: 192dpi),only screen and (min-resolution: 2dppx)"},directives:{replace:function(b,c,d){if(null!==b&&/IMG/.test(b[0].nodeName)){var e=b[0].src;if(new RegExp(c,"i").test(e))return;return b.attr("src",c),d(b[0].src)}var f=b.data(this.data_attr+"-last-path"),g=this;if(f!=c)return/\.(gif|jpg|jpeg|tiff|png)([?#].*)?/i.test(c)?(a(b).css("background-image","url("+c+")"),b.data("interchange-last-path",c),d(c)):a.get(c,function(a){b.html(a),b.data(g.data_attr+"-last-path",c),d()})}}},init:function(c,d,e){b.inherit(this,"throttle random_str"),this.data_attr=this.set_data_attr(),a.extend(!0,this.settings,d,e),this.bindings(d,e),this.reflow()},get_media_hash:function(){var a="";for(var b in this.settings.named_queries)a+=matchMedia(this.settings.named_queries[b]).matches.toString();return a},events:function(){var b,c=this;return a(window).off(".interchange").on("resize.fndtn.interchange",c.throttle(function(){var a=c.get_media_hash();a!==b&&c.resize(),b=a},50)),this},resize:function(){var b=this.cache;if(!this.images_loaded||!this.nodes_loaded)return void setTimeout(a.proxy(this.resize,this),50);for(var c in b)if(b.hasOwnProperty(c)){var d=this.results(c,b[c]);d&&this.settings.directives[d.scenario[1]].call(this,d.el,d.scenario[0],function(a){if(arguments[0]instanceof Array)var b=arguments[0];else var b=Array.prototype.slice.call(arguments,0);return function(){a.el.trigger(a.scenario[1],b)}}(d))}},results:function(a,b){var c=b.length;if(c>0)for(var d=this.S("["+this.add_namespace("data-uuid")+'="'+a+'"]');c--;){var e,f=b[c][2];if(e=matchMedia(this.settings.named_queries.hasOwnProperty(f)?this.settings.named_queries[f]:f),e.matches)return{el:d,scenario:b[c]}}return!1},load:function(a,b){return("undefined"==typeof this["cached_"+a]||b)&&this["update_"+a](),this["cached_"+a]},update_images:function(){var a=this.S("img["+this.data_attr+"]"),b=a.length,c=b,d=0,e=this.data_attr;for(this.cache={},this.cached_images=[],this.images_loaded=0===b;c--;){if(d++,a[c]){var f=a[c].getAttribute(e)||"";f.length>0&&this.cached_images.push(a[c])}d===b&&(this.images_loaded=!0,this.enhance("images"))}return this},update_nodes:function(){var a=this.S("["+this.data_attr+"]").not("img"),b=a.length,c=b,d=0,e=this.data_attr;for(this.cached_nodes=[],this.nodes_loaded=0===b;c--;){d++;var f=a[c].getAttribute(e)||"";f.length>0&&this.cached_nodes.push(a[c]),d===b&&(this.nodes_loaded=!0,this.enhance("nodes"))}return this},enhance:function(b){for(var c=this["cached_"+b].length;c--;)this.object(a(this["cached_"+b][c]));return a(window).trigger("resize.fndtn.interchange")},convert_directive:function(a){var b=this.trim(a);return b.length>0?b:"replace"},parse_scenario:function(a){var b=a[0].match(/(.+),\s*(\w+)\s*$/),c=a[1].match(/(.*)\)/);if(b)var d=b[1],e=b[2];else var f=a[0].split(/,\s*$/),d=f[0],e="";return[this.trim(d),this.convert_directive(e),this.trim(c[1])]},object:function(a){var b=this.parse_data_attr(a),c=[],d=b.length;if(d>0)for(;d--;){var e=b[d].split(/,\s?\(/);if(e.length>1){var f=this.parse_scenario(e);c.push(f)}}return this.store(a,c)},store:function(a,b){var c=this.random_str(),d=a.data(this.add_namespace("uuid",!0));return this.cache[d]?this.cache[d]:(a.attr(this.add_namespace("data-uuid"),c),this.cache[c]=b)},trim:function(b){return"string"==typeof b?a.trim(b):b},set_data_attr:function(a){return a?this.namespace.length>0?this.namespace+"-"+this.settings.load_attr:this.settings.load_attr:this.namespace.length>0?"data-"+this.namespace+"-"+this.settings.load_attr:"data-"+this.settings.load_attr},parse_data_attr:function(a){for(var b=a.attr(this.attr_name()).split(/\[(.*?)\]/),c=b.length,d=[];c--;)b[c].replace(/[\W\d]+/,"").length>4&&d.push(b[c]);return d},reflow:function(){this.load("images",!0),this.load("nodes",!0)}}}),function(a,b){if("function"==typeof define&&define.amd)define("lib/foundation/foundation.offcanvas",["jquery","./foundation"],b);else if("object"==typeof exports){var c=require("jquery"),d=require("./foundation");module.exports=b(c,d)}else b(a.jQuery||a.$,a.Foundation)}(this,function(a,b){b.libs.offcanvas={name:"offcanvas",version:"5.5.2",settings:{open_method:"move",close_on_click:!1},init:function(a,b,c){this.bindings(b,c)},events:function(){var b=this,c=b.S,d="",e="",f="";"move"===this.settings.open_method?(d="move-",e="right",f="left"):"overlap_single"===this.settings.open_method?(d="offcanvas-overlap-",e="right",f="left"):"overlap"===this.settings.open_method&&(d="offcanvas-overlap"),c(this.scope).off(".offcanvas").on("tap.fndtn.offcanvas",".left-off-canvas-toggle",function(f){b.click_toggle_class(f,d+e),"overlap"!==b.settings.open_method&&c(".left-submenu").removeClass(d+e),a(".left-off-canvas-toggle").attr("aria-expanded","true")}).on("tap.fndtn.offcanvas",".left-off-canvas-menu a",function(f){var g=b.get_settings(f),h=c(this).parent();!g.close_on_click||h.hasClass("has-submenu")||h.hasClass("back")?c(this).parent().hasClass("has-submenu")?(f.preventDefault(),c(this).siblings(".left-submenu").toggleClass(d+e)):h.hasClass("back")&&(f.preventDefault(),h.parent().removeClass(d+e)):(b.hide.call(b,d+e,b.get_wrapper(f)),h.parent().removeClass(d+e)),a(".left-off-canvas-toggle").attr("aria-expanded","true")}).on("tap.fndtn.offcanvas",".right-off-canvas-toggle",function(e){b.click_toggle_class(e,d+f),"overlap"!==b.settings.open_method&&c(".right-submenu").removeClass(d+f),a(".right-off-canvas-toggle").attr("aria-expanded","true")}).on("tap.fndtn.offcanvas",".right-off-canvas-menu a",function(e){var g=b.get_settings(e),h=c(this).parent();!g.close_on_click||h.hasClass("has-submenu")||h.hasClass("back")?c(this).parent().hasClass("has-submenu")?(e.preventDefault(),c(this).siblings(".right-submenu").toggleClass(d+f)):h.hasClass("back")&&(e.preventDefault(),h.parent().removeClass(d+f)):(b.hide.call(b,d+f,b.get_wrapper(e)),h.parent().removeClass(d+f)),a(".right-off-canvas-toggle").attr("aria-expanded","true")}).on("tap.fndtn.offcanvas",".exit-off-canvas",function(g){b.click_remove_class(g,d+f),c(".right-submenu").removeClass(d+f),e&&(b.click_remove_class(g,d+e),c(".left-submenu").removeClass(d+f)),a(".right-off-canvas-toggle").attr("aria-expanded","true")}).on("tap.fndtn.offcanvas",".exit-off-canvas",function(c){b.click_remove_class(c,d+f),a(".left-off-canvas-toggle").attr("aria-expanded","false"),e&&(b.click_remove_class(c,d+e),a(".right-off-canvas-toggle").attr("aria-expanded","false"))})},toggle:function(a,b){b=b||this.get_wrapper(),b.is("."+a)?this.hide(a,b):this.show(a,b)},show:function(a,b){b=b||this.get_wrapper(),b.trigger("open.fndtn.offcanvas"),b.addClass(a)},hide:function(a,b){b=b||this.get_wrapper(),b.trigger("close.fndtn.offcanvas"),b.removeClass(a)},click_toggle_class:function(a,b){a.preventDefault();var c=this.get_wrapper(a);this.toggle(b,c)},click_remove_class:function(a,b){a.preventDefault();var c=this.get_wrapper(a);this.hide(b,c)},get_settings:function(a){var b=this.S(a.target).closest("["+this.attr_name()+"]");return b.data(this.attr_name(!0)+"-init")||this.settings},get_wrapper:function(a){var b=this.S(a?a.target:this.scope).closest(".off-canvas-wrap");return 0===b.length&&(b=this.S(".off-canvas-wrap")),b},reflow:function(){}}}),function(a,b){if("function"==typeof define&&define.amd)define("lib/foundation/foundation.reveal",["jquery","./foundation"],b);else if("object"==typeof exports){var c=require("jquery"),d=require("./foundation");module.exports=b(c,d)}else b(a.jQuery||a.$,a.Foundation)}(this,function(a,b){function c(a){var b=/fade/i.test(a),c=/pop/i.test(a);return{animate:b||c,pop:c,fade:b}}b.libs.reveal={name:"reveal",version:"5.5.2",locked:!1,settings:{animation:"fadeAndPop",animation_speed:250,close_on_background_click:!0,close_on_esc:!0,dismiss_modal_class:"close-reveal-modal",multiple_opened:!1,bg_class:"reveal-modal-bg",root_element:"body",open:function(){},opened:function(){},close:function(){},closed:function(){},on_ajax_error:a.noop,bg:a(".reveal-modal-bg"),css:{open:{opacity:0,visibility:"visible",display:"block"},close:{opacity:1,visibility:"hidden",display:"none"}}},init:function(b,c,d){a.extend(!0,this.settings,c,d),this.bindings(c,d)},events:function(){var a=this,b=a.S;return b(this.scope).off(".reveal").on("click.fndtn.reveal","["+this.add_namespace("data-reveal-id")+"]:not([disabled])",function(c){if(c.preventDefault(),!a.locked){var d=b(this),e=d.data(a.data_attr("reveal-ajax")),f=d.data(a.data_attr("reveal-replace-content"));if(a.locked=!0,"undefined"==typeof e)a.open.call(a,d);else{var g=e===!0?d.attr("href"):e;a.open.call(a,d,{url:g},{replaceContentSel:f})}}}),b(document).on("click.fndtn.reveal",this.close_targets(),function(c){if(c.preventDefault(),!a.locked){var d=b("["+a.attr_name()+"].open").data(a.attr_name(!0)+"-init")||a.settings,e=b(c.target)[0]===b("."+d.bg_class)[0];if(e){if(!d.close_on_background_click)return;c.stopPropagation()}a.locked=!0,a.close.call(a,e?b("["+a.attr_name()+"].open:not(.toback)"):b(this).closest("["+a.attr_name()+"]"))}}),b("["+a.attr_name()+"]",this.scope).length>0?b(this.scope).on("open.fndtn.reveal",this.settings.open).on("opened.fndtn.reveal",this.settings.opened).on("opened.fndtn.reveal",this.open_video).on("close.fndtn.reveal",this.settings.close).on("closed.fndtn.reveal",this.settings.closed).on("closed.fndtn.reveal",this.close_video):b(this.scope).on("open.fndtn.reveal","["+a.attr_name()+"]",this.settings.open).on("opened.fndtn.reveal","["+a.attr_name()+"]",this.settings.opened).on("opened.fndtn.reveal","["+a.attr_name()+"]",this.open_video).on("close.fndtn.reveal","["+a.attr_name()+"]",this.settings.close).on("closed.fndtn.reveal","["+a.attr_name()+"]",this.settings.closed).on("closed.fndtn.reveal","["+a.attr_name()+"]",this.close_video),!0},key_up_on:function(){var a=this;return a.S("body").off("keyup.fndtn.reveal").on("keyup.fndtn.reveal",function(b){var c=a.S("["+a.attr_name()+"].open"),d=c.data(a.attr_name(!0)+"-init")||a.settings;d&&27===b.which&&d.close_on_esc&&!a.locked&&a.close.call(a,c)}),!0},key_up_off:function(){return this.S("body").off("keyup.fndtn.reveal"),!0},open:function(b,c){var d,e=this;b?"undefined"!=typeof b.selector?d=e.S("#"+b.data(e.data_attr("reveal-id"))).first():(d=e.S(this.scope),c=b):d=e.S(this.scope);var f=d.data(e.attr_name(!0)+"-init");if(f=f||this.settings,d.hasClass("open")&&b.attr("data-reveal-id")==d.attr("id"))return e.close(d);if(!d.hasClass("open")){var g=e.S("["+e.attr_name()+"].open");if("undefined"==typeof d.data("css-top")&&d.data("css-top",parseInt(d.css("top"),10)).data("offset",this.cache_offset(d)),d.attr("tabindex","0").attr("aria-hidden","false"),this.key_up_on(d),d.on("open.fndtn.reveal",function(a){"fndtn.reveal"!==a.namespace}),d.on("open.fndtn.reveal").trigger("open.fndtn.reveal"),g.length<1&&this.toggle_bg(d,!0),"string"==typeof c&&(c={url:c}),"undefined"!=typeof c&&c.url){var h="undefined"!=typeof c.success?c.success:null;a.extend(c,{success:function(b,c,i){if(a.isFunction(h)){var j=h(b,c,i);"string"==typeof j&&(b=j)}"undefined"!=typeof options&&"undefined"!=typeof options.replaceContentSel?d.find(options.replaceContentSel).html(b):d.html(b),e.S(d).foundation("section","reflow"),e.S(d).children().foundation(),g.length>0&&(f.multiple_opened?e.to_back(g):e.hide(g,f.css.close)),e.show(d,f.css.open)}}),f.on_ajax_error!==a.noop&&a.extend(c,{error:f.on_ajax_error}),a.ajax(c)}else g.length>0&&(f.multiple_opened?e.to_back(g):e.hide(g,f.css.close)),this.show(d,f.css.open)}e.S(window).trigger("resize")},close:function(b){var b=b&&b.length?b:this.S(this.scope),c=this.S("["+this.attr_name()+"].open"),d=b.data(this.attr_name(!0)+"-init")||this.settings,e=this;c.length>0&&(b.removeAttr("tabindex","0").attr("aria-hidden","true"),this.locked=!0,this.key_up_off(b),b.trigger("close.fndtn.reveal"),(d.multiple_opened&&1===c.length||!d.multiple_opened||b.length>1)&&(e.toggle_bg(b,!1),e.to_front(b)),d.multiple_opened?(e.hide(b,d.css.close,d),e.to_front(a(a.makeArray(c).reverse()[1]))):e.hide(c,d.css.close,d))},close_targets:function(){var a="."+this.settings.dismiss_modal_class;return this.settings.close_on_background_click?a+", ."+this.settings.bg_class:a},toggle_bg:function(b,c){0===this.S("."+this.settings.bg_class).length&&(this.settings.bg=a("<div />",{"class":this.settings.bg_class}).appendTo("body").hide());var d=this.settings.bg.filter(":visible").length>0;c!=d&&((void 0==c?d:!c)?this.hide(this.settings.bg):this.show(this.settings.bg))},show:function(b,d){if(d){var e=b.data(this.attr_name(!0)+"-init")||this.settings,f=e.root_element,g=this;if(0===b.parent(f).length){var h=b.wrap('<div style="display: none;" />').parent();b.on("closed.fndtn.reveal.wrapped",function(){b.detach().appendTo(h),b.unwrap().unbind("closed.fndtn.reveal.wrapped")}),b.detach().appendTo(f)}var i=c(e.animation);if(i.animate||(this.locked=!1),i.pop){d.top=a(window).scrollTop()-b.data("offset")+"px";var j={top:a(window).scrollTop()+b.data("css-top")+"px",opacity:1};return setTimeout(function(){return b.css(d).animate(j,e.animation_speed,"linear",function(){g.locked=!1,b.trigger("opened.fndtn.reveal")}).addClass("open")},e.animation_speed/2)}if(i.fade){d.top=a(window).scrollTop()+b.data("css-top")+"px";var j={opacity:1};return setTimeout(function(){return b.css(d).animate(j,e.animation_speed,"linear",function(){g.locked=!1,b.trigger("opened.fndtn.reveal")}).addClass("open")},e.animation_speed/2)}return b.css(d).show().css({opacity:1}).addClass("open").trigger("opened.fndtn.reveal")}var e=this.settings;return c(e.animation).fade?b.fadeIn(e.animation_speed/2):(this.locked=!1,b.show())},to_back:function(a){a.addClass("toback")},to_front:function(a){a.removeClass("toback")},hide:function(b,d){if(d){var e=b.data(this.attr_name(!0)+"-init"),f=this;e=e||this.settings;var g=c(e.animation);if(g.animate||(this.locked=!1),g.pop){var h={top:-a(window).scrollTop()-b.data("offset")+"px",opacity:0};return setTimeout(function(){return b.animate(h,e.animation_speed,"linear",function(){f.locked=!1,b.css(d).trigger("closed.fndtn.reveal")
}).removeClass("open")},e.animation_speed/2)}if(g.fade){var h={opacity:0};return setTimeout(function(){return b.animate(h,e.animation_speed,"linear",function(){f.locked=!1,b.css(d).trigger("closed.fndtn.reveal")}).removeClass("open")},e.animation_speed/2)}return b.hide().css(d).removeClass("open").trigger("closed.fndtn.reveal")}var e=this.settings;return c(e.animation).fade?b.fadeOut(e.animation_speed/2):b.hide()},close_video:function(b){var c=a(".flex-video",b.target),d=a("iframe",c);d.length>0&&(d.attr("data-src",d[0].src),d.attr("src",d.attr("src")),c.hide())},open_video:function(b){var c=a(".flex-video",b.target),d=c.find("iframe");if(d.length>0){var e=d.attr("data-src");if("string"==typeof e)d[0].src=d.attr("data-src");else{var f=d[0].src;d[0].src=void 0,d[0].src=f}c.show()}},data_attr:function(a){return this.namespace.length>0?this.namespace+"-"+a:a},cache_offset:function(a){var b=a.show().height()+parseInt(a.css("top"),10)+a.scrollY;return a.hide(),b},off:function(){a(this.scope).off(".fndtn.reveal")},reflow:function(){}}}),function(a,b){if("function"==typeof define&&define.amd)define("lib/foundation/foundation.tab",["jquery","./foundation"],b);else if("object"==typeof exports){var c=require("jquery"),d=require("./foundation");module.exports=b(c,d)}else b(a.jQuery||a.$,a.Foundation)}(this,function(a,b){b.libs.tab={name:"tab",version:"5.5.2",settings:{active_class:"active",callback:function(){},deep_linking:!1,scroll_to_content:!0,is_hover:!1},default_tab_hashes:[],init:function(a,b,c){var d=this,e=this.S;e("["+this.attr_name()+"] > .active > a",this.scope).each(function(){d.default_tab_hashes.push(this.hash)}),d.entry_location=window.location.href,this.bindings(b,c),this.handle_location_hash_change()},events:function(){var a=this,b=this.S,c=function(c,d){var e=b(d).closest("["+a.attr_name()+"]").data(a.attr_name(!0)+"-init");(!e.is_hover||Modernizr.touch)&&(c.preventDefault(),c.stopPropagation(),a.toggle_active_tab(b(d).parent()))};b(this.scope).off(".tab").on("keydown.fndtn.tab","["+this.attr_name()+"] > * > a",function(a){var b=this,d=a.keyCode||a.which;9==d&&(a.preventDefault(),c(a,b))}).on("click.fndtn.tab","["+this.attr_name()+"] > * > a",function(a){a.preventDefault()}).on("tap.fndtn.tab","["+this.attr_name()+"] > * > a",function(a){var b=this;c(a,b)}).on("mouseenter.fndtn.tab","["+this.attr_name()+"] > * > a",function(){var c=b(this).closest("["+a.attr_name()+"]").data(a.attr_name(!0)+"-init");c.is_hover&&a.toggle_active_tab(b(this).parent())}),b(window).on("hashchange.fndtn.tab",function(b){b.preventDefault(),a.handle_location_hash_change()})},handle_location_hash_change:function(){var b=this,c=this.S;c("["+this.attr_name()+"]",this.scope).each(function(){var d=c(this).data(b.attr_name(!0)+"-init");if(d.deep_linking){var e;if(e=d.scroll_to_content?b.scope.location.hash:b.scope.location.hash.replace("fndtn-",""),""!=e){var f=c(e);if(f.hasClass("content")&&f.parent().hasClass("tabs-content"))b.toggle_active_tab(a("["+b.attr_name()+"] > * > a[href="+e+"]").parent());else{var g=f.closest(".content").attr("id");void 0!=g&&b.toggle_active_tab(a("["+b.attr_name()+"] > * > a[href=#"+g+"]").parent(),e)}}else for(var h=0;h<b.default_tab_hashes.length;h++)b.toggle_active_tab(a("["+b.attr_name()+"] > * > a[href="+b.default_tab_hashes[h]+"]").parent())}})},toggle_active_tab:function(b,c){var d=this,e=d.S,f=b.closest("["+this.attr_name()+"]"),g=b.find("a"),h=b.children("a").first(),i="#"+h.attr("href").split("#")[1],j=e(i),k=b.siblings(),l=f.data(this.attr_name(!0)+"-init"),m=function(b){var c,d=a(this),e=a(this).parents("li").prev().children('[role="tab"]'),f=a(this).parents("li").next().children('[role="tab"]');switch(b.keyCode){case 37:c=e;break;case 39:c=f;break;default:c=!1}c.length&&(d.attr({tabindex:"-1","aria-selected":null}),c.attr({tabindex:"0","aria-selected":!0}).focus()),a('[role="tabpanel"]').attr("aria-hidden","true"),a("#"+a(document.activeElement).attr("href").substring(1)).attr("aria-hidden",null)},n=function(a){var b=window.location.href===d.entry_location,c=l.scroll_to_content?d.default_tab_hashes[0]:b?window.location.hash:"fndtn-"+d.default_tab_hashes[0].replace("#","");b&&a===c||(window.location.hash=a)};h.data("tab-content")&&(i="#"+h.data("tab-content").split("#")[1],j=e(i)),l.deep_linking&&(l.scroll_to_content?(n(c||i),void 0==c||c==i?b.parent()[0].scrollIntoView():e(i)[0].scrollIntoView()):n(void 0!=c?"fndtn-"+c.replace("#",""):"fndtn-"+i.replace("#",""))),b.addClass(l.active_class).triggerHandler("opened"),g.attr({"aria-selected":"true",tabindex:0}),k.removeClass(l.active_class),k.find("a").attr({"aria-selected":"false",tabindex:-1}),j.siblings().removeClass(l.active_class).attr({"aria-hidden":"true",tabindex:-1}),j.addClass(l.active_class).attr("aria-hidden","false").removeAttr("tabindex"),l.callback(b),j.triggerHandler("toggled",[j]),f.triggerHandler("toggled",[b]),g.off("keydown").on("keydown",m)},data_attr:function(a){return this.namespace.length>0?this.namespace+"-"+a:a},off:function(){},reflow:function(){}}}),define("module/foundation/Foundation5",["jquery","singleton/Utils","singleton/VideoUtils","lib/foundation/foundation","jquery.tap","lib/foundation/foundation.alert","lib/foundation/foundation.dropdown","lib/foundation/foundation.interchange","lib/foundation/foundation.offcanvas","lib/foundation/foundation.reveal","lib/foundation/foundation.tab","gawkerlib/jquery.foundation.dropdownhover"],function(a,b,c,d){var e=d.libs.reveal;e.open_video=a.noop,e.close_video=a.noop,c.hideVideosOnModalOpen(),d.set_namespace=a.noop,a(document).foundation(),a(document.body).on("opened.fndtn.dropdown",".f-dropdown",function(){a(this).find("img[data-src]").each(function(){var b=a(this);b.attr("src",b.data("src")).removeData("src")})}),b.dropdownSentinel()}),define("lib/polyfills/json-null-old-android",[],function(){JSON.originalParse=JSON.parse,JSON.parse=function(a){return a?JSON.originalParse(a):null}}),function(){define("module/Main",["backbone","backbone.marionette","jquery","router/AppRouter","singleton/Utils","singleton/Feature","singleton/RavenConfig","singleton/Trackers","singleton/DeviceController","singleton/PerfTracker","module/ads/ads.controller","app/MarionetteApp","singleton/CurrentUser","singleton/CurrentBlog","lib/kriteo","module/foundation/Foundation5","lib/polyfills/json-null-old-android"],function(a,b,c,d,e,f,g,h,i,j,k,l){function m(){var b;g.init(),f.isOn("no3rdparty")?h.loadDummy():(h.load(),i.setDevice(),k.startAds()),f.isOn("remove_approuter")||(b=new d({}),a.history.start({pushState:!1,hashChange:!1})),l.start(),f.isOn("frontendtiming")&&window.setTimeout(function(){j.start()},0)}return c.ajaxSetup({cache:!0}),f.isOn("remove_approuter")||m(),{start:m}})}();