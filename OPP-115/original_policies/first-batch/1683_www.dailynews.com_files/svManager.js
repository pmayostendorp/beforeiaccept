define(["core/infra/subject","core/data/dataObject","core/logger"],function(e,t,a){var n=!1,r=null,o=null,i=new e,u=function(e){var t=null,a=c();return a&&(t=a.getDataByKey(e.toLowerCase())),t},c=function(){return o},d=function(){var e={},a=EB.getSVData();if(a)for(var n in a)e[n.toLowerCase()]=a[n];else if(a=r.svData)for(var n in a)e[n]=a[n].value;o=new t("sv",e)},f=function(){n=!0,d()},v=function(){n=!0,d()},s=function(){f(),i.dispatchEvent("ready")},l=function(){v(),i.dispatchEvent("ready")},g=function(e){n?e():i.registerForEvent("ready",1,e)},E=function(e){r=e,EB.getSVData?EB.getSVData()?f():(EB.addEventListener("svDataReady",s),EB.addEventListener("svDataFailed",l)):v()};return a.log("svManager module loaded"),{init:E,onReady:g,getSVData:u,getDataObject:c}});