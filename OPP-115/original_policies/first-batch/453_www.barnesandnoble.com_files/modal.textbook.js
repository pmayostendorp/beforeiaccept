/*! BARNES-BUILDER 2015-06-29 */
BN.Modal.Textbook=BN.Modal.Textbook||{},BN.Modal.Textbook.Base=BN.Modal.Textbook.Base||Extend(function(){var a=function(){consoleLog("Instantiating BN.Modal.Textbook.Base")};return a.prototype={defaultOptions:{tplDir:SITE_ROOT+"/modals/textbook/"},initFrameForm:function(a){var b=this;$(window).on("amplifiFrameFormSuccess",function(c,d){var e=b.data,f=window.location.toString().split("#")[0];return a===!1||e.redirect===!1?(loadDynamicHeaderElements(),void consoleLog("Success!")):(null!=d&&void 0!=d&&d instanceof Object&&d.redirectSuccessUrl&&""!=d.redirectSuccessUrl?f=d.redirectSuccessUrl:null!=d&&void 0!=d&&d instanceof Object&&d.redirect&&""!=d.redirect?f=d.redirect:null!=e&&void 0!=e&&e instanceof Object&&e.redirectSuccessUrl&&""!=e.redirectSuccessUrl&&(f=e.redirectSuccessUrl),consoleLog("Success! Redirecting page to "+f),void(window.location=f))})}},a}(),BN.Modal.Base,!0),BN.Modal.Textbook=BN.Modal.Textbook||{},BN.Modal.Textbook.Terms=BN.Modal.Textbook.Terms||Extend(function(){var a=function(){consoleLog("Instantiating BN.Modal.Textbook.Terms")};return a.prototype={tplName:"m-buyback-terms",initView:function(){var a=this.data,b=$(a.target),c=b.attr("href")||"";!a.redirectSuccessUrl&&b.length>-1&&""!=c&&"#"!=c&&("/"==c.substr(0,1)&&(c=SITE_DOMAIN_URL+c),consoleLog(c),a.redirectSuccessUrl=c),this.initGenericView(),this.initForm()}},a}(),BN.Modal.Textbook.Base,!0);