/*! BARNES-BUILDER 2015-06-29 */
BN.Modal.Bookseller=BN.Modal.Bookseller||{},BN.Modal.Bookseller.Base=BN.Modal.Bookseller.Base||Extend(function(){var a=function(){consoleLog("Instantiating BN.Modal.Bookseller.Base")};return a.prototype={defaultOptions:{tplDir:SITE_ROOT+"/modals/bookseller/"},initForm:function(){var a=this,b=$(this.modal).find("form");consoleLog("Attaching uXHR to form",b),BN.uXHR.Form.apply(b),consoleLog("Listening for Errors"),b.on("amplifiFormError",function(b,c,d,e,f){var g=f.items;consoleError("Unsuccessful Form Submission: Server's response indicated errors occurred"),consoleLog(g),BN.Validate.DisplayErrors(this,g),a.$spinner.remove()}).on("amplifiFormBeforeSubmit",function(){consoleLog("Calling displaySpinner"),a.displaySpinner()}),$(document).on("click","#guestCheckoutBtn",function(){$("#checkoutForm").submit()}),$(this.modal).find("select").selectBox()}},a}(),BN.Modal.Account.Base,!0),BN.Modal.Bookseller=BN.Modal.Bookseller||{},BN.Modal.Bookseller.Login=BN.Modal.Bookseller.Login||Extend(function(){var a=function(){consoleLog("Instantiating BN.Modal.Browse.Login.test")};return a.prototype={tplName:"BookSellerLogin",defaultOptions:{tplParams:{parentUrl:encodeURIComponent(location.href),tplName:"BookSellerLogin"},useCache:!1},initView:function(){this.initGenericView(),this.initFrameForm()}},a}(),BN.Modal.Bookseller.Base,!0),BN.Modal.Bookseller=BN.Modal.Bookseller||{},BN.Modal.Bookseller.Lookup=BN.Modal.Bookseller.Lookup||Extend(function(){var a=function(){consoleLog("Instantiating BN.Modal.Browse.Lookup")};return a.prototype={tplName:"BookSellerLookup",initView:function(){{var a=this;$(this.modal)}this.initGenericView(),this.initForm(),this.displaySpinner(),this.on("display",function(){a.$spinner.remove(),$("#sellerLoginModal").on("click",".unlock-this-account",function(b){b.preventDefault(),a.displaySpinner(),$($(this).data("unlock-form")).submit()}),$("#customerLookupForm").on("amplifiFormSuccess",function(b,c){a.$spinner.remove(),$("#search-results, .sa-shadow").show(),$("#searchResultsRow #resultsContainerContent").html(c);$("li.results-data").length;$("li.results-data:first-child").addClass("selectedRow"),$("#search-results").show(),$("li.results-data").click(function(){$("li.results-data").each(function(){$(this).removeClass("selectedRow")}),$(this).addClass("selectedRow")}),$('form#customerLookupForm input[type="text"]').each(function(){$(this).val(""),$(this).blur()});var d=$("#customerLookupDroplet li").length;0===d&&$("#search-results, .sa-shadow").hide(),BN.uXHR.Form.apply($(".unlock-account-form")),$(".unlock-account-form").on("amplifiFormSuccess",function(b){a.$spinner.remove();var c=$(b.target).data("login-button");$(c).prev(".unlock-this-account").hide(),$(c).removeClass("no-display"),new BN.Modal.Success(null,{title:"Account Unlocked",messages:[{type:"success",message:"The Account was unlocked successfully"}]})}),$(".unlock-account-form").on("amplifiFormError",function(){a.$spinner.remove()})}).on("amplifiFormError",function(){}),$("#orderSearchForm").on("amplifiFormSuccess",function(){a.$spinner.remove(),window.location.href=SITE_DOMAIN_URL})})}},a}(),BN.Modal.Bookseller.Base,!0);