define(["jquery","underscore","backbone","baseview","modules/myCapture/myCapture","pubsub","utils"],function(t,e,s,i,o,a,l){var n=i.extend({events:{"click .slide-nav":"switchSlide","click .autoplay":"autoplay","click .thumbnails":"thumbsToggle","click .captions":"captionsToggle",mouseenter:"mouseover",mouseleave:"mouseout","click .fullscreen":"launchFullscreen"},selectors:{allCaptions:".meta",captionBtnLabel:".captionLabel",nextArrow:".slide-nav.next",playBtn:".playbtn",prevArrow:".slide-nav.prev",thumbsBtnLabel:".thumbLabel",thumbsWrapper:".thumbs",ticker:".ticker",viewport:".viewport",activeSlide:".gallery-viewport-slide.active"},initialize:function(e){e=t.extend({index:0,hoverShowControls:!0,interactionDemo:!0,interactionShowDelay:600,interactionHideDelay:3600,totalImages:0,totalSlides:0},e),this.index=e.index,i.prototype.initialize.call(this,e),l.getNested(window.site_vars,"THIRDPARTYAPI","MYCAPTURE","ENABLED")&&this.setupMyCapture()},render:function(){this.updateTicker(),this.updateNextPrevArrows(this.index),this.options.interactionDemo&&this.startInteractionDemo()},destroy:function(t){this.clearUserInteractionDemo(),i.prototype.destroy.call(this,t)},setupMyCapture:function(){this.subviews.mycapture=new o({el:this.$el})},switchSlide:function(e){e.preventDefault();var s=t(e.currentTarget),i=s.hasClass("prev");if(s.attr("data-lastClicked","true").siblings(".slide-nav").removeAttr("data-lastClicked"),i?this.options.carousel.switchSlide(null,-1,!1):this.options.carousel.switchSlide(null,1,!1),this.subviews.mycapture){var o=this.$(this.selectors.allCaptions).hasClass("on");this.subviews.mycapture.toggleSmallTag(!o)}},autoplay:function(t){t.preventDefault(),this.options.carousel.autoplay()},startInteractionDemo:function(){var t=this;this.uxTimeout1=setTimeout(function(){t.$el.addClass("hover")},this.options.interactionShowDelay),this.uxTimeout2=setTimeout(function(){t.$el.removeClass("hover")},this.options.interactionHideDelay)},clearUserInteractionDemo:function(){clearTimeout(this.uxTimeout1),clearTimeout(this.uxTimeout2)},mouseover:function(){this.options.hoverShowControls&&this.$$(this.selectors.viewport).addClass("hover"),this.$el.addClass("hover"),this.clearUserInteractionDemo()},mouseout:function(){this.options.hoverShowControls&&this.$$(this.selectors.viewport).removeClass("hover"),this.$el.removeClass("hover")},launchFullscreen:function(t){t.preventDefault(),a.trigger("openFullScreenCarousel",{carousel:this,fullScreen:!0,parent:this.$el})},captionsToggle:function(t){var e=this.$$(this.selectors.allCaptions),s=this.$$(this.selectors.captionBtnLabel);t.preventDefault(),e.hasClass("on")?(e.removeClass("on"),s.html("Show Captions")):(e.addClass("on"),s.html("Hide Captions")),this.subviews.mycapture&&this.subviews.mycapture.toggleSmallTag(!e.hasClass("on"))},thumbsToggle:function(t){var e=this.$$(this.selectors.thumbsBtnLabel),s=this.$$(this.selectors.thumbsWrapper);t.preventDefault(),s.hasClass("on")?(s.removeClass("on"),e.html("Show Thumbnails"),this.options.carousel.toggleThumbnail(!1)):(s.addClass("on"),e.html("Hide Thumbnails"),this.options.carousel.toggleThumbnail(!0))},updateNextPrevArrows:function(t){var e=this.$$(this.selectors.prevArrow),s=this.$$(this.selectors.nextArrow);0===t?e.hide():e.show(),t<this.options.totalSlides-1?s.show():s.hide()},updateTicker:function(){var t=this.$$(this.selectors.ticker);t.length&&(t.css(this.index<this.options.totalImages?{visibility:"visible"}:{visibility:"hidden"}),t.html("<b>"+(this.index+1)+"</b> of <b>"+this.options.totalImages+"</b>"))},goToSlide:function(t){this.index=t,this.updateNextPrevArrows(t),this.updateTicker()},onPlay:function(){this.$$(this.selectors.playBtn).addClass("pause").text("Pause")},onStop:function(){this.$$(this.selectors.playBtn).removeClass("pause").text("Autoplay")}});return n});
//# sourceMappingURL=controls.js
//# sourceMappingURL=controls.js.map