window.Echo||(window.Echo={}),Echo._yepnope=window.yepnope,Echo.yepnope||(!function(a,b,c){function d(a){return!a||"loaded"==a||"complete"==a||"uninitialized"==a}function e(a,c,e,f,h,i){var j,k,m=b.createElement("script");f=f||l.errorTimeout,m.src=a;for(k in e)m.setAttribute(k,e[k]);c=i?g:c||s,m.onreadystatechange=m.onload=function(){!j&&d(m.readyState)&&(j=1,c(),m.onload=m.onreadystatechange=null)},n(function(){j||(j=1,c(1))},f),E(),h?m.onload():o.parentNode.insertBefore(m,o)}function f(a,c,d,e,
f,h){var i,j=b.createElement("link");e=e||l.errorTimeout,c=h?g:c||s,j.href=a,j.rel="stylesheet",j.type="text/css";for(i in d)j.setAttribute(i,d[i]);f||(E(),o.parentNode.insertBefore(j,o),n(c,0))}function g(){var a=q.shift();r=1,a?a.t?n(function(){("c"==a.t?l.injectCss:l.injectJs)(a.s,0,a.a,a.x,a.e,1)},0):(a(),g()):r=0}function h(a,c,e,f,h,i,j){function k(b){if(!p&&d(m.readyState)&&(t.r=p=1,!r&&g(),b)){"img"!=a&&n(function(){m.parentNode&&m.parentNode.removeChild(m)},50);for(var e in G[c])G[c].hasOwnProperty(e)&&
G[c][e].onload();m.onload=m.onreadystatechange=null}}j=j||l.errorTimeout;var m=b.createElement(a),p=0,s=0,t={t:e,s:c,e:h,a:i,x:j};1===G[c]&&(s=1,G[c]=[]),"object"==a?(m.data=c,m.setAttribute("type","text/css")):(m.src=c,m.type=a),m.width=m.height="0",m.onerror=m.onload=m.onreadystatechange=function(){k.call(this,s)},q.splice(f,0,t),"img"!=a&&(s||2===G[c]?(E(),o.parentNode.insertBefore(m,u?null:o),n(k,j)):G[c].push(m))}function i(a,b,c,d,e){return r=0,b=b||"j",C(a)?h("c"==b?z:y,a,b,this.i++,c,d,e):
(q.splice(this.i++,0,a),1==q.length&&g()),this}function j(){var a=l;return a.loader={load:i,i:0},a}var k,l,m=b.documentElement,n=a.setTimeout,o=b.getElementsByTagName("script")[0],p={}.toString,q=[],r=0,s=function(){},t="MozAppearance"in m.style,u=t&&!!b.createRange().compareNode,v=a.opera&&"[object Opera]"==p.call(a.opera),w=!!b.attachEvent&&!v,x="webkitAppearance"in m.style&&!("async"in b.createElement("script")),y=t?"object":w||x?"script":"img",z=w?"script":x?"img":y,A=Array.isArray||function(a){return"[object Array]"==
p.call(a)},B=function(a){return Object(a)===a},C=function(a){return"string"==typeof a},D=function(a){return"[object Function]"==p.call(a)},E=function(){o&&o.parentNode&&m.contains(o)||(o=b.getElementsByTagName("script")[0])},F=[],G={},H={timeout:function(a,b){return b.length&&(a.timeout=b[0]),a}};l=function(a){function b(a){var b,c,d,e=a.split("!"),f=F.length,g=e.pop(),h=e.length,i={url:g,origUrl:g,prefixes:e};for(c=0;h>c;c++)d=e[c].split("\x3d"),b=H[d.shift()],b&&(i=b(i,d));for(c=0;f>c;c++)i=F[c](i);
return i}function d(a){var b=a.split("?")[0];return b.substr(b.lastIndexOf(".")+1)}function e(a,e,f,g,h){var i=b(a),k=i.autoCallback;d(i.url);if(!i.bypass)return e&&(e=D(e)?e:e[a]||e[g]||e[a.split("/").pop().split("?")[0]]),i.instead?i.instead(a,e,f,g,h):(G[i.url]&&i.reexecute!==!0?i.noexec=!0:G[i.url]=1,a&&f.load(i.url,i.forceCSS||!i.forceJS&&"css"==d(i.url)?"c":c,i.noexec,i.attrs,i.timeout),(D(e)||D(k))&&f.load(function(){j(),e&&e(i.origUrl,h,g),k&&k(i.origUrl,h,g),G[i.url]=2}),void 0)}function f(a,
b){function c(a,c){if(""===a||a)if(C(a))c||(j=function(){var a=[].slice.call(arguments);k.apply(this,a),l()}),e(a,j,b,0,g);else{if(B(a)){d=function(){var b,c=0;for(b in a)a.hasOwnProperty(b)&&c++;return c}();for(f in a)a.hasOwnProperty(f)&&(c||--d||(D(j)?j=function(){var a=[].slice.call(arguments);k.apply(this,a),l()}:j[f]=function(a){return function(){var b=[].slice.call(arguments);a&&a.apply(this,b),l()}}(k[f])),e(a[f],j,b,f,g))}}else!c&&l()}var d,f,g=!!a.test,h=g?a.yep:a.nope,i=a.load||a.both,
j=a.callback||s,k=j,l=a.complete||s;c(h,!!i||!!a.complete),i&&c(i),!i&&!!a.complete&&c("")}var g,h,i=this.yepnope.loader;if(C(a))e(a,0,i,0);else if(A(a))for(g=0;g<a.length;g++)h=a[g],C(h)?e(h,0,i,0):A(h)?l(h):B(h)&&f(h,i);else B(a)&&f(a,i)},l.addPrefix=function(a,b){H[a]=b},l.addFilter=function(a){F.push(a)},l.errorTimeout=1E4,null==b.readyState&&b.addEventListener&&(b.readyState="loading",b.addEventListener("DOMContentLoaded",k=function(){b.removeEventListener("DOMContentLoaded",k,0),b.readyState=
"complete"},0)),a.yepnope=j(),a.yepnope.executeStack=g,a.yepnope.injectJs=e,a.yepnope.injectCss=f}(this,document),Echo.yepnope=window.yepnope,Echo.yepnope.injectCss=void 0,window.yepnope=Echo._yepnope,delete Echo._yepnope);
!function(a){a.injectCss||!function(b,c,d){a.injectCss=function(b,d,e,f,g,h){function i(){try{if(k)return;for(var a=document.styleSheets,b=0,c=a.length;c>b;b++)if(a[b].ownerNode.id==o&&(p||a[b].cssRules.length))return n();throw new Error;}catch(d){setTimeout(i,20)}}var j,k,l,m=document.createElement("link"),n=function(){k||(k=1,m.removeAttribute("id"),setTimeout(d,0))},o="yn"+ +new Date;d=h?a.executeStack:d||function(){},f=f||a.errorTimeout,m.href=b,m.rel="stylesheet",m.type="text/css",m.id=o;for(l in e)m.setAttribute(l,
e[l]);var p="webkitAppearance"in c.documentElement.style;g||(setTimeout(n,f),j=document.getElementsByTagName("base")[0]||document.getElementsByTagName("script")[0],j.parentNode.insertBefore(m,j),m.onload=n,i())}}(this,this.document)}(Echo.yepnope);
!function(){if(window.Echo||(window.Echo={}),!Echo.Cookie){var a=/\+/g,b=function(b){return decodeURIComponent(b.replace(a," "))};Echo.Cookie={},Echo.Cookie.get=function(a){for(var c=document.cookie.split("; "),d=0,e=c.length;e>d;d++){var f=c[d].split("\x3d");if(b(f.shift())===a)return b(f.join("\x3d"))}},Echo.Cookie.set=function(a,b,c){if(c=c||{},"number"==typeof c.expires){var d=c.expires,e=c.expires=new Date;e.setTime(e.getTime()+86400*d*1E3)}document.cookie=[encodeURIComponent(a),"\x3d",encodeURIComponent(b),
c.expires?"; expires\x3d"+c.expires.toUTCString():"",c.path?"; path\x3d"+c.path:"",c.domain?"; domain\x3d"+c.domain:"",c.secure?"; secure":""].join("")},Echo.Cookie.remove=function(a,b){b=b||{},"undefined"!=typeof Echo.Cookie.get(a)&&(b.expires=-1,Echo.Cookie.set(a,"",b))}}}();
!function(){function a(a){return window.addEventListener?a:"on"+a}function b(b,c){var d=window.addEventListener||window.attachEvent,e=window.removeEventListener||window.detachEvent;"subscribe"===b?(d(a("scroll"),c),d(a("resize"),c)):"unsubscribe"===b&&(e(a("scroll"),c),e(a("resize"),c))}if(window.Echo||(window.Echo={}),!Echo.Loader){var c=/^https?/.test(window.location.protocol)?window.location.protocol:"http:";Echo.Loader={version:"3",debug:!1,config:{cdnBaseURL:c+"//js.washingtonpost.com/",storageURL:{aws:{prod:c+
"//js.washingtonpost.com/wp-stat/echo2/canvases/",dev:c+"//js.washingtonpost.com/wp-stat/echo2/canvases/"},fastly:{prod:c+"//js.washingtonpost.com/wp-stat/echo2/canvases/",dev:c+"//js.washingtonpost.com/wp-stat/echo2/canvases/"}},errorTimeout:1E4,viewportChangeTimeout:50},canvases:[],canvasesConfigById:{},overrides:{},vars:{state:{resources:{},queue:[]},processing:!1,syncQueue:[]}},Echo.Loader.getURL=function(a,b){return"undefined"==typeof b&&(b=!0),/^\/\//.test(a)?c+a:/^https?:\/\//.test(a)?a:Echo.Loader.config.cdnBaseURL+
"sdk/v"+Echo.Loader.version+(b&&Echo.Loader.isDebug()?"/dev":"")+(a&&"/"!==a.charAt(0)?"/":"")+a},Echo.Loader.download=function(a,b,c){if(c=c||{},b=b||function(){},!a||!a.length)return void b();var d=Echo.Loader.vars.state,e=Echo.Loader.vars.syncQueue,f=function(){var a=[];d.queue=Echo.Loader._map(d.queue,function(b){return Echo.Loader._areResourcesReady(b.resources)?void a.push(b.callback):b}),Echo.Loader._map(a,function(a){a()})},g=function(){!Echo.Loader.vars.processing&&e.length&&(Echo.Loader.vars.processing=
!0,Echo.yepnope(e.shift()))};d.queue.push({resources:a,callback:b});var h=Echo.Loader._map(a,function(a){var b=Echo.Loader.getURL(a.url);return Echo.Loader._areResourcesReady([a])||"loading"===d.resources[b]?void 0:(d.resources[b]="loading",b)});if(!h.length)return void f();var i="timeout\x3d"+(c.errorTimeout||Echo.Loader.config.errorTimeout)+"!";e.push({load:Echo.Loader._map(h,function(a){return i+a}),complete:function(){Echo.Loader._map(h,function(a){d.resources[a]="ready"}),f(),Echo.Loader.vars.processing=
!1,g()}}),g()},Echo.Loader.isDebug=function(){return Echo.Loader.debug},function(){if(!Echo.Loader.debug){var a,b="echo-debug",c={path:"/"},d=window.location.hash.match(/echo.debug:(true|false)/);return d&&d.length&&(a=d[1]),"undefined"!=typeof a?void("true"===a?(Echo.Loader.debug=!0,Echo.Cookie.set(b,!0,c)):(Echo.Loader.debug=!1,Echo.Cookie.remove(b,c))):void(Echo.Loader.debug=!!Echo.Cookie.get(b))}}(),Echo.Loader.initEnvironment=function(a){var b=[{url:"backplane.js",loaded:function(){return!!window.Backplane}},
{url:"third-party/jquery.pack.js",loaded:function(){return!!Echo.jQuery}},{url:"environment.pack.js",loaded:function(){return!!Echo.Utils}}];return Echo.Loader._areResourcesReady(b)?void(a&&a()):void Echo.Loader.download(b,a)},Echo.Loader.override=function(a,b,c){var d=Echo.Loader.overrides;d[a]=d[a]||{},d[a][b]=c},Echo.Loader.init=function(a){Echo.Loader._lookupCanvases(a,function(a){Echo.Loader._map(a,function(a){Echo.Loader._initCanvas(a,a.getAttribute("data-canvas-init"),{target:a,refreshOnUserInvalidate:"true"===
a.getAttribute("data-canvas-refreshOnUserInvalidate"),overrides:Echo.Loader.overrides[a.getAttribute("data-canvas-id")]||{}})})})},Echo.Loader.initApplication=function(a){if(a.config&&a.config.target){var b=a.config.target.length?a.config.target[0]:a.config.target;Echo.Loader._initCanvas(b,a.init,{target:a.config.target,useSecureAPI:!!a.config.useSecureAPI,refreshOnUserInvalidate:a.refreshOnUserInvalidate,data:{apps:[a],backplane:a.backplane}})}},Echo.Loader._lookupCanvases=function(a,b){a=a||{};
var c=a.canvases,d=a.target?a.target.length?a.target[0]:a.target:document;c&&!c.length&&(c=[c]),c?b(c):d.querySelectorAll?b(d.querySelectorAll(".echo-canvas")):Echo.Loader.initEnvironment(function(){b(Echo.jQuery(".echo-canvas",d))})},Echo.Loader._initCanvas=function(a,c,d){var e=function(){Echo.Loader.canvases.push(new Echo.Canvas(Echo.Loader._prepareCanvasData(d)))};if("when-visible"!==c||Echo.Loader._isInViewport(a))Echo.Loader.initEnvironment(e);else{var f,g=function(){f&&clearTimeout(f),f=setTimeout(function(){Echo.Loader._isInViewport(a)&&
(b("unsubscribe",g),Echo.Loader.initEnvironment(e))},Echo.Loader.config.viewportChangeTimeout)};b("subscribe",g)}},Echo.Loader._prepareCanvasData=function(a){if(!a.data)return a;var b=function(a){return a.replace(/((?:https?:)?\/\/)?cdn\.echoenabled\.com\/apps\/rtb\/comments/,function(a,b){var c="https://"===b?"ssl":/^https/.test(window.location.protocol)&&"http://"!==b?"ssl":"cdn";return b+c+".realtidbits.com/libs"})};return Echo.Loader._map(a.data.apps||[],function(a){a.script=b(Echo.Canvas.prototype._getAppScriptURL(a)),
a.scripts&&delete a.scripts}),a},Echo.Loader._storeCanvasConfig=function(a,b){Echo.Loader._map(Echo.Loader.canvases,function(c){var d=c._getIds();~d.unique.indexOf(a)&&(Echo.Loader.canvasesConfigById[d.unique]=b)})},Echo.Loader._isInViewport=function(a){var b=document.documentElement.clientHeight||document.body.clientHeight,c=a.getBoundingClientRect();return c.top<=b},Echo.Loader._map=function(a,b){var c=[];if(a&&a.length&&b)for(var d=0;d<a.length;d++){var e=b(a[d],d);if(e===!1)break;"undefined"!=
typeof e&&c.push(e)}return c},Echo.Loader._areResourcesReady=function(a){var b=Echo.Loader.vars.state,c=Echo.Loader._map(a,function(a){var c=Echo.Loader.getURL(a.url);return a.loaded&&a.loaded()||b.resources[c]&&"ready"===b.resources[c]});return a.length===c.length}}}();