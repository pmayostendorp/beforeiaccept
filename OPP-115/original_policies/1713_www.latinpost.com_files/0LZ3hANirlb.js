/*!CK:1798683711!*//*1436278937,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["LV3gw"]); }

__d("escapeJSQuotes",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();function g(h){if(typeof h=='undefined'||h==null||!h.valueOf())return '';return h.toString().replace(/\\/g,'\\\\').replace(/\n/g,'\\n').replace(/\r/g,'\\r').replace(/"/g,'\\x22').replace(/'/g,'\\\'').replace(/</g,'\\x3c').replace(/>/g,'\\x3e').replace(/&/g,'\\x26');}e.exports=g;},null);
__d("ifRequired",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();function g(h,i,j){typeof j==='function'&&j();}e.exports=g;},null);
__d("FeedBlacklistButton",["Arbiter","Event"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i={BLACKLIST:'feed_blacklist',UNBLACKLIST:'feed_unblacklist',init:function(j,k,l,m){h.listen(k,'click',function(){var n={profile_id:m};g.inform(i.BLACKLIST,n);g.inform('UnfollowingUser',n);});h.listen(l,'click',function(){var n={profile_id:m};g.inform(i.UNBLACKLIST,n);g.inform('FollowingUser',n);});g.subscribe(i.BLACKLIST,function(n,o){if(m==o.profile_id)j.swap();});g.subscribe(i.UNBLACKLIST,function(n,o){if(m==o.profile_id)j.unswap();});}};e.exports=a.FeedBlacklistButton||i;},null);
__d("MenuDeprecated",["Event","Arbiter","CSS","DataStore","DOM","HTML","Keys","Parent","Style","UserAgent_DEPRECATED","emptyFunction","Run"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){b.__markCompiled&&b.__markCompiled();var r='menu:mouseover',s=null;function t(da){if(i.hasClass(da,'uiMenuContainer'))return da;return n.byClass(da,'uiMenu');}function u(da){return n.byClass(da,'uiMenuItem');}function v(da){if(document.activeElement){var ea=u(document.activeElement);return da.indexOf(ea);}return -1;}function w(da){return k.find(da,'a.itemAnchor');}function x(da){return i.hasClass(da,'checked');}function y(da){return !i.hasClass(da,'disabled')&&o.get(da,'display')!=='none';}function z(event){var da=document.activeElement;if(!da||!n.byClass(da,'uiMenu')||!k.isInputNode(da)){var ea=u(event.getTarget());ea&&ca.focusItem(ea);}}function aa(da){p.firefox()&&w(da).blur();ca.inform('select',{menu:t(da),item:da});}var ba=function(){ba=q;var da={};da.click=function(event){var ea=u(event.getTarget());if(ea&&y(ea)){aa(ea);var fa=w(ea),ga=fa.href,ha=fa.getAttribute('rel');return (ha&&ha!=='ignore')||(ga&&ga.charAt(ga.length-1)!=='#');}};da.keydown=function(event){var ea=event.getTarget();if(event.getModifiers().any)return;if(!s||k.isInputNode(ea))return;var fa=g.getKeyCode(event),ga;switch(fa){case m.UP:case m.DOWN:var ha=ca.getEnabledItems(s);ga=v(ha);ca.focusItem(ha[ga+(fa===m.UP?-1:1)]);return false;case m.SPACE:var ia=u(ea);if(ia){aa(ia);event.prevent();}break;default:var ja=String.fromCharCode(fa).toLowerCase(),ka=ca.getEnabledItems(s);ga=v(ka);var la=ga,ma=ka.length;while((~ga&&(la=++la%ma)!==ga)||(!~ga&&++la<ma)){var na=ca.getItemLabel(ka[la]);if(na&&na.charAt(0).toLowerCase()===ja){ca.focusItem(ka[la]);return false;}}}};g.listen(document.body,da);},ca=Object.assign(new h(),{focusItem:function(da){if(da&&y(da)){this._removeSelected(t(da));i.addClass(da,'selected');w(da).focus();}},getEnabledItems:function(da){return ca.getItems(da).filter(y);},getCheckedItems:function(da){return ca.getItems(da).filter(x);},getItems:function(da){return k.scry(da,'li.uiMenuItem');},getItemLabel:function(da){return da.getAttribute('data-label',2)||'';},isItemChecked:function(da){return i.hasClass(da,'checked');},autoregister:function(da,ea,fa){da.subscribe('show',function(){ca.register(ea,fa);});da.subscribe('hide',function(){ca.unregister(ea);});},register:function(da,ea){da=t(da);ba();if(!j.get(da,r))j.set(da,r,g.listen(da,'mouseover',z));if(ea!==false)s=da;},setItemEnabled:function(da,ea){if(!ea&&!k.scry(da,'span.disabledAnchor')[0])k.appendContent(da,k.create('span',{className:k.find(da,'a').className+' disabledAnchor'},l(w(da).innerHTML)));i.conditionClass(da,'disabled',!ea);},toggleItem:function(da){var ea=!ca.isItemChecked(da);ca.setItemChecked(da,ea);},setItemChecked:function(da,ea){i.conditionClass(da,'checked',ea);w(da).setAttribute('aria-checked',ea);},unregister:function(da){da=t(da);var ea=j.remove(da,r);ea&&ea.remove();s=null;this._removeSelected(da);},_removeSelected:function(da){ca.getItems(da).filter(function(ea){return i.hasClass(ea,'selected');}).forEach(function(ea){i.removeClass(ea,'selected');});}});e.exports=ca;},null);
__d("SubscriptionLevels",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g={ALL:'162318810514679',DEFAULT:'271670892858696',TOP:'266156873403755'};e.exports=g;},null);
__d("EditSubscriptions",["Arbiter","AsyncRequest","CSS","DOM","Event","FeedBlacklistButton","MenuDeprecated","Parent","SubscriptionLevels","arrayContains","cx","ge"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){b.__markCompiled&&b.__markCompiled();var s=45,t=[o.ALL,o.DEFAULT,o.TOP],u={},v={},w={},x={},y={},z={},aa={},ba={},ca={},da={},ea={},fa="/ajax/follow/follow_profile.php",ga="/ajax/follow/unfollow_profile.php",ha="/ajax/settings/notifications/notify_me.php",ia={},ja={},ka={},la=null,ma=false,na={};function oa(mb){return p(t,mb);}function pa(mb,nb,ob,pb){var qb=n.byClass(pb,'uiMenuItem')||n.byClass(pb,"_54ni"),rb=j.getID(mb);if(!qb||!j.contains(mb,qb)){return;}else if(i.hasClass(qb,'SubscribeMenuSubscribeCheckbox')){if(w[nb]){ua(rb,nb);}else ta(rb,nb);return false;}else if(i.hasClass(qb,'SubscribeMenuUnsubscribe')){ua(rb,nb);return false;}else if(i.hasClass(qb,'SubscribeMenuSettingsItem')){gb(mb,true);return false;}else if(i.hasClass(qb,'SubscriptionMenuGoBack')){gb(mb,false);return false;}else if(i.hasClass(qb,'SubscriptionMenuItem')){ra(mb,nb,ob,qb);return false;}else if(i.hasClass(qb,'SubscribeMenuNotifyMeCheckbox')){qa(mb,nb);return false;}}function qa(mb,nb){if(x[nb]){kb(mb,nb);}else jb(mb,nb);}function ra(mb,nb,ob,pb){if(i.hasClass(pb,'SubscriptionMenuLevel')){if(m.isItemChecked(pb))return;eb(mb,nb,xa(pb),true,ob);}else if(i.hasClass(pb,'SubscriptionMenuCategory')){bb(nb,pb,!m.isItemChecked(pb),true,ob);}else if(i.hasClass(pb,'SubscriptionAppStory'))db(nb,pb,!m.isItemChecked(pb),ob);}function sa(mb){return na[mb]?na[mb]:0;}function ta(mb,nb){var ob={profile_id:nb};g.inform('FollowingUser',ob);g.inform(l.UNBLACKLIST,ob);new h().setURI(fa).setMethod('POST').setData({profile_id:nb,location:sa(mb)}).setErrorHandler(g.inform.bind(null,'FollowUserFail',ob)).send();}function ua(mb,nb){var ob={profile_id:nb};g.inform('UnfollowingUser',ob);g.inform(l.BLACKLIST,ob);new h().setURI(ga).setMethod('POST').setData({profile_id:nb,location:sa(mb)}).setErrorHandler(g.inform.bind(null,'UnfollowUserFail',ob)).send();}function va(mb,nb,ob){var pb={profile_id:mb,level:ba[mb],custom_categories:ca[mb],location:ob};new h().setURI('/ajax/follow/manage_subscriptions.php').setData(pb).send();}function wa(mb,nb){var ob=ca[nb]||[],pb=m.getItems(mb);pb.forEach(function(qb){if(i.hasClass(qb,'SubscriptionMenuCategory')){var rb=xa(qb);if(p(ob,rb)){za(qb);}else ab(qb);}else if(i.hasClass(qb,'SubscriptionAppStory')){var sb=xa(qb);if(ka[nb]&&ka[nb][sb]){za(qb);}else ab(qb);}});eb(mb,nb,ba[nb],false);}function xa(mb){var nb=j.scry(mb,'input')[0];return nb&&nb.value;}function ya(mb){return j.find(mb,'a.itemAnchor');}function za(mb){i.addClass(mb,'checked');ya(mb).setAttribute('aria-checked',true);}function ab(mb){i.removeClass(mb,'checked');ya(mb).setAttribute('aria-checked',false);}function bb(mb,nb,ob,pb,qb){if(ob){za(nb);}else ab(nb);var rb=xa(nb);if(oa(rb)){ob&&cb(mb,rb);}else if(ob){if(!p(ca[mb],rb))ca[mb].push(rb);}else{var sb=ca[mb].indexOf(rb);if(sb!==-1)ca[mb].splice(sb,1);}if(pb)va(mb,rb,qb);}function cb(mb,nb){ba[mb]=nb;g.inform('SubscriptionLevelUpdated',{profile_id:mb,level:nb});}function db(mb,nb,ob,pb){var qb='/ajax/feed/filter_action/',rb=xa(nb),sb={actor_id:mb,app_id:rb};if(ob){za(nb);qb+='resubscribe_user_app/';sb.action='resubscribe_user_app';if(!ka[mb])ka[mb]={};ka[mb][rb]=true;}else{ab(nb);qb+='unsubscribe_user_app_checkbox/';sb.action='unsubscribe_user_app_checkbox';if(ka[mb])ka[mb][rb]=false;}new h().setURI(qb).setData(sb).send();}function eb(mb,nb,ob,pb,qb){var rb=j.scry(mb,'.SubscriptionMenuLevel'),sb=null;rb.forEach(function(tb){if(xa(tb)==ob){sb=tb;}else if(m.isItemChecked(tb))bb(nb,tb,false,false);});sb&&bb(nb,sb,true,pb,qb);}function fb(mb,nb,ob){w[nb]=ob;i.conditionClass(mb,'isUnsubscribed',!ob);var pb=j.scry(mb,'li.SubscribeMenuSubscribeCheckbox');if(pb.length!==0){var qb=pb[0];if(ob){za(qb);}else ab(qb);}}function gb(mb,nb){i.conditionClass(mb,'subscriptionMenuOpen',nb);}function hb(mb,nb,ob){var pb=j.find(mb,".FriendListSubscriptionsMenu"),qb=j.find(pb,".uiMenuInner");if(la!=null)la.forEach(function(rb){qb.removeChild(rb);});ob.forEach(function(rb){qb.appendChild(rb);});la=ob;}g.subscribe('UnfollowUser',function(mb,nb){if(da[nb.profile_id]){cb(nb.profile_id,da[nb.profile_id]);ca[nb.profile_id]=ea[nb.profile_id].slice();}});g.subscribe('UpdateSubscriptionLevel',function(mb,nb){var ob=nb.profile_id+'',pb=nb.level+'';cb(ob,pb);var qb;for(qb in u)if(u[qb]===ob){var rb=r(qb);rb&&eb(rb,ob,pb,false);}});g.subscribe('listeditor/close_editor',function(){var mb;for(mb in u){var nb=r(mb);nb&&gb(nb,false);}});function ib(mb,nb,ob){x[nb]=ob;var pb=ja[nb];if(pb){if(ob){pb.select();}else pb.deselect();return;}var qb=z[nb]&&!ma,rb=j.scry(mb,'li.SubscribeMenuNotifyMeCheckbox');if(rb.length!==0){var sb=rb[0];i.conditionShow(sb,!qb);var tb=j.scry(mb,'li.SubscribeMenuNotifyMeCheckboxSeparator');if(tb.length>0)i.conditionShow(tb[0],!qb);if(ob){za(sb);}else ab(sb);}}function jb(mb,nb){var ob={profile_id:nb};g.inform('EnableNotifsForUser',ob);new h().setURI(ha).setMethod('POST').setData({notifier_id:nb,enable:true}).setErrorHandler(g.inform.bind(null,'EnableNotifsForUserFail',ob)).send();}function kb(mb,nb){var ob={profile_id:nb};g.inform('DisableNotifsForUser',ob);new h().setURI(ha).setMethod('POST').setData({notifier_id:nb,enable:false}).setErrorHandler(g.inform.bind(null,'DisableNotifsForUserFail',ob)).send();}var lb={init:function(mb,nb,ob){var pb=j.getID(mb);na[pb]=ob;if(!u[pb])k.listen(mb,'click',function(qb){return pa(mb,u[pb],ob,qb.getTarget());});if(ob===s&&ia[nb].length)hb(mb,nb,ia[nb]);if(ba[nb])wa(mb,nb);u[pb]=nb;i.conditionClass(mb,'NonFriendSubscriptionMenu',!v[nb]);i.conditionClass(mb,'cannotSubscribe',!y[nb]);i.conditionClass(mb,'noSubscriptionLevels',z[nb]&&!aa[nb]);i.conditionClass(mb,'noSubscribeCheckbox',!v[nb]&&!z[nb]);fb(mb,nb,w[nb]);ib(mb,nb,x[nb]);g.subscribe(['FollowUser','FollowingUser','UnfollowUserFail'],function(qb,rb){if(rb.profile_id==nb)fb(mb,nb,true);}.bind(this));g.subscribe(['UnfollowUser','UnfollowingUser','FollowUserFail'],function(qb,rb){if(rb.profile_id==nb){g.inform('SubMenu/Reset');fb(mb,nb,false);}}.bind(this));g.subscribe(['EnableNotifsForUser','DisableNotifsForUserFail'],function(qb,rb){if(rb.profile_id==nb)ib(mb,nb,true);}.bind(this));g.subscribe(['DisableNotifsForUser','EnableNotifsForUserFail'],function(qb,rb){if(rb.profile_id==nb)ib(mb,nb,false);}.bind(this));g.subscribe('listeditor/friend_lists_changed',function(qb,rb){if(rb.notify_state){var sb=rb.added_uid?rb.added_uid:rb.removed_uid;ib(mb,sb,rb.notify_state.is_notified);}}.bind(this));},getSubscriptions:function(mb){return {level:ba[mb],custom_categories:ca[mb]};},registerTimelineNotifySelector:function(mb,nb){var ob=mb.getInitialMenu(),pb=mb.getContentRoot();ob.forEachItem(function(qb){var rb=qb.getRoot();if(i.hasClass(rb,'SubscribeMenuNotifyMeCheckbox')){ja[nb]=qb;ib(pb,nb,x[nb]);}});ob.subscribe('itemclick',function(qb,rb){if(rb.item===ja[nb])qa(pb,nb);return true;});},setSubscriptions:function(mb,nb,ob,pb,qb,rb,sb,tb,ub,vb,wb,xb,yb){cb(mb,sb+'');v[mb]=nb;w[mb]=ob;y[mb]=pb;z[mb]=qb;aa[mb]=rb;da[mb]=ub+'';ca[mb]=tb.map(String);ea[mb]=vb.map(String);ia[mb]=yb;x[mb]=wb;ma=xb;}};e.exports=a.EditSubscriptions||lb;},null);
__d("TooltipData",["DataStore","DOM","URI","getElementText","ifRequired"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();function l(o){return Object.assign({content:o.getAttribute('aria-label'),position:o.getAttribute('data-tooltip-position')||'above',alignH:o.getAttribute('data-tooltip-alignh')||'left',suppress:false,overflowDisplay:o.getAttribute('data-tooltip-display')==='overflow',persistOnClick:o.getAttribute('data-pitloot-persistonclick'),textDirection:o.getAttribute('data-tooltip-text-direction')},g.get(o,'tooltip'));}function m(o,p){var q=l(o);g.set(o,'tooltip',{content:p.content||q.content,position:p.position||q.position,alignH:p.alignH||q.alignH,suppress:p.suppress===(void 0)?q.suppress:p.suppress,overflowDisplay:p.overflowDisplay||q.overflowDisplay,persistOnClick:p.persistOnClick||q.persistOnClick});o.setAttribute('data-hover','tooltip');}var n={remove:function(o){g.remove(o,'tooltip');o.removeAttribute('data-hover');o.removeAttribute('data-tooltip-position');o.removeAttribute('data-tooltip-alignh');k('Tooltip',function(p){p.isActive(o)&&p.hide();});},set:function(o,p,q,r){if(q||r)m(o,{position:q,alignH:r});if(p instanceof i){o.setAttribute('data-tooltip-uri',p);k('Tooltip',function(t){t.isActive(o)&&t.fetchIfNecessary(o);});}else{if(h.isTextNode(p))p=j(p);var s=false;if(typeof p!=='string'){p=h.create('div',{},p);o.setAttribute('aria-label',j(p));}else{o.setAttribute('aria-label',p);s=p==='';}m(o,{content:p,suppress:s});k('Tooltip',function(t){t.isActive(o)&&t.show(o);});}},propsFor:function(o){if(!o)return {};return {'aria-label':o,'data-hover':'tooltip'};},enableDisplayOnOverflow:function(o){o.removeAttribute('data-tooltip-display');m(o,{overflowDisplay:true});},enablePersistOnClick:function(o){o.removeAttribute('data-pitloot-persistOnClick');m(o,{persistOnClick:true});},suppress:function(o,p){m(o,{suppress:p});},_get:l};e.exports=n;},null);
__d("nl2br",["DOM"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h=/(\r\n|[\r\n])/;function i(j){return j.split(h).map(function(k){return h.test(k)?g.create('br'):k;});}e.exports=i;},null);
__d("Tooltip",["Event","AsyncRequest","ContextualLayer","ContextualLayerAutoFlip","CSS","DOM","Style","TooltipData","Vector","emptyFunction","getElementText","getInlineBoundingRect","nl2br","setImmediate","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){b.__markCompiled&&b.__markCompiled();var v=null,w=null,x=null,y=null,z=null,aa=[],ba=[];function ca(){if(!y){z=l.create('div',{className:'tooltipContent','data-testid':'tooltip_testid'});var ga=l.create('i',{className:'arrow'}),ha=l.create('div',{className:'uiTooltipX'},[z,ga]);y=new i({},ha);y.shouldSetARIAProperties(false);y.enableBehavior(j);}}function da(ga,ha){fa.set(ga,u._("Loading..."));new h(ha).setHandler(function(ia){fa.set(ga,ia.getPayload());}).setErrorHandler(p).send();}var ea;g.listen(document.documentElement,'mouseover',function(event){ea=event;t(function(){ea=null;});});var fa=Object.assign({},n,{isActive:function(ga){return ga===v;},process:function(ga,ha){if(!l.contains(ga,ha))return;if(ga!==v){fa.fetchIfNecessary(ga);var ia=ga.getAttribute('data-tooltip-delay');if(ia){ia=parseInt(ia,10)||1000;fa._showWithDelay(ga,ia);}else fa.show(ga);}},fetchIfNecessary:function(ga){var ha=ga.getAttribute('data-tooltip-uri');if(ha){ga.removeAttribute('data-tooltip-uri');da(ga,ha);}},hide:function(){if(v){y.hide();v=null;while(aa.length)aa.pop().remove();}},show:function(ga){ca();fa.hide();var ha=n._get(ga);if(ha.suppress)return;var ia=ha.content;if(ha.overflowDisplay){if(ga.offsetWidth>=ga.scrollWidth)return;if(!ia)ia=q(ga);}if(!ia)return;var ja=0,ka=0;if(ha.position==='left'||ha.position==='right'){ka=(ga.offsetHeight-28)/2;}else if(ha.alignH!=='center'){var la=ga.offsetWidth;if(la<32)ja=(la-32)/2*(ha.alignH==='right'?-1:1);}y.setContextWithBounds(ga,r(ga,ea&&o.getEventPosition(ea))).setOffsetX(ja).setOffsetY(ka).setPosition(ha.position).setAlignment(ha.alignH);if(typeof ia==='string'){k.addClass(y.getRoot(),'invisible_elem');var ma=l.create('span',{},s(ia));if(ha.textDirection)ma=l.create('bdo',{dir:ha.textDirection},ma);var na=l.create('div',{className:'tooltipText'},ma);l.setContent(z,na);y.show();var oa;if(na.getClientRects){var pa=na.getClientRects()[0];if(pa)oa=Math.ceil(pa.right-pa.left);}if(!oa)oa=na.offsetWidth;if(oa<ma.offsetWidth){k.addClass(na,'tooltipWrap');y.updatePosition();}k.removeClass(y.getRoot(),'invisible_elem');}else{l.setContent(z,ia);y.show();}var qa=function(sa){if(!l.contains(v,sa.getTarget()))fa.hide();};aa.push(g.listen(document.documentElement,'mouseover',qa),g.listen(document.documentElement,'focusin',qa));var ra=m.getScrollParent(ga);if(ra!==window)aa.push(g.listen(ra,'scroll',fa.hide));if(!ha.persistOnClick)aa.push(g.listen(ga,'click',fa.hide));v=ga;},_showWithDelay:function(ga,ha){if(ga!==w)fa._clearDelay();if(!x){var ia=function(ja){if(!l.contains(w,ja.getTarget()))fa._clearDelay();};ba.push(g.listen(document.documentElement,'mouseover',ia),g.listen(document.documentElement,'focusin',ia));w=ga;x=setTimeout(function(){fa._clearDelay();fa.show(ga);},ha);}},_clearDelay:function(){clearTimeout(x);w=null;x=null;while(ba.length)ba.pop().remove();}});g.listen(window,'scroll',fa.hide);e.exports=fa;},null);
__d("SubscribeButton",["Arbiter","AsyncRequest","Button","CSS","Event","Tooltip","XPubcontentChainedSuggestionsController"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();var n={SUBSCRIBED:'FollowingUser',UNSUBSCRIBED:'UnfollowingUser',RECAP:'RecapUser',_enable:function(o){i.setEnabled(o,true);l.remove(o);},_disable:function(o,p){i.setEnabled(o,false);if(p)l.set(o,p);},init:function(o,p,q,r,s,t,u,v,w){v=(typeof v!=='undefined')?v:false;var x=(typeof w!=='undefined');if(x&&!u&&!v)n._disable(p,w);k.listen(p,'click',function(){g.inform(n.SUBSCRIBED,{profile_id:r,suppress:true});});g.subscribe(n.SUBSCRIBED,function(y,z){if(r==z.profile_id){if(!s)q.suppressNextMouseEnter&&q.suppressNextMouseEnter();if(x){if(typeof z.connected!=='undefined')u=z.connected;if(u||v)n._enable(p);}o.swap();if(t===true&&z.chaining!==false){var aa=(m.getURIBuilder()).setInt('profileid',r).getURI();new h().setURI(aa).send();}}});g.subscribe(n.UNSUBSCRIBED,function(y,z){if(r==z.profile_id){o.unswap();q.hideFlyout&&q.hideFlyout();if(x){if(typeof z.connected!=='undefined')u=z.connected;if(!u&&!v)n._disable(p,w);}g.inform('SubMenu/Reset');}});},initSubscribe:function(o,p){k.listen(o,'click',function(){setTimeout(g.inform.bind(g,n.SUBSCRIBED,{profile_id:p}),0);});},initUnsubscribe:function(o,p){k.listen(o,'click',function(){setTimeout(g.inform.bind(g,n.UNSUBSCRIBED,{profile_id:p}),0);});},initSubscribeMenuItem:function(o,p,q){j.hide(p);this._initMenuItem(o,p,q);},initUnsubscribeMenuItem:function(o,p,q){j.hide(o);this._initMenuItem(o,p,q);},_initMenuItem:function(o,p,q){this.initSubscribe(o,q);this.initUnsubscribe(p,q);g.subscribe(n.SUBSCRIBED,function(r,s){j.hide(o);j.show(p);});g.subscribe(n.UNSUBSCRIBED,function(r,s){j.hide(p);j.show(o);});}};e.exports=n;},null);
__d("Dialog",["Animation","Arbiter","AsyncRequest","Button","ContextualThing","CSS","DOM","Event","Focus","Form","HTML","Keys","Locale","Parent","Run","Style","URI","Vector","bind","createArrayFromMixed","emptyFunction","getObjectValues","getOverlayZIndex","removeFromArray","shield","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa){b.__markCompiled&&b.__markCompiled();var ga=function(){var ia=document.body,ja=document.createElement('div'),ka=document.createElement('div');ia.insertBefore(ja,ia.firstChild);ia.insertBefore(ka,ia.firstChild);ja.style.position='fixed';ja.style.top='20px';var la=ja.offsetTop!==ka.offsetTop;ia.removeChild(ja);ia.removeChild(ka);ga=aa.thatReturns(la);return la;};function ha(ia){"use strict";this._show_loading=true;this._auto_focus=true;this._submit_on_enter=false;this._fade_enabled=true;this._onload_handlers=[];this._top=125;this._uniqueID='dialog_'+ha._globalCount++;this._content=null;this._obj=null;this._popup=null;this._overlay=null;this._causal_elem=null;this._previous_focus=null;this._buttons=[];this._buildDialog();if(ia)this._setFromModel(ia);ha._init();}ha.prototype.show=function(){"use strict";this._showing=true;if(this._async_request){if(this._show_loading)this.showLoading();}else this._update();return this;};ha.prototype.showLoading=function(){"use strict";this._loading=true;l.addClass(this._frame,'dialog_loading_shown');this._renderDialog();return this;};ha.prototype.hide=function(){"use strict";if(!this._showing&&!this._loading)return this;this._showing=false;if(this._autohide_timeout){clearTimeout(this._autohide_timeout);this._autohide_timeout=null;}if(this._fade_enabled&&ha._stack.length<=1){this._fadeOut();}else this._hide();return this;};ha.prototype.cancel=function(){"use strict";if(!this._cancelHandler||this._cancelHandler()!==false)this.hide();};ha.prototype.getRoot=function(){"use strict";return this._obj;};ha.prototype.getBody=function(){"use strict";return m.scry(this._obj,'div.dialog_body')[0];};ha.prototype.getButtonElement=function(ia){"use strict";if(typeof ia=='string')ia=ha._findButton(this._buttons,ia);if(!ia||!ia.name)return null;var ja=m.scry(this._popup,'input'),ka=function(la){return la.name==ia.name;};return ja.filter(ka)[0]||null;};ha.prototype.getContentNode=function(){"use strict";return m.find(this._content,'div.dialog_content');};ha.prototype.getFormData=function(){"use strict";return p.serialize(this.getContentNode());};ha.prototype.setAllowCrossPageTransition=function(ia){"use strict";this._cross_transition=ia;return this;};ha.prototype.setAllowCrossQuicklingNavigation=function(ia){"use strict";this._cross_quickling=ia;return this;};ha.prototype.setShowing=function(){"use strict";this.show();return this;};ha.prototype.setHiding=function(){"use strict";this.hide();return this;};ha.prototype.setTitle=function(ia){"use strict";var ja=this._nodes.title,ka=this._nodes.title_inner,la=this._nodes.content;m.setContent(ka,this._format(ia||''));l.conditionShow(ja,!!ia);l.conditionClass(la,'dialog_content_titleless',!ia);return this;};ha.prototype.setBody=function(ia){"use strict";m.setContent(this._nodes.body,this._format(ia));return this;};ha.prototype.setExtraData=function(ia){"use strict";this._extra_data=ia;return this;};ha.prototype.setReturnData=function(ia){"use strict";this._return_data=ia;return this;};ha.prototype.setShowLoading=function(ia){"use strict";this._show_loading=ia;return this;};ha.prototype.setFullBleed=function(ia){"use strict";this._full_bleed=ia;this._updateWidth();l.conditionClass(this._obj,'full_bleed',ia);return this;};ha.prototype.setCausalElement=function(ia){"use strict";this._causal_elem=ia;return this;};ha.prototype.setUserData=function(ia){"use strict";this._user_data=ia;return this;};ha.prototype.getUserData=function(){"use strict";return this._user_data;};ha.prototype.setAutohide=function(ia){"use strict";if(ia){if(this._showing){this._autohide_timeout=setTimeout(ea(this.hide,this),ia);}else this._autohide=ia;}else{this._autohide=null;if(this._autohide_timeout){clearTimeout(this._autohide_timeout);this._autohide_timeout=null;}}return this;};ha.prototype.setSummary=function(ia){"use strict";var ja=this._nodes.summary;m.setContent(ja,this._format(ia||''));l.conditionShow(ja,!!ia);return this;};ha.prototype.setButtons=function(ia){"use strict";var ja,ka;if(!(ia instanceof Array)){ja=z(arguments);}else ja=ia;for(var la=0;la<ja.length;++la)if(typeof ja[la]=='string'){ka=ha._findButton(ha._STANDARD_BUTTONS,ja[la]);ja[la]=ka;}this._buttons=ja;var ma=[];if(ja&&ja.length>0)for(var na=0;na<ja.length;na++){ka=ja[na];var oa=m.create('input',{type:'button',name:ka.name||'',value:ka.label}),pa=m.create('label',{className:'uiButton uiButtonLarge uiButtonConfirm'},oa);if(ka.className){ka.className.split(/\s+/).forEach(function(ra){l.addClass(pa,ra);});if(l.hasClass(pa,'inputaux')){l.removeClass(pa,'inputaux');l.removeClass(pa,'uiButtonConfirm');}if(l.hasClass(pa,'uiButtonSpecial'))l.removeClass(pa,'uiButtonConfirm');}if(ka.icon)m.prependContent(pa,m.create('img',{src:ka.icon,className:'img mrs'}));if(ka.disabled)j.setEnabled(pa,false);n.listen(oa,'click',this._handleButton.bind(this,ka.name));for(var qa in ka)if(qa.indexOf('data-')===0&&qa.length>5)oa.setAttribute(qa,ka[qa]);ma.push(pa);}m.setContent(this._nodes.buttons,ma);this._updateButtonVisibility();return this;};ha.prototype.setButtonsMessage=function(ia){"use strict";m.setContent(this._nodes.button_message,this._format(ia||''));this._has_button_message=!!ia;this._updateButtonVisibility();return this;};ha.prototype._updateButtonVisibility=function(){"use strict";var ia=this._buttons.length>0||this._has_button_message;l.conditionShow(this._nodes.button_wrapper,ia);l.conditionClass(this._obj,'omitDialogFooter',!ia);};ha.prototype.setClickButtonOnEnter=function(ia,ja){"use strict";this._clickOnEnterTarget=ia;if(!this._clickOnEnterListener)this._clickOnEnterListener=n.listen(this._nodes.body,'keypress',function(event){var ka=event.getTarget();if(ka&&ka.id===this._clickOnEnterTarget)if(n.getKeyCode(event)==r.RETURN){this._handleButton(ja);event.kill();}return true;}.bind(this));return this;};ha.prototype.setStackable=function(ia,ja){"use strict";this._is_stackable=ia;this._shown_while_stacked=ia&&ja;return this;};ha.prototype.setHandler=function(ia){"use strict";this._handler=ia;return this;};ha.prototype.setCancelHandler=function(ia){"use strict";this._cancelHandler=ha.call_or_eval.bind(null,this,ia);return this;};ha.prototype.setCloseHandler=function(ia){"use strict";this._close_handler=ha.call_or_eval.bind(null,this,ia);return this;};ha.prototype.clearHandler=function(){"use strict";return this.setHandler(null);};ha.prototype.setPostURI=function(ia,ja){"use strict";if(ja===(void 0))ja=true;if(ja){this.setHandler(this._submitForm.bind(this,'POST',ia));}else this.setHandler(function(){p.post(ia,this.getFormData());this.hide();}.bind(this));return this;};ha.prototype.setGetURI=function(ia){"use strict";this.setHandler(this._submitForm.bind(this,'GET',ia));return this;};ha.prototype.setModal=function(ia){"use strict";this._modal=ia;l.conditionClass(this._obj,'generic_dialog_modal',ia);return this;};ha.prototype.setSemiModal=function(ia){"use strict";if(ia){this.setModal(true);this._semiModalListener=n.listen(this._obj,'click',function(ja){if(!m.contains(this._popup,ja.getTarget()))this.hide();}.bind(this));}else this._semiModalListener&&this._semiModalListener.remove();this._semi_modal=ia;return this;};ha.prototype.setWideDialog=function(ia){"use strict";this._wide_dialog=ia;this._updateWidth();return this;};ha.prototype.setContentWidth=function(ia){"use strict";this._content_width=ia;this._updateWidth();return this;};ha.prototype.setTitleLoading=function(ia){"use strict";if(ia===(void 0))ia=true;var ja=m.find(this._popup,'h2.dialog_title');if(ja)l.conditionClass(ja,'loading',ia);return this;};ha.prototype.setSecure=function(ia){"use strict";l.conditionClass(this._nodes.title,'secure',ia);return this;};ha.prototype.setClassName=function(ia){"use strict";ia.split(/\s+/).forEach(l.addClass.bind(l,this._obj));return this;};ha.prototype.setFadeEnabled=function(ia){"use strict";this._fade_enabled=ia;return this;};ha.prototype.setFooter=function(ia){"use strict";var ja=this._nodes.footer;m.setContent(ja,this._format(ia||''));l.conditionShow(ja,!!ia);return this;};ha.prototype.setAutoFocus=function(ia){"use strict";this._auto_focus=ia;return this;};ha.prototype.setTop=function(ia){"use strict";this._top=ia;this._resetDialogObj();return this;};ha.prototype.onloadRegister=function(ia){"use strict";z(ia).forEach(function(ja){if(typeof ja=='string')ja=new Function(ja);this._onload_handlers.push(ja.bind(this));}.bind(this));return this;};ha.prototype.setAsyncURL=function(ia){"use strict";return this.setAsync(new i(ia));};ha.prototype.setAsync=function(ia){"use strict";var ja=function(ra){if(this._async_request!=ia)return;this._async_request=null;var sa=ra.getPayload(),ta=sa;if(this._loading)this._showing=true;if(typeof ta=='string'){this.setBody(ta);}else this._setFromModel(ta);this._update();}.bind(this),ka=ia.getData();ka.__d=1;ia.setData(ka);var la=ia.getHandler()||aa;ia.setHandler(function(ra){la(ra);ja(ra);});var ma=ia,na=ma.getErrorHandler()||aa,oa=ma.getTransportErrorHandler()||aa,pa=function(){this._async_request=null;this._loading=false;if(this._showing&&this._shown_while_stacked){this._update();}else this._hide(this._is_stackable);}.bind(this),qa=ma.getServerDialogCancelHandler()||pa;ma.setAllowCrossPageTransition(this._cross_transition).setErrorHandler(function(ra){pa();na(ra);}).setTransportErrorHandler(function(ra){pa();oa(ra);}).setServerDialogCancelHandler(qa);ia.send();this._async_request=ia;if(this._showing)this.show();return this;};ha.prototype._format=function(ia){"use strict";if(typeof ia=='string'){ia=q(ia);}else ia=q.replaceJSONWrapper(ia);if(ia instanceof q)ia.setDeferred(true);return ia;};ha.prototype._update=function(){"use strict";if(!this._showing)return;if(this._autohide&&!this._async_request&&!this._autohide_timeout)this._autohide_timeout=setTimeout(y(this,'hide'),this._autohide);l.removeClass(this._frame,'dialog_loading_shown');this._loading=false;this._renderDialog();this._runOnloads();this._previous_focus=document.activeElement;o.set(this._frame);};ha.prototype._runOnloads=function(){"use strict";for(var ia=0;ia<this._onload_handlers.length;++ia)try{this._onload_handlers[ia]();}catch(ja){}this._onload_handlers=[];};ha.prototype._updateWidth=function(){"use strict";var ia=2*(ha._BORDER_WIDTH+ha._HALO_WIDTH);if(this._content_width){ia+=this._content_width;if(!this._full_bleed)ia+=2*ha._PADDING_WIDTH;}else if(this._wide_dialog){ia+=ha.SIZE.WIDE;}else ia+=ha.SIZE.STANDARD;this._popup.style.width=ia+'px';};ha.prototype._updateZIndex=function(){"use strict";if(!this._hasSetZIndex&&this._causal_elem){var ia=ca(this._causal_elem),ja=this._causal_elem;while(!ia&&(ja=k.getContext(ja)))ia=ca(ja);this._hasSetZIndex=ia>(this._modal?400:200);v.set(this._obj,'z-index',this._hasSetZIndex?ia:'');}};ha.prototype._renderDialog=function(){"use strict";this._updateZIndex();this._pushOntoStack();this._obj.style.height=null;if(this._obj&&this._obj.style.display){this._obj.style.visibility='hidden';this._obj.style.display='';this.resetDialogPosition();this._obj.style.visibility='';this._obj.dialog=this;}else this.resetDialogPosition();clearInterval(this.active_hiding);this.active_hiding=setInterval(this._activeResize.bind(this),500);this._submit_on_enter=false;if(this._auto_focus){var ia=p.getFirstElement(this._content,['input[type="text"]','textarea','input[type="password"]']);if(ia){setTimeout(p.focusFirst.bind(this,this._content),0);}else this._submit_on_enter=true;}var ja=x.getElementDimensions(this._content).y+x.getElementPosition(this._content).y;ha._bottoms.push(ja);this._bottom=ja;ha._updateMaxBottom();return this;};ha.prototype._buildDialog=function(){"use strict";this._obj=m.create('div',{className:'generic_dialog',id:this._uniqueID});this._obj.style.display='none';m.appendContent(document.body,this._obj);if(!this._popup)this._popup=m.create('div',{className:'generic_dialog_popup'});this._obj.appendChild(this._popup);l.addClass(this._obj,'pop_dialog');if(s.isRTL())l.addClass(this._obj,'pop_dialog_rtl');m.setContent(this._popup,m.create('div',{className:'pop_container_advanced'},m.create('div',{className:'pop_content',id:'pop_content'})));var ia=m.find(this._popup,'div.pop_content');ia.setAttribute('tabIndex','0');ia.setAttribute('role','alertdialog');this._frame=this._content=ia;var ja=m.create('div',{className:'dialog_loading'},fa._("Loading...")),ka=m.create('span'),la=m.create('h2',{className:'dialog_title hidden_elem',id:'title_'+this._uniqueID},ka),ma=m.create('div',{className:'dialog_summary hidden_elem'}),na=m.create('div',{className:'dialog_body'}),oa=m.create('div',{className:'rfloat mlm'}),pa=m.create('div',{className:'dialog_buttons_msg'}),qa=m.create('div',{className:'dialog_buttons clearfix hidden_elem'},[oa,pa]),ra=m.create('div',{className:'dialog_footer hidden_elem'}),sa=m.create('div',{className:'dialog_content'},[ma,na,qa,ra]);this._nodes={summary:ma,body:na,buttons:oa,button_message:pa,button_wrapper:qa,footer:ra,content:sa,title:la,title_inner:ka};m.setContent(this._frame,[la,sa,ja]);};ha.prototype._activeResize=function(){"use strict";if(this.last_offset_height!=this._content.offsetHeight){this.last_offset_height=this._content.offsetHeight;this.resetDialogPosition();}};ha.prototype.resetDialogPosition=function(){"use strict";if(!this._popup)return;this._resetDialogObj();};ha.prototype._resetDialogObj=function(){"use strict";var ia=2*ha._PAGE_MARGIN,ja=x.getViewportDimensions(),ka=ja.x-ia,la=ja.y-ia,ma=2*ha._HALO_WIDTH,na=x.getElementDimensions(this._content),oa=na.x+ma,pa=na.y+ma,qa=this._top,ra=ka-oa,sa=la-pa;if(sa<0){qa=ha._PAGE_MARGIN;}else if(qa>sa)qa=ha._PAGE_MARGIN+(Math.max(sa,0)/2);var ta=ga();if(!ta)qa+=x.getScrollPosition().y;v.set(this._popup,'marginTop',qa+'px');var ua=ta&&(ra<0||sa<0);l.conditionClass(this._obj,'generic_dialog_fixed_overflow',ua);l.conditionClass(document.documentElement,'generic_dialog_overflow_mode',ua);};ha.prototype._fadeOut=function(ia){"use strict";if(!this._popup)return;try{new g(this._obj).duration(0).checkpoint().to('opacity',0).hide().duration(250).ondone(this._hide.bind(this,ia)).go();}catch(ja){this._hide(ia);}};ha.prototype._hide=function(ia){"use strict";if(this._obj)this._obj.style.display='none';l.removeClass(document.documentElement,'generic_dialog_overflow_mode');clearInterval(this.active_hiding);if(this._bottom){var ja=ha._bottoms;ja.splice(ja.indexOf(this._bottom),1);ha._updateMaxBottom();}if(this._previous_focus&&document.activeElement&&m.contains(this._obj,document.activeElement))o.set(this._previous_focus);if(ia)return;this.destroy();};ha.prototype.destroy=function(){"use strict";this._popFromStack();clearInterval(this.active_hiding);if(this._obj){m.remove(this._obj);this._obj=null;}this._clickOnEnterListener&&this._clickOnEnterListener.remove();if(this._close_handler)this._close_handler({return_data:this._return_data});};ha.prototype._handleButton=function(ia){"use strict";if(typeof ia=='string')ia=ha._findButton(this._buttons,ia);var ja=ha.call_or_eval(ia,ia.handler);if(ja===false)return;if(ia.name=='cancel'){this.cancel();}else if(ha.call_or_eval(this,this._handler,{button:ia})!==false)this.hide();};ha.prototype._submitForm=function(ia,ja,ka){"use strict";var la=this.getFormData();if(ka)la[ka.name]=ka.label;if(this._extra_data)Object.assign(la,this._extra_data);var ma=new i().setURI(ja).setData(la).setMethod(ia).setNectarModuleDataSafe(this._causal_elem).setReadOnly(ia=='GET');this.setAsync(ma);return false;};ha.prototype._setFromModel=function(ia){"use strict";var ja={};Object.assign(ja,ia);for(var ka in ja){if(ka=='onloadRegister'){this.onloadRegister(ja[ka]);continue;}var la=this['set'+ka.substr(0,1).toUpperCase()+ka.substr(1)];la.apply(this,z(ja[ka]));}};ha.prototype._updateBottom=function(){"use strict";var ia=x.getElementDimensions(this._content).y+x.getElementPosition(this._content).y;ha._bottoms[ha._bottoms.length-1]=ia;ha._updateMaxBottom();};ha.prototype._pushOntoStack=function(){"use strict";var ia=ha._stack;if(!ia.length)h.inform('layer_shown',{type:'Dialog'});da(ia,this);ia.push(this);for(var ja=ia.length-2;ja>=0;ja--){var ka=ia[ja];if(!ka._is_stackable&&!ka._async_request){ka._hide();}else if(!ka._shown_while_stacked)ka._hide(true);}};ha.prototype._popFromStack=function(){"use strict";var ia=ha._stack,ja=(ia[ia.length-1]===this);da(ia,this);if(ia.length){if(ja)ia[ia.length-1].show();}else h.inform('layer_hidden',{type:'Dialog'});};ha._updateMaxBottom=function(){"use strict";ha.max_bottom=Math.max.apply(Math,ha._bottoms);};ha.newButton=function(ia,ja,ka,la){"use strict";var ma={name:ia,label:ja};if(ka)ma.className=ka;if(la)ma.handler=la;return ma;};ha.getCurrent=function(){"use strict";var ia=ha._stack;return ia.length?ia[ia.length-1]:null;};ha.hideCurrent=function(){"use strict";var ia=ha.getCurrent();ia&&ia.hide();};ha.bootstrap=function(ia,ja,ka,la,ma,na){"use strict";ja=ja||{};Object.assign(ja,new w(ia).getQueryData());la=la||(ka?'GET':'POST');var oa=t.byClass(na,'stat_elem')||na;if(oa&&l.hasClass(oa,'async_saving'))return false;var pa=new i().setReadOnly(!!ka).setMethod(la).setRelativeTo(na).setStatusElement(oa).setURI(ia).setNectarModuleDataSafe(na).setData(ja),qa=new ha(ma).setCausalElement(na).setAsync(pa);qa.show();return false;};ha.showFromModel=function(ia,ja){"use strict";var ka=new ha(ia).setCausalElement(ja).show();if(ia.hiding)ka.hide();};ha._init=function(){"use strict";this._init=aa;u.onLeave(ea(ha._tearDown,null,false));h.subscribe('page_transition',ea(ha._tearDown,null,true));n.listen(document.documentElement,'keydown',function(event){if(n.getKeyCode(event)==r.ESC&&!event.getModifiers().any){if(ha._escape())event.kill();}else if(n.getKeyCode(event)==r.RETURN&&!event.getModifiers().any)if(ha._enter())event.kill();});n.listen(window,'resize',function(event){var ia=ha.getCurrent();ia&&ia._resetDialogObj();});};ha._findButton=function(ia,ja){"use strict";if(ia)for(var ka=0;ka<ia.length;++ka)if(ia[ka].name==ja)return ia[ka];return null;};ha._tearDown=function(ia){"use strict";var ja=ha._stack.slice();for(var ka=ja.length-1;ka>=0;ka--)if((ia&&!ja[ka]._cross_transition)||(!ia&&!ja[ka]._cross_quickling))ja[ka].hide();};ha._escape=function(){"use strict";var ia=ha.getCurrent();if(!ia)return false;var ja=ia._semi_modal,ka=ia._buttons;if(!ka.length&&!ja)return false;if(ja&&!ka.length){ia.hide();return true;}var la,ma=ha._findButton(ka,'cancel');if(ia._cancelHandler){ia.cancel();return true;}else if(ma){la=ma;}else if(ka.length==1){la=ka[0];}else return false;ia._handleButton(la);return true;};ha._enter=function(){"use strict";var ia=ha.getCurrent();if(!ia||!ia._submit_on_enter)return false;if(document.activeElement!=ia._frame)return false;var ja=ia._buttons;if(!ja)return false;ia._handleButton(ja[0]);return true;};ha.call_or_eval=function(ia,ja,ka){"use strict";if(!ja)return (void 0);ka=ka||{};if(typeof ja=='string'){var la=Object.keys(ka).join(', ');ja=(eval)('({f: function('+la+') { '+ja+'}})').f;}return ja.apply(ia,ba(ka));};Object.assign(ha,{OK:{name:'ok',label:fa._("OK")},CANCEL:{name:'cancel',label:fa._("Cancel"),className:'inputaux'},CLOSE:{name:'close',label:fa._("Close")},NEXT:{name:'next',label:fa._("Next")},SAVE:{name:'save',label:fa._("Save")},SUBMIT:{name:'submit',label:fa._("Submit")},CONFIRM:{name:'confirm',label:fa._("Confirm")},DELETE:{name:'delete',label:fa._("Delete")},_globalCount:0,_bottoms:[0],max_bottom:0});Object.assign(ha,{OK_AND_CANCEL:[ha.OK,ha.CANCEL],_STANDARD_BUTTONS:[ha.OK,ha.CANCEL,ha.CLOSE,ha.SAVE,ha.SUBMIT,ha.CONFIRM,ha.DELETE],SIZE:{WIDE:555,STANDARD:445},_HALO_WIDTH:10,_BORDER_WIDTH:1,_PADDING_WIDTH:10,_PAGE_MARGIN:40,_stack:[]});Object.assign(ha.prototype,{_cross_quickling:false,_cross_transition:false,_loading:false,_showing:false});e.exports=ha;a.Dialog=ha;},null);
__d("DOMScroll",["Animation","Arbiter","DOM","DOMQuery","Vector","ViewportBounds","ge","isAsyncScrollQuery"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){b.__markCompiled&&b.__markCompiled();var o={SCROLL:'dom-scroll',getScrollState:function(){var p=k.getViewportDimensions(),q=k.getDocumentDimensions(),r=(q.x>p.x),s=(q.y>p.y);r+=0;s+=0;return new k(r,s);},_scrollbarSize:null,_initScrollbarSize:function(){var p=i.create('p');p.style.width='100%';p.style.height='200px';var q=i.create('div');q.style.position='absolute';q.style.top='0px';q.style.left='0px';q.style.visibility='hidden';q.style.width='200px';q.style.height='150px';q.style.overflow='hidden';q.appendChild(p);document.body.appendChild(q);var r=p.offsetWidth;q.style.overflow='scroll';var s=p.offsetWidth;if(r==s)s=q.clientWidth;document.body.removeChild(q);o._scrollbarSize=r-s;},getScrollbarSize:function(){if(o._scrollbarSize===null)o._initScrollbarSize();return o._scrollbarSize;},scrollTo:function(p,q,r,s,t,u){if(typeof q=='undefined'||q===true)q=750;if(n())q=false;if(!(p instanceof k)){var v=k.getScrollPosition().x,w=k.getElementPosition(m(p)).y;p=new k(v,w,'document');if(!s)p.y-=l.getTop()/(r?2:1);}if(r){p.y-=k.getViewportDimensions().y/2;}else if(s){p.y-=k.getViewportDimensions().y;p.y+=s;}if(t)p.y-=t;p=p.convertTo('document');if(q){return new g(document.body).to('scrollTop',p.y).to('scrollLeft',p.x).ease(g.ease.end).duration(q).ondone(u).go();}else if(window.scrollTo){window.scrollTo(p.x,p.y);u&&u();}h.inform(o.SCROLL);},ensureVisible:function(p,q,r,s,t){if(r===(void 0))r=10;p=m(p);if(q)p=j.find(p,q);var u=k.getScrollPosition().x,v=k.getScrollPosition().y,w=v+k.getViewportDimensions().y,x=k.getElementPosition(p).y,y=x+k.getElementDimensions(p).y;x-=l.getTop();x-=r;y+=r;if(x<v){o.scrollTo(new k(u,x,'document'),s,false,false,0,t);}else if(y>w)if(x-(y-w)<v){o.scrollTo(new k(u,x,'document'),s,false,false,0,t);}else o.scrollTo(new k(u,y,'document'),s,false,true,0,t);},scrollToTop:function(p){var q=k.getScrollPosition();o.scrollTo(new k(q.x,0,'document'),p!==false);}};e.exports=o;},null);
__d("goOrReplace",["URI"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();function h(i,j,k){var l=new g(j),m=a.Quickling;if(i.pathname=='/'&&l.getPath()!='/'&&m&&m.isActive()&&m.isPageActive(l)){var n=i.search?{}:{q:''};l=new g().setPath('/').setQueryData(n).setFragment(l.getUnqualifiedURI().toString());j=l.toString();}if(k){i.replace(j);}else if(i.href==j){i.reload();}else i.href=j;}e.exports=h;},null);
__d("HistoryManager",["Cookie","Env","Event","URI","UserAgent_DEPRECATED","isFacebookURI","emptyFunction","goOrReplace","isInIframe","setIntervalAcrossTransitions","SessionName"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){b.__markCompiled&&b.__markCompiled();b('SessionName');var q={history:null,current:0,fragment:null,isInitialized:function(){return !!q._initialized;},init:function(){if(!h.ALLOW_TRANSITION_IN_IFRAME&&o())return;if(q._initialized)return q;var r=new j(window.location.href),s=r.getFragment()||'';if(s.charAt(0)==='!'){s=s.substr(1);r.setFragment(s);}Object.assign(q,{_initialized:true,fragment:s,orig_fragment:s,history:[r],callbacks:[],lastChanged:Date.now(),canonical:new j('#'),user:0,enabled:true,debug:m});if(window.history&&history.pushState){this.lastURI=document.URL;window.history.replaceState(this.lastURI,null);i.listen(window,'popstate',function(t){var u=t&&t.state&&typeof t.state==='string';if(u&&q.lastURI!=t.state){q.lastURI=t.state;q.lastChanged=Date.now();q.notify(new j(t.state).getUnqualifiedURI().toString());}}.bind(q));if(k.webkit()<534||k.chrome()<=13){p(q.checkURI,42);q._updateRefererURI(this.lastURI);}return q;}q._updateRefererURI(j.getRequestURI(false));if(k.webkit()<500||k.firefox()<2){q.enabled=false;return q;}if('onhashchange' in window){i.listen(window,'hashchange',function(){setTimeout(q.checkURI.bind(q),0);});}else p(q.checkURI,42);return q;},registerURIHandler:function(r){q.callbacks.push(r);return q;},setCanonicalLocation:function(r){q.canonical=new j(r);return q;},notify:function(r){if(r==q.orig_fragment)r=q.canonical.getFragment();for(var s=0;s<q.callbacks.length;s++)try{if(q.callbacks[s](r))return true;}catch(t){}return false;},checkURI:function(){if(Date.now()-q.lastChanged<400)return;if(window.history&&history.pushState){var r=new j(document.URL).removeQueryData('ref').toString(),s=new j(q.lastURI).removeQueryData('ref').toString();if(r!=s){q.lastChanged=Date.now();q.lastURI=r;if(k.webkit()<534)q._updateRefererURI(r);q.notify(new j(r).getUnqualifiedURI().toString());}return;}if(k.webkit()&&window.history.length==200){if(!q.warned)q.warned=true;return;}var t=new j(window.location.href).getFragment();if(t.charAt(0)=='!')t=t.substr(1);t=t.replace(/%23/g,'#');if(t!=q.fragment.replace(/%23/g,'#')){q.debug([t,' vs ',q.fragment,'whl: ',window.history.length,'QHL: ',q.history.length].join(' '));for(var u=q.history.length-1;u>=0;--u)if(q.history[u].getFragment().replace(/%23/g,'#')==t)break;++q.user;if(u>=0){q.go(u-q.current);}else q.go('#'+t);--q.user;}},_updateRefererURI:function(r){r=r.toString();if(r.charAt(0)!='/'&&r.indexOf('//')==-1)return;var s=new j(window.location);if(l(s)){var t=s.getPath()+window.location.search;}else var t='';var u=new j(r).getQualifiedURI().setFragment(t).toString(),v=2048;if(u.length>v)u=u.substring(0,v)+'...';g.set('x-referer',u);},go:function(r,s,t){if(window.history&&history.pushState){s||typeof(r)=='number';var u=new j(r).removeQueryData('ref').toString();q.lastChanged=Date.now();this.lastURI=u;if(t){window.history.replaceState(r,null,u);}else window.history.pushState(r,null,u);if(k.webkit()<534)q._updateRefererURI(r);return false;}q.debug('go: '+r);if(s===(void 0))s=true;if(!q.enabled)if(!s)return false;if(typeof(r)=='number'){if(!r)return false;var v=r+q.current,w=Math.max(0,Math.min(q.history.length-1,v));q.current=w;v=q.history[w].getFragment()||q.orig_fragment;v=new j(v).removeQueryData('ref').getUnqualifiedURI().toString();q.fragment=v;q.lastChanged=Date.now();if(!q.user)n(window.location,window.location.href.split('#')[0]+'#!'+v,t);if(s)q.notify(v);q._updateRefererURI(v);return false;}r=new j(r);if(r.getDomain()==new j(window.location.href).getDomain())r=new j('#'+r.getUnqualifiedURI());var x=q.history[q.current].getFragment(),y=r.getFragment();if(y==x||(x==q.orig_fragment&&y==q.canonical.getFragment())){if(s)q.notify(y);q._updateRefererURI(y);return false;}if(t)q.current--;var z=(q.history.length-q.current)-1;q.history.splice(q.current+1,z);q.history.push(new j(r));return q.go(1,s,t);},getCurrentFragment:function(){var r=j.getRequestURI(false).getFragment();return r==q.orig_fragment?q.canonical.getFragment():r;}};e.exports=q;},null);
__d("PageTransitions",["Arbiter","Bootloader","BusyUIManager","DOMQuery","DOMScroll","Env","Event","HistoryManager","JSLogger","LayerHideOnEscape","ModalLayer","PageHooks","PageTransitionsRegistrar","React","ScriptPath","URI","Vector","areEqual","clickRefAction","escapeJSQuotes","ge","goOrReplace","invariant","isInIframe","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea){b.__markCompiled&&b.__markCompiled();var fa={};function ga(ka,la){fa[ka.getUnqualifiedURI()]=la;}function ha(ka){return fa[ka.getUnqualifiedURI()];}function ia(ka){delete fa[ka.getUnqualifiedURI()];}var ja={_scroll_locked:false,isInitialized:function(){return !!ja._initialized;},_init:function(){if(!l.ALLOW_TRANSITION_IN_IFRAME&&da())return;if(ja._initialized)return ja;var ka=s.getMostRecentURI();ja._current_uri=ka;ja._most_recent_uri=ka;ja._next_uri=ka;ja._initialized=true;var la,ma=v.getRequestURI(false);if(ma.getFragment().startsWith('/')){la=ma.getFragment();}else la=ka;n.init().setCanonicalLocation('#'+la).registerURIHandler(ja._historyManagerHandler);m.listen(window,'scroll',function(){if(!ja._scroll_locked)ga(ja._current_uri,w.getScrollPosition());});return ja;},registerHandler:s.registerHandler,removeHandler:s.removeHandler,getCurrentURI:function(ka){this._init();if(!ja._current_uri&&!ka)return new v(ja._most_recent_uri);return new v(ja._current_uri);},getMostRecentURI:function(){this._init();return new v(ja._most_recent_uri);},go:function(ka,la){this._init();var ma=new v(ka).removeQueryData('quickling').getQualifiedURI();o.create('pagetransition').debug('go',{uri:ma.toString()});ia(ma);!la&&y('uri',{href:ma.toString()},null,'INDIRECT');i.lookBusy();ja._loadPage(ma,function(na){if(na){q.unfixed(function(){n.go(ma.toString(),false,la);});}else ba(window.location,ma,la);});},_historyManagerHandler:function(ka){if(ka.charAt(0)!='/')return false;y('h',{href:ka});if(!u.getClickPointInfo())u.setClickPointInfo({click:'back'});ja._loadPage(new v(ka),function(la){if(!la)ba(window.location,ka,true);});return true;},_loadPage:function(ka,la){if(new v(ka).getFragment()&&x(new v(ka).setFragment(null).getQualifiedURI(),new v(ja._current_uri).setFragment(null).getQualifiedURI())){g.inform("pre_page_fragment_transition",{from:new v(ja._current_uri).getFragment(),to:new v(ka).getFragment()});if(ja.restoreScrollPosition(ka)){ja._current_uri=ja._most_recent_uri=ka;i.stopLookingBusy();g.inform("page_fragment_transition",{fragment:new v(ka).getFragment()});return;}}var ma;if(ja._current_uri)ma=ha(ja._current_uri);var na=function(){if(ma&&ja._current_uri)ga(ja._current_uri,ma);ja._current_uri=null;ja._next_uri=ka;if(ma)k.scrollTo(ma,false);ja._scroll_locked=true;var qa=ja._handleTransition(ka);la&&la(qa);},oa=ja._next_uri;ja._next_uri=ka;var pa=r.runHooks('onbeforeleavehooks');ja._next_uri=oa;if(pa){i.stopLookingBusy();ja._warnBeforeLeaving(pa,na);}else na();},_handleTransition:function(ka){window.onbeforeleavehooks=(void 0);i.lookBusy();if(!ka.isSameOrigin())return false;var la,ma=a.AsyncRequest;if(ma)la=ma.getLastID();g.inform("pre_page_transition",{from:ja.getMostRecentURI(),to:ka});var na=s._getTransitionHandlers();for(var oa=na.length-1;oa>=0;--oa){var pa=na[oa];if(!pa)continue;for(var qa=pa.length-1;qa>=0;--qa)if(pa[qa](ka)===true){var ra={sender:this,uri:ka,id:la};try{g.inform("page_transition",ra);}catch(sa){}return true;}else pa.splice(qa,1);}return false;},unifyURI:function(){this._init();ja._current_uri=ja._most_recent_uri=ja._next_uri;},transitionComplete:function(ka){this._init();ja._scroll_locked=false;ja._executeCompletionCallbacks();i.stopLookingBusy();ja.unifyURI();if(!ka)ja.restoreScrollPosition(ja._current_uri);try{if(document.activeElement&&document.activeElement.nodeName==='A')document.activeElement.blur();}catch(la){}},_executeCompletionCallbacks:function(){var ka=s._getCompletionCallbacks();if(ka.length>0){s._resetCompletionCallbacks();ka.forEach(function(la){return la();});}},registerCompletionCallback:s.registerCompletionCallback,rewriteCurrentURI:function(ka,la){this._init();var ma=s._getTransitionHandlers(),na=ma.length||1,oa=false;s.registerHandler(function(){if(ka==ja.getMostRecentURI().getUnqualifiedURI().toString()){ja.transitionComplete();return true;}oa=true;},na);ja.go(la,true);ca(ma.length===na+1&&ma[na].length===(oa?0:1));ma.length=na;},_warnBeforeLeaving:function(ka,la){h.loadModules(["DialogX","XUIDialogTitle.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIGrayText.react"],function(ma,na,oa,pa,qa,ra){var sa=new ma({width:450,addedBehaviors:[p]},t.createElement("div",null,t.createElement(na,{showCloseButton:false},ea._("Leave Page?")),t.createElement(oa,null,t.createElement(ra,{shade:"medium",size:"medium"},ka)),t.createElement(qa,null,t.createElement(pa,{action:"cancel",label:ea._("Stay on This Page")}),t.createElement(pa,{action:"confirm",use:"confirm",label:ea._("Leave This Page")}))));sa.subscribe('confirm',function(){sa.hide();la();});sa.show();});},restoreScrollPosition:function(ka){var la=ha(ka);if(la){k.scrollTo(la,false);return true;}function ma(pa){if(!pa)return null;var qa="a[name='"+z(pa)+"']";return j.scry(document.body,qa)[0]||aa(pa);}var na=ma(new v(ka).getFragment());if(na){var oa=w.getElementPosition(na);oa.x=0;k.scrollTo(oa);return true;}return false;}};e.exports=ja;a.PageTransitions=ja;},null);
__d("DynamicFriendListEducation",["Event","Arbiter","AsyncRequest","Dialog","PageTransitions","arrayContains","createArrayFromMixed","removeFromArray"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){b.__markCompiled&&b.__markCompiled();var o,p,q,r,s,t;function u(){q&&q.hide();r&&r.hide();}function v(y){n(p,y);u();s({accept_tag_education:true});}function w(){u();s({nux_cancel:true});}var x={init:function(y,z){o=y;p=m(z).map(String);k.registerHandler(function(){u();o=false;s=(void 0);p=[];});},showDialog:function(y,z,aa){if(o&&l(p,y)){u();h.inform('DynamicFriendListEducation/dialogOpen',{uid:z,flid:y});s=aa;q=new j().setAsync(new i('/ajax/friends/lists/smart_list_education.php').setMethod('GET').setData({flid:y,uid:z}).setReadOnly(true)).setHandler(v.bind(this,y)).setCloseHandler(function(){h.inform('DynamicFriendListEducation/dialogClosed',{uid:z,flid:y});}).setCancelHandler(function(){h.inform('DynamicFriendListEducation/dialogCancel',{uid:z,flid:y});}).show();}else aa();},showContextualDialog:function(y,z,aa,ba){if(o&&l(p,y)){u();t=aa;s=ba;new i('/ajax/friends/lists/smart_list_contextual_education.php').setMethod('GET').setData({flid:y,uid:z}).setReadOnly(true).send();}else ba();},setContextualDialog:function(y,z,aa,ba){r=y;r.setContext(t);r.show();g.listen(z,'click',v.bind(this,ba));g.listen(aa,'click',w);}};e.exports=x;},null);
__d("FriendStatus",["Arbiter","AsyncRequest","SubscribeButton","arrayContains","createArrayFromMixed","forEachObject"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();function m(q,r,s){this.id=q;this.update(r,s);}Object.assign(m.prototype,{update:function(q,r){q&&(this.status=q);if(r){this.lists=k(r).map(String);this._informListChange();}},isComplete:function(){return !!this.lists;},addToList:function(q){if(this.lists&&!j(this.lists,q))this.lists.push(q);this._informListChange();},removeFromList:function(q){if(this.lists){var r=this.lists.indexOf(q);r!==-1&&this.lists.splice(r,1);}this._informListChange();},updateList:function(q,r){r?this.addToList(q):this.removeFromList(q);},_informListChange:function(){g.inform('FriendListMembershipChange',{uid:this.id,lists:this.lists});}});Object.assign(m,{ARE_FRIENDS:1,INCOMING_REQUEST:2,OUTGOING_REQUEST:3,CAN_REQUEST:4});var n={},o={};function p(q,r,s){if(!n[s.uid]){n[s.uid]=new m(s.uid,q);}else n[s.uid].update(q);g.inform('FriendRequest/change',{uid:s.uid,status:q});}g.subscribe(['FriendRequest/cancel','FriendRequest/unfriend'],function(q,r){r.profile_id=r.uid;r.connected=false;g.inform(i.UNSUBSCRIBED,r);});g.subscribe(['FriendRequest/cancel','FriendRequest/unfriend','FriendRequest/sendFail'],p.bind(null,m.CAN_REQUEST));g.subscribe(['FriendRequest/confirmFail'],p.bind(null,m.INCOMING_REQUEST));g.subscribe(['FriendRequest/cancelFail','FriendRequest/sent','FriendRequest/sending'],p.bind(null,m.OUTGOING_REQUEST));g.subscribe(['FriendRequest/confirm','FriendRequest/confirming'],p.bind(null,m.ARE_FRIENDS));Object.assign(m,{CLOSE_FRIENDS:null,ACQUAINTANCES:null,getFriend:function(q,r){if(n[q]&&n[q].isComplete()){r(n[q]);}else if(o[q]){o[q].push(r);}else{o[q]=[r];new h().setURI("/ajax/friends/status.php").setData({friend:q}).setHandler(function(s){var t=s.getPayload();setTimeout(m.initFriend.bind(m,q,t.status,t.lists),0);}).send();}},initFriend:function(q,r,s){var t=n[q]||new m(q);t.update(t.status||r,t.lists||s);n[q]=t;o[q]&&o[q].forEach(function(u){u(t);});o[q]=null;},setSpecialLists:function(q){var r=m.CLOSE_FRIENDS===null;m.CLOSE_FRIENDS=q.close+'';m.ACQUAINTANCES=q.acq+'';if(r)l(n,function(s,t){s._informListChange();});}});e.exports=m;},null);
__d("FriendEditLists",["Arbiter","AsyncRequest","CSS","DOMQuery","DynamicFriendListEducation","EditSubscriptions","Event","FriendStatus","MenuDeprecated","Parent","ScrollableArea","URI","$","arrayContains","ge"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){b.__markCompiled&&b.__markCompiled();var v=5,w={},x='/ajax/profile/removefriendconfirm.php',y='/ajax/friends/requests/cancel.php',z='/ajax/choose/',aa='/profile.php',ba,ca,da,ea,fa=null,ga={profile_browser:43,fbx_top_bar:1,hovercard:5};function ha(sa,ta,ua){var va=w[sa.id],wa=function(xa){var ya={action:ua?'add_list':'del_list',to_friend:va.id,friendlists:[ta],source:ba};if(xa)Object.assign(ya,xa);va.updateList(ta,ua);var za;if(ua&&ta==n.CLOSE_FRIENDS){za=ka(sa,n.ACQUAINTANCES);if(o.isItemChecked(za)){o.toggleItem(za);ha(sa,n.ACQUAINTANCES,false);}}else if(ua&&ta==n.ACQUAINTANCES){za=ka(sa,n.CLOSE_FRIENDS);if(o.isItemChecked(za)){o.toggleItem(za);ha(sa,n.CLOSE_FRIENDS,false);}}var ab={flid:ta,uid:va.id},bb=ua?'FriendListHovercard/add':'FriendListHovercard/remove';g.inform(bb,ab);new h().setURI('/ajax/add_friend/action.php').setData(ya).send();};if(ua){k.showDialog(ta,va.id,wa);}else wa();}function ia(sa){var ta=j.scry(sa,'input')[0];return ta&&ta.value;}function ja(sa,ta,ua){if(i.hasClass(ua,'async_saving'))return;var va={uid:ta.id};new h().setURI(y).setMethod('POST').setData({friend:ta.id,cancel_ref:da,floc:ea}).setHandler(g.inform.bind(g,'FriendRequest/cancel',va)).setErrorHandler(g.inform.bind(g,'FriendRequest/cancelFail',va)).setStatusElement(ua).send();}function ka(sa,ta){var ua=o.getItems(sa);for(var va=0;va<ua.length;va++)if(ia(ua[va])==ta)return ua[va];return null;}function la(sa,ta){var ua=o.getItems(sa);ua.forEach(function(va){var wa=ia(va),xa=t(ta.lists,wa);if(o.isItemChecked(va)!==xa)o.toggleItem(va);});}function ma(sa){var ta=o.getItems(sa),ua=!i.hasClass(sa,'followButtonFlyout')&&!i.hasClass(sa,'likeButtonFlyout'),va=[],wa=[],xa=0,ya=0;ta.forEach(function(db){if(i.hasClass(db,'neverHide')){i.removeClass(db,'underShowMore');xa++;}else if(o.isItemChecked(db)){va.push(db);}else if(i.hasClass(db,'neverShow')||i.hasClass(db,'FriendListCreateTrigger')||(!ua&&i.hasClass(db,'friendOptionsOnly'))){i.addClass(db,'underShowMore');ya++;}else wa.push(db);});var za=v-xa,ab=va.concat(wa),bb=ya;ab.forEach(function(db){if(i.hasClass(db,'ShowMoreItem')){za--;return;}if(za){i.removeClass(db,'underShowMore');za--;}else{i.addClass(db,'underShowMore');bb=true;}});i.conditionClass(sa,'hasMoreFriendListItems',bb);var cb=j.scry(sa,'.FriendListMenuShowMore');cb.forEach(function(db){i.removeClass(db,'FriendListMenuShowMore');});}function na(sa,ta){i.conditionClass(sa,'FriendListMemorializedUser',ta);}function oa(sa,ta){i.conditionClass(sa,'FriendListCannotSuggestFriends',!ta);}function pa(sa,ta){var ua=j.scry(sa,'.FriendListUnfriend')[0],va=j.scry(sa,'.FriendListCancel')[0],wa=j.scry(sa,'.FriendListSuggestFriends')[0],xa=j.scry(sa,'.FriendListFriendship')[0];if(va)i.conditionShow(va,ta.status==n.OUTGOING_REQUEST);if(ua){i.conditionShow(ua,ta.status==n.ARE_FRIENDS);var ya=j.find(ua,'a');ya.setAttribute('ajaxify',new r(x).addQueryData({uid:ta.id,unref:ca,floc:ea}).toString());if(!fa)fa=m.listen(ya,'click',function(za){var ab=p.byClass(za.getTarget(),'FriendListUnfriend');if(!ab)return;var bb=new r(j.find(ab,'a').getAttribute('ajaxify')).getQueryData();});}else i.conditionClass(sa,'NoFriendListActionSeparator',!va||ta.status!=n.OUTGOING_REQUEST);if(wa)j.find(wa,'a').setAttribute('href',new r(z).addQueryData({type:'suggest_friends',newcomer:ta.id,ref:'profile_others_dropdown'}).toString());if(xa){i.conditionShow(xa,ta.status==n.ARE_FRIENDS);j.find(xa,'a').setAttribute('href',new r(aa).addQueryData({and:ta.id}).toString());}}function qa(sa,ta,ua){var va=j.scry(sa,'div.FriendListSubscriptionsMenu');if(va.length!==0)l.init(sa,ta,ua);}g.subscribe('FriendRequest/change',function(sa,ta){for(var ua in w){var va=u(ua),wa=w[ua];if(va&&wa&&wa.id==ta.uid){la(va,wa);pa(va,wa);ma(va);}}});o.subscribe('select',function(sa,ta){if(i.hasClass(ta.item,'ShowMoreItem')&&i.hasClass(ta.menu,'FriendListMenu')){i.addClass(ta.menu,'FriendListMenuShowMore');q.poke(ta.item);}});var ra={init:function(sa,ta,ua,va,wa,xa,ya,za){sa=s(sa);ba=ua;ca=xa;da=ya;ea=za;var ab=ga[ua]||45;if(!w[sa.id])o.subscribe('select',function(bb,cb){if(j.contains(sa,cb.item))if(p.byClass(cb.item,'FriendListItem')){o.toggleItem(cb.item);var db=ia(cb.item);ha(sa,db,o.isItemChecked(cb.item));}else if(p.byClass(cb.item,'FriendListCancel')){ja(sa,w[sa.id],cb.item);}else if(p.byClass(cb.item,'FriendListUnfriend'))g.inform('FriendEditLists/unfriend');});i.addClass(sa,'async_saving');n.getFriend(ta,function(bb){na(sa,va);oa(sa,wa);la(sa,bb);pa(sa,bb);w[sa.id]=bb;ma(sa);qa(sa,ta,ab);i.removeClass(sa,'async_saving');}.bind(this));}};e.exports=a.FriendEditLists||ra;},null);
__d("FriendListFlyoutController",["Event","Arbiter","AsyncRequest","Button","ContextualLayer","CSS","DataStore","Dialog","DOM","DOMQuery","FriendEditLists","FriendStatus","Keys","Layer","LayerHideOnEscape","LayerTabIsolation","MenuDeprecated","Parent","ScrollableArea","Style","TabbableElements","UserAgent_DEPRECATED","cx","emptyFunction"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da){b.__markCompiled&&b.__markCompiled();var ea,fa,ga,ha=null,ia=null,ja,ka,la,ma,na,oa,pa=1500,qa,ra=false,sa=['uiButtonConfirm','uiButtonSpecial',"_42gz","_42g-","_4jy2","_51tl","_4jy1"],ta={init:function(xb,yb){ta.init=da;ea=xb;ea.subscribe('mouseenter',cb);ea.subscribe('mouseleave',function(){if(!ra)sb();});ea.subscribe('hide',eb);ea.enableBehavior(v);ea.enableBehavior(u);qa=yb;if(ha)o.setContent(ea.getContent(),[ha,ia]);var zb=function(bc){var cc=x.byClass(bc.getTarget(),'enableFriendListFlyout');if(cc){ra=true;if(ja!==cc){ga&&ub();rb(cc);}}else if(ra)ub();},ac=function(bc){var cc=x.byClass(bc.getTarget(),'enableFriendListFlyout');if(cc)if(ja===cc){clearTimeout(ma);}else{ga&&ub();rb(cc);}};g.listen(document.documentElement,{click:zb,mouseover:ac,keydown:function(event){var bc=event.getTarget();if(event.getModifiers().any)return;if(!ga||p.isNodeOfType(bc,['input','textarea']))return;var cc=g.getKeyCode(event),dc;switch(cc){case s.UP:case s.DOWN:var ec=bb();dc=za(ec);xa(ec[dc+(cc===s.UP?-1:1)]);return false;case s.SPACE:var fc=ya(bc);if(fc){ua(fc);event.prevent();}break;default:var gc=String.fromCharCode(cc).toLowerCase(),hc=bb();dc=za(hc);var ic=dc,jc=hc.length;while((~dc&&(ic=++ic%jc)!==dc)||(!~dc&&++ic<jc)){var kc=w.getItemLabel(hc[ic]);if(kc&&kc.charAt(0).toLowerCase()===gc){xa(hc[ic]);return false;}}}}});h.subscribe('FriendEditLists/unfriend',ub);h.subscribe('FriendRequest/cancel',ub);h.subscribe('DynamicFriendListEducation/dialogOpen',function(){oa=true;});h.subscribe('DynamicFriendListEducation/dialogClosed',function(){oa=false;sb();});},initContent:function(xb){o.appendContent(document.body,xb);fb(xb);setTimeout(function(){if(!ha){ha=xb;ea&&o.setContent(ea.getContent(),[ha,ia]);l.show(ha);g.listen(ha,'click',vb);ga&&ob(ja);}else{o.remove(xb);xb=null;}},0);},initNux:function(xb){if(ia)return;ia=xb;ea&&o.setContent(ea.getContent(),[ha,ia]);},show:function(xb){pb(xb);},hide:function(xb){xb===false?ub():sb();},setActiveNode:function(xb){ga&&ub();ja=xb;ka=g.listen(xb,'mouseleave',function(){ja=null;ka&&ka.remove();});},setCloseListener:function(xb,yb){m.set(xb,'flfcloselistener',yb);if(ja!=xb)m.set(xb,'flfcloselistenertimeout',setTimeout(wb.bind(null,xb),pa));},setCloseListenerTimeout:function(xb){pa=xb;}};function ua(xb){ba.firefox()&&wa(xb).blur();w.inform('select',{menu:va(xb),item:xb});}function va(xb){if(l.hasClass(xb,'uiMenuContainer'))return xb;return x.byClass(xb,'uiMenu');}function wa(xb){return p.find(xb,'a.itemAnchor');}function xa(xb){if(xb&&ab(xb)){w._removeSelected(ea.getContent());l.addClass(xb,'selected');wa(xb).focus();}}function ya(xb){return x.byClass(xb,'uiMenuItem');}function za(xb){if(document.activeElement){var yb=ya(document.activeElement);return xb.indexOf(yb);}return -1;}function ab(xb){return !l.hasClass(xb,'disabled')&&z.get(xb,'display')!=='none'&&z.get(x.byClass(xb,'uiMenu'),'display')!=='none';}function bb(){return w.getItems(ea.getContent()).filter(ab);}function cb(){clearTimeout(ma);}function db(xb){for(var yb=0;yb<sa.length;yb++)if(l.hasClass(xb,sa[yb]))return false;return true;}function eb(){if(ja){if(db(ja)){l.removeClass(ja,"_52nd");if(l.hasClass(ja,'uiButton')||l.hasClass(ja,"_42fu"))l.removeClass(ja,'selected');}if(m.get(ja,'flfcloselistener')){var xb=ja;m.set(ja,'flfcloselistenertimeout',setTimeout(wb.bind(null,xb),pa));}}ga=false;nb();ja=null;}function fb(xb){var yb=p.scry(xb,'[tabindex="0"]');yb.forEach(function(zb){zb.tabIndex='-1';});yb[0]&&(yb[0].tabIndex='0');}function gb(xb){if(p.isNodeOfType(xb,'label')&&l.hasClass(xb,'uiButton'))xb=j.getInputElement(xb);return xb;}function hb(xb){return m.get(gb(xb),'profileid');}function ib(xb){return m.get(gb(xb),'memorialized')==='true';}function jb(xb){return m.get(gb(xb),'cansuggestfriends')==='true';}function kb(xb){return m.get(gb(xb),'unref');}function lb(xb){return m.get(gb(xb),'cancelref');}function mb(xb){return m.get(gb(xb),'floc');}function nb(){ka&&ka.remove();ka=null;na&&t.unsubscribe(na);na=null;ma&&clearTimeout(ma);ma=null;}function ob(xb){var yb=hb(xb),zb=ib(xb),ac=jb(xb),bc=m.get(xb,'flloc'),cc=kb(xb),dc=lb(xb),ec=mb(xb);q.init(ha,yb,bc,zb,ac,cc,dc,ec);l.conditionClass(ha,'followButtonFlyout',l.hasClass(xb,'profileFollowButton'));l.conditionClass(ha,'friendButtonFlyout',l.hasClass(xb,'FriendRequestFriends')||l.hasClass(xb,'FriendRequestIncoming')||l.hasClass(xb,'FriendRequestOutgoing'));l.conditionClass(ha,'likeButtonFlyout',l.hasClass(xb,'profileLikeButton'));var fc=p.scry(ha,'div.uiScrollableArea')[0];fc&&y.poke(fc);var gc=aa.find(ha)[0];gc&&gc.focus();}function pb(xb){if(!ea||ga)return;ea.setContext(xb);ea.setCausalElement(xb);xb.setAttribute('aria-expanded','true');if(db(xb)){l.addClass(xb,"_52nd");if(l.hasClass(xb,'uiButton')||l.hasClass(xb,"_42fu"))l.addClass(xb,'selected');}ea.show();ja=xb;ga=true;var yb=null;if(ha){yb='show';ob(xb);}else{yb='init_show';new i().setURI('/ajax/friends/lists/flyout_content.php').setStatusElement(ea.getContent()).send();}nb();ka=g.listen(xb,'mouseleave',sb);na=t.subscribe('show',qb);if(m.get(xb,'flfcloselistener'))clearTimeout(m.remove(xb,'flfcloselistenertimeout'));var zb=hb(xb);r.getFriend(zb,function(ac){if(ac.status==r.ARE_FRIENDS)new i().setURI('/ajax/friends/lists/flyout_log.php').setData({target_id:hb(xb),unref:kb(xb),action:yb}).send();if(!ia)return;if(ac.status==r.OUTGOING_REQUEST){l.show(ia);i.bootstrap('/ajax/friends/lists/nux_flyout.php',null,true);}else l.hide(ia);});if(!fa||xb.id!==fa.id){h.inform('listeditor/close_editor');h.inform('friend-list/close_editor');}fa=xb;}function qb(xb,yb){if(!(yb instanceof k)||!p.contains(ja,yb.getContext()))sb();}function rb(xb){ja=xb;la=setTimeout(pb.bind(null,xb),qa);ka=g.listen(xb,'mouseleave',function(){clearTimeout(la);ja=null;ka&&ka.remove();});}function sb(){ma=setTimeout(ub,150);}function tb(){var xb=n.getCurrent(),yb=xb&&xb.getBody();return !!(yb&&p.scry(yb,'.friendListDialogTourCarousel')[0]);}function ub(){if(oa||tb())return;ra=false;if(ea){ea.hide();var xb=ea.getCausalElement();xb&&xb.setAttribute('aria-expanded','false');}}function vb(event){var xb=x.byTag(event.getTarget(),'a');if(xb&&l.hasClass(xb,'FriendListActionItem'))sb();}function wb(xb){var yb=m.remove(xb,'flfcloselistener');yb&&yb();}e.exports=a.FriendListFlyoutController||ta;},null);
__d("AddFriendButton",["Event","Animation","Arbiter","AsyncRequest","AsyncResponse","collectDataAttributes","CSS","DOMQuery","FriendListFlyoutController","FriendStatus","ge","goURI","Style","SubscribeButton","URI","XPubcontentChainedSuggestionsController"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){b.__markCompiled&&b.__markCompiled();var w={ERROR_ALREADY_ADDED:1431005,init:function(x,y,z,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka){var la=x.id,ma=null,na=n.scry(x,'.addButton')[0],oa=n.scry(x,'.addFriendText')[0],pa=n.scry(x,'.outgoingButton')[0],qa=n.scry(x,'.incomingButton')[0],ra=n.scry(x,'.friendButton')[0],sa=n.scry(x.parentNode,'.suggestFriendsButton')[0];function ta(ab,bb,cb){var db=new u(na.getAttribute('ajaxify')),eb=l(x,['ft','gt']);new j().setURI(ca).setData({to_friend:y,action:ab,how_found:aa,ref_param:ba,link_data:eb,outgoing_id:pa.id,xids:db.getQueryData().xids,logging_location:da,no_flyout_on_click:ea,ego_log_data:fa,http_referer:ha,floc:ja,frefs:ka}).setErrorHandler(bb).setServerDialogCancelHandler(cb).setRelativeTo(pa).send();if(ia&&ab==='add_friend'){var fb=(v.getURIBuilder()).setInt('friendid',y).getURI();new j().setURI(fb).send();}i.inform(t.SUBSCRIBED,{profile_id:y.toString(),connected:true,chaining:false});}function ua(ab,bb){if(oa){m.hide(oa);}else if(na)m.hide(na);pa&&m.hide(pa);qa&&m.hide(qa);ra&&m.hide(ra);if(ab)m.show(ab);if('Outgoing'==bb&&ma!=bb&&ga)new h(ab).from('backgroundColor','#FFF8CC').to('backgroundColor','transparent').from('borderColor','#FFE222').to('borderColor',s.get(ab,'borderLeftColor')).duration(2000).go();if('Requestable'==bb&&ma!=bb)sa&&m.hide(sa);ma&&m.removeClass(x,'fStatus'+ma);ma=bb;m.addClass(x,'fStatus'+bb);}function va(ab){if(m.hasClass(ab,'enableFriendListFlyout')){o.show(ab);}else o.hide();}var wa=i.subscribe('FriendRequest/change',function(ab,bb){za();if(bb.uid!=y)return;switch(bb.status){case p.ARE_FRIENDS:return ua(ra,'Friends');case p.INCOMING_REQUEST:return ua(qa,'Incoming');case p.OUTGOING_REQUEST:return ua(pa,'Outgoing');case p.CAN_REQUEST:return ua(oa?oa:na,'Requestable');}}),xa=i.subscribe('FriendRequest/unfriend',function(ab,bb){za();if(bb.uid===y&&bb.shouldHideButton===true)m.hide(na);}),ya;if(z)ya=i.subscribe('FriendRequest/confirm',function(ab,bb){za();bb.uid==y&&r(z);});na&&g.listen(na,'click',function(){i.inform('FriendRequest/sending',{uid:y});if(ea){o.setActiveNode(pa);}else va(pa);ta("add_friend",function(ab){var bb=ab.error==w.ERROR_ALREADY_ADDED?'FriendRequest/sent':'FriendRequest/sendFail';i.inform(bb,{uid:y});o.hide();k.defaultErrorHandler(ab);},function(ab){i.inform('FriendRequest/sendFail',{uid:y});o.hide();});});function za(){if(q(la))return;wa&&wa.unsubscribe();ya&&ya.unsubscribe();xa&&xa.unsubscribe();wa=null;ya=null;xa=null;}}};e.exports=w;},null);
__d("FriendButtonIcon",["Arbiter","FriendStatus","Button","arrayContains"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();e.exports={register:function(k,l,m){g.subscribe('FriendListMembershipChange',function(n,o){if(o.uid==m){var p=j(o.lists,h.CLOSE_FRIENDS),q=j(o.lists,h.ACQUAINTANCES);if(p&&!q){i.setIcon(k,l.close);}else if(q&&!p){i.setIcon(k,l.acquaintance);}else i.setIcon(k,l.friend);}});}};},null);
__d("FriendListMenu",["Event","Arbiter","AsyncRequest","CSS","DOM","HTML","Focus","Input","Keys","MenuDeprecated","Parent"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){b.__markCompiled&&b.__markCompiled();var r={init:function(s){p.register(s,false);var t=k.find(s,'.FriendListCreateTrigger'),u=k.find(s,'.CreateListInputItem'),v=k.find(u,'.createListInput');p.subscribe('select',function(w,x){if(x.item==t){j.addClass(s,'FriendListMenuCreate');m.set(v);}});g.listen(v,'blur',function(w){if(n.isEmpty(v))j.removeClass(s,'FriendListMenuCreate');});g.listen(v,'keydown',function(w){if(g.getKeyCode(w)==o.RETURN&&/[^\s]/.test(v.value))new i().setURI('/ajax/friends/lists/create.php').setData({name:v.value,id:s.id}).setHandler(function(){n.reset(v);j.removeClass(s,'FriendListMenuCreate');}).send();});h.subscribe('friend-list/new',function(w,x){var y=l(x.new_li).getRootNode();k.insertBefore(t,y);if(x.id===s.id){p.focusItem(y);p.inform('select',{menu:q.byClass(y,'uiMenu'),item:y});}else p.toggleItem(y);});h.subscribe('friend-list/close_editor',function(){var w=q.byClass(s,'FlyoutFriendMenu');j.removeClass(w,'addToListsOpen');j.addClass(w,'addToListsClosed');});},addToAnotherList:function(s,t){g.listen(s,'click',function(event){var u=q.byClass(s,'FlyoutFriendMenu');j.removeClass(u,'addToListsClosed');j.addClass(u,'addToListsOpen');});},goBack:function(s,t){g.listen(s,'click',function(event){var u=q.byClass(s,'FlyoutFriendMenu');j.removeClass(u,'addToListsOpen');j.addClass(u,'addToListsClosed');});}};e.exports=r;},null);
__d("RestrictedFriendListEducation",["Arbiter","AsyncRequest"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i,j;function k(m,n){if(n.flid==i)if(m=='FriendListHovercard/add'){if(j)return;j=true;new h().setURI('/ajax/friends/lists/restricted_edu.php').setData({target:n.uid,flid:n.flid}).send();}else if(m=='RestrictedListNUX/okay')new h().setURI('/ajax/friends/lists/nux_log.php').setData(n).send();return true;}var l={init:function(m){i=m;g.subscribe(['FriendListHovercard/add','RestrictedListNUX/okay'],k);}};e.exports=l;},null);
__d("FlipDirection",["DOM","Input","Style"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j={setDirection:function(k){var l=g.isNodeOfType(k,'input')&&(k.type=='text'),m=g.isNodeOfType(k,'textarea');if(!(l||m)||k.getAttribute('data-prevent-auto-flip'))return;var n=h.getValue(k),o=(k.style&&k.style.direction);if(!o){var p=0,q=true;for(var r=0;r<n.length;r++){var s=n.charCodeAt(r);if(s>=48){if(q){q=false;p++;}if(s>=1470&&s<=1920){i.set(k,'direction','rtl');k.setAttribute('dir','rtl');return;}if(p==5){i.set(k,'direction','ltr');k.setAttribute('dir','ltr');return;}}else q=true;}}else if(n.length===0){i.set(k,'direction','');k.removeAttribute('dir');}}};e.exports=j;},null);
__d("FlipDirectionOnKeypress",["Event","FlipDirection"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i=function(event){var j=event.getTarget();h.setDirection(j);};g.listen(document.documentElement,{keyup:i,input:i});},null);
__d("DialogHideOnSuccess",["CSS","cx"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();function i(j){"use strict";this._layer=j;}i.prototype.enable=function(){"use strict";this._subscription=this._layer.subscribe('success',this._handle.bind(this));};i.prototype.disable=function(){"use strict";this._subscription.unsubscribe();this._subscription=null;};i.prototype._handle=function(j,event){"use strict";if(g.hasClass(event.getTarget(),"_s"))this._layer.hide();};Object.assign(i.prototype,{_subscription:null});e.exports=i;},null);
__d("Scrollable",["Event","Parent","Scroll","UserAgent_DEPRECATED"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k=function(event){var n=h.byClass(event.getTarget(),'scrollable');if(!n)return;if((typeof event.axis!=='undefined'&&event.axis===event.HORIZONTAL_AXIS)||(event.wheelDeltaX&&!event.wheelDeltaY)||(event.deltaX&&!event.deltaY))return;var o=event.wheelDelta||-event.deltaY||-event.detail,p=n.scrollHeight,q=n.clientHeight;if(p>q){var r=i.getTop(n);if((o>0&&r===0)||(o<0&&r>=p-q-1)){event.prevent();}else if(j.ie()<9)if(n.currentStyle){var s=n.currentStyle.fontSize;if(s.indexOf('px')<0){var t=document.createElement('div');t.style.fontSize=s;t.style.height='1em';s=t.style.pixelHeight;}else s=parseInt(s,10);i.setTop(n,r-Math.round(o/120*s));event.prevent();}}},l=document.documentElement;if(j.firefox()){var m=('WheelEvent' in window)?'wheel':'DOMMouseScroll';l.addEventListener(m,k,false);}else g.listen(l,'mousewheel',k);},null);
__d("StickyPlaceholderInput",["Event","CSS","DOM","Input","Parent","emptyFunction","getElementText"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();function n(r){return k.byClass(r,'uiStickyPlaceholderInput');}function o(r){return i.scry(r,'.placeholder')[0];}function p(r){r=r||window.event;var s=r.target||r.srcElement;if(i.isNodeOfType(s,['input','textarea'])){var t=n(s);if(t)setTimeout(function(){h.conditionClass(t,'uiStickyPlaceholderEmptyInput',!s.value.length);},0);}}var q={init:function(){q.init=l;g.listen(document.documentElement,{keydown:p,paste:p,focusout:p});},registerInput:function(r){q.init();var s=r.getAttribute('placeholder')||'';if(s.length)if(document.activeElement===r){var t=g.listen(r,'blur',function(){q.manipulateInput(r,s);t.remove();});}else q.manipulateInput(r,s);},manipulateInput:function(r,s){var t=i.create('div',{className:'placeholder','aria-hidden':'true'},s),u=i.create('div',{className:'uiStickyPlaceholderInput'},t);if(i.isNodeOfType(r,'textarea'))h.addClass(u,'uiStickyPlaceholderTextarea');g.listen(t,'click',function(){r.focus();});if(r.value===s)r.value='';r.setAttribute('placeholder','');i.replace(r,u);i.appendContent(u,r);h.conditionClass(u,'uiStickyPlaceholderEmptyInput',!r.value.length);},setPlaceholderText:function(r,s){var t=n(r);if(!t){j.setPlaceholder(r,s);}else{var u=o(t);u&&i.setContent(u,s);}},getPlaceholderText:function(r){var s=n(r),t=o(s);return t&&m(t);},update:function(r){var s=n(r);if(s)h.conditionClass(s,'uiStickyPlaceholderEmptyInput',!r.value.length);},getVisibleText:function(r){var s=n(r);if(h.hasClass(s,'uiStickyPlaceholderEmptyInput')){var t=o(s);return t&&m(t);}else return r.value;}};e.exports=q;},null);
__d("LayerRemoveOnHide",["DOM"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();function h(i){"use strict";this._layer=i;}h.prototype.enable=function(){"use strict";this._subscription=this._layer.subscribe('hide',g.remove.bind(null,this._layer.getRoot()));};h.prototype.disable=function(){"use strict";if(this._subscription){this._subscription.unsubscribe();this._subscription=null;}};Object.assign(h.prototype,{_subscription:null});e.exports=h;},null);