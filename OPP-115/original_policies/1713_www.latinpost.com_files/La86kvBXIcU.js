/*!CK:3352903864!*//*1436278934,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["FEZcZ"]); }

__d("LoadingIndicator.react",["React","Image.react","cx","keyMirror","ix","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();var m=j({white:true,blue:true,black:true}),n=j({small:true,medium:true,large:true}),o={white:{large:k('/images/loaders/indicator_blue_large.gif'),medium:k('/images/loaders/indicator_blue_medium.gif'),small:k('/images/loaders/indicator_blue_small.gif')},blue:{large:k('/images/loaders/indicator_white_large.gif'),small:k('/images/loaders/indicator_white_small.gif')},black:{large:k('/images/loaders/indicator_black.gif')}},p=g.createClass({displayName:"LoadingIndicator",render:function(){var q=this.props.color,r=this.props.size;if(!o[q])return g.createElement("span",null);if(!o[q][r])return g.createElement("span",null);var s=((this.props.showonasync?"uiLoadingIndicatorAsync":'')),t=o[q][r];return (g.createElement(h,g.__spread({},this.props,{src:t,className:l(this.props.className,s)})));}});p.SIZES=n;p.COLORS=m;e.exports=p;},null);
__d("LinkshimAsyncLink",["$","AsyncSignal","DOM","UserAgent_DEPRECATED","LinkshimHandlerConfig"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();var l={swap:function(m,n){var o=j.ie()<=8;if(o){var p=i.create('wbr',{},null);i.appendContent(m,p);}m.href=n;if(o)i.remove(p);},referrer_log:function(m,n,o){var p=g('meta_referrer');p.content='origin';l.swap(m,n);setTimeout(function(){p.content=k.default_meta_referrer_policy;new h(o,{}).send();},100);}};e.exports=l;},null);
__d("legacy:dom-asynclinkshim",["LinkshimAsyncLink"],function(a,b,c,d){b.__markCompiled&&b.__markCompiled();a.LinkshimAsyncLink=b('LinkshimAsyncLink');},3);
__d("randomInt",["invariant"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();function h(i,j){var k=arguments.length;g(k>0&&k<=2);if(k===1){j=i;i=0;}g(j>i);var l=this.random||Math.random;return Math.floor(i+l()*(j-i));}e.exports=h;},null);
__d("ClientIDs",["randomInt"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h={},i={getNewClientID:function(){var j=Date.now(),k=j+':'+(g(0,4294967295)+1);h[k]=true;return k;},isExistingClientID:function(j){return !!h[j];}};e.exports=i;},null);
__d("ServerTime",["InitialServerTime"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();k(g.serverTime);var h;function i(){return Date.now()-h;}function j(){return h;}function k(l){h=Date.now()-l;}e.exports={getMillis:i,getOffsetMillis:j,update:k,get:i,getSkew:j};},null);
__d("AttachmentRelatedShareConstants",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g={ARTICLE_CLICK:'article_click',VIDEO_CLICK:'video_click',FBVIDEO_CLICK:'fbvideo_click',GAME_CLICK:'game_click',EVENT_DELAY:1000,HIDE_DELAY:100,PHOTO_CLICK:'photo_click',EVENT_JOIN:'event_join'};e.exports=g;},null);
__d("tidyEvent",["Run"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h=[];function i(){while(h.length){var l=h.shift();l&&l.remove?l.remove():l.unsubscribe();}}function j(l){var m;function n(){if(!m)return;m.apply(l,arguments);m=null;l=null;}if(l.remove){m=l.remove;l.remove=n;}else{m=l.unsubscribe;l.unsubscribe=n;}return l;}function k(l){if(!h.length)g.onLeave(i);if(Array.isArray(l)){for(var m=0;m<l.length;m++)h.push(j(l[m]));}else h.push(j(l));return l;}e.exports=k;},null);
__d("XPubcontentInlinePhotoPivotsEventsController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/pubcontent\/inline_photo_pivots_chaining\/events\/",{});},null);
__d("EntstreamAttachmentRelatedShare",["Arbiter","AsyncRequest","AttachmentRelatedShareConstants","csx","cx","CSS","DOM","Event","ge","tidyEvent","XPubcontentInlinePhotoPivotsEventsController"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){b.__markCompiled&&b.__markCompiled();var r=2,s=3,t={loadRelatedAttachment:function(u,v,w){var x=null;if(typeof u==="string"){x=o(u);}else x=u;if(!x)return;var y=n.listen(x,'click',function(){y.remove();g.inform(i.ARTICLE_CLICK,{attachment:x,global_share_id:v,is_right_click:false,share_id:w});}),z=n.listen(x,'mousedown',function(event){if(event.which===s||event.button===r){z.remove();g.inform(i.ARTICLE_CLICK,{attachment:x,global_share_id:v,is_right_click:true});}});},loadInlineStoryPivotAttachment:function(u,v){var w=o(u);if(!w)return;var x=n.listen(w,'click',function(){x.remove();g.inform(i.PHOTO_CLICK,{attachment:w,storyid:v});});},loadRelatedGameAttachment:function(u,v){var w=null;if(typeof u==="string"){w=o(u);}else w=u;if(!w)return;p(n.listen(w,'click',function(){g.inform(i.GAME_CLICK,{attachment:w,global_share_id:v});}));p(n.listen(w,'mousedown',function(event){if(event.which===s||event.button===r)g.inform(i.GAME_CLICK,{attachment:w,global_share_id:v});}));},loadRelatedLSCVideoAttachment:function(u,v){var w=null;if(typeof u==='string'){w=o(u);}else w=u;if(!w)return;var x="^div._4-u2",y=m.scry(w,x),z=n.listen(w,'click',function(){z.remove();g.inform(i.VIDEO_CLICK,{attachment:w,global_share_id:v});});},loadRelatedLSCInlineVideoAttachment:function(u,v){var w=null;if(typeof u==='string'){w=o(u);}else w=u;if(!w)return;n.listen(w,'click',function(){var x="^div._4-u2",y="_1d8v",z=m.scry(w,x),aa=z.length===1?z[0]:null,ba=aa.parentNode,ca=ba.previousSibling;while(!ca){ba=ba.parentNode;ca=ba.previousSibling;}if(!l.hasClass(ca,y)){var da=m.create('div',{className:y}),ea=m.insertBefore(aa.parentNode,da),fa=ea.length>=1?ea[0]:null;}else fa=ca;var ga=m.getID(fa);new h().setURI('/ajax/flash/expand_inline.php').setData({share_id:v,target_div:ga,max_width:470,max_height:264,replace_target_div:true}).setMethod('GET').setReadOnly(true).setRelativeTo(w.parentNode).send();});},loadRelatedEventsPivotAttachment:function(u,v){var w=null;if(typeof u==="string"){w=o(u);}else w=u;if(!w)return;p(n.listen(w,'click',function(){g.inform(i.EVENT_JOIN,{attachment:w,event_id:v});}));},closeButton:function(u,v){n.listen(u,'click',function(){m.remove(v);});},closeButtonPhotoPivots:function(u,v,w,x){n.listen(u,'click',function(){var y=q.getURIBuilder(),z={story_id:w,search_query_type:x,event:'hide'};new h().setMethod('POST').setURI(y.getURI()).setData(z).send();m.remove(v);});},seeAllLinkPhotoPivots:function(u,v,w){n.listen(u,'click',function(){var x=q.getURIBuilder(),y={story_id:v,search_query_type:w,event:'see_all'};new h().setMethod('POST').setURI(x.getURI()).setData(y).send();});},removeOldSuggestions:function(u){var v=o(u);if(!v)return;var w=m.scry(v.parentNode,"._5d73");for(var x=1;x<w.length;x++)m.remove(w[x]);setTimeout(function(){l.show(w[0]);},1000);},showHiddenSuggestions:function(u){var v=n.listen(u,'click',function(){v.remove();var w="^._1ui8",x=m.scry(u,w);if(!x)return;l.hide(x[0]);var y=x[0].previousSibling;while(y){l.show(y);y=y.previousSibling;}});}};e.exports=t;},null);
__d("FeedTrackingAsync",["Arbiter","collectDataAttributes"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();function i(){g.subscribe('AsyncRequest/send',function(j,k){var l=k.request,m=l.getRelativeTo();if(m){var n=l.getData(),o=h(m,['ft']);if(Object.keys(o.ft).length)Object.assign(n,o);}});}e.exports={init:i};},null);
__d("highlight",["Animation","Style"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();function i(j,k,l,m){new g(j).from('background',m||'#fff9d7').to('background',l||'#fff').ease(g.ease.both).duration(2000).ondone(function(){h.set(j,'background','');k&&k();}).go();}e.exports=i;},null);
__d("XLtgPostTranslationController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/intl\/see_translation\/",{ftid:{type:"String",required:true}});},null);
__d("LtgPostTranslation",["Arbiter","AsyncRequest","cx","DOM","Event","fbt","highlight","LoadingIndicator.react","React","XLtgPostTranslationController"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){b.__markCompiled&&b.__markCompiled();function q(s,t){var u=j.create('div',{'class':"_49k0"},t||l._("No translation available"));j.replace(s,u);if(t)m(u);}var r={bindListener:function(s,t){k.listen(s,'click',function(){o.render(o.createElement(n,{size:"small",color:"white"}),s);var u=p.getURIBuilder().setString('ftid',t).getURI();new h().setURI(u).setHandler(function(v){var w=v.getPayload();q(s,w&&w.text);g.inform('ufi/translationRendered');}).setErrorHandler(function(){q(s,null);}).send();});}};e.exports=r;},null);
__d("LiveTimer",["CSS","DOM","ServerTime","fbt"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k=1000,l=60,m=3600,n=43200,o=86400,p=60,q=20000,r={restart:function(s){i.update(s*1000);this.updateTimeStamps();},getApproximateServerTime:function(){return i.get();},getServerTimeOffset:function(){return -1*i.getSkew();},updateTimeStamps:function(){this.timestamps=h.scry(document.body,'abbr.livetimestamp');this.startLoop(q);},addTimeStamps:function(s){if(!s)return;this.timestamps=this.timestamps||[];if(h.isNodeOfType(s,'abbr')&&g.hasClass(s,'livetimestamp')){this.timestamps.push(s);}else{var t=h.scry(s,'abbr.livetimestamp');for(var u=0;u<t.length;++u)this.timestamps.push(t[u]);}this.startLoop(0);},startLoop:function(s){this.stop();this.timeout=setTimeout(function(){this.loop();}.bind(this),s);},stop:function(){clearTimeout(this.timeout);},loop:function(s){if(s)this.updateTimeStamps();var t=Math.floor(i.get()/k),u=-1;this.timestamps&&this.timestamps.forEach(function(w){var x=w.getAttribute('data-utime'),y=w.getAttribute('data-shorten'),z=w.getAttribute('data-minimize'),aa=this.renderRelativeTime(t,x,y,z);if(aa.text)h.setContent(w,aa.text);if(aa.next!=-1&&(aa.next<u||u==-1))u=aa.next;}.bind(this));if(u!=-1){var v=Math.max(q,u*k);this.timeout=setTimeout(function(){this.loop();}.bind(this),v);}},renderRelativeTime:function(s,t,u,v){var w={text:"",next:-1};if(s-t>(o))return w;var x=s-t,y=Math.floor(x/l),z=Math.floor(y/p);if(y<1){if(v){w.text=j._("1m");w.next=20-x%20;}else if(u){w.text=j._("Just now");w.next=20-x%20;}else{w.text=j._("a few seconds ago");w.next=l-x%l;}return w;}if(z<1){if(v){w.text=j._({"*":"{number}m"},[j.param("number",y,[0])]);}else if(u&&y==1){w.text=j._("1 min");}else if(u){w.text=j._({"*":"{number} mins"},[j.param("number",y,[0])]);}else w.text=y==1?j._("about a minute ago"):j._({"*":"{number} minutes ago"},[j.param("number",y,[0])]);w.next=l-x%l;return w;}if(z<11)w.next=m-x%m;if(v){w.text=j._({"*":"{number}h"},[j.param("number",z,[0])]);}else if(u&&z==1){w.text=j._("1 hr");}else if(u){w.text=j._({"*":"{number} hrs"},[j.param("number",z,[0])]);}else w.text=z==1?j._("about an hour ago"):j._({"*":"{number} hours ago"},[j.param("number",z,[0])]);return w;},renderRelativeTimeToServer:function(s,t,u){return this.renderRelativeTime(Math.floor(i.get()/k),s,t,u);}};e.exports=r;e.exports.CONSTS={MS_IN_SEC:k,SEC_IN_MIN:l,SEC_IN_HOUR:m,SEC_IN_12_HOUR:n,SEC_IN_24_HOUR:o,MIN_IN_HOUR:p,HEARTBEAT:q};},null);
__d("AsyncFormRequestUtils",["Arbiter"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h={subscribe:function(i,j,k){g.subscribe('AsyncRequest/'+j,function(l,m){var n=m.request.relativeTo;if(n&&n===i)k(m);});}};e.exports=h;},null);
__d("EmbedLikeButton",["Arbiter","AsyncFormRequestUtils","ClientIDs","CSS","DOM","DOMQuery","Event","Form"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){b.__markCompiled&&b.__markCompiled();window.resetConfirmStoryLike=function(p){j.show(l.find(document,'#likeStory_'+p));k.remove(l.find(document,'#confirmStory_'+p));};var o={addClientId:function(p){p.setAttribute('value',i.getNewClientID());},init:function(p,q,r,s){var t=function(u){return n.bootstrap(s);};m.listen(p,'click',t);m.listen(q,'click',t);h.subscribe(s,'send',function(u){var v=r.getAttribute('value')==='1';if(v){j.hide(p);j.show(q);}else{j.hide(q);j.show(p);}g.inform('embeddedUfiToggle');r.setAttribute('value',v?'':'1');});}};e.exports=o;},null);
__d("StreamShareVideo",["AsyncRequest","CSS","Event","cx","ge"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();var l={_endpoints:[],_thumbs:[],registerThumb:function(m,n,o,p){l._endpoints[m+' '+o]=p;l._thumbs[m+' '+o]=n;},clickTitle:function(m,n,event){return this.expandInlineOrRedirect(m,n,event);},expandInlineOrRedirect:function(m,n,event){if(l._shouldFollowHref(event))return true;var o=l._thumbs[m+' '+n],p=k(o);if(p){h.addClass(p,"uiVideoThumbLoading");g.bootstrap(l._endpoints[m+' '+n],p.parentNode);return false;}return true;},clickTimeline:function(m,n,event){if(l._shouldFollowHref(event))return true;h.addClass(m,"_1xu");h.removeClass(m,"_1xv");g.bootstrap(n,m);return false;},_shouldFollowHref:function(event){event=i.$E(event);if(!event)return false;if(event.getModifiers().any||event.isMiddleClick())return true;return false;}};e.exports=l;},null);
__d("legacy:stream-share-video",["StreamShareVideo"],function(a,b,c,d){b.__markCompiled&&b.__markCompiled();a.StreamShareVideo=b('StreamShareVideo');},3);