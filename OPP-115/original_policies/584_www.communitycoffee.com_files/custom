function doSearch(n,t){var i=n.getAttribute("data-url")+"?searchQuery="+encodeURIComponent(n.value);t&&(i+="&searchType="+t);window.location=i}function ShowPlaceholderImage(n){n.error=null;n.src="/Sitefinity/WebsiteTemplates/CommunityCoffee/App_Themes/CommunityCoffee/Images/NoImage.png"}(function(n,t){t.WebAPIHelperFunc=function(t){function i(){this.AddToCart=function(i,r,u,f,e){n.post(t.WebAPIAddToBasket,{productId:i,variantId:r,quantity:u},function(){var r,i;UpdateCartIcon(t.WebAPIGetBasketCount);n("#AddedToCart").remove();r=setTimeout(function(){i.addClass("active")},200);setTimeout(function(){i.removeClass("active")},4200);i=n('<div id="AddedToCart"><\/div>');i.html('<p>Product added to cart. <span>What do you want to do now?<\/span><\/p><div class="button-sm HideAddedToCart">Keep shopping<\/div> <span>or<\/span> <a class="button-sm" href="/cart">View cart<\/a><div class="close HideAddedToCart">X<\/div><\/div>');i.find(".HideAddedToCart").click(function(){i.removeClass("active")});i.appendTo("#outer-wrap");f!=undefined&&f()}).fail(function(n,t,i){var r=t+", "+i;console.log("Request Failed: "+r);e!=undefined&&e()})};this.GetCategory=function(i,r,u){n.getJSON(t.WebAPICategoryRoute.replace("-id-",i),function(n){r!=undefined&&r(n)}).fail(function(n,t,i){var r=t+", "+i;console.log("Request Failed: "+r);u!=undefined&&u()})};this.AddToCoffeeClub=function(i,r,u,f,e){n.post(t.WebAPIAddItemToCoffeeClub,{CoffeeClubNumber:r,products:i,OneTime:u},function(){f!=undefined&&f()}).fail(function(n,t,i){var r=t+", "+i;console.log("Request Failed: "+r);e!=undefined&&e()})};this.AddPromoCode=function(i){return n.post(t.AddPromoCode,{"":i})};this.GetCheckout=function(i,r){n.get(t.GetCheckout).then(i,r)};this.GetBasket=function(){return n.get(t.WebAPIGetBasket)};this.GetOrder=function(i){return n.get(t.GetOrder.replace("-orderNumber-",i))}}function r(){this.GetShippingMethods=function(i,r,u,f,e){(r==""||r==undefined)&&f([]);var o={IsPoBox:i,StateCode:u,CountryCode:r};return n.ajax({url:t.WebAPIShippingMethodsGet,type:"GET",data:o}).then(f,e)};this.GetShippingAddresses=function(i,r){n.get(t.ShippingAddresses).then(i,r)}}this.Cart=new i;this.Shipping=new r}})($,window);window.getComputedStyle||(window.getComputedStyle=function(n){return this.el=n,this.getPropertyValue=function(t){var i=/(\-([a-z]){1})/g;return t==="float"&&(t="styleFloat"),i.test(t)&&(t=t.replace(i,function(){return arguments[2].toUpperCase()})),n.currentStyle[t]?n.currentStyle[t]:null},this});$.hisrc.speedTest({speedTestUri:"images/50K.jpg"}),function(n){n.jq110=jQuery.noConflict()}(window),function(n){n(document).ready(function(){function s(){(t=="/"||t=="/for-business"||t=="/for-business/"||t=="/forbusiness"||t=="/forbusiness/")&&(n(window).scrollTop()>250&&(i==0&&n(".specialNotification").hasClass("active")&&(i=1,n(".ha-header").css({opacity:0,top:-30}).animate({opacity:1,top:24},200,function(){}),n(".ha-header").addClass("ha-header-show")),i!=0||n(".specialNotification").hasClass("active")||(i=1,n(".ha-header").css({opacity:0,top:-30}).animate({opacity:1,top:0},200,function(){}),n(".ha-header").addClass("ha-header-show"))),n(window).scrollTop()<250&&i==1&&(i=0,n(".ha-header").animate({opacity:0,top:-30},200,function(){n(".ha-header").removeClass("ha-header-show");n(".ha-header").animate({opacity:1,top:0},300)})))}function r(){n(".split-wrap .item").each(function(){$this=n(this);var i=$this.height(),t=$this.find(".copy-box").height();$this.find(".copy-box").height()<$this.closest(".split-wrap").children(".sf_2cols_1_50").find(".sizer").height()?($this.css("height",$this.closest(".split-wrap").children(".sf_2cols_1_50").find(".sizer").height()),$this.find(".copy-box").css("height",$this.closest(".split-wrap").children(".sf_2cols_1_50").find(".sizer").height())):($this.closest(".split-wrap").find(".left-item").css("height",t),$this.closest(".split-wrap").find(".left-item .sfContentBlock").css("height",t))})}var t=window.location.pathname,i=0,u,f,e,o;t!="/"&&t!="/for-business"&&t!="/for-business/"&&t!="/forbusiness/"&&t!="/forbusiness"&&n(".ha-header").addClass("ha-header-show");n(window).scroll(function(){n(window).width()>=768&&(s(),n(".sb-search").removeClass("sb-search-open"))});n(".specialNotification").prependTo(n("#outer-wrap"));u=n(window).width();n(".category-filters-tab-container").easytabs({transitionIn:"slideDown",transitionOut:"slideUp",collapsedByDefault:!1,collapsible:!0,updateHash:!1});n(".social-feeds-tab-container").easytabs({transitionIn:"slideDown",transitionOut:"slideUp",collapsedByDefault:!0,collapsible:!0,updateHash:!1});n(".account-profile-tab-container").easytabs({transitionIn:"slideDown",transitionOut:"slideUp",collapsedByDefault:!1,collapsible:!0,updateHash:!1});n(".account-login-tab-container").easytabs({transitionIn:"slideDown",transitionOut:"slideUp",collapsedByDefault:!0,collapsible:!0,updateHash:!1});u<=768;u>=768;u>1030;n(".sb-icon-search").on("click",function(){n(".sb-search").toggleClass("sb-search-open")});n(document).click(function(){n(".sb-search").removeClass("sb-search-open")});n(".sb-search").click(function(n){return n.stopPropagation(),!1});n("#nav li span").on("click",function(){n(this).hasClass("open")?(n(this).next("ul").slideToggle("fast"),n(this).removeClass("open")):(n(this).next("ul").slideToggle("fast"),n(this).addClass("open"))});f=n(".wrapper");f.imagesLoaded(function(){f.masonry({itemSelector:".element"})});n(".hisrc img").hisrc();n(".hisrc img+img").hisrc({useTransparentGif:!0,transparentGifSrc:"images/spacer.gif",speedTestUri:"images/50K.jpg"});n(".loadingDiv").detach().appendTo("body");e=n(".ha-header");n(".ha-waypoint").each(function(){var t=n(this),i=t.data("animateDown"),r=t.data("animateUp");t.waypoint(function(n){n==="down"&&i?e.attr("class","ha-header "+i):n==="up"&&r&&e.attr("class","ha-header "+r)},{offset:"100px"})});n(".filter-tab").on("click",function(){n(".jcarousel li").width((n(window).width()-120)/4.1)});n(window).resize(function(){n(".jcarousel li").width((n(window).width()-120)/4.1)});enquire.register("screen and (min-width:768px)",{match:function(){r();n(window).resize(function(){r()})}});n("html").hasClass("lt-ie9")&&(r(),n(window).resize(function(){r()}));n("#SearchTextBox").keypress(function(n){var t=n.keyCode?n.keyCode:n.which;t=="13"&&doSearch(this,"all")});o=n(".jcarousel");o.jcarousel({wrap:"circular",transitions:Modernizr.csstransitions?{transforms:Modernizr.csstransforms,transforms3d:Modernizr.csstransforms3d,easing:"ease"}:!1});n(".jcarousel-control-prev").jcarouselControl({target:"-=1"});n(".jcarousel-control-next").jcarouselControl({target:"+=1"});n(".tooltip").tooltipster({content:n('<h3>Coffee Club Details<\/h3><p>Receive 10% off every CommunityCoffee.com order and a FREE gift when you sign up for recurring orders by joining our Coffee Club. As a Coffee Club member, you can choose your shipment frequency and receive exclusive discounts, gifts and privileges offered only to our Club members. There are no membership fees and you may cancel at any time with no additional charge. Join today and enjoy the convenience of fresh coffee delivered right to your door.<br><span class="highlight">Select <strong>RECURRING DELIVERY<\/strong> at checkout.<\/span><\/p>'),maxWidth:360,theme:"tooltipster-shadow"});n(".roast-tooltip").tooltipster({content:n('<h3>Roast<\/h3><p>Refers to the temperature which the coffee bean was roasted. The roast ultimately determines the flavor of the coffee. Lighter roasts are usually described as "sweet" or "well-balanced," while darker roasts are generally more intense and lively.<\/p>'),maxWidth:360,theme:"tooltipster-shadow"});n(".body-tooltip").tooltipster({content:n('<h3>Body<\/h3><p>Refers to the weight or viscosity of the coffee on the tongue. Measured light-medium-full. It is typically described as "thin," "watery," "syrupy," "heavy" or "buttery."<\/p>'),maxWidth:360,theme:"tooltipster-shadow"});n(".brightness-tooltip").tooltipster({content:n('<h3>Brightness<\/h3><p>Refers to the tangy quality, liveliness or bright note that highlights the flavor of the coffee. Although acidity levels vary, coffee with no acidity may taste flat and dull. Acidity is felt on the sides and back of the tongue. Acidity is measured high-medium- low. High acidity is commonly described as "winey," "bright," "lively," "sharp," or "tangy."<\/p>'),maxWidth:360,theme:"tooltipster-shadow"});n(".shipping-tooltip").tooltipster({content:n('<h3>Coffee Club Details<\/h3><p>Receive 10% off every CommunityCoffee.com order and a FREE gift when you sign up for recurring orders by joining our Coffee Club. As a Coffee Club member, you can choose your shipment frequency and receive exclusive discounts, gifts and privileges offered only to our Club members. There are no membership fees and you may cancel at any time with no additional charge. Join today and enjoy the convenience of fresh coffee delivered right to your door.<br><span class="highlight">Select <strong>RECURRING DELIVERY<\/strong> at checkout.<\/span><\/p>'),maxWidth:360,theme:"tooltipster-shadow"})});n(".search_option").change(function(){var t=n(this).data("display");switch(t){case"all":n(".product-results").show();n(".information-results").show();break;case"information":n.when(n(".product-results").hide()).done(function(){n(".information-results").show()});break;case"product":n.when(n(".information-results").hide()).done(function(){n(".product-results").show()})}});n(".loadingDiv").appendTo("#outer-wrap");n("[placeholder]").focus(function(){var t=n(this);t.val()===t.attr("placeholder")&&(t.val(""),t.removeClass("placeholder"))}).blur(function(){var t=n(this);(t.val()===""||t.val()===t.attr("placeholder"))&&(t.addClass("placeholder"),t.val(t.attr("placeholder")))}).blur().parents("form").submit(function(){n(this).find("[placeholder]").each(function(){var t=n(this);t.val()===t.attr("placeholder")&&t.val("")})})}(jQuery),function(n){function s(){t.setAttribute("content",v);i=!0}function c(){t.setAttribute("content",a);i=!1}function l(t){r=t.accelerationIncludingGravity;f=Math.abs(r.x);e=Math.abs(r.y);o=Math.abs(r.z);!n.orientation&&(f>7||(o>6&&e<8||o<8&&e>6)&&f>5)?i&&c():i||s()}var u;if(/iPhone|iPad|iPod/.test(navigator.platform)&&navigator.userAgent.indexOf("AppleWebKit")>-1&&(u=n.document,u.querySelector)){var t=u.querySelector("meta[name=viewport]"),h=t&&t.getAttribute("content"),a=h+",maximum-scale=1",v=h+",maximum-scale=10",i=!0,f,e,o,r;t&&(n.addEventListener("orientationchange",s,!1),n.addEventListener("devicemotion",l,!1))}}(this),function(n,t){var o=function(n){return n.trim?n.trim():n.replace(/^\s+|\s+$/g,"")},f=function(n,t){return(" "+n.className+" ").indexOf(" "+t+" ")!==-1},e=function(n,t){f(n,t)||(n.className=n.className===""?t:n.className+" "+t)},s=function(n,t){n.className=o((" "+n.className+" ").replace(" "+t+" "," "))},h=function(n,t){if(n)do{if(n.id===t)return!0;if(n.nodeType===9)break}while(n=n.parentNode);return!1},i=t.documentElement,c=n.Modernizr.prefixed("transform"),r=n.Modernizr.prefixed("transition"),u=function(){var n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",msTransition:"MSTransitionEnd",transition:"transitionend"};return n.hasOwnProperty(r)?n[r]:!1}();n.App=function(){var a=!1,o={},v=t.getElementById("inner-wrap"),c=!1,l="js-nav";return o.init=function(){if(!a){a=!0;var y=function(n){n&&n.target===v&&t.removeEventListener(u,y,!1);c=!1};o.closeNav=function(){var e=t.getElementById("inner-wrap"),f;c&&(f=u&&r?parseFloat(n.getComputedStyle(e,"")[r+"Duration"]):0,f>0?t.addEventListener(u,y,!1):y(null));s(i,l)};o.openNav=function(){c||(e(i,l),c=!0)};o.toggleNav=function(n){c&&f(i,l)?o.closeNav():o.openNav();n&&n.preventDefault()};t.getElementById("nav-open-btn").addEventListener("click",o.toggleNav,!1);t.addEventListener("click",function(n){c&&!h(n.target,"nav")&&(n.preventDefault(),o.closeNav())},!0);e(i,"js-ready")}},o}();n.addEventListener&&n.addEventListener("DOMContentLoaded",n.App.init,!1)}(window,window.document);var IsValidForm,DisplayMessage,BuildStatesForCountry,GetErrorMessage,ResetShipping,ResetPayment,GetParameterByName,SetAjaxLoader,UpdateCartIcon;(function(n){GetParameterByName=function(n){n=n.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var i=new RegExp("[\\?&]"+n+"=([^&#]*)"),t=i.exec(location.search);return t==null?"":decodeURIComponent(t[1].replace(/\+/g," "))};IsValidForm=function(t,i){var e=n(t),r,f,u;return e.wrap('<form id="temp_form_id" />'),r=n("#temp_form_id"),n.validator.unobtrusive.parse(r),i!=undefined&&typeof i=="function"&&i(r),f=r.valid(),e.unwrap(),f||(u=n(".field-validation-error:first"),u!=undefined,n("html, body").animate({scrollTop:u.offset().top-200},500,function(){n("[name='"+u.data("valmsg-for")+"']").focus()})),f};DisplayMessage=function(t,i,r,u){(n(t).html(i),n(t).css("color","green"),r==!0&&n(t).css("color","red"),u)||n("html, body").animate({scrollTop:n(t).offset().top-150},2e3)};BuildStatesForCountry=function(t,i,r,u){n.get(t,function(t){n(i).find("option").remove();n(i).removeClass("required");t.length>0?(n(i).append('<option value="">* Select State<\/option>'),n(i).addClass("required"),n(i+"_Indicator").show()):(n(i).append('<option value="XX"><\/option>'),n(i+"_Indicator").hide());n(t).each(function(r){var u='<option value="'+t[r].Value+'">'+t[r].Text+"<\/option>";n(i).append(u)});n(i).val(u)}).fail(function(jqxhr,textStatus,error){var err=eval("("+jqxhr.responseText+")"),errMessage=err.ExceptionMessage;err.InnerException!=null&&(errMessage=err.InnerException.ExceptionMessage);console.log("Request Failed: "+errMessage)})};GetErrorMessage=function(jqxhr){var err=eval("("+jqxhr.responseText+")"),errMessage=err.ExceptionMessage;return err.InnerException!=null&&(errMessage=err.InnerException.ExceptionMessage),(errMessage==undefined||errMessage=="")&&(errMessage=err.Message),errMessage};ResetShipping=function(){n("#Shipping_Label").val("");n("#Shipping_FirstName").val("");n("#Shipping_LastName").val("");n("#Shipping_Address1").val("");n("#Shipping_Address2").val("");n("#Shipping_PreferredShippingMethod").val("");n("#Shipping_City").val("");n("#shipping_po_box").prop("checked",!1);n("#Shipping_StateCode").val("");n("#Shipping_CountryCode").val("US");n("#Shipping_Zip").val("");n("#Shipping_Phone").val("");n("#shipping_default").prop("checked",!1);n("#btnShippingDelete").hide()};ResetPayment=function(){n("#PaymentMethod_Name").val("");n("#PaymentMethod_CreditCardTypeId").val("");n("#PaymentMethod_CreditCardNumber").val("");n("#PaymentMethod_CustomerName").val("");n("#PaymentMethod_ExpirationMonth").val("");n("#PaymentMethod_ExpirationYear").val("");n("#Billing_FirstName").val("");n("#Billing_LastName").val("");n("#Billing_Address1").val("");n("#Billing_Address2").val("");n("#Billing_City").val("");n("#Billing_StateCode").val("");n("#Billing_CountryCode").val("US");n("#Billing_Zip").val("");n("#billing_default").prop("checked",!1);n("#btnDeletePayment").hide()};SetAjaxLoader=function(t){var i,r;i=t!=null?n(t).hide():n(".loadingDiv").hide();n(document).ajaxStart(function(){r=setTimeout(function(){i.show()},500)}).ajaxStop(function(){clearTimeout(r);i.hide()})};UpdateCartIcon=function(t){n.get(t,function(t){n("a.cart").text(t)}).fail(function(n){var t=GetErrorMessage(n);console.log("Request Failed: "+t)})};n.cachedScript=function(n,t){var r=document.getElementsByTagName("script")[0],f=r.parentNode,u=!1,i=document.createElement("script");i.src=n;i.type="text/javascript";i.async="true";i.onload=i.onreadystatechange=function(){var n=this.readyState;if(!u&&(!n||n=="complete"||n=="loaded")){u=!0;try{typeof t=="function"?t():typeof t.success=="function"&&t.success()}catch(i){}}};f.insertBefore(i,r)}})(jQuery,window)