var BLACKBAUD=BLACKBAUD||{};BLACKBAUD.api={};(function(){BLACKBAUD.api.querystring={getQueryStringValue:function(g,e){var h,f;if(!e){e=window.location.search}e=e.toLowerCase();h=new RegExp("[?|&]"+g+"=(.*?)&");f=h.exec(e+"&");if(!f||f.length<2){return""}return decodeURIComponent(f[1].replace("+"," "))}};BLACKBAUD.api.pageInformation={rootPath:"",pageId:""};var c=[];function b(e){if(!c[e]){c[e]=new easyXDM.Rpc({remote:e+"client/scripts/easyXDM/cors/index.html"},{remote:{ajax:{}}})}return c[e]}function a(h,g,f,e){if(g==="success"){if(f){f($.parseJSON(h.responseText))}}else{if(h.status===400){if(e){e($.parseJSON(h.responseText))}}else{if(e){e()}}}}function d(e,g,f,h){if(g){g.ajax(e,function(i){a(i.jqXHR,i.textStatus,f,h)},function(){h()})}else{e.complete=function(j,i){a(j,i,f,h)};$.ajax(e)}}(function(){BLACKBAUD.api.CountryService=function(f){var e,g;if(typeof f==="string"){g=f}else{if(typeof f==="object"){g=f.url;e=f.crossDomain}}if(!g){g=BLACKBAUD.api.pageInformation.rootPath}if(e){this._rpc=b(g)}this.baseUrl=g+"WebApi"};BLACKBAUD.api.CountryService.prototype={getCountries:function(f,e){var g=this.baseUrl+"/Country";d({url:g,type:"GET"},this._rpc,f,e)},getStates:function(f,g,e){var h=this.baseUrl+"/Country/"+f+"/State";d({url:h,type:"GET"},this._rpc,g,e)},getAddressCaptions:function(f,g,e){var h=this.baseUrl+"/Country/"+f+"/AddressCaptions";d({url:h,type:"GET"},this._rpc,g,e)}}}());(function(){BLACKBAUD.api.CodeTableService=function(f){var e,g;if(typeof f==="string"){g=f}else{if(typeof f==="object"){g=f.url;e=f.crossDomain}}if(!g){g=BLACKBAUD.api.pageInformation.rootPath}if(e){this._rpc=b(g)}this.baseUrl=g+"WebApi"};BLACKBAUD.api.CodeTableService.prototype={getEntries:function(h,f,e){var g=this.baseUrl+"/CodeTable/"+h;d({url:g,type:"GET"},this._rpc,f,e)}}}());(function(){BLACKBAUD.api.QueryService=function(f){var e,g;if(typeof f==="string"){g=f}else{if(typeof f==="object"){g=f.url;e=f.crossDomain}}if(!g){g=BLACKBAUD.api.pageInformation.rootPath}if(e){this._rpc=b(g)}this.baseUrl=g+"WebApi"};BLACKBAUD.api.QueryService.prototype={getResults:function(j,n,m,k){var g,f,e,l,h,o=this.baseUrl+"/Query/"+j;if(k){h="";for(f=0;f<k.length;f++){e=k[f];g=e.columnName;l=e.value;if(g&&l){if(h.length>0){h+="&"}h+=encodeURIComponent(g)+"="+encodeURIComponent(l)}}if(h.length>0){o+="?"+h}}d({url:o,type:"GET"},this._rpc,n,m)}}}());(function(){BLACKBAUD.api.UserService=function(f){var e,g;if(typeof f==="string"){g=f}else{if(typeof f==="object"){g=f.url;e=f.crossDomain}}if(!g){g=BLACKBAUD.api.pageInformation.rootPath}if(e){this._rpc=b(g)}this.baseUrl=g+"WebApi"};BLACKBAUD.api.UserService.prototype={getProfile:function(f,e){var g=this.baseUrl+"/User";d({url:g,type:"GET"},this._rpc,f,e)}}}());(function(){BLACKBAUD.api.ImageService=function(f){var e,g;if(typeof f==="string"){g=f}else{if(typeof f==="object"){g=f.url;e=f.crossDomain}}if(!g){g=BLACKBAUD.api.pageInformation.rootPath}if(e){this._rpc=b(g)}this.baseUrl=g+"WebApi"};BLACKBAUD.api.ImageService.prototype={getImagesByFolderGUID:function(g,f,e){var h=this.baseUrl+"/Images?FolderGUID="+encodeURIComponent(g);d({url:h,type:"GET"},this._rpc,f,e)},getImagesByTag:function(h,f,e){var g=this.baseUrl+"/Images?Tag="+encodeURIComponent(h);d({url:g,type:"GET"},this._rpc,f,e)},getImagesByFolder:function(g,f,e){var h=this.baseUrl+"/Images/"+encodeURIComponent(g);d({url:h,type:"GET"},this._rpc,f,e)}}}())}());
(function(){var c,h,d;c=500;function b(k,i){var j="BBElementBlock";if(!k){k="Processing..."}if(i){j+=" BBPageBlock"}return{message:"<div class='"+j+"'><span>"+k+"</span></div>",overlayCSS:{backgroundColor:"#CCCCCC"}}}d=[];function e(i){if(i){if(typeof i==="string"){return document.getElementById(i)}else{if(i instanceof $){return i[0]}}return i.dom||i}return null}function a(k){var j,l;j=d.length;while(j--){l=d[j];if(l.el===k){return l}}}function g(i){var j;j={el:i,waitCount:0};d.push(j);return j}function f(k){var j;j=d.length;while(j--){if(k===d[j]){d.splice(j,1);break}}}BLACKBAUD.api.blockElement=function(l,m,i){var j,k;$.blockUI.defaults.css={};if(i===false||i===0){i=0}else{i=i||c}l=e(l);k=a(l);if(!k){k=g(l);if(l){j=setTimeout(function(){$(l).block(b(m,false))},i)}else{j=setTimeout(function(){$.blockUI(b(m,true))},i)}k.delayHandle=j}k.waitCount++};BLACKBAUD.api.unblockElement=function(k){var i,j;k=e(k);j=a(k);if(j){j.waitCount--;if(j.waitCount===0){i=j.delayHandle;if(i){clearTimeout(i);j.delayHandle=null}if(k){$(k).unblock()}else{$.unblockUI()}f(j)}}}})();
(function(){function d(f){return f.baseUrl+"WebApi/"+f.contextId+"/Donation"}var c=[];function b(f){if(!c[f]){if(window.easyXDM){c[f]=new easyXDM.Rpc({remote:f+"client/scripts/easyXDM/cors/index.html"},{remote:{ajax:{}}})}}return c[f]}function a(i,h,g,f){if(h==="success"){if(g){g($.parseJSON(i.responseText))}}else{if(i.status===400){if(f){f($.parseJSON(i.responseText))}}else{if(f){f()}}}}function e(f,h,g,j){function i(k){if(j){if(k&&k.data){j(k.data)}else{j()}}}if(h){h.ajax(f,function(k){a(k.jqXHR,k.textStatus,g,i)},function(){j()})}else{f.complete=function(l,k){a(l,k,g,j)};$.ajax(f)}}BLACKBAUD.api.DonationService=function(f,h){var g,i;if(typeof h==="string"){i=h}else{if(typeof h==="object"){i=h.url;g=h.crossDomain}}if(!i){i=BLACKBAUD.api.pageInformation.rootPath}if(g){this._rpc=b(i)}this.baseUrl=i;this.contextId=f};BLACKBAUD.api.DonationService.prototype={createDonation:function(i,g,f){var h=d(this)+"/Create";function j(k){if(j){g(k)}if(k.BBSPCheckoutUri){location.href=k.BBSPCheckoutUri}else{if(k.PaymentPageUri){location.href=k.PaymentPageUri}}}e({url:h,type:"POST",data:JSON.stringify(i),contentType:"application/json"},this._rpc,j,f)},getDonation:function(i,g,f){var h=d(this)+"/"+i;e({url:h,type:"GET"},this._rpc,g,f)},completeBBSPDonation:function(i,g,f){var h=d(this)+"/"+i+"/CompleteBBSPDonation";e({url:h,type:"POST"},this._rpc,g,f)},getDonationConfirmationHtml:function(i,g,f){var h=d(this)+"/"+i+"/ConfirmationHtml";e({url:h,type:"GET"},this._rpc,g,f)}}}());
