if(window.jQuery)(function(a){a.extend({xml2json:function(b,c){function f(a){var b=/^((-)?([0-9]+)(([\.\,]{0,1})([0-9]+))?$)/;return typeof a=="number"||b.test(String(a&&typeof a=="string"?jQuery.trim(a):""))}function d(b,f){if(!b)return null;var h="",i=null,j=null;var k=b.nodeType,l=e(b.localName||b.nodeName);var m=b.text||b.nodeValue||"";if(b.childNodes){if(b.childNodes.length>0){a.each(b.childNodes,function(a,b){var c=b.nodeType,f=e(b.localName||b.nodeName);var j=b.text||b.nodeValue||"";if(c==8){return}else if(c==3||c==4||!f){if(j.match(/^\s+$/)){return}h+=j.replace(/^\s+/,"").replace(/\s+$/,"")}else{i=i||{};if(i[f]){if(!i[f].length)i[f]=g(i[f]);i[f]=g(i[f]);i[f][i[f].length]=d(b,true);i[f].length=i[f].length}else{i[f]=d(b)}}})}}if(b.attributes){if(b.attributes.length>0){j={};i=i||{};a.each(b.attributes,function(a,b){var c=e(b.name),d=b.value;j[c]=d;if(i[c]){i[cnn]=g(i[cnn]);i[c][i[c].length]=d;i[c].length=i[c].length}else{i[c]=d}})}}if(i){i=a.extend(h!=""?new String(h):{},i||{});h=i.text?(typeof i.text=="object"?i.text:[i.text||""]).concat([h]):h;if(h)i.text=h;h=""}var n=i||h;if(c){if(h)n={};h=n.text||h||"";if(h)n.text=h;if(!f)n=g(n)}return n}if(!b)return{};var e=function(a){return String(a||"").replace(/-/g,"_")};var g=function(b){if(!a.isArray(b))b=[b];b.length=b.length;return b};if(typeof b=="string")b=a.text2xml(b);if(!b.nodeType)return;if(b.nodeType==3||b.nodeType==4)return b.nodeValue;var h=b.nodeType==9?b.documentElement:b;var i=d(h,true);b=null;h=null;return i},text2xml:function(b){var c;try{var d=a.browser.msie?new ActiveXObject("Microsoft.XMLDOM"):new DOMParser;d.async=false}catch(e){throw new Error("XML Parser could not be instantiated")}try{if(a.browser.msie)c=d.loadXML(b)?d:false;else c=d.parseFromString(b,"text/xml")}catch(e){throw new Error("Error parsing XML string")}return c}})})(jQuery);
